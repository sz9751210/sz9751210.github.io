<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…</title><meta name=keywords content="Blog,Devops,PaperMod"><meta name=description content="ExampleSite description"><meta name=author content="Alan"><link rel=canonical href=https://sz9751210.github.io/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://sz9751210.github.io/assets/profile/avatar.png><link rel=icon type=image/png sizes=16x16 href=https://sz9751210.github.io/assets/profile/avatar.png><link rel=icon type=image/png sizes=32x32 href=https://sz9751210.github.io/assets/profile/avatar.png><link rel=apple-touch-icon href=https://sz9751210.github.io/assets/profile/avatar.png><link rel=mask-icon href=https://sz9751210.github.io/assets/profile/avatar.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://sz9751210.github.io/index.xml><link rel=alternate type=application/json href=https://sz9751210.github.io/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-4RLTP9J7DY"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4RLTP9J7DY",{anonymize_ip:!1})}</script><meta property="og:title" content="è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…"><meta property="og:description" content="ExampleSite description"><meta property="og:type" content="website"><meta property="og:url" content="https://sz9751210.github.io/"><meta property="og:image" content="https://sz9751210.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sz9751210.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…"><meta name=twitter:description content="ExampleSite description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…","url":"https://sz9751210.github.io/","description":"ExampleSite description","thumbnailUrl":"https://sz9751210.github.io/assets/profile/avatar.png","sameAs":["mailto:alandev9751210@gmail.com","https://www.instagram.com/alan_wang.dev.life","https://github.com/sz9751210"]}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8214206744217848" crossorigin=anonymous></script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://sz9751210.github.io/ accesskey=h title="Alan's BLOG (Alt + H)"><img src=https://sz9751210.github.io/assets/profile/avatar.png alt aria-label=logo height=35>Alan's BLOG</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://sz9751210.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://sz9751210.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://sz9751210.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://sz9751210.github.io/about/ title=about><span>about</span></a></li><li><a href=https://sz9751210.github.io/quote/ title=quote><span>quote</span></a></li><li><a href=https://sz9751210.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>HiğŸ‘‹ é€™è£¡æ˜¯Alançš„é–‹ç™¼è€…å¤©åœ°ğŸ“š</h1></header><div class=entry-content>è¨˜éŒ„è‡ªå·±çš„å­¸ç¿’æ­·ç¨‹ã€‚é¿å…ä»¥å¾Œçš„è‡ªå·±è¸©å‘æ™‚æœ‰è·¡å¯å¾ªï¼Œå¶çˆ¾ä¹Ÿæœƒæ”¾ä¸€äº›è·Ÿè‡ªå·±èˆˆè¶£æœ‰é—œçš„æ–‡ç« ã€‚</div><footer class=entry-footer><div class=social-icons><a href=mailto:alandev9751210@gmail.com target=_blank rel="noopener noreferrer me" title=Email><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a><a href=https://www.instagram.com/alan_wang.dev.life target=_blank rel="noopener noreferrer me" title=Instagram><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"/></svg></a><a href=https://github.com/sz9751210 target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></footer></article><article class=post-entry><div class=post-info><header class=entry-header><h2>Kubernetes RBAC Overviewï¼šè³¦äºˆå®‰å…¨èˆ‡å½ˆæ€§çš„ç®¡ç†</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ç•¶ä»Šçš„é›²è¨ˆç®—æ™‚ä»£ï¼Œå®¹å™¨åŒ–å’Œå¾®æœå‹™æ¶æ§‹æˆç‚ºäº†é‡è¦è¶¨å‹¢ã€‚Kubernetesï¼Œä½œç‚ºé ˜å…ˆçš„å®¹å™¨ç·¨æ’å¹³å°ï¼Œæä¾›äº†å¼·å¤§çš„åŠŸèƒ½ä¾†ç®¡ç†å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚ç„¶è€Œï¼Œéš¨è‘—æ‡‰ç”¨ç¨‹å¼å’Œç”¨æˆ¶çš„å¢åŠ ï¼Œæœ‰æ•ˆç®¡ç†èª°å¯ä»¥å° Kubernetes é›†ç¾¤åŸ·è¡Œä½•ç¨®æ“ä½œè®Šå¾—è‡³é—œé‡è¦ã€‚é€™è£¡ï¼ŒRBAC (Role-Based Access Control) æ©Ÿåˆ¶èµ·åˆ°äº†é—œéµä½œç”¨ã€‚
ğŸ”°åŸºç¤ä»‹ç´¹ ä»€éº¼æ˜¯ RBACï¼š RBAC å¯ä»¥æ ¹æ“šè§’è‰²å°ç”¨æˆ¶é€²è¡Œç´°ç²’åº¦çš„æ¬Šé™ç®¡ç†ã€‚å®ƒåŸºæ–¼ä¸‰å€‹ä¸»è¦æ¦‚å¿µï¼šè§’è‰²ï¼ˆRoleï¼‰ã€è§’è‰²ç¶å®šï¼ˆRoleBindingï¼‰å’Œä¸»é«”ï¼ˆSubjectsï¼‰ã€‚
è§’è‰² (Role) å’Œ ClusterRoleï¼š
è§’è‰² (Role)ï¼šå®šç¾©äº†ä¸€çµ„æ¬Šé™ï¼Œé€™äº›æ¬Šé™è¡¨ç¤ºå°ç‰¹å®š Kubernetes è³‡æºçš„æ“ä½œï¼Œå¦‚å»ºç«‹ã€è®€å–ã€æ›´æ–°å’Œåˆªé™¤ã€‚ ClusterRoleï¼šèˆ‡ Role é¡ä¼¼ï¼Œä½†å®ƒé©ç”¨æ–¼æ•´å€‹é›†ç¾¤ç¯„åœï¼Œè€Œä¸æ˜¯å–®å€‹å‘½åç©ºé–“ã€‚ClusterRole å¯ä»¥ç”¨ä¾†è³¦äºˆå°é›†ç¾¤ç´šè³‡æºçš„è¨ªå•æ¬Šé™ï¼Œæˆ–è€…è·¨æ‰€æœ‰å‘½åç©ºé–“çš„ç‰¹å®šè³‡æºã€‚ è§’è‰²ç¶å®š (RoleBinding) å’Œ ClusterRoleBindingï¼š
è§’è‰²ç¶å®š (RoleBinding)ï¼šå°‡è§’è‰²çš„æ¬Šé™è³¦äºˆçµ¦ç‰¹å®šçš„ä¸»é«”ã€‚ ClusterRoleBindingï¼šé¡ä¼¼æ–¼ RoleBindingï¼Œä½†å®ƒå°‡ ClusterRole çš„æ¬Šé™è³¦äºˆçµ¦æ•´å€‹é›†ç¾¤çš„ä¸»é«”ï¼Œè€Œä¸æ˜¯ç‰¹å®šå‘½åç©ºé–“çš„ä¸»é«”ã€‚ ä¸»é«” (Subjects)ï¼š å¯ä»¥æ˜¯ç”¨æˆ¶ã€ç¾¤çµ„æˆ–æœå‹™å¸³è™Ÿã€‚
ç‚ºä»€éº¼è¦åœ¨ Kubernetes ä¸­ä½¿ç”¨ RBACï¼Ÿ åœ¨ Kubernetes ä¸­ï¼ŒRBAC ä½¿å¾—ç®¡ç†å¤§å‹ã€å¤šç”¨æˆ¶çš„é›†ç¾¤è®Šå¾—æ›´ç‚ºå®‰å…¨å’Œæ–¹ä¾¿ã€‚å®ƒç¢ºä¿äº†åªæœ‰åˆé©çš„ç”¨æˆ¶å’Œæœå‹™èƒ½å¤ è¨ªå•é—œéµçš„ Kubernetes è³‡æºï¼Œå¾è€Œé™ä½äº†å®‰å…¨é¢¨éšªã€‚
å¦‚ä½•ä½¿ç”¨ RBAC è¦é–‹å§‹ä½¿ç”¨ RBACï¼Œé¦–å…ˆè¦åœ¨ Kubernetes é›†ç¾¤ä¸­å»ºç«‹è§’è‰²ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æœ‰ä¸€å€‹è§’è‰²ï¼Œåªå…è¨±å° Pod è³‡æºé€²è¡Œè®€å–æ“ä½œã€‚
kind: Role apiVersion: rbac.authorization.k8s.io/v1 metadata: namespace: default name: pod-reader rules: - apiGroups: [""] resources: ["pods"] verbs: ["get", "list", "watch"] --- kind: RoleBinding apiVersion: rbac....</p></div><footer class=entry-footer><span title='2023-11-25 14:14:00 +0800 CST'>2023-11-25</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;206 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/k8s-rbac/cover.png alt></figure><a class=entry-link aria-label="post link to Kubernetes RBAC Overviewï¼šè³¦äºˆå®‰å…¨èˆ‡å½ˆæ€§çš„ç®¡ç†" href=https://sz9751210.github.io/posts/k8s-rbac/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>å¦‚ä½•åœ¨GCPä»¥åŠAWSè¨­å®š remote backend ç®¡ç† terraform ç‹€æ…‹æª”</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ terraformåœ¨æ¯æ¬¡åŸ·è¡Œterraform planæˆ–terraform applyæ™‚ï¼Œæ˜¯å¦‚ä½•çŸ¥é“æ‡‰è©²è¦ç®¡ç†å“ªäº›è³‡æºï¼Ÿ
å…¶å¯¦å°±æ˜¯é€éåœ¨æ¯æ¬¡åŸ·è¡Œterraformæ™‚ï¼Œå°‡å»ºç«‹æˆ–è¦è®Šæ›´çš„è³‡æºéƒ½è¨˜éŒ„åœ¨terraform.stateé€™ä»½ç‹€æ…‹æª”ï¼Œé è¨­æª”æ¡ˆä½¿ç”¨JSONæ ¼å¼ã€‚
å‡è¨­å»ºç«‹ä¸€å€‹google cloud storageçš„resourceï¼Œtfè¨­å®šæª”å¦‚ä¸‹ï¼š
resource "google_storage_bucket" "bucket" { name = "terraform-alan-test-bucket" location = "ASIA-EAST1" storage_class = "STANDARD" public_access_prevention = "enforced" force_destroy = true uniform_bucket_level_access = true } å»ºç«‹å¾Œçš„terraform.tfstateçš„ä¸€å°éƒ¨åˆ†å¦‚ä¸‹ï¼š
{ "version": 4, "terraform_version": "1.5.7", "serial": 3, "lineage": "abda0fda-b807-b8b3-0a36-8b0c2f92e3f5", "outputs": {}, "resources": [ { "module": "module.base-bucket", "mode": "managed", "type": "google_storage_bucket", "name": "bucket", "provider": "module.base-bucket.provider[\"registry.terraform.io/hashicorp/google\"]", "instances": [ { "schema_version": 1, "attributes": { "autoclass": [], "cors": [], "custom_placement_config": [], "default_event_based_hold": false, "effective_labels": {}, "encryption": [], "force_destroy": true, "id": "terraform-alan-test-bucket", "labels": null, "lifecycle_rule": [], "location": "ASIA-EAST1", "logging": [], "name": "terraform-alan-test-bucket", } } ] } ] } å¯ä»¥çœ‹åˆ°idçš„å±¬æ€§ï¼Œç•¶æ¯æ¬¡åŸ·è¡Œplanæˆ–æ˜¯applyæ™‚ï¼Œterraformå°±æ˜¯æ‹¿é€™å€‹å±¬æ€§å¾æœ¬åœ°terraformè¨­å®šæª”èˆ‡é›²ä¸Šè³‡æºåšæ¯”å°ã€‚...</p></div><footer class=entry-footer><span title='2023-10-28 17:10:00 +0800 CST'>2023-10-28</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;1143 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/terraform-backend/cover.png alt></figure><a class=entry-link aria-label="post link to å¦‚ä½•åœ¨GCPä»¥åŠAWSè¨­å®š remote backend ç®¡ç† terraform ç‹€æ…‹æª”" href=https://sz9751210.github.io/posts/terraform-backend/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>å¦‚ä½•ç”¨ Go å¯¦ä½œä¸€å€‹ç°¡å–®çš„ PTT çˆ¬èŸ²</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’» ç°¡ä»‹ æœ€è¿‘æƒ³è¦é€éå°å¯¦ä½œä¾†æ’°å¯«ç­†è¨˜ï¼Œé”åˆ°åšä¸­å­¸çš„æ•ˆæœï¼Œå› æ­¤å°±ä¾†å¯¦ä½œå€‹å°çˆ¬èŸ²é †ä¾¿çµåˆå‰é¢å­¸åˆ°çš„packageåšä¸€å€‹å°è¤‡ç¿’ã€‚
å»ºç«‹HTTP Client Goçš„net/http package æä¾›äº†ä¸€å€‹HTTP Clientï¼Œç”¨ä¾†ç™¼é€å„ç¨®HTTPè«‹æ±‚ã€‚
http.Getï¼šç™¼é€GETè«‹æ±‚ã€‚ http.Postï¼šç™¼é€POSTè«‹æ±‚ã€‚ http.NewRequestï¼šå»ºç«‹ä¸€å€‹æ–°çš„HTTPè«‹æ±‚ã€‚ èªæ³•å¦‚ä¸‹ï¼š
// ç™¼é€GETè«‹æ±‚ func http.Get(url string) (resp *http.Response, err error) // ç™¼é€POSTè«‹æ±‚ func http.Post(url, contentType string, body io.Reader) (resp *http.Response, err error) // å»ºç«‹ä¸€å€‹æ–°çš„HTTPè«‹æ±‚ func http.NewRequest(method, url string, body io.Reader) (*http.Request, error) å¸¸è¦‹çš„Responseå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¬„ä½
type Response struct { Status string // e.g. "200 OK" StatusCode int // e.g. 200 Proto string // e.g. "HTTP/1.0" Header Header Body io.ReadCloser ... } æ¥è‘—çœ‹ä¸€ä¸‹io....</p></div><footer class=entry-footer><span title='2023-10-04 10:30:00 +0800 CST'>2023-10-04</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;351 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/go-ptt-crawler/cover.png alt></figure><a class=entry-link aria-label="post link to å¦‚ä½•ç”¨ Go å¯¦ä½œä¸€å€‹ç°¡å–®çš„ PTT çˆ¬èŸ²" href=https://sz9751210.github.io/posts/go-ptt-crawler/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>Promptuiæ•™å­¸ï¼šå¿«é€Ÿå»ºç«‹ Go èªè¨€çš„äº¤äº’å¼ä»‹é¢</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ä»Šå¤©ä¾†ä»‹ç´¹ä¸€å€‹è‡ªå·±é–‹ç™¼å¾Œç«¯è »å¸¸ç”¨çš„ä¸€å€‹ packageï¼Œpromptuiï¼Œæ‹¿ä¾†åšmenuçœŸçš„å¾ˆæ–¹ä¾¿ï¼Œpromptuiæœ‰å…©å€‹ä¸»è¦çš„è¼¸å…¥æ¨¡å¼ï¼š
Promptï¼šè·³å‡ºå–®è¡Œä½¿ç”¨è€…è¼¸å…¥ã€‚ Selectï¼šæä¾›ä¸€å€‹é¸é …åˆ—è¡¨ä¾›ä½¿ç”¨è€…é¸æ“‡ã€‚ Prompt promptæ˜¯ä¸€å€‹structï¼Œç•¶åŸ·è¡ŒRunæ™‚æœƒè¿”å›è¼¸å…¥çš„çµæœ
type Prompt struct { // Label is the value displayed on the command line prompt. // // The value for Label can be a simple string or a struct that will need to be accessed by dot notation // inside the templates. For example, `{{ .Name }}` will display the name property of a struct. Label interface{} // Default is the initial value for the prompt....</p></div><footer class=entry-footer><span title='2023-09-27 16:48:00 +0800 CST'>2023-09-27</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;1169 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/go-promptui/cover.png alt></figure><a class=entry-link aria-label="post link to Promptuiæ•™å­¸ï¼šå¿«é€Ÿå»ºç«‹ Go èªè¨€çš„äº¤äº’å¼ä»‹é¢" href=https://sz9751210.github.io/posts/go-promptui/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>å¦‚ä½•åœ¨Goä¸­ä½¿ç”¨æ­£å‰‡è¡¨é”å¼</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’» ç°¡ä»‹ åœ¨è™•ç†stringæ™‚ï¼Œæ­£å‰‡è¡¨é”å¼æ˜¯ä¸€å€‹éå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚Goèªè¨€çš„regexp package å¯ä»¥ä½¿ç”¨æ­£å‰‡è¡¨é”å¼ï¼Œç”¨ä¾†åŸ·è¡Œå¦‚æª¢æŸ¥stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€æå–åŒ¹é…çš„subStringç­‰æ“ä½œã€‚
åŒ¹é…åŠŸèƒ½ regexp.MatchStringï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€‚ regexp.Compileï¼šç·¨è­¯ä¸€å€‹æ­£å‰‡è¡¨é”å¼ã€‚ èªæ³•å¦‚ä¸‹ï¼š
// æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€‚ func regexp.MatchString(pattern string, s string) (matched bool, err error) // ç·¨è­¯ä¸€å€‹æ­£å‰‡è¡¨é”å¼ã€‚ func regexp.Compile(expr string) (*Regexp, error) package main import ( "fmt" "regexp" ) func main() { // æª¢æŸ¥stringæ˜¯å¦åŒ¹é…æ¨¡å¼ matched, err := regexp.MatchString("Go", "Hello, Go!") if err != nil { fmt.Println(err) } fmt.Println("Matched:", matched) // true } æå–åŠŸèƒ½ regexp.FindStringï¼šæ‰¾åˆ°ç¬¬ä¸€å€‹åŒ¹é…çš„subStringã€‚ regexp.FindAllStringï¼šæ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„subStringã€‚ èªæ³•å¦‚ä¸‹ï¼š
// æ‰¾åˆ°ç¬¬ä¸€å€‹åŒ¹é…çš„subStringã€‚ func (re *Regexp) FindString(s string) string // æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„subStringã€‚ func (re *Regexp) FindAllString(s string, n int) []string package main import ( "fmt" "regexp" ) func main() { re, err := regexp....</p></div><footer class=entry-footer><span title='2023-09-26 17:00:00 +0800 CST'>2023-09-26</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;251 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/go-regexp/cover.png alt></figure><a class=entry-link aria-label="post link to å¦‚ä½•åœ¨Goä¸­ä½¿ç”¨æ­£å‰‡è¡¨é”å¼" href=https://sz9751210.github.io/posts/go-regexp/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>å¦‚ä½•åœ¨ Go ä¸­è™•ç† String</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä¸€é–‹å§‹ä»‹ç´¹åŸºæœ¬è³‡æ–™å‹åˆ¥æ™‚æœ‰ç¨å¾®æåˆ°ä¸€é»stringçš„è™•ç†ï¼Œä»Šå¤©ä»‹ç´¹stringçš„ä¸€äº›æ“ä½œï¼Œåƒæ˜¯æª¢æŸ¥çš„åŠŸèƒ½ã€ä¿®æ”¹çš„åŠŸèƒ½ã€æ¯”è¼ƒçš„åŠŸèƒ½ç­‰ç­‰ã€‚
æª¢æŸ¥åŠŸèƒ½ strings.Containsï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹stringã€‚ strings.ContainsAnyï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«ä»»ä½•æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ strings.Countï¼šè¨ˆç®—subStringåœ¨ç›®æ¨™stringä¸­å‡ºç¾çš„æ¬¡æ•¸ã€‚ strings.ContainsRuneï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ èªæ³•å¦‚ä¸‹ï¼š
// æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹stringã€‚ func strings.Contains(s, substr string) bool // æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«ä»»ä½•æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ func strings.ContainsAny(s, chars string) bool // è¨ˆç®—subStringåœ¨ç›®æ¨™stringä¸­å‡ºç¾çš„æ¬¡æ•¸ã€‚ func strings.Count(s, substr string) int // æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ func strings.ContainsRune(s string, r rune) bool package main import ( "fmt" "strings" ) func main() { text := "Hello, world! Hello, universe!" // æª¢æŸ¥stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹string containsHello := strings.Contains(text, "Hello") fmt.Println("Contains 'Hello':", containsHello) // true // æª¢æŸ¥stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒ containsAny := strings.ContainsAny(text, "aeiou") fmt....</p></div><footer class=entry-footer><span title='2023-09-22 16:45:00 +0800 CST'>2023-09-22</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;675 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/go-strings/cover.png alt></figure><a class=entry-link aria-label="post link to å¦‚ä½•åœ¨ Go ä¸­è™•ç† String" href=https://sz9751210.github.io/posts/go-strings/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>å¦‚ä½•åœ¨ Go ä¸­æ“ä½œç³»çµ±</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’» ç°¡ä»‹ æ˜¨å¤©è¬›åˆ° os packageï¼Œä»Šå¤©ç¹¼çºŒè£œå…… os packageåº•ä¸‹çš„ exec packageï¼Œé€™å€‹packageä¸»è¦ç”¨ä¾†åŸ·è¡Œå¤–éƒ¨æŒ‡ä»¤å’Œè™•ç†æŒ‡ä»¤çš„è¼¸å…¥å’Œè¼¸å‡ºï¼ŒåŒ…æ‹¬å¦‚ä½•è¨­å®šæŒ‡ä»¤ã€åŸ·è¡ŒæŒ‡ä»¤ä»¥åŠè™•ç†è¼¸å‡ºç­‰ç­‰ã€‚
è¨­å®šæŒ‡ä»¤ è¦åŸ·è¡Œå¤–éƒ¨æŒ‡ä»¤ï¼Œé¦–å…ˆéœ€è¦è¨­å®šè¦åŸ·è¡Œçš„ä¸»è¦æŒ‡ä»¤ï¼š
exec.Commandï¼šæ¥å—ä¸€å€‹æŒ‡ä»¤åç¨±å’Œå¤šå€‹åƒæ•¸ï¼Œä¸¦è¿”å›ä¸€å€‹ Cmd å°è±¡ã€‚ èªæ³•å¦‚ä¸‹ï¼š
func exec.Command(name string, arg ...string) *exec.Cmd ç¬¬ä¸€å€‹åƒæ•¸æ˜¯æ”¾è¦åŸ·è¡Œçš„å‘½ä»¤åç¨±ï¼Œç¬¬äºŒå€‹å‰‡æ˜¯æ”¾åƒæ•¸ã€‚ æ¥è‘—ä¾†çœ‹çœ‹exec.Cmdæ˜¯ç”šéº¼æ±è¥¿ï¼š
type Cmd struct { Path string // the path of the command to run Args []string // holds command line arguments Env []string // the environment of the process Dir string // the working directory of the command. Stdin io.Reader // the process's standard input. Stdout io.Writer // the process's standard output and error....</p></div><footer class=entry-footer><span title='2023-09-21 10:00:00 +0800 CST'>2023-09-21</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;758 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/go-os-exec/cover.png alt></figure><a class=entry-link aria-label="post link to å¦‚ä½•åœ¨ Go ä¸­æ“ä½œç³»çµ±" href=https://sz9751210.github.io/posts/go-os-exec/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>å¦‚ä½•åœ¨ Go ä¸­æ“ä½œæª”æ¡ˆ</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä»Šå¤©å¿«é€Ÿä»‹ç´¹ä¸€ä¸‹å°æª”æ¡ˆçš„æ“ä½œæ‰€ä½¿ç”¨çš„package osï¼ŒåŒ…æ‹¬æª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œç­‰ã€‚
æª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œ os package å¯ä»¥åŸ·è¡Œå„ç¨®æª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œï¼Œå¦‚å»ºç«‹ã€è®€å–ã€å¯«å…¥ã€åˆªé™¤æª”æ¡ˆï¼Œä»¥åŠå–å¾—è³‡æ–™å¤¾å…§å®¹ç­‰ã€‚
å»ºç«‹ç›¸é—œæ“ä½œ os.Createï¼šå»ºç«‹ä¸€å€‹æ–°æª”æ¡ˆã€‚ os.Mkdirï¼šå»ºç«‹ä¸€å€‹æ–°è³‡æ–™å¤¾ã€‚ os.MkdirAllï¼šå»ºç«‹è³‡æ–™å¤¾ï¼ŒåŒ…æ‹¬å¿…è¦çš„çˆ¶å±¤è³‡æ–™å¤¾ã€‚ èªæ³•å¦‚ä¸‹ï¼š
func os.Create(name string) (*os.File, error) func os.Mkdir(name string, perm fs.FileMode) error func os.MkdirAll(path string, perm fs.FileMode) error package main import ( "fmt" "os" "io" ) func main() { // å»ºç«‹è³‡æ–™å¤¾ï¼ŒæŒ‡å®šæ¬Šé™ç‚º755 err := os.Mkdir("mydir", 0755) if err != nil { fmt.Println("Error creating directory:", err) } else { fmt.Println("Directory created successfully.") } // å»ºç«‹ä¸€å€‹æ–°æª”æ¡ˆä¸¦å¯«å…¥å…§å®¹ file, err := os.Create("example.txt") if err !...</p></div><footer class=entry-footer><span title='2023-09-20 10:00:00 +0800 CST'>2023-09-20</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;542 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/go-os-file/cover.png alt></figure><a class=entry-link aria-label="post link to å¦‚ä½•åœ¨ Go ä¸­æ“ä½œæª”æ¡ˆ" href=https://sz9751210.github.io/posts/go-os-file/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>å¦‚ä½•åœ¨ Go ä¸­è™•ç† JSON</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä»Šå¤©çš„encoding/json packageæ˜¯æˆ‘æ—¥å¸¸åœ¨é–‹ç™¼webæ™‚å¾ˆå¸¸ç”¨åˆ°çš„packageä¹‹ä¸€ï¼Œä¸»è¦æ˜¯ç”¨ä¾†å°‡Go structå’Œ JSON ä¹‹é–“é€²è¡Œè½‰æ›ã€‚ä¸»è¦åŠŸèƒ½ç‚ºè³‡æ–™åºåˆ—åŒ–ï¼ˆmarshallingï¼‰å’Œååºåˆ—åŒ–ï¼ˆunmarshallingï¼‰ã€‚
ä¸»è¦åŠŸèƒ½ encoding/json package ä¸»è¦ç”¨ä¾†å°‡ Go structè½‰æ›ç‚º JSON æ ¼å¼ï¼ˆmarshallingï¼‰ä»¥åŠå°‡ JSON è³‡æ–™è½‰æ›ç‚º Go structï¼ˆunmarshallingï¼‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦åŠŸèƒ½ï¼š
å°‡ Go structè½‰æ›ç‚º JSON ä½¿ç”¨ json.Marshal å‡½æ•¸å¯ä»¥å°‡ Go structè½‰æ›ç‚º JSON æ ¼å¼çš„è³‡æ–™ã€‚
package main import ( "encoding/json" "fmt" ) type Person struct { Name string `json:"name"` Age int `json:"age"` } func main() { person := Person{Name: "Alan", Age: 25} jsonData, err := json.Marshal(person) if err != nil { fmt.Println("JSON ç·¨ç¢¼å¤±æ•—:", err) return } fmt....</p></div><footer class=entry-footer><span title='2023-09-19 10:00:00 +0800 CST'>2023-09-19</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;462 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/go-json/cover.png alt></figure><a class=entry-link aria-label="post link to å¦‚ä½•åœ¨ Go ä¸­è™•ç† JSON" href=https://sz9751210.github.io/posts/go-json/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>Reflectï¼šGo èªè¨€çš„é¡å­</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œreflect packageæ˜¯ç”¨ä¾†æª¢æŸ¥å’Œæ“ä½œè®Šæ•¸çš„typeã€valueå’Œstructã€‚å¸¸è¦‹ç”¨æ³•æœ‰æª¢å¯Ÿ typeã€èª¿ç”¨æ–¹æ³•ï¼Œä»¥åŠä¿®æ”¹è®Šæ•¸çš„valueã€‚ä»Šå¤©ç°¡å–®ä»‹ç´¹ reflect packageçš„ä¸»è¦åŠŸèƒ½ã€ä½¿ç”¨æ–¹æ³•å’Œå¸¸è¦‹ç”¨æ³•ã€‚
ä¸»è¦åŠŸèƒ½ reflect package ä¸»è¦ç”¨ä¾†åœ¨é‹è¡Œæ™‚æª¢æŸ¥å’Œæ“ä½œè®Šæ•¸çš„typeè¨Šæ¯ã€‚é€™å°æ–¼éœ€è¦åœ¨ä¸ç¢ºå®štypeçš„æƒ…æ³ä¸‹è™•ç†è³‡æ–™çš„æƒ…æ³éå¸¸æœ‰ç”¨ã€‚è¦ä½¿ç”¨reflect packageï¼Œé¦–å…ˆéœ€è¦importå®ƒï¼š
import "reflect" reflect packageçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
Type reflect reflect å¯ä»¥è®“ä½ å–å¾—è®Šæ•¸çš„typeè¨Šæ¯ï¼Œæ–¹ä¾¿æˆ‘å€‘åœ¨é‹è¡Œæ™‚é€²è¡Œtypeæ¯”è¼ƒï¼Œæª¢æŸ¥è®Šæ•¸çš„typeã€‚ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬çš„type reflectæ“ä½œï¼š
reflect.TypeOfï¼šå–å¾—è®Šæ•¸çš„typeã€‚ reflect.ValueOfï¼šå–å¾—è®Šæ•¸çš„valueã€‚ reflect.Zeroï¼šå»ºç«‹ä¸€å€‹zero valueã€‚ package main import ( "fmt" "reflect" ) func main() { var num int typ := reflect.TypeOf(num) val := reflect.ValueOf(num) zeroVal := reflect.Zero(typ) fmt.Printf("Type: %v\n", typ) // Type: int fmt.Printf("Value: %v\n", val) // Value: 0 fmt.Printf("Zero Value: %v\n", zeroVal) // Zero Value: 0 } Struct reflect reflect å¯ä»¥è®“ä½ å–å¾—structæ¬„ä½çš„è¨Šæ¯ï¼Œè¨ªå•structæ¬„ä½çš„valueï¼Œä»¥åŠä¿®æ”¹structæ¬„ä½çš„valueã€‚...</p></div><footer class=entry-footer><span title='2023-09-15 10:00:00 +0800 CST'>2023-09-15</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;602 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/go-reflect/cover.png alt></figure><a class=entry-link aria-label="post link to Reflectï¼šGo èªè¨€çš„é¡å­" href=https://sz9751210.github.io/posts/go-reflect/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://sz9751210.github.io/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://sz9751210.github.io/>è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let detail=document.getElementsByClassName("details");details=[].slice.call(detail);for(let e=0;e<details.length;e++){let t=details[e];const n=t.getElementsByClassName("details-summary")[0];n&&n.addEventListener("click",()=>{t.classList.toggle("open")},!1)}</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>