<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…</title><meta name=keywords content="Blog,Devops,PaperMod"><meta name=description content="ExampleSite description"><meta name=author content="Alan"><link rel=canonical href=https://sz9751210.github.io/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://sz9751210.github.io/assets/profile/avatar.png><link rel=icon type=image/png sizes=16x16 href=https://sz9751210.github.io/assets/profile/avatar.png><link rel=icon type=image/png sizes=32x32 href=https://sz9751210.github.io/assets/profile/avatar.png><link rel=apple-touch-icon href=https://sz9751210.github.io/assets/profile/avatar.png><link rel=mask-icon href=https://sz9751210.github.io/assets/profile/avatar.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://sz9751210.github.io/index.xml><link rel=alternate type=application/json href=https://sz9751210.github.io/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-4RLTP9J7DY"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4RLTP9J7DY",{anonymize_ip:!1})}</script><meta property="og:title" content="è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…"><meta property="og:description" content="ExampleSite description"><meta property="og:type" content="website"><meta property="og:url" content="https://sz9751210.github.io/"><meta property="og:image" content="https://sz9751210.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sz9751210.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…"><meta name=twitter:description content="ExampleSite description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…","url":"https://sz9751210.github.io/","description":"ExampleSite description","thumbnailUrl":"https://sz9751210.github.io/assets/profile/avatar.png","sameAs":["mailto:alandev9751210@gmail.com","https://www.instagram.com/alan_wang.dev.life","https://github.com/sz9751210"]}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8214206744217848" crossorigin=anonymous></script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://sz9751210.github.io/ accesskey=h title="Alan's BLOG (Alt + H)"><img src=https://sz9751210.github.io/assets/profile/avatar.png alt aria-label=logo height=35>Alan's BLOG</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://sz9751210.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://sz9751210.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://sz9751210.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://sz9751210.github.io/about/ title=about><span>about</span></a></li><li><a href=https://sz9751210.github.io/quote/ title=quote><span>quote</span></a></li><li><a href=https://sz9751210.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-entry><div class=post-info><header class=entry-header><h2>Gitlab ä¿®æ”¹å¯†ç¢¼</h2></header><div class=entry-content><p>ä½¿ç”¨Rake task å°‡user_nameæ”¹æˆè¦è®Šæ›´å¯†ç¢¼çš„user nameå³å¯
sudo gitlab-rake "gitlab:password:reset[user_name]" ä½¿ç”¨Rails console é–‹å•Ÿrails console sudo gitlab-rails console å–å¾—user é€éusername user = User.find_by_username 'user_name' é€éuserID user = User.find(uid) é€éemail user = User.find_by(email: 'user@example.com') é‡ç½®å¯†ç¢¼ new_password = 'my_new_password' user.password = new_password user.password_confirmation = new_password å„²å­˜ä¿®æ”¹ user.save! é€€å‡ºconsole exit</p></div><footer class=entry-footer><span title='2023-01-23 13:30:00 +0800 CST'>2023-01-23</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;43 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to Gitlab ä¿®æ”¹å¯†ç¢¼" href=https://sz9751210.github.io/posts/gitlab-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A2%BC/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>leetcode 26. Remove Duplicates from Sorted Array</h2></header><div class=entry-content><p>é¡Œç›®æè¿° å°‡ä¸€å€‹å·²ç¶“æ’åºå¥½çš„listä¸­é‡è¤‡çš„æ•¸å­—åˆªå»ï¼Œä¸¦å›å‚³listé•·åº¦ï¼Œå¿…é ˆä»¥in-placeçš„æ–¹å¼è™•ç†ï¼Œä¸èƒ½ä½¿ç”¨é¡å¤–çš„ç©ºé–“
è§£é¡Œæ€è·¯ ä½¿ç”¨å…©å€‹æŒ‡é‡ï¼Œä¸€å€‹ç´€éŒ„éƒ½æ²’é‡è¤‡çš„æ¬¡æ•¸(slow)ï¼Œä¸€å€‹ç´€éŒ„ç•¶å‰æ²’é‡è¤‡çš„æ•¸å­—(fast)ï¼Œå¦‚æœé‡è¤‡ï¼Œå‰‡æ›´æ–°æ²’é‡è¤‡çš„æ•¸å­—
Python class Solution: def removeDuplicates(self, nums: List[int]) -> int: n = len(nums) if n &lt; 2: return n slow, fast = 1, 1 for fast in range(1,n): if nums[fast-1] != nums[fast]: nums[slow] = nums[fast] slow += 1 return slow Golang func removeDuplicates(nums []int) int { n := len(nums) if n &lt; 2 { return n } slow, fast := 1, 1 for fast &lt; n { if nums[fast-1] !...</p></div><footer class=entry-footer><span title='2022-12-17 19:25:00 +0800 CST'>2022-12-17</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;85 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to leetcode 26. Remove Duplicates from Sorted Array" href=https://sz9751210.github.io/posts/leetcode-26/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>leetcode 1089 - Duplicate Zeros</h2></header><div class=entry-content><p>é¡Œç›®æè¿° çµ¦ä¸€å€‹é•·åº¦å›ºå®šçš„listï¼Œå°‡è£¡é¢å‡ºç¾çš„0åšè¤‡è£½ï¼Œä¸¦å°‡å‰©é¤˜çš„å…ƒç´ å¾€å³ç§»
è§£é¡Œæ€è·¯ ä½¿ç”¨å–®æŒ‡é‡åšéæ­·ï¼Œæ¢ä»¶æœ‰å…©å€‹ï¼Œéƒ½ç¬¦åˆæ‰åšè™•ç†
å‡å¦‚ç•¶å‰å…ƒç´ ç‚º0 è€ƒæ…®æœ€å¾Œä¸€å€‹å…ƒç´ ä¹Ÿç‚º0è¦å°æ–¼listé•·åº¦ Python class Solution: def duplicateZeros(self, arr: List[int]) -> None: """ Do not return anything, modify arr in-place instead. """ i = 0 while i &lt; len(arr): if arr[i] == 0 and i + 1 &lt; len(arr): arr.insert(i+1, 0) arr.pop() i += 1 i += 1 Golang func duplicateZeros(arr []int) { for i := 0; i &lt; len(arr); i++ { if arr[i] == 0 && i+1 &lt; len(arr) { arr = append(arr[:i+1], arr[i:len(arr)-1]....</p></div><footer class=entry-footer><span title='2022-12-15 21:31:00 +0800 CST'>2022-12-15</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;83 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to leetcode 1089 - Duplicate Zeros" href=https://sz9751210.github.io/posts/leetcode-1089/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>leetcode 01. two sum</h2></header><div class=entry-content><p>é¡Œç›®æè¿° çµ¦ä¸€å€‹åˆ—è¡¨ä»¥åŠä¸€å€‹åˆ—è¡¨è£¡å…©æ•¸ç›¸åŠ èµ·ä¾†çš„æ•¸ï¼Œè¿”å›æ­¤å…©æ•¸çš„åˆ—è¡¨ä½ç½®
è§£é¡Œæ€è·¯ å¯ç”¨å­—å…¸çµæ§‹ç•¶ä½œå­˜å–ä½ç½®ç”¨ï¼Œä¸¦ç”¨éæ­·å°‡ç›¸æ¸›å¾Œé‚„æ²’æœ‰å‡ºç¾çš„æ•¸å­˜é€²å­—å…¸è£¡ï¼Œä¹‹å¾Œå¦‚æœæœ‰éæ­·åˆ°å­—å…¸è£¡çš„æ•¸å³å¯ç«‹é¦¬è¿”å›ä½ç½®
ä¸€æ¨£ä½¿ç”¨é›™æŒ‡é‡ï¼Œå°‡listçš„indexè·Ÿelementåˆ†çµ„åšæ’åºï¼Œå› æ­¤æ–°çš„listç‚ºç”±å°åˆ°å¤§ï¼Œæ¥è‘—ä½¿ç”¨é›™æŒ‡é‡ï¼Œä¸€å€‹æŒ‡å‘é ­ä¸€å€‹æŒ‡å‘å°¾ï¼Œç›¸åŠ å¦‚æœå°æ–¼targetå‰‡ä»£è¡¨startå¤ªå°ï¼Œç›¸åŠ å¦‚æœå¤§æ–¼targetä»£è¡¨endå¤ªå¤§
Python åŸæœ¬æƒ³ç”¨å…©å€‹forå»è§£æ±º
class Solution: def twoSum(self, nums: List[int], target: int) -> List[int]: for i in range(len(nums)): left = nums[i+1:] for j in range(len(left)): if (nums[i] + left[j]) == target: return i, j+i+1 ä½†æäº¤å¾Œå™´äº†time limit exceeded
1.
class Solution: def twoSum(self, nums: List[int], target: int) -> List[int]: dict = {} for i in range(len(nums)): if target - nums[i] not in dict: dict[nums[i]] = i else: return [dict[target - nums[i]], i] class Solution: def twoSum(self, nums: List[int], target: int) -> List[int]: list_ele_idx = [(ele, idx) for idx, ele in enumerate(nums)] # ä¸»è¦è®“eleåœ¨å‰ï¼Œä½¿sortç”Ÿæ•ˆï¼Œå› æ­¤å‰é¢æœƒå¯«æˆ(ele, idx)ï¼Œè®“eleå¯ä»¥æ’åº list_ele_idx....</p></div><footer class=entry-footer><span title='2022-12-14 17:02:00 +0800 CST'>2022-12-14</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;143 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to leetcode 01. two sum" href=https://sz9751210.github.io/posts/leetcode-01/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>leetCode 27. Remove Element</h2></header><div class=entry-content><p>é¡Œç›®æè¿° çµ¦å®šä¸€å€‹æ•¸çµ„numså’Œä¸€å€‹å€¼valï¼Œä½ éœ€è¦åŸåœ°ç§»é™¤æ‰€æœ‰æ•¸å€¼ç­‰æ–¼valçš„å…ƒç´ ï¼Œè¿”å›ç§»é™¤å¾Œæ•¸çµ„çš„æ–°é•·åº¦ã€‚
æ™‚é–“è¤‡é›œåº¦ç‚ºO(1)ï¼Œä¸ç”¨è€ƒæ…®ç§»é™¤å¾Œçš„æ•¸çµ„é †åº
è§£é¡Œæ€è·¯ å¯å…ˆå®šç¾©å¥½ä¸€å€‹æŒ‡é‡ï¼Œæ‹¿ä¾†åŠ ä¸Šé•·åº¦ï¼Œä¸¦ç”¨foråˆ¤åˆ¥æ˜¯å¦ç‚ºvalï¼Œæœ€å¾Œè¿”å›æŒ‡é‡é•·åº¦
ä½¿ç”¨é›™æŒ‡é‡ï¼Œå¿«çš„æŒ‡é‡å»è² è²¬éæ­·æ•´å€‹listï¼Œæ…¢çš„æŒ‡é‡å»ç´€éŒ„æ˜¯å¦æœ‰é‡åˆ°é¡Œç›®çµ¦çš„å€¼ï¼Œæ˜¯çš„è©±å°±è·³éï¼Œæœ€å¾Œè¿”å›slow
Python class Solution: def removeElement(self, nums: List[int], val: int) -> int: ptr = 0 for num in nums: if num != val: nums[ptr] = num ptr += 1 return ptr class Solution: def removeElement(self, nums: List[int], val: int) -> int: fast = slow = 0 while(fast &lt; len(nums)): if(nums[fast] != val): nums[slow] = nums[fast] slow+=1 fast+=1 return slow Golang func removeElement(nums []int, val int) int { fast, slow := 0, 0 for fast &lt; len(nums) { if nums[fast] !...</p></div><footer class=entry-footer><span title='2022-12-13 15:26:00 +0800 CST'>2022-12-13</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;97 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to leetCode 27. Remove Element" href=https://sz9751210.github.io/posts/leetcode-27/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>Linux åˆ—å‡ºç™»å…¥è³‡è¨Š[last]</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ last ç”¨é€”ï¼šåˆ—å‡ºç›®å‰èˆ‡éå»ç™»å…¥ç³»çµ±çš„ä½¿ç”¨è€…ç›¸é—œè³‡è¨Š èªæ³• last [OPTIONS] [num,time,name,tty] åƒæ•¸ åƒæ•¸ èªªæ˜ -f file æŒ‡å®šç™»å…¥çš„æ—¥èªŒæª”æ¡ˆ(é è¨­æ˜¯/var/log/wtmp) -num æŒ‡å®šlasté¡¯ç¤ºå¹¾è¡Œè³‡è¨Š -n num èˆ‡-numç›¸åŒ -t time[YYYYMMDDHHMMSS] é¡¯ç¤ºæŒ‡å®šæ™‚é–“çš„ç™»å…¥è³‡è¨Š -R ä¸é¡¯ç¤ºä¸»æ©Ÿå -a åœ¨æœ€å¾Œä¸€åˆ—é¡¯ç¤ºä¸»æ©Ÿå -d å°‡éæœ¬åœ°ç™»å…¥çš„ä½¿ç”¨è€…ipè½‰æ›æˆä¸»æ©Ÿå -F é¡¯ç¤ºæ‰€æœ‰çš„ç™»å…¥å’Œç™»å‡ºæ™‚é–“å’Œæ—¥æœŸ -i é¡¯ç¤ºipåœ°å€è€Œä¸æ˜¯ä¸»æ©Ÿå -o è®€å–èˆŠçš„æ—¥èªŒæª”æ¡ˆ -w é¡¯ç¤ºä½¿ç”¨è€…åç¨±å’ŒåŸŸå -x é¡¯ç¤ºç³»çµ±é—œæ©Ÿè³‡è¨Šå’ŒåŸ·è¡Œç´šåˆ¥çš„è®ŠåŒ–è³‡è¨Š æ¬„ä½èªªæ˜ last # output 1 2 3 4 5 alan pts/2 192.168.56.1 Mon Oct 25 21:37 still logged in reboot system boot 3.10.0-1160.42.2 Mon Oct 25 21:16 - 22:39 (01:22) alan pts/0 192.168.56.1 Sun Oct 24 23:18 - 05:47 (06:28) reboot system boot 3....</p></div><footer class=entry-footer><span title='2022-12-05 16:51:00 +0800 CST'>2022-12-05</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;145 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to Linux åˆ—å‡ºç™»å…¥è³‡è¨Š[last]" href=https://sz9751210.github.io/posts/linux-last/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>Linux é¡¯ç¤ºç”¨æˆ¶è³‡è¨Š[id]</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ id ç”¨é€”ï¼šé¡¯ç¤ºç”¨æˆ¶çš„IDï¼Œä»¥åŠæ‰€å±¬ç¾¤çµ„çš„IDã€‚ èªæ³• id [OPTIONS] userName åƒæ•¸ åƒæ•¸ èªªæ˜ -Z, â€“context é¡¯ç¤ºç•¶å‰ç”¨æˆ¶çš„å®‰å…¨ä¸Šä¸‹æ–‡ -g, â€“group é¡¯ç¤ºæ‰€å±¬ç¾¤çµ„ID -G, â€“groups é¡¯ç¤ºæ‰€æœ‰ç¾¤çµ„ID -n, â€“name é¡¯ç¤ºç”¨æˆ¶ -r, â€“real é¡¯ç¤ºå¯¦éš›ID -u, â€“user é¡¯ç¤ºç”¨æˆ¶ID åŸºæœ¬æ“ä½œ é¡¯ç¤ºç•¶å‰ç”¨æˆ¶è¨Šæ¯ id # output uid=1000(alan) gid=1000(alan) groups=1000(alan),996(vboxsf) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 é¡¯ç¤ºç”¨æˆ¶ç¾¤çµ„id id -g # output 1000 é¡¯ç¤ºæŒ‡å®šç”¨æˆ¶è¨Šæ¯ id root</p></div><footer class=entry-footer><span title='2022-12-02 14:56:00 +0800 CST'>2022-12-02</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;46 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to Linux é¡¯ç¤ºç”¨æˆ¶è³‡è¨Š[id]" href=https://sz9751210.github.io/posts/linux-id/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>Linux ä¿®æ”¹å¯†ç¢¼[passwd]</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ passwd ç”¨é€”ï¼šä¿®æ”¹ä½¿ç”¨è€…å¯†ç¢¼ èªæ³• passwd [OPTIONS] username åƒæ•¸ åƒæ•¸ èªªæ˜ -k, â€“keep-tokens ä¿ç•™æœªéæœŸçš„é©—è­‰ token -d, â€“delete åˆªé™¤ named å¸³è™Ÿçš„å¯†ç¢¼ (åªæœ‰ root å¯åŸ·è¡Œ) -l, â€“lock é–ä½ named å¸³è™Ÿçš„å¯†ç¢¼ (åªæœ‰ root å¯åŸ·è¡Œ) -u, â€“unlock è§£é–‹ named å¸³è™Ÿçš„å¯†ç¢¼é–å®š (åªæœ‰ root å¯åŸ·è¡Œ) -e, â€“expire è®“ named å¸³è™Ÿçš„å¯†ç¢¼éæœŸ (åªæœ‰ root å¯åŸ·è¡Œ) -f, â€“force å¼·åˆ¶ä½œæ¥­ -x, â€“maximum=DAYS æœ€å¤§å¯†ç¢¼æœ‰æ•ˆæœŸé™ (åªæœ‰ root å¯åŸ·è¡Œ) -n, â€“minimum=DAYS æœ€å°å¯†ç¢¼æœ‰æ•ˆæœŸé™ (åªæœ‰ root å¯åŸ·è¡Œ) -w, â€“warning=DAYS ç”¨æˆ¶åœ¨å¯†ç¢¼éæœŸå‰æ”¶åˆ°è­¦å‘Šçš„å¤©æ•¸ (åªæœ‰rootå¯åŸ·è¡Œ) -i, â€“inactive=DAYS å¸³è™Ÿåœ¨å¯†ç¢¼éæœŸå¾Œå³å°‡è¢«åœç”¨å‰çš„å¤©æ•¸ (åªæœ‰rootå¯åŸ·è¡Œ) -S, â€“status å›å ± named å¸³è™Ÿä¸Šçš„å¯†ç¢¼ç‹€æ…‹ (åªæœ‰ root å¯åŸ·è¡Œ) â€“stdin ç”± stdin è®€å–æ–°çš„ token (åªæœ‰ root å¯åŸ·è¡Œ) åŸºæœ¬æ“ä½œ ä¿®æ”¹ä½¿ç”¨è€…å¯†ç¢¼ passwd myuser é¡¯ç¤ºä½¿ç”¨è€…å¯†ç¢¼ç‹€æ…‹ passwd -S myuser # output myuser PS 2021-11-26 0 99999 7 -1 æ¬„ä½ ç¯„ä¾‹ å¸³è™Ÿåç¨± myuser å¯†ç¢¼ç‹€æ…‹ï¼Œç‹€æ…‹åŒ…å«é–å®šå¯†ç¢¼(LK)ã€ç„¡å¯†ç¢¼(NP)èˆ‡å¯ç”¨å¯†ç¢¼(PS) PS ä¸Šæ¬¡ä¿®æ”¹å¯†ç¢¼æ™‚é–“ 2021-11-26 å¯†ç¢¼æœ€çŸ­ä½¿ç”¨æœŸé™ï¼Œå–®ä½ç‚ºå¤© 0 å¯†ç¢¼æœ€é•·ä½¿ç”¨æœŸé™ï¼Œå–®ä½ç‚ºå¤© 99999 å¯†ç¢¼éæœŸå‰è­¦å‘ŠæœŸé–“ï¼Œå–®ä½ç‚ºå¤© 7 å¯†ç¢¼éæœŸå¾Œå¯ä½¿ç”¨çš„æœŸé–“ï¼Œå–®ä½ç‚ºå¤© -1 åˆªé™¤ä½¿ç”¨è€…å¯†ç¢¼ passwd -d myuser è®“å¯†ç¢¼éæœŸï¼Œå¼·åˆ¶ä½¿ç”¨è€…æ›´æ–°å¯†ç¢¼ passwd -e myuser # ä¸‹æ¬¡ç™»å…¥æ™‚ï¼Œå°±æœƒè·³å‡ºé€šçŸ¥èªªè¦æ›´æ”¹å¯†ç¢¼ You are required to change your password immediately (root enforced) WARNING: Your password has expired....</p></div><footer class=entry-footer><span title='2022-11-15 15:29:00 +0800 CST'>2022-11-15</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;214 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to Linux ä¿®æ”¹å¯†ç¢¼[passwd]" href=https://sz9751210.github.io/posts/linux-passwd/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>k8s-reloader</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æœ‰æ™‚å€™ä¿®æ”¹æ›è¼‰çš„configæª”ï¼Œç„¡æ³•å³æ™‚æ›´æ–°ï¼Œéœ€è¦é‡å•Ÿpodæ‰æœƒç”Ÿæ•ˆï¼Œç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œk8s-reloaderå› æ­¤è€Œèª•ç”Ÿï¼Œé€éè§€å¯Ÿæ›è¼‰çš„configmapæˆ–æ˜¯secretçš„è®ŠåŒ–è‡ªå‹•å°æ›è¼‰çš„ç‰©ä»¶åšæ»¾å‹•æ›´æ–°ã€‚
ä»¥ä¸‹ç‚ºåœ¨minikubeç’°å¢ƒä¸‹ï¼Œé€éæ›è¼‰nginx-configæª”ä¸¦æ­é…reloaderé€™å€‹æ’ä»¶é€²è¡Œç†±éƒ¨ç½²ã€‚
ğŸ”—github-repo : stakater/Reloader: A Kubernetes controller to watch changes in ConfigMap and Secrets and do rolling upgrades on Pods with their associated Deployment, StatefulSet, DaemonSet and DeploymentConfig â€“ [âœ©Star] if youâ€™re using it! (github.com) ğŸ”°åŸºç¤ä»‹ç´¹ é‹ä½œåŸç† Reloaderåµæ¸¬æ‰€æœ‰è³‡æºè®ŠåŒ–ï¼Œå°æœ‰è®ŠåŒ–çš„è³‡æºä½¿ç”¨SHA1è¨ˆç®—è³‡æºçš„å“ˆè¥¿å€¼ ReloaderæŸ¥çœ‹æ˜¯å¦æœ‰è¨­å®šç›¸é—œçš„annotationï¼Œä¸¦æŸ¥çœ‹æœ‰è¨­å®šannotationè³‡æºçš„ç‰¹æ®Šç’°å¢ƒè®Šé‡ å°æœ‰è¨­å®šannotationçš„è³‡æºæ¯”å°å…¶å“ˆå¸Œå€¼ï¼Œå¦‚æœç’°å¢ƒè®Šé‡ä¸­å“ˆå¸Œå€¼ä¸åŒï¼Œå‰‡æ›´æ–°ç’°å¢ƒè®Šé‡ï¼Œå¦‚æœç’°å¢ƒè®Šé‡ä¸å­˜åœ¨ï¼Œå‰‡å‰µå»ºä¸€å€‹ ç’°å¢ƒè®Šé‡åç¨± ConfigMapï¼šSTAKATER_{configmap_name}_CONFIGMAP ï¼Œæ¯”å¦‚ ConfigMap çš„åç¨±ç‚º fooï¼Œå‰‡ç”Ÿæˆçš„ç’°å¢ƒè®Šé‡çš„åç¨±ç‚ºï¼šSTAKATER_FOO_CONFIGMAPã€‚ Secretï¼šSTAKATER_{secret_name}_SECRET ï¼Œæ¯”å¦‚ Secret çš„åç¨±ç‚º fooï¼Œå‰‡ç”Ÿæˆçš„ç’°å¢ƒè®Šé‡çš„åç¨±ç‚ºï¼šSTAKATER_FOO_SECRETã€‚ ç’°å¢ƒè®Šé‡çš„å€¼ ä½¿ç”¨ SHA1 è¨ˆç®—çš„ ConfigMap æˆ–è€… Secret çš„å“ˆå¸Œå€¼ã€‚
ç‰ˆæœ¬éœ€æ±‚ k8sç‰ˆæœ¬éœ€ >= 1.9
å®‰è£æ–¹å¼ ä½¿ç”¨Manifestså®‰è£ kubectl apply -f https://raw....</p></div><footer class=entry-footer><span title='2022-11-11 15:05:00 +0800 CST'>2022-11-11</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;373 words&nbsp;Â·&nbsp;Alan</footer></div><figure class=entry-cover><img loading=lazy src=https://sz9751210.github.io/assets/k8s-reloader/cover.png alt></figure><a class=entry-link aria-label="post link to k8s-reloader" href=https://sz9751210.github.io/posts/k8s-reloader/></a></article><article class=post-entry><div class=post-info><header class=entry-header><h2>Linux ä¿®æ”¹æ™‚é–“[timedatectl]</h2></header><div class=entry-content><p>ğŸ‘¨â€ğŸ’»ç°¡ä»‹ timedatectl ç”¨é€”ï¼šä¿®æ”¹ç³»çµ±æ™‚é–“ èªæ³• timedatectl [OPTIONS] command åƒæ•¸ åƒæ•¸ èªªæ˜ â€“no-pager ä¸å°‡ç¨‹åºçš„è¼¸å‡ºå…§å®¹ç®¡é“(pipe)çµ¦åˆ†é ç¨‹åº â€“no-ask-password åœ¨åŸ·è¡Œç‰¹æ¬Šæ“ä½œæ™‚ä¸å‘ç”¨æˆ¶ç´¢è¦å¯†ç¢¼ã€‚ -H â€“host=[USER@]HOST æ“ä½œæŒ‡å®šçš„é ç¨‹ä¸»æ©Ÿ -M â€“machine=CONTAINER åœ¨æœ¬åœ°å®¹å™¨å…§åŸ·è¡Œæ“ä½œã€‚ å¿…é ˆæ˜ç¢ºæŒ‡å®šå®¹å™¨çš„åç¨±ã€‚ â€“adjust-system-clock ç•¶ä½¿ç”¨set-local-rtcå‘½ä»¤æ™‚ï¼Œè‹¥ä½¿ç”¨äº†æ­¤é¸é …ï¼Œå‰‡è¡¨ç¤ºæ ¹æ“šRTCæ™‚é–“ä¾†æ›´æ–°ç³»çµ±æ™‚é˜ã€‚è‹¥æœªä½¿ç”¨æ­¤é¸é …ï¼Œå‰‡è¡¨ç¤ºæ ¹æ“šç³»çµ±æ™‚é˜ä¾†æ›´æ–°RTCæ™‚é–“ æŒ‡ä»¤ æŒ‡ä»¤ èªªæ˜ status é¡¯ç¤ºç³»çµ±æ™‚é˜èˆ‡RTCçš„ç•¶å‰ç‹€æ…‹ï¼Œ åŒ…æ‹¬æ™‚å€è¨­ç½®èˆ‡ç¶²çµ¡æ™‚é–“åŒæ­¥æœå‹™çš„ç‹€æ…‹ã€‚ set-time TIME å°‡ç³»çµ±æ™‚é˜è¨­çˆ²æŒ‡å®šçš„æ™‚é–“ï¼Œ ä¸¦åŒæ™‚æ›´æ–°RTCæ™‚é–“ã€‚ [TIME] æ˜¯ä¸€å€‹å½¢å¦‚ â€œ2012-10-30 18:17:16"çš„æ™‚é–“å­—ç¬¦ä¸²ã€‚ set-timezone ZONE è¨­ç½®ç³»çµ±æ™‚å€ï¼Œä¹Ÿå°±æ˜¯æ›´æ–° /etc/localtime è»Ÿé€£æ¥çš„æŒ‡å‘ã€‚ å¯ä»¥ç”¨ä¸‹é¢çš„ list-timezoneså‘½ä»¤åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ™‚å€ã€‚ å¦‚æœRTCè¢«è¨­çˆ²æœ¬åœ°æ™‚é–“ï¼Œ æ­¤å‘½ä»¤é‚„æœƒåŒæ™‚æ›´æ–°RTCæ™‚é–“ã€‚ list-timezones åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ™‚å€ï¼Œæ¯è¡Œä¸€å€‹ã€‚ åˆ—å‡ºçš„å€¼å¯ä»¥ç”¨ä½œå‰è¿° set-timezone å‘½ä»¤çš„åƒæ•¸ã€‚ set-local-rtc BOOL è¨­çˆ² â€œnoâ€ è¡¨ç¤ºåœ¨RTCä¸­å­˜å„²UTCæ™‚é–“ï¼› è¨­çˆ² â€œyesâ€ è¡¨ç¤ºåœ¨RTCä¸­å­˜å„²æœ¬åœ°æ™‚é–“ã€‚æ‡‰è©²ç›¡ä¸€åˆ‡å¯èƒ½åœ¨RTCä¸­å­˜å„²UTCæ™‚é–“ set-ntp BOOL æ˜¯å¦é–‹å•“ç¶²çµ¡æ™‚é–“åŒæ­¥ã€‚ è¨­çˆ² â€œyesâ€ å‰‡å•“ç”¨ä¸¦å•“å‹• systemd-timesyncd.service æœå‹™ï¼Œ è¨­çˆ²"noâ€ å‰‡åœæ­¢ä¸¦åœç”¨å®ƒ åŸºæœ¬æ“ä½œ é¡¯ç¤ºç•¶å‰ç³»çµ±æ™‚é–“ timedatectl or timedatectl status é–‹å•Ÿç¶²è·¯æ™‚é–“åŒæ­¥æœå‹™ timedatectl set-ntp true è¨­å®šæ—¥æœŸèˆ‡æ™‚é–“ # æ”¹æ™‚é–“å’Œæ—¥æœŸ timedatectl set-time "2021-11-01 10:10:00" # åªæ”¹æ—¥æœŸ timedatectl set-time "2021-11-01" timedatectl set-time 20211101 # åªæ”¹æ™‚é–“ timedatectl set-time "10:10:00" timedatectl set-time 10:10:00 æª¢æŸ¥æ™‚å€ timedatectl list-timezones # æ ¹æ“šåœ°ç†ä½ç½®æŸ¥çœ‹æ™‚å€ timedatectl list-timezones | grep "Asia/B....</p></div><footer class=entry-footer><span title='2022-11-10 17:14:00 +0800 CST'>2022-11-10</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;144 words&nbsp;Â·&nbsp;Alan</footer></div><a class=entry-link aria-label="post link to Linux ä¿®æ”¹æ™‚é–“[timedatectl]" href=https://sz9751210.github.io/posts/linux-timedatectl/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://sz9751210.github.io/page/3/>Â«&nbsp;Prev&nbsp;</a>
<a class=next href=https://sz9751210.github.io/page/5/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://sz9751210.github.io/>è‰¾å€«çš„ç¨‹å¼ä¹‹æ—…</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let detail=document.getElementsByClassName("details");details=[].slice.call(detail);for(let e=0;e<details.length;e++){let t=details[e];const n=t.getElementsByClassName("details-summary")[0];n&&n.addEventListener("click",()=>{t.classList.toggle("open")},!1)}</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>