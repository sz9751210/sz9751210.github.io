[{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ç•¶ä»Šçš„é›²è¨ˆç®—æ™‚ä»£ï¼Œå®¹å™¨åŒ–å’Œå¾®æœå‹™æ¶æ§‹æˆç‚ºäº†é‡è¦è¶¨å‹¢ã€‚Kubernetesï¼Œä½œç‚ºé ˜å…ˆçš„å®¹å™¨ç·¨æ’å¹³å°ï¼Œæä¾›äº†å¼·å¤§çš„åŠŸèƒ½ä¾†ç®¡ç†å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚ç„¶è€Œï¼Œéš¨è‘—æ‡‰ç”¨ç¨‹å¼å’Œç”¨æˆ¶çš„å¢åŠ ï¼Œæœ‰æ•ˆç®¡ç†èª°å¯ä»¥å° Kubernetes é›†ç¾¤åŸ·è¡Œä½•ç¨®æ“ä½œè®Šå¾—è‡³é—œé‡è¦ã€‚é€™è£¡ï¼ŒRBAC (Role-Based Access Control) æ©Ÿåˆ¶èµ·åˆ°äº†é—œéµä½œç”¨ã€‚\nğŸ”°åŸºç¤ä»‹ç´¹ ä»€éº¼æ˜¯ RBACï¼š RBAC å¯ä»¥æ ¹æ“šè§’è‰²å°ç”¨æˆ¶é€²è¡Œç´°ç²’åº¦çš„æ¬Šé™ç®¡ç†ã€‚å®ƒåŸºæ–¼ä¸‰å€‹ä¸»è¦æ¦‚å¿µï¼šè§’è‰²ï¼ˆRoleï¼‰ã€è§’è‰²ç¶å®šï¼ˆRoleBindingï¼‰å’Œä¸»é«”ï¼ˆSubjectsï¼‰ã€‚\nè§’è‰² (Role) å’Œ ClusterRoleï¼š\nè§’è‰² (Role)ï¼šå®šç¾©äº†ä¸€çµ„æ¬Šé™ï¼Œé€™äº›æ¬Šé™è¡¨ç¤ºå°ç‰¹å®š Kubernetes è³‡æºçš„æ“ä½œï¼Œå¦‚å»ºç«‹ã€è®€å–ã€æ›´æ–°å’Œåˆªé™¤ã€‚ ClusterRoleï¼šèˆ‡ Role é¡ä¼¼ï¼Œä½†å®ƒé©ç”¨æ–¼æ•´å€‹é›†ç¾¤ç¯„åœï¼Œè€Œä¸æ˜¯å–®å€‹å‘½åç©ºé–“ã€‚ClusterRole å¯ä»¥ç”¨ä¾†è³¦äºˆå°é›†ç¾¤ç´šè³‡æºçš„è¨ªå•æ¬Šé™ï¼Œæˆ–è€…è·¨æ‰€æœ‰å‘½åç©ºé–“çš„ç‰¹å®šè³‡æºã€‚ è§’è‰²ç¶å®š (RoleBinding) å’Œ ClusterRoleBindingï¼š\nè§’è‰²ç¶å®š (RoleBinding)ï¼šå°‡è§’è‰²çš„æ¬Šé™è³¦äºˆçµ¦ç‰¹å®šçš„ä¸»é«”ã€‚ ClusterRoleBindingï¼šé¡ä¼¼æ–¼ RoleBindingï¼Œä½†å®ƒå°‡ ClusterRole çš„æ¬Šé™è³¦äºˆçµ¦æ•´å€‹é›†ç¾¤çš„ä¸»é«”ï¼Œè€Œä¸æ˜¯ç‰¹å®šå‘½åç©ºé–“çš„ä¸»é«”ã€‚ ä¸»é«” (Subjects)ï¼š å¯ä»¥æ˜¯ç”¨æˆ¶ã€ç¾¤çµ„æˆ–æœå‹™å¸³è™Ÿã€‚\nç‚ºä»€éº¼è¦åœ¨ Kubernetes ä¸­ä½¿ç”¨ RBACï¼Ÿ åœ¨ Kubernetes ä¸­ï¼ŒRBAC ä½¿å¾—ç®¡ç†å¤§å‹ã€å¤šç”¨æˆ¶çš„é›†ç¾¤è®Šå¾—æ›´ç‚ºå®‰å…¨å’Œæ–¹ä¾¿ã€‚å®ƒç¢ºä¿äº†åªæœ‰åˆé©çš„ç”¨æˆ¶å’Œæœå‹™èƒ½å¤ è¨ªå•é—œéµçš„ Kubernetes è³‡æºï¼Œå¾è€Œé™ä½äº†å®‰å…¨é¢¨éšªã€‚\nå¦‚ä½•ä½¿ç”¨ RBAC è¦é–‹å§‹ä½¿ç”¨ RBACï¼Œé¦–å…ˆè¦åœ¨ Kubernetes é›†ç¾¤ä¸­å»ºç«‹è§’è‰²ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æœ‰ä¸€å€‹è§’è‰²ï¼Œåªå…è¨±å° Pod è³‡æºé€²è¡Œè®€å–æ“ä½œã€‚\nkind: Role apiVersion: rbac.authorization.k8s.io/v1 metadata: namespace: default name: pod-reader rules: - apiGroups: [\u0026#34;\u0026#34;] resources: [\u0026#34;pods\u0026#34;] verbs: [\u0026#34;get\u0026#34;, \u0026#34;list\u0026#34;, \u0026#34;watch\u0026#34;] --- kind: RoleBinding apiVersion: rbac.authorization.k8s.io/v1 metadata: name: read-pods namespace: default subjects: - kind: User name: alan apiGroup: rbac.authorization.k8s.io roleRef: kind: Role name: pod-reader apiGroup: rbac.authorization.k8s.io åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œç”¨æˆ¶ alan ç²å¾—äº†åœ¨é»˜èªå‘½åç©ºé–“ä¸­è®€å– Pod çš„æ¬Šé™ã€‚\nåŒæ¨£ï¼ŒClusterRole å’Œ ClusterRoleBinding ä¹Ÿå¯ä»¥è¢«å®šç¾©ä»¥æˆäºˆå°é›†ç¾¤ç¯„åœè³‡æºçš„è¨ªå•æ¬Šé™ã€‚ä»¥ä¸‹æ˜¯ ClusterRole çš„ä¸€å€‹ç¯„ä¾‹ï¼Œå®ƒå…è¨±å°é›†ç¾¤ä¸­æ‰€æœ‰å‘½åç©ºé–“çš„æœå‹™é€²è¡Œç›£è¦–ï¼š\nkind: ClusterRole apiVersion: rbac.authorization.k8s.io/v1 metadata: # \u0026#34;name\u0026#34; is the name of the ClusterRole name: service-watcher rules: - apiGroups: [\u0026#34;\u0026#34;] resources: [\u0026#34;services\u0026#34;] verbs: [\u0026#34;get\u0026#34;, \u0026#34;list\u0026#34;, \u0026#34;watch\u0026#34;] è©³è§£ Resources å’Œ Verbsï¼š åœ¨ Kubernetes çš„ RBAC ä¸­ï¼Œresources å’Œ verbs æ˜¯è¨­å®šè§’è‰²æ¬Šé™æ™‚çš„é—œéµè¦ç´ ã€‚\nResourcesï¼š æŒ‡çš„æ˜¯åœ¨ Kubernetes ä¸­å¯ä»¥æ“ä½œçš„å„ç¨®è³‡æºé¡å‹ï¼Œå¦‚ pods, services, deployments ç­‰ã€‚æ¯ç¨®è³‡æºéƒ½æœ‰ç‰¹å®šçš„å±¬æ€§å’Œç›¸é—œæ“ä½œã€‚\nVerbsï¼š å®šç¾©äº†å°é€™äº›è³‡æºå¯ä»¥åŸ·è¡Œçš„æ“ä½œã€‚å¸¸è¦‹çš„ verbs åŒ…æ‹¬ï¼š\ngetï¼šç²å–å–®å€‹è³‡æºçš„è©³ç´°è¨Šæ¯ã€‚ listï¼šåˆ—å‡ºæ‰€æœ‰è³‡æºæˆ–æŸå€‹é›†åˆçš„è³‡æºã€‚ createï¼šå»ºç«‹æ–°çš„è³‡æºã€‚ updateï¼šæ›´æ–°ç¾æœ‰è³‡æºã€‚ patchï¼šæ›´æ–°éƒ¨åˆ†è³‡æºã€‚ watchï¼šç›£è½è³‡æºçš„è®ŠåŒ–ã€‚ deleteï¼šåˆªé™¤è³‡æºã€‚ deletecollectionï¼šåˆªé™¤è³‡æºé›†åˆã€‚ ç†è§£é€™äº› resources å’Œ verbs å°æ–¼å»ºç«‹ç¬¦åˆç‰¹å®šéœ€æ±‚çš„è§’è‰²è‡³é—œé‡è¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³å»ºç«‹ä¸€å€‹åªèƒ½æŸ¥çœ‹ Pod è¨Šæ¯ä½†ä¸èƒ½ä¿®æ”¹çš„è§’è‰²ï¼Œå°‡éœ€è¦é¸æ“‡ç›¸æ‡‰çš„ resources å’Œ verbs çµ„åˆã€‚\næœ€ä½³å¯¦è¸ï¼š\næœ€å°æ¬Šé™åŸå‰‡ï¼š åƒ…è³¦äºˆå¿…è¦çš„æœ€å°æ¬Šé™ï¼Œé¿å…éåº¦æˆæ¬Šã€‚ å®šæœŸå¯©æ ¸ï¼š å®šæœŸæª¢æŸ¥å’Œå¯©æ ¸è§’è‰²å’Œè§’è‰²ç¶å®šï¼Œç¢ºä¿å®ƒå€‘ç¬¦åˆç•¶å‰çš„å®‰å…¨æ”¿ç­–ã€‚ å‘½åç©ºé–“å±¤ç´šçš„ç®¡ç†ï¼š åˆ©ç”¨å‘½åç©ºé–“å°æ¬Šé™é€²è¡Œéš”é›¢å’Œç´°åˆ†ï¼Œç¢ºä¿ä¸åŒåœ˜éšŠæˆ–æ‡‰ç”¨ä¹‹é–“çš„æ¬Šé™ç•Œé™æ¸…æ™°ã€‚ é›†ç¾¤ç¯„åœçš„æ¬Šé™æ§åˆ¶ï¼š ä½¿ç”¨ ClusterRole å’Œ ClusterRoleBinding ä¾†ç®¡ç†è·¨å‘½åç©ºé–“æˆ–é›†ç¾¤ç´šè³‡æºçš„è¨ªå•ã€‚ ğŸ“šReference Using RBAC Authorization | Kubernetes Role Based Access Control Good Practices | Kubernetes ","permalink":"https://sz9751210.github.io/posts/k8s-rbac/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ç•¶ä»Šçš„é›²è¨ˆç®—æ™‚ä»£ï¼Œå®¹å™¨åŒ–å’Œå¾®æœå‹™æ¶æ§‹æˆç‚ºäº†é‡è¦è¶¨å‹¢ã€‚Kubernetesï¼Œä½œç‚ºé ˜å…ˆçš„å®¹å™¨ç·¨æ’å¹³å°ï¼Œæä¾›äº†å¼·å¤§çš„åŠŸèƒ½ä¾†ç®¡ç†å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚ç„¶è€Œï¼Œéš¨è‘—æ‡‰ç”¨ç¨‹å¼å’Œç”¨æˆ¶çš„å¢åŠ ï¼Œæœ‰æ•ˆç®¡ç†èª°å¯ä»¥å° Kubernetes é›†ç¾¤åŸ·è¡Œä½•ç¨®æ“ä½œè®Šå¾—è‡³é—œé‡è¦ã€‚é€™è£¡ï¼ŒRBAC (Role-Based Access Control) æ©Ÿåˆ¶èµ·åˆ°äº†é—œéµä½œç”¨ã€‚\nğŸ”°åŸºç¤ä»‹ç´¹ ä»€éº¼æ˜¯ RBACï¼š RBAC å¯ä»¥æ ¹æ“šè§’è‰²å°ç”¨æˆ¶é€²è¡Œç´°ç²’åº¦çš„æ¬Šé™ç®¡ç†ã€‚å®ƒåŸºæ–¼ä¸‰å€‹ä¸»è¦æ¦‚å¿µï¼šè§’è‰²ï¼ˆRoleï¼‰ã€è§’è‰²ç¶å®šï¼ˆRoleBindingï¼‰å’Œä¸»é«”ï¼ˆSubjectsï¼‰ã€‚\nè§’è‰² (Role) å’Œ ClusterRoleï¼š\nè§’è‰² (Role)ï¼šå®šç¾©äº†ä¸€çµ„æ¬Šé™ï¼Œé€™äº›æ¬Šé™è¡¨ç¤ºå°ç‰¹å®š Kubernetes è³‡æºçš„æ“ä½œï¼Œå¦‚å»ºç«‹ã€è®€å–ã€æ›´æ–°å’Œåˆªé™¤ã€‚ ClusterRoleï¼šèˆ‡ Role é¡ä¼¼ï¼Œä½†å®ƒé©ç”¨æ–¼æ•´å€‹é›†ç¾¤ç¯„åœï¼Œè€Œä¸æ˜¯å–®å€‹å‘½åç©ºé–“ã€‚ClusterRole å¯ä»¥ç”¨ä¾†è³¦äºˆå°é›†ç¾¤ç´šè³‡æºçš„è¨ªå•æ¬Šé™ï¼Œæˆ–è€…è·¨æ‰€æœ‰å‘½åç©ºé–“çš„ç‰¹å®šè³‡æºã€‚ è§’è‰²ç¶å®š (RoleBinding) å’Œ ClusterRoleBindingï¼š\nè§’è‰²ç¶å®š (RoleBinding)ï¼šå°‡è§’è‰²çš„æ¬Šé™è³¦äºˆçµ¦ç‰¹å®šçš„ä¸»é«”ã€‚ ClusterRoleBindingï¼šé¡ä¼¼æ–¼ RoleBindingï¼Œä½†å®ƒå°‡ ClusterRole çš„æ¬Šé™è³¦äºˆçµ¦æ•´å€‹é›†ç¾¤çš„ä¸»é«”ï¼Œè€Œä¸æ˜¯ç‰¹å®šå‘½åç©ºé–“çš„ä¸»é«”ã€‚ ä¸»é«” (Subjects)ï¼š å¯ä»¥æ˜¯ç”¨æˆ¶ã€ç¾¤çµ„æˆ–æœå‹™å¸³è™Ÿã€‚\nç‚ºä»€éº¼è¦åœ¨ Kubernetes ä¸­ä½¿ç”¨ RBACï¼Ÿ åœ¨ Kubernetes ä¸­ï¼ŒRBAC ä½¿å¾—ç®¡ç†å¤§å‹ã€å¤šç”¨æˆ¶çš„é›†ç¾¤è®Šå¾—æ›´ç‚ºå®‰å…¨å’Œæ–¹ä¾¿ã€‚å®ƒç¢ºä¿äº†åªæœ‰åˆé©çš„ç”¨æˆ¶å’Œæœå‹™èƒ½å¤ è¨ªå•é—œéµçš„ Kubernetes è³‡æºï¼Œå¾è€Œé™ä½äº†å®‰å…¨é¢¨éšªã€‚\nå¦‚ä½•ä½¿ç”¨ RBAC è¦é–‹å§‹ä½¿ç”¨ RBACï¼Œé¦–å…ˆè¦åœ¨ Kubernetes é›†ç¾¤ä¸­å»ºç«‹è§’è‰²ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æœ‰ä¸€å€‹è§’è‰²ï¼Œåªå…è¨±å° Pod è³‡æºé€²è¡Œè®€å–æ“ä½œã€‚\nkind: Role apiVersion: rbac.authorization.k8s.io/v1 metadata: namespace: default name: pod-reader rules: - apiGroups: [\u0026#34;\u0026#34;] resources: [\u0026#34;pods\u0026#34;] verbs: [\u0026#34;get\u0026#34;, \u0026#34;list\u0026#34;, \u0026#34;watch\u0026#34;] --- kind: RoleBinding apiVersion: rbac.","title":"Kubernetes RBAC Overviewï¼šè³¦äºˆå®‰å…¨èˆ‡å½ˆæ€§çš„ç®¡ç†"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ terraformåœ¨æ¯æ¬¡åŸ·è¡Œterraform planæˆ–terraform applyæ™‚ï¼Œæ˜¯å¦‚ä½•çŸ¥é“æ‡‰è©²è¦ç®¡ç†å“ªäº›è³‡æºï¼Ÿ\nå…¶å¯¦å°±æ˜¯é€éåœ¨æ¯æ¬¡åŸ·è¡Œterraformæ™‚ï¼Œå°‡å»ºç«‹æˆ–è¦è®Šæ›´çš„è³‡æºéƒ½è¨˜éŒ„åœ¨terraform.stateé€™ä»½ç‹€æ…‹æª”ï¼Œé è¨­æª”æ¡ˆä½¿ç”¨JSONæ ¼å¼ã€‚\nå‡è¨­å»ºç«‹ä¸€å€‹google cloud storageçš„resourceï¼Œtfè¨­å®šæª”å¦‚ä¸‹ï¼š\nresource \u0026#34;google_storage_bucket\u0026#34; \u0026#34;bucket\u0026#34; { name = \u0026#34;terraform-alan-test-bucket\u0026#34; location = \u0026#34;ASIA-EAST1\u0026#34; storage_class = \u0026#34;STANDARD\u0026#34; public_access_prevention = \u0026#34;enforced\u0026#34; force_destroy = true uniform_bucket_level_access = true } å»ºç«‹å¾Œçš„terraform.tfstateçš„ä¸€å°éƒ¨åˆ†å¦‚ä¸‹ï¼š\n{ \u0026#34;version\u0026#34;: 4, \u0026#34;terraform_version\u0026#34;: \u0026#34;1.5.7\u0026#34;, \u0026#34;serial\u0026#34;: 3, \u0026#34;lineage\u0026#34;: \u0026#34;abda0fda-b807-b8b3-0a36-8b0c2f92e3f5\u0026#34;, \u0026#34;outputs\u0026#34;: {}, \u0026#34;resources\u0026#34;: [ { \u0026#34;module\u0026#34;: \u0026#34;module.base-bucket\u0026#34;, \u0026#34;mode\u0026#34;: \u0026#34;managed\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;google_storage_bucket\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;bucket\u0026#34;, \u0026#34;provider\u0026#34;: \u0026#34;module.base-bucket.provider[\\\u0026#34;registry.terraform.io/hashicorp/google\\\u0026#34;]\u0026#34;, \u0026#34;instances\u0026#34;: [ { \u0026#34;schema_version\u0026#34;: 1, \u0026#34;attributes\u0026#34;: { \u0026#34;autoclass\u0026#34;: [], \u0026#34;cors\u0026#34;: [], \u0026#34;custom_placement_config\u0026#34;: [], \u0026#34;default_event_based_hold\u0026#34;: false, \u0026#34;effective_labels\u0026#34;: {}, \u0026#34;encryption\u0026#34;: [], \u0026#34;force_destroy\u0026#34;: true, \u0026#34;id\u0026#34;: \u0026#34;terraform-alan-test-bucket\u0026#34;, \u0026#34;labels\u0026#34;: null, \u0026#34;lifecycle_rule\u0026#34;: [], \u0026#34;location\u0026#34;: \u0026#34;ASIA-EAST1\u0026#34;, \u0026#34;logging\u0026#34;: [], \u0026#34;name\u0026#34;: \u0026#34;terraform-alan-test-bucket\u0026#34;, } } ] } ] } å¯ä»¥çœ‹åˆ°idçš„å±¬æ€§ï¼Œç•¶æ¯æ¬¡åŸ·è¡Œplanæˆ–æ˜¯applyæ™‚ï¼Œterraformå°±æ˜¯æ‹¿é€™å€‹å±¬æ€§å¾æœ¬åœ°terraformè¨­å®šæª”èˆ‡é›²ä¸Šè³‡æºåšæ¯”å°ã€‚\nå¦‚æœä½ çš„terraformç”¨åœ¨å€‹äººå°ˆæ¡ˆï¼Œå‰‡å°‡ç‹€æ…‹æª”å­˜åœ¨æœ¬æ©Ÿå³å¯ï¼›ä¸éå¦‚æœæ˜¯ä¸€å€‹åœ˜éšŠè¦ä½¿ç”¨terraformï¼Œå‰‡å¯èƒ½æœƒé‡åˆ°å¹¾å€‹å•é¡Œï¼š\nç‹€æ…‹æª”éœ€è¦å…±ç”¨ï¼šéœ€è¦ç¢ºä¿åœ˜éšŠæˆå“¡éƒ½èƒ½æ­£å¸¸å­˜å–ç›¸åŒçš„terraformç‹€æ…‹æª”ã€‚ é–å®šç‹€æ…‹æª”ï¼šéœ€è¦ç¢ºä¿åœ˜éšŠæˆå“¡ä½¿ç”¨terraformé€²è¡Œæ“ä½œæ™‚ï¼Œåªæœ‰ä¸€äººèƒ½å°ç‹€æ…‹æª”åšä¿®æ”¹ï¼Œå¦å‰‡å¯èƒ½æœƒå› ç‚ºå¤šå€‹terraformé€²ç¨‹å°ç‹€æ…‹æª”åšä½µç™¼æ›´æ–°ï¼Œå°è‡´è³‡æ–™ä¸Ÿå¤±æˆ–æ˜¯ç‹€æ…‹æª”æå£ã€‚ è¦è§£æ±ºä¸Šè¿°å•é¡Œï¼Œå¸¸è¦‹çš„åšæ³•æ˜¯å°‡ç‹€æ…‹æª”é€²è¡Œç‰ˆæœ¬æ§åˆ¶(git)ï¼Œä½†å› ç‚ºæŸäº›åŸå› ï¼Œå°‡ç‹€æ…‹æª”é€²è¡Œç‰ˆæ§ä¸¦ä¸æ˜¯ä¸€å€‹å¥½æƒ³æ³•ã€‚æœ‰åº•ä¸‹å¹¾å€‹åŸå› ï¼š\næ‰‹å‹•æ“ä½œéŒ¯èª¤ï¼šæœ‰æ™‚å€™å¯èƒ½åœ¨æ“ä½œterraformæ™‚ï¼Œå¿˜è¨˜æ‹‰å–æœ€æ–°ç‹€æ…‹æª”ï¼Œæˆ–æ˜¯åœ¨åŸ·è¡Œå®Œterraformå¾Œï¼Œå¿˜è¨˜å°‡ç‹€æ…‹æª”æ›´æ–°åˆ°ç‰ˆæ§ã€‚å¯èƒ½åœ˜éšŠæˆå“¡ä½¿ç”¨åˆ°èˆŠçš„ç‹€æ…‹æª”å°è‡´è³‡æºå›æ»¾ã€‚ é–å®šå•é¡Œï¼šå¤šæ•¸çš„ç‰ˆæœ¬æ§åˆ¶ç³»çµ±æ²’æä¾›ä»»ä½•å½¢å¼çš„é–å®šï¼Œé˜²æ­¢å…©å€‹åœ˜éšŠæˆå“¡åŒæ™‚å°åŒä¸€ä»½ç‹€æ…‹æª”åŸ·è¡Œæ“ä½œã€‚ åŠ å¯†ï¼šterraformç‹€æ…‹æª”çš„è³‡æ–™é è¨­éƒ½æ˜¯ä»¥æ˜æ–‡å½¢å¼å„²å­˜ã€‚ä½†æŸäº›è³‡æºéœ€è¦å„²å­˜æ•æ„Ÿè³‡æ–™ï¼Œåƒæ˜¯è³‡æ–™åº«å‰µå»ºæ™‚éœ€è¦å»ºç«‹åˆå§‹åŒ–ä½¿ç”¨è€…ä»¥åŠå¯†ç¢¼ï¼Œé€™äº›è³‡æ–™ä¸æ‡‰è©²ä»¥æ˜æ–‡çš„å½¢å¼å„²å­˜åœ¨ç‰ˆæœ¬æ§åˆ¶ã€‚ å› ç‚ºä»¥ä¸ŠåŸå› ï¼Œterraformå®˜æ–¹æ¨å‡º remote backendçš„æ”¯æ´ï¼Œå¯ä»¥å°‡ç‹€æ…‹æª”å„²å­˜åœ¨æ‰€ä½¿ç”¨çš„é›²å¹³å°ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼Œè€Œremote backendè§£æ±ºäº†å‰›æ‰åˆ—å‡ºçš„ä¸‰å€‹å•é¡Œï¼š\næ‰‹å‹•æ“ä½œéŒ¯èª¤ï¼šterraformæ¯æ¬¡é‹è¡Œæ™‚æœƒè‡ªå‹•å¾ remote backend è¼‰å…¥ç‹€æ…‹æª”ï¼Œä¸¦ä¸”æ¯æ¬¡é‹è¡Œå¾Œéƒ½æœƒè‡ªå‹•å°‡ç‹€æ…‹æª”å„²å­˜åœ¨ remote backendï¼Œè§£æ±ºäº†æ‰‹å‹•æ“ä½œéŒ¯èª¤ã€‚ é–å®šå•é¡Œï¼šå¤§å¤šæ•¸ remote backend éƒ½æ”¯æ´é–å®šã€‚é‹è¡Œterraformæ™‚æœƒè‡ªå‹•å°‡æª”æ¡ˆé€²è¡Œä¸Šé–ï¼Œç¢ºä¿åªæœƒæœ‰ä¸€äººé€²è¡Œæ“ä½œã€‚ åŠ å¯†ï¼šå¤§å¤šæ•¸ remote backend éƒ½æ”¯æ´ç‹€æ…‹æª”çš„å‚³è¼¸ä¸­åŠ å¯†å’Œéœæ…‹åŠ å¯†ã€‚ ä½¿ç”¨gcpå¹³å°æ¨è–¦ä½¿ç”¨ google cloud storageï¼Œæ•´ç†çš„åŸå› å¦‚ä¸‹ï¼š\né€™æ˜¯è¨—ç®¡æœå‹™ï¼Œä¸éœ€éƒ¨ç½²å’Œç®¡ç†é¡å¤–åŸºç¤è¨­æ–½å³å¯ä½¿ç”¨ã€‚ gcsæ—¨åœ¨å¯¦ç¾99.99%çš„æŒä¹…æ€§å’Œå¹´åº¦è€ç”¨æ€§ã€‚ æ•°æ®å¯ç”¨æ€§å’Œè€ç”¨æ€§ |Â Cloud Storage |Â Google Cloud\ngcsæ”¯æ´åŠ å¯†ï¼Œé è¨­ä½¿ç”¨server side encryptï¼Œå¦å¤–ä¹Ÿå¯ä½¿ç”¨ckmsæœå‹™ æ•°æ®åŠ å¯†é€‰é¡¹ |Â Cloud Storage |Â Google Cloud\næ”¯æ´ç‰ˆæœ¬æ§åˆ¶ ä½¿ç”¨å¯¹è±¡ç‰ˆæœ¬æ§åˆ¶ |Â Cloud Storage |Â Google Cloud\nè²»ç”¨ä¾¿å®œï¼Œä½¿ç”¨å…è²»é¡åº¦å³å¯æ»¿è¶³éœ€æ±‚ã€‚ ä»·æ ¼ |Â Cloud Storage |Â Google Cloud\nGCP GCSä½œç‚ºterraform remote backend è¦ä½¿ç”¨ Google cloud stroageä½œç‚º terraform remote backendï¼Œé¦–å…ˆæ˜¯å…ˆå»ºç«‹ gcs bucketã€‚ åœ¨æ–°è³‡æ–™å¤¾ä¸­å»ºç«‹ä¸€å€‹provider.tfæª”æ¡ˆ\nterraform { required_providers { google = { source = \u0026#34;hashicorp/google\u0026#34; version = \u0026#34;\u0026gt;=4.0\u0026#34; } } } provider \u0026#34;google\u0026#34; { region =\u0026#34;asia-east1\u0026#34; } æ¥è‘—å†å»ºç«‹ä¸€å€‹åç‚ºbucket.tfæª”æ¡ˆï¼Œä½¿ç”¨ google_storage_bucket resource å»ºç«‹ gcs bucketã€‚\nresource \u0026#34;google_storage_bucket\u0026#34; \u0026#34;bucket\u0026#34; { name = \u0026#34;terraform-alan-test-bucket\u0026#34; location = \u0026#34;ASIA-EAST1\u0026#34; storage_class = \u0026#34;STANDARD\u0026#34; public_access_prevention = \u0026#34;enforced\u0026#34; force_destroy = false uniform_bucket_level_access = true } åƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\nnameï¼šå®šç¾© gcs bucket åç¨± locationï¼šæŒ‡å®š bucket å„²å­˜ä½ç½® storage_classï¼šæŒ‡å®š bucket å„²å­˜é¡å‹ public_access_preventionï¼šè¨­å®šå…¬é–‹å­˜å–é˜²æ­¢ç­–ç•¥ï¼Œenforceè¡¨ç¤ºä¸å…è¨±å…¬é–‹è¨ªå• force_destroyï¼šè¨­å®šæ˜¯å¦å¯å¼·åˆ¶åˆªé™¤ uniform_bucket_level_accessï¼šè¨­å®šæ˜¯å¦å•Ÿç”¨çµ±ä¸€è¨ªå•æ§åˆ¶ ç•¶åŸ·è¡Œå®Œterraform initä»¥åŠ terraform applyéƒ¨ç½²å®Œå¾Œï¼Œå°±æœƒçœ‹åˆ°gcså·²ç¶“å»ºç«‹å®Œæˆã€‚ä½†ç›®å‰ç‹€æ…‹æª”é‚„æ˜¯å„²å­˜åœ¨æœ¬åœ°ã€‚è¦å°‡ç‹€æ…‹æª”å„²å­˜åˆ° gcs bucketï¼Œéœ€è¦å†é¡å¤–è¨­å®š remote backendï¼Œèªæ³•å¦‚ä¸‹ï¼š\nterraform { backend \u0026#34;\u0026lt;BACKEND_NAME\u0026gt;\u0026#34; { [CONFIG...] } } å…¶ä¸­ BACKEND_NAMEæ˜¯è¦ä½¿ç”¨çš„è³‡æºï¼ŒCONFIGæ˜¯å°é€™å€‹å¾Œç«¯çš„åƒæ•¸è¨­å®šã€‚ä»¥ä¸‹æ˜¯ gcs bucketçš„å¾Œç«¯è¨­å®šï¼š\nterraform { backend \u0026#34;gcs\u0026#34; { bucket = \u0026#34;terraform-alan-test-bucket\u0026#34; prefix = \u0026#34;bucket-state\u0026#34; } } åƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\nbucketï¼šè¦ä½¿ç”¨çš„bucket nameï¼Œé€™é‚Šå¡«å…¥å‰›å‰›å»ºç«‹çš„ bucket prefixï¼šå®šç¾©ç‹€æ…‹æª”çš„è·¯å¾‘å’Œåç¨±ï¼Œä»¥ä¸Šè¿°ç‚ºä¾‹ï¼Œç‹€æ…‹æª”æœƒè¢«å­˜æ”¾åœ¨ bucket-stateè³‡æ–™å¤¾ è¦å°‡ç‹€æ…‹æª”å„²å­˜åˆ° gcs ï¼Œåªéœ€è¦é‡æ–°åŸ·è¡Œ terraform init æŒ‡ä»¤ã€‚è©²æŒ‡ä»¤ä¸åƒ…å¯ä»¥ä¸‹è¼‰ provider codeï¼Œé‚„å¯ä»¥è¨­å®š terraform backendã€‚æ­¤å¤–ï¼Œinitçš„æŒ‡ä»¤æ˜¯å†ªç­‰çš„ï¼Œå¤šæ¬¡åŸ·è¡Œå¯ä»¥ç¢ºä¿æ¯æ¬¡éƒ½æ˜¯é æœŸçš„è¡Œç‚ºã€‚\n\u0026gt; terraform init Initializing the backend... Do you want to copy existing state to the new backend? Pre-existing state was found while migrating the previous \u0026#34;local\u0026#34; backend to the newly configured \u0026#34;gcs\u0026#34; backend. No existing state was found in the newly configured \u0026#34;gcs\u0026#34; backend. Do you want to copy this state to the new \u0026#34;gcs\u0026#34; backend? Enter \u0026#34;yes\u0026#34; to copy and \u0026#34;no\u0026#34; to start with an empty state. Enter a value: åŸ·è¡Œå¾Œterraformæœƒè‡ªå‹•æª¢æŸ¥æœ¬åœ°å·²æœ‰çš„ç‹€æ…‹æª”ï¼Œä¸¦è·³å‡ºæç¤ºèªªè¦å°‡ç‹€æ…‹æª”è¤‡è£½åˆ° gcs backendã€‚å¦‚æœè¼¸å…¥ yesï¼Œå‰‡æœƒçœ‹åˆ°ä»¥ä¸‹å…§å®¹ï¼š\nSuccessfully configured the backend \u0026#34;gcs\u0026#34;! Terraform will automatically use this backend unless the backend configuration changes. Initializing modules... Initializing provider plugins... - Reusing previous version of hashicorp/google from the dependency lock file - Using previously-installed hashicorp/google v5.3.0 Terraform has been successfully initialized! åŸ·è¡Œå®Œç•¢å¾Œå¯ä»¥åˆ° gcsæŸ¥çœ‹ç‹€æ…‹æª”æ˜¯å¦å·²ç¶“å„²å­˜ä¸Šå»ã€‚\nå¦‚æœä¹‹å¾Œæœ‰è³‡æºä½¿ç”¨ä¸€æ¨£çš„backendï¼ŒterraformåŸ·è¡Œæ™‚å°±æœƒè‡ªå‹•å¾é€™å€‹ gcsæ‹‰å–æœ€æ–°çš„ç‹€æ…‹ï¼Œä¸¦ä¸”åŸ·è¡Œå¾Œæœƒè‡ªå‹•å°‡æœ€æ–°ç‹€æ…‹æ¨é€åˆ°é€™å€‹ gcsã€‚\nç•¶æœ‰å…©äººåŒæ™‚åŸ·è¡Œæ™‚ï¼Œå‰‡ç¬¬äºŒå€‹äººæœƒå‡ºç¾ä»¥ä¸‹è¨Šæ¯ï¼š\n\u0026gt; terraform plan Acquiring state lock. This may take a few moments... â•· â”‚ Error: Error acquiring the state lock â”‚ â”‚ Error message: writing â”‚ \u0026#34;gs://terraform-alan-test-bucket/bucket-state/default.tflock\u0026#34; failed: â”‚ googleapi: Error 412: At least one of the pre-conditions you specified did not â”‚ hold., conditionNotMet â”‚ Lock Info: â”‚ ID: 1698225515771180 â”‚ Path: gs://terraform-alan-test-bucket/bucket-state/default.tflock â”‚ Operation: OperationTypeApply â”‚ Who: alan_wang â”‚ Version: 1.5.7 â”‚ Created: 2023-10-25 09:18:35.490893 +0000 UTC â”‚ Info: â”‚ â”‚ â”‚ Terraform acquires a state lock to protect the state from being written â”‚ by multiple users at the same time. Please resolve the issue above and try â”‚ again. For most commands, you can disable locking with the \u0026#34;-lock=false\u0026#34; â”‚ flag, but this is not recommended. é€™ä¹Ÿç¢ºä¿äº†åŸ·è¡Œåªæœƒæœ‰ä¸€äººï¼Œå…¶ä»–äººè¦æ“ä½œéƒ½æœƒè¢«æ“‹ä¸‹ä¾†ã€‚\nAWS S3ä½œç‚ºterraform remote backend ä¾ç…§æ…£ä¾‹å…ˆä¾†å€‹ provider.tfèµ·æ‰‹å¼\nterraform { required_providers { aws = { source = \u0026#34;hashicorp/aws\u0026#34; version = \u0026#34;5.22.0\u0026#34; } } } provider \u0026#34;aws\u0026#34; { alias = \u0026#34;ap-east-1\u0026#34; region = \u0026#34;ap-east-1\u0026#34; } æ¥è‘—å»ºç«‹ä¸€å€‹åç‚ºbucket.tfæª”æ¡ˆ\nresource \u0026#34;aws_s3_bucket\u0026#34; \u0026#34;terraform_state\u0026#34; { bucket = \u0026#34;terraform-alan-test-bucket\u0026#34; provider = aws.ap-east-1 force_destroy = false # Prevent accidental deletion of this S3 bucket lifecycle { prevent_destroy = true } } åƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\nbucketï¼šå®šç¾© s3 bucket åç¨± providerï¼šæŒ‡å®š bucket å„²å­˜ä½ç½® force_destroyï¼šè¨­å®šæ˜¯å¦å¯å¼·åˆ¶åˆªé™¤ prevent_destroyï¼šä»»ä½•å˜—è©¦åˆªé™¤è©²è³‡æºçš„æ“ä½œéƒ½å°‡å°è‡´terraformé€€å‡ºä¸¦é¡¯ç¤ºéŒ¯èª¤ã€‚ æ¥ä¸‹ä¾†è¦æ›¿s3å¢åŠ ä¸€äº›é¡å¤–çš„ä¿è­·\né¦–å…ˆæ–°å¢ç‰ˆæœ¬æ§åˆ¶ï¼Œä½¿ç”¨aws_s3_bucket_versioning resourceé–‹å•Ÿç‰ˆæœ¬æ§åˆ¶ï¼Œç¢ºä¿æ¯æ¬¡æ›´æ–°éƒ½æœƒå‰µå»ºæ–°ç‰ˆã€‚ç•¶å‡ºç¾å•é¡Œæ™‚ä¹Ÿèƒ½æ¢å¾©æˆèˆŠç‰ˆï¼š\nresource \u0026#34;aws_s3_bucket_versioning\u0026#34; \u0026#34;enabled\u0026#34; { bucket = aws_s3_bucket.terraform_state.id versioning_configuration { status = \u0026#34;Enabled\u0026#34; } } åƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\nbucketï¼šè¦å•Ÿç”¨ç‰ˆæœ¬æ§åˆ¶çš„ S3 bucket çš„ ID versioning_configurationï¼š statusï¼šå¯ç”¨é¸é …ç‚ºEnabledã€Disabledèˆ‡Suspendedï¼Œè¨­ç‚º \u0026ldquo;Enabled\u0026rdquo; è¡¨ç¤ºå•Ÿç”¨ç‰ˆæœ¬æ§åˆ¶ æ¥è‘—é–‹å•ŸåŠ å¯†è¨­å®šï¼Œä½¿ç”¨ aws_s3_bucket_server_side_encryption_configurationï¼Œé–‹å•Ÿå¾Œå¯«å…¥åˆ°é€™å€‹ S3 çš„æ‰€æœ‰è³‡æ–™éƒ½æœƒå•Ÿç”¨ server ç«¯çš„åŠ å¯†ã€‚ç¢ºä¿ç‹€æ…‹æª”ä»¥åŠä»»ä½•å­˜åœ¨ S3 çš„æ•æ„Ÿè³‡æ–™éƒ½åœ¨ç¡¬ç¢Ÿä¸ŠåŠ å¯†ï¼š\nresource \u0026#34;aws_s3_bucket_server_side_encryption_configuration\u0026#34; \u0026#34;server_side_encryption\u0026#34; { bucket = aws_s3_bucket.terraform_state.id rule { apply_server_side_encryption_by_default { sse_algorithm = \u0026#34;AES256\u0026#34; } } } åƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\nbucketï¼šè¦å•Ÿç”¨ç‰ˆæœ¬æ§åˆ¶çš„ S3 bucket çš„ ID apply_server_side_encryption_by_defaultï¼šæŒ‡å®šé è¨­çš„ server ç«¯åŠ å¯†è¨­å®šã€‚ sse_algorithmï¼šè¨­å®š server ç«¯åŠ å¯†ç®—æ³•ï¼Œé€™è£¡ä½¿ç”¨çš„æ˜¯ \u0026ldquo;AES256\u0026rdquo;ã€‚ è£œå……ä¸€ä¸‹å…¶ä»–å¯ç”¨é¸é …\nAES256 (SSE-S3): æè¿°ï¼šä½¿ç”¨ Amazon S3 æ‰˜ç®¡çš„å¯†é‘°ï¼ˆSSE-S3ï¼‰é€²è¡ŒåŠ å¯†ã€‚ ç®—æ³•ï¼šAES-256ã€‚ å¯†é‘°ç®¡ç†ï¼šç”± Amazon S3 è‡ªå‹•è™•ç†ã€‚ aws:kms (SSE-KMS): æè¿°ï¼šä½¿ç”¨ AWS Key Management Service (KMS) æ‰˜ç®¡çš„ CMKï¼ˆå®¢æˆ¶ä¸»å¯†é‘°ï¼‰é€²è¡ŒåŠ å¯†ã€‚ ç®—æ³•ï¼šé€šå¸¸æ˜¯ AES-256ï¼Œä½†å…·é«”å–æ±ºæ–¼ KMSã€‚ å¯†é‘°ç®¡ç†ï¼šç”± AWS KMS è™•ç†ï¼Œå…è¨±æ›´ç´°ç·»çš„æ§åˆ¶å’Œå¯©è¨ˆè·Ÿè¸ªã€‚ aws:kms:dsse (SSE-KMS with Double-Wrap): æè¿°ï¼šé€™æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„ KMS åŠ å¯†æ–¹æ³•ï¼Œå…¶ä¸­æ•¸æ“šé¦–å…ˆä½¿ç”¨ä¸€å€‹éš¨æ©Ÿæ•¸æ“šåŠ å¯†å¯†é‘° (DEK) é€²è¡ŒåŠ å¯†ï¼Œç„¶å¾Œ DEK æœ¬èº«ä½¿ç”¨ KMS CMK é€²è¡ŒåŠ å¯†ï¼Œå¾è€Œå¯¦ç¾é›™é‡åŠ å¯†ã€‚ å¯†é‘°ç®¡ç†ï¼šç”± AWS KMS è™•ç†ã€‚ å€åˆ¥:\nå¯†é‘°ç®¡ç†ï¼šAES256 ç”± S3 è‡ªå‹•ç®¡ç†ï¼Œaws:kms å’Œ aws:kms:dsse å…è¨±æ›´å¤šçš„æ§åˆ¶å’Œç¨½æ ¸ï¼Œç”± AWS KMS è™•ç†ã€‚ åŠ å¯†å¼·åº¦ï¼šaws:kms:dsse æä¾›é›™é‡åŠ å¯†ï¼Œå¯æä¾›æ›´é«˜çš„å®‰å…¨æ€§ã€‚ æ¨è–¦:\nå°æ–¼å¤§å¤šæ•¸ä½¿ç”¨è€…ï¼ŒAES256 æ˜¯ä¸€å€‹ç°¡å–®ä¸”å®‰å…¨çš„é¸æ“‡ã€‚ å¦‚æœéœ€è¦æ›´ç´°ç·»çš„å¯†é‘°ç®¡ç†ã€å¯©è¨ˆæˆ–æ§åˆ¶ï¼Œå‰‡æ¨è–¦ä½¿ç”¨ aws:kmsã€‚ å¦‚æœéœ€è¦æ›´é«˜çš„å®‰å…¨æ€§å’ŒåŠ å¯†å¼·åº¦ï¼Œå‰‡å¯ä»¥è€ƒæ…®ä½¿ç”¨ aws:kms:dsseï¼Œä½†è«‹æ³¨æ„ï¼Œé€™å¯èƒ½æœƒå¢åŠ ä¸€äº›è¤‡é›œæ€§å’Œæˆæœ¬ã€‚ å¦‚æœé–‹å•Ÿ aws:kms æ™‚ï¼Œæ¨è–¦ä¹Ÿéœ€è¦è¨­å®š bucket_key_enabledï¼Œå¯æ¸›å°‘å° kmsè«‹æ±‚ï¼Œé™ä½æˆæœ¬ã€‚ ç•¶ä½¿ç”¨SSE-KMSé€²è¡Œ server ç«¯åŠ å¯†æ™‚ï¼Œæ¯æ¬¡S3å°è±¡æ“ä½œéƒ½æœƒå°è‡´KMSè«‹æ±‚ï¼Œé€™å¯èƒ½æœƒå¢åŠ æˆæœ¬ã€‚ä½¿ç”¨S3 Bucket Keysï¼Œå¯ä»¥æ¸›å°‘é€™äº›è«‹æ±‚ï¼Œå¾è€Œæ¸›å°‘æˆæœ¬ã€‚\nç¬¬ä¸‰å€‹è¨­å®šæ˜¯å­˜å–æ¬Šçš„æ§åˆ¶ï¼Œé˜»æ­¢å° S3 bucket çš„æ‰€æœ‰å…¬é–‹å­˜å–ã€‚\nresource \u0026#34;aws_s3_bucket_public_access_block\u0026#34; \u0026#34;public_access\u0026#34; { bucket = aws_s3_bucket.bucket.id block_public_acls = true block_public_policy = true ignore_public_acls = true restrict_public_buckets = true } åƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\nbucketï¼šè¦è¨­å®šå…¬é–‹å­˜å–é˜»æ­¢çš„ S3 bucket IDã€‚ block_public_aclsï¼šè¨­å®šç‚º true é˜»æ­¢å…¬é–‹ ACLã€‚ block_public_policyï¼šè¨­å®šç‚º true é˜»æ­¢å…¬é–‹ç­–ç•¥ã€‚ ignore_public_aclsï¼šè¨­å®šç‚º true å¿½ç•¥å…¬é–‹ ACLã€‚ restrict_public_bucketsï¼šè¨­å®šç‚º true é™åˆ¶å…¬é–‹ bucketã€‚ æœ€å¾Œä¸€å€‹è¦è¨­å®šçš„æ˜¯ç”¨ä¾†ç•¶ä½œé–çš„ DynamoDB tableï¼Œä½¿ç”¨ aws_dynamodb_table çš„å¼·ä¸€åˆ¶æ€§è®€å–å’Œæ¢ä»¶å¯«å…¥ï¼Œé”åˆ°åˆ†æ•£å¼é–ç³»çµ±ã€‚\nresource \u0026#34;aws_dynamodb_table\u0026#34; \u0026#34;terraform_locks\u0026#34; { name = var.dynamodb_table_name billing_mode = \u0026#34;PAY_PER_REQUEST\u0026#34; hash_key = \u0026#34;LockID\u0026#34; attribute { name = \u0026#34;LockID\u0026#34; type = \u0026#34;S\u0026#34; } } åƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\nnameï¼šé€™æ˜¯ DynamoDB è¡¨çš„åç¨±ã€‚ billing_modeï¼šé€™æŒ‡å®šäº†è¨ˆè²»æ¨¡å¼ï¼Œèƒ½ä½¿ç”¨çš„å€¼æœ‰PROVISIONEDèˆ‡PAY_PER_REQUESTï¼Œé€™è£¡ä½¿ç”¨\u0026quot;PAY_PER_REQUEST\u0026quot;ï¼Œä¾ç…§éœ€è«‹æ±‚è¨ˆè²»ã€‚å¦ä¸€ç¨®å‰‡æ˜¯ç¢ºå®šæœ‰å›ºå®šçš„è®€å¯«ï¼Œå‰‡å¯ä»¥è¨­å®šè®€å¯«é‡ã€‚ BillingModeSummary - Amazon DynamoDB\nhash_keyï¼šé€™æ˜¯è¡¨çš„ä¸»éµåç¨±ã€‚ attributeï¼š nameï¼šé€™æ˜¯å±¬æ€§çš„åç¨±ï¼Œé€™è£¡æ˜¯ \u0026ldquo;LockID\u0026rdquo; typeï¼šé€™æ˜¯å±¬æ€§çš„é¡å‹ï¼Œå¯ä»¥ç”¨çš„é¡å‹æœ‰S(å­—ä¸²)ã€N(æ•¸å­—)ã€B(äºŒé€²åˆ¶) ä¾ç…§ä¸Šé¢çš„è¨­å®šï¼Œå³å¯å®Œæˆs3ä»¥åŠdynamodbçš„å»ºç«‹ï¼Œä¸€æ¨£ä¸‹ terraform init terraform applyå®Œæˆå»ºç½®ã€‚æ¥è‘—ä¾†è¨­å®š remote backend\nterraform { backend \u0026#34;s3\u0026#34; { bucket = \u0026#34;terraform-alan-test-bucket\u0026#34; key = \u0026#34;bucket-state/terraform.tfstate\u0026#34; region = \u0026#34;ap-east-1\u0026#34; dynamodb_table = \u0026#34;terraform-locks\u0026#34; encrypt = true } } åƒæ•¸èªªæ˜å¦‚ä¸‹ï¼š\nbucketï¼šè¦ä½¿ç”¨çš„bucket nameï¼Œé€™é‚Šå¡«å…¥å‰›å‰›å»ºç«‹çš„ bucket keyï¼šè¦å»ºç«‹åœ¨ s3 çš„è·¯å¾‘å’Œåç¨± regionï¼šæŒ‡å®š s3 çš„å€åŸŸ dynamodb_tableï¼šç”¨ä¾†å„²å­˜ç‹€æ…‹æª”çš„é–å®šï¼Œé˜²æ­¢å¤šäººåŒæ™‚ä½¿ç”¨ terraform æ“ä½œåŒä¸€ä»½æª”æ¡ˆï¼Œå¯é˜²æ­¢åŒæ™‚ä¿®æ”¹ï¼Œé¿å…æ•¸æ“šä¸ä¸€è‡´ encryptï¼šæ±ºå®šæ˜¯å¦åŠ å¯† terraform state æª”æ¡ˆï¼Œè¨­å®šç‚º true å°‡ä½¿ç”¨ s3 çš„ sse é€²è¡ŒåŠ å¯† prefixï¼šå®šç¾©ç‹€æ…‹æª”çš„è·¯å¾‘å’Œåç¨±ï¼Œä»¥ä¸Šè¿°ç‚ºä¾‹ï¼Œç‹€æ…‹æª”æœƒè¢«å­˜æ”¾åœ¨ bucket-stateè³‡æ–™å¤¾ ä¸€æ¨£é‡ä¸‹ terraform init é‡è¨­ backend\n\u0026gt; terraform init Initializing the backend... Do you want to copy existing state to the new backend? Pre-existing state was found while migrating the previous \u0026#34;local\u0026#34; backend to the newly configured \u0026#34;s3\u0026#34; backend. No existing state was found in the newly configured \u0026#34;s3\u0026#34; backend. Do you want to copy this state to the new \u0026#34;s3\u0026#34; backend? Enter \u0026#34;yes\u0026#34; to copy and \u0026#34;no\u0026#34; to start with an empty state. Enter a value: åŸ·è¡Œå¾Œterraformæœƒè‡ªå‹•æª¢æŸ¥æœ¬åœ°å·²æœ‰çš„ç‹€æ…‹æª”ï¼Œä¸¦è·³å‡ºæç¤ºèªªè¦å°‡ç‹€æ…‹æª”è¤‡è£½åˆ° gcs backendã€‚å¦‚æœè¼¸å…¥ yesï¼Œå‰‡æœƒçœ‹åˆ°ä»¥ä¸‹å…§å®¹ï¼š\nSuccessfully configured the backend \u0026#34;s3\u0026#34;! Terraform will automatically use this backend unless the backend configuration changes. Initializing modules... Initializing provider plugins... - Reusing previous version of hashicorp/aws from the dependency lock file - Using previously-installed hashicorp/aws v5.22.0 Terraform has been successfully initialized! ä¸€æ¨£åŸ·è¡Œå®Œç•¢å¾Œä¸Šå» s3 çœ‹ä¸€ä¸‹ç‹€æ…‹æª”æ˜¯å¦å·²ç¶“å„²å­˜ä¸Šå»\nç•¶æœ‰å…©äººåŒæ™‚åŸ·è¡Œæ™‚ï¼Œå‰‡ç¬¬äºŒå€‹äººæœƒå‡ºç¾ä»¥ä¸‹è¨Šæ¯ï¼š\n\u0026gt; terraform apply Acquiring state lock. This may take a few moments... â•· â”‚ Error: Error acquiring the state lock â”‚ â”‚ Error message: ConditionalCheckFailedException: The conditional request failed â”‚ Lock Info: â”‚ ID: 46f562fd-ab59-a657-6984-5e164ec4bf â”‚ Path: terraform-alan-test-bucket/bucket-state/terraform.tfstate â”‚ Operation: OperationTypeApply â”‚ Who: alan_wang@Alan-wangdeMacBook-Pro.local â”‚ Version: 1.5.7 â”‚ Created: 2023-10-26 09:33:34.15838 +0000 UTC â”‚ Info: â”‚ â”‚ â”‚ Terraform acquires a state lock to protect the state from being written â”‚ by multiple users at the same time. Please resolve the issue above and try â”‚ again. For most commands, you can disable locking with the \u0026#34;-lock=false\u0026#34; â”‚ flag, but this is not recommended. â•µ ğŸ“šReference How To Setup a Terraform Remote Backend in Google Cloud | by Å»imuzo Obiechina | Medium How to Manage Terraform S3 Backend - Best Practices (spacelift.io) ","permalink":"https://sz9751210.github.io/posts/terraform-backend/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ terraformåœ¨æ¯æ¬¡åŸ·è¡Œterraform planæˆ–terraform applyæ™‚ï¼Œæ˜¯å¦‚ä½•çŸ¥é“æ‡‰è©²è¦ç®¡ç†å“ªäº›è³‡æºï¼Ÿ\nå…¶å¯¦å°±æ˜¯é€éåœ¨æ¯æ¬¡åŸ·è¡Œterraformæ™‚ï¼Œå°‡å»ºç«‹æˆ–è¦è®Šæ›´çš„è³‡æºéƒ½è¨˜éŒ„åœ¨terraform.stateé€™ä»½ç‹€æ…‹æª”ï¼Œé è¨­æª”æ¡ˆä½¿ç”¨JSONæ ¼å¼ã€‚\nå‡è¨­å»ºç«‹ä¸€å€‹google cloud storageçš„resourceï¼Œtfè¨­å®šæª”å¦‚ä¸‹ï¼š\nresource \u0026#34;google_storage_bucket\u0026#34; \u0026#34;bucket\u0026#34; { name = \u0026#34;terraform-alan-test-bucket\u0026#34; location = \u0026#34;ASIA-EAST1\u0026#34; storage_class = \u0026#34;STANDARD\u0026#34; public_access_prevention = \u0026#34;enforced\u0026#34; force_destroy = true uniform_bucket_level_access = true } å»ºç«‹å¾Œçš„terraform.tfstateçš„ä¸€å°éƒ¨åˆ†å¦‚ä¸‹ï¼š\n{ \u0026#34;version\u0026#34;: 4, \u0026#34;terraform_version\u0026#34;: \u0026#34;1.5.7\u0026#34;, \u0026#34;serial\u0026#34;: 3, \u0026#34;lineage\u0026#34;: \u0026#34;abda0fda-b807-b8b3-0a36-8b0c2f92e3f5\u0026#34;, \u0026#34;outputs\u0026#34;: {}, \u0026#34;resources\u0026#34;: [ { \u0026#34;module\u0026#34;: \u0026#34;module.base-bucket\u0026#34;, \u0026#34;mode\u0026#34;: \u0026#34;managed\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;google_storage_bucket\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;bucket\u0026#34;, \u0026#34;provider\u0026#34;: \u0026#34;module.base-bucket.provider[\\\u0026#34;registry.terraform.io/hashicorp/google\\\u0026#34;]\u0026#34;, \u0026#34;instances\u0026#34;: [ { \u0026#34;schema_version\u0026#34;: 1, \u0026#34;attributes\u0026#34;: { \u0026#34;autoclass\u0026#34;: [], \u0026#34;cors\u0026#34;: [], \u0026#34;custom_placement_config\u0026#34;: [], \u0026#34;default_event_based_hold\u0026#34;: false, \u0026#34;effective_labels\u0026#34;: {}, \u0026#34;encryption\u0026#34;: [], \u0026#34;force_destroy\u0026#34;: true, \u0026#34;id\u0026#34;: \u0026#34;terraform-alan-test-bucket\u0026#34;, \u0026#34;labels\u0026#34;: null, \u0026#34;lifecycle_rule\u0026#34;: [], \u0026#34;location\u0026#34;: \u0026#34;ASIA-EAST1\u0026#34;, \u0026#34;logging\u0026#34;: [], \u0026#34;name\u0026#34;: \u0026#34;terraform-alan-test-bucket\u0026#34;, } } ] } ] } å¯ä»¥çœ‹åˆ°idçš„å±¬æ€§ï¼Œç•¶æ¯æ¬¡åŸ·è¡Œplanæˆ–æ˜¯applyæ™‚ï¼Œterraformå°±æ˜¯æ‹¿é€™å€‹å±¬æ€§å¾æœ¬åœ°terraformè¨­å®šæª”èˆ‡é›²ä¸Šè³‡æºåšæ¯”å°ã€‚","title":"å¦‚ä½•åœ¨GCPä»¥åŠAWSè¨­å®š remote backend ç®¡ç† terraform ç‹€æ…‹æª”"},{"content":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ æœ€è¿‘æƒ³è¦é€éå°å¯¦ä½œä¾†æ’°å¯«ç­†è¨˜ï¼Œé”åˆ°åšä¸­å­¸çš„æ•ˆæœï¼Œå› æ­¤å°±ä¾†å¯¦ä½œå€‹å°çˆ¬èŸ²é †ä¾¿çµåˆå‰é¢å­¸åˆ°çš„packageåšä¸€å€‹å°è¤‡ç¿’ã€‚\nå»ºç«‹HTTP Client Goçš„net/http package æä¾›äº†ä¸€å€‹HTTP Clientï¼Œç”¨ä¾†ç™¼é€å„ç¨®HTTPè«‹æ±‚ã€‚\nhttp.Getï¼šç™¼é€GETè«‹æ±‚ã€‚ http.Postï¼šç™¼é€POSTè«‹æ±‚ã€‚ http.NewRequestï¼šå»ºç«‹ä¸€å€‹æ–°çš„HTTPè«‹æ±‚ã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// ç™¼é€GETè«‹æ±‚ func http.Get(url string) (resp *http.Response, err error) // ç™¼é€POSTè«‹æ±‚ func http.Post(url, contentType string, body io.Reader) (resp *http.Response, err error) // å»ºç«‹ä¸€å€‹æ–°çš„HTTPè«‹æ±‚ func http.NewRequest(method, url string, body io.Reader) (*http.Request, error) å¸¸è¦‹çš„Responseå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¬„ä½\ntype Response struct { Status string // e.g. \u0026#34;200 OK\u0026#34; StatusCode int // e.g. 200 Proto string // e.g. \u0026#34;HTTP/1.0\u0026#34; Header Header Body io.ReadCloser ... } æ¥è‘—çœ‹ä¸€ä¸‹io.ReadCloser\ntype ReadCloser interface { Reader Closer } å¯ä»¥çœ‹åˆ°ReadCloseræ˜¯ interfaceï¼Œæ¥è‘—ä¾†çœ‹ä¸€ä¸‹Reader\ntype Reader interface { Read(p []byte) (n int, err error) } Readerä¹Ÿæ˜¯ä¸€å€‹interfaceï¼Œè£¡é¢æœ‰å®šç¾©äº†Readæ–¹æ³•ï¼Œå› æ­¤å¯ä»¥æ¨æ¸¬å‡ºresp.Bodyï¼ˆä½œç‚ºä¸€å€‹ io.ReadCloserï¼‰ä¹Ÿå¯¦ç¾äº† io.Reader interfaceã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;net/http\u0026#34; ) func main() { // ä½¿ç”¨ http.Get ç™¼é€GETè«‹æ±‚ resp, err := http.Get(\u0026#34;https://www.example.com\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error:\u0026#34;, err) return } // æ‹¿åˆ°Bodyæœ€å¾Œè¦ç¢ºä¿æœ‰é—œé–‰é€£ç·š defer resp.Body.Close() // èªæ³•ç‚ºfunc ReadAll(r io.Reader) ([]byte, error) // æœƒå›å‚³[]byteï¼Œè¦é€éstring packageè½‰ç‚ºstring body, _ := io.ReadAll(resp.Body) fmt.Println(\u0026#34;status code: \u0026#34;, resp.StatusCode) fmt.Println(\u0026#34;body: \u0026#34;) fmt.Println(string(body)) } åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œç°¡å–®çš„ä½¿ç”¨http.Getå–å¾—ç¶²é çš„ç›¸é—œè³‡è¨Šã€‚æ¥ä¸‹ä¾†è©¦è‘—å¯«ä¸€å€‹ç°¡å–®çš„çˆ¬èŸ²ï¼Œä¾†çˆ¬å–pttã€‚\nçˆ¬å–PTTå…«å¦ç‰ˆæ¨™é¡Œ 1. å»ºç«‹http clientä»¥åŠè‡ªå®šç¾©è«‹æ±‚ client := \u0026amp;http.Client{} req, err := http.NewRequest(\u0026#34;GET\u0026#34;, \u0026#34;https://www.ptt.cc/bbs/Gossiping/index.html\u0026#34;, nil) if err != nil { log.Fatal(err) } å› ç‚ºå…«å¦ç‰ˆæœƒæœ‰è©¢å•æ˜¯å¦å¹´æ»¿18ï¼Œå› æ­¤æœƒéœ€è¦è¨­å®šcookieï¼Œè€Œè¦è¨­å®šcookieå‰‡å¿…é ˆä½¿ç”¨è‡ªå®šç¾©è«‹æ±‚çš„æ–¹å¼ï¼Œä½¿ç”¨è‡ªå®šç¾©è«‹æ±‚å‰‡å¿…é ˆè‡ªå·±å»ºç«‹clienté€²è¡Œè«‹æ±‚çš„ç™¼é€ã€‚\n2. è¨­å®šcookie å…ˆå»ç¶²ç«™ä¸Šçœ‹cookieçš„nameè·Ÿvalueç‚ºå¤šå°‘ æ¥è‘—è¨­å®šå°æ‡‰çš„åƒæ•¸\n// è¨­å®šcookieï¼Œå¯ req.AddCookie(\u0026amp;http.Cookie{Name: \u0026#34;over18\u0026#34;, Value: \u0026#34;1\u0026#34;}) 3. ç™¼é€è«‹æ±‚ resp, err := client.Do(req) if err != nil { log.Fatal(err) } defer resp.Body.Close() ä½¿ç”¨å‰›å‰›å»ºç«‹çš„clientæ”¾å…¥è‡ªå®šç¾©è«‹æ±‚å°±å¯ä»¥å®Œæˆè«‹æ±‚çš„ç™¼é€ä¸¦å–å¾—å›å‚³ã€‚\n4. è§£æå›å‚³è³‡è¨Š åœ¨é€²è¡Œé€™ä¸€æ­¥ä¹‹å‰éœ€è¦å…ˆå®‰è£ä¸€å€‹ go packageï¼Œgithub.com/PuerkitoBio/goqueryï¼Œä¸»è¦ç”¨ä¾†è§£æhtmlçš„æ¨™ç±¤å±¬æ€§ã€‚\ngo get github.com/PuerkitoBio/goquery ç­‰ä¸€ä¸‹æœƒç”¨åˆ°çš„æ–¹æ³•ç‚º\nfunc NewDocumentFromReader(r io.Reader) (*Document, error) è€ŒDocumentæ˜¯ä¸€å€‹struct\ntype Document struct { *Selection } è¦æ ¹æ“šcss selectorä¸‹å»æ‰¾è³‡æ–™ï¼Œå¯ä»¥ä½¿ç”¨Findæ–¹æ³•ï¼Œè€Œç•¶æ‰¾åˆ°åŒ¹é…çš„å…ƒç´ æ™‚ï¼Œå°é€™å€‹å…ƒç´ æ¥è‘—ä½¿ç”¨Eachæ–¹æ³•å–å¾—ç›¸é—œå±¬æ€§ï¼Œåƒæ˜¯Textæˆ–æ˜¯Attrç­‰\nfunc (s *Selection) Find(selector string) *Selection func (s *Selection) Each(f func(int, *Selection)) *Selection æ¥è‘—ä¾ç…§pttçš„ç¶²ç«™çµæ§‹æŸ¥çœ‹titleçš„æ¨™ç±¤ç‚ºdivï¼Œclassç‚ºtitleï¼Œè€Œè£¡é¢é‚„æœ‰ä¸€å±¤åŒ…è‘—è¶…é€£çµï¼Œå› æ­¤è¦çˆ¬å–çš„è·¯å¾‘å°±å¯ä»¥ä¾ç…§ä¸‹é¢çš„æ ¼å¼æ’°å¯«\ndoc, err := goquery.NewDocumentFromReader(resp.Body) if err != nil { log.Fatal(err) } // æå–æ–‡ç« æ¨™é¡Œ doc.Find(\u0026#34;div.title a\u0026#34;).Each(func(index int, item *goquery.Selection) { title := item.Text() fmt.Println(title) }) ä»¥ä¸‹ç‚ºå®Œæ•´ç¨‹å¼ç¢¼\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;log\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;github.com/PuerkitoBio/goquery\u0026#34; ) func main() { client := \u0026amp;http.Client{} req, err := http.NewRequest(\u0026#34;GET\u0026#34;, \u0026#34;https://www.ptt.cc/bbs/Gossiping/index.html\u0026#34;, nil) if err != nil { log.Fatal(err) } // è¨­å®šcookieæ¨¡æ“¬å·²æ»¿18æ­²çš„ä½¿ç”¨è€… req.AddCookie(\u0026amp;http.Cookie{Name: \u0026#34;over18\u0026#34;, Value: \u0026#34;1\u0026#34;}) resp, err := client.Do(req) if err != nil { log.Fatal(err) } defer resp.Body.Close() doc, err := goquery.NewDocumentFromReader(resp.Body) if err != nil { log.Fatal(err) } // æå–æ–‡ç« æ¨™é¡Œ doc.Find(\u0026#34;div.title a\u0026#34;).Each(func(index int, item *goquery.Selection) { title := item.Text() fmt.Println(title) }) } ğŸ“šReference net/http package - http - Go Packages http â€” HTTP Clientå’Œæœå‹™å™¨ Â· Goèªè¨€æ¨™å‡†åº« (studygolang.com) [pkg] net/http | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-ptt-crawler/","summary":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ æœ€è¿‘æƒ³è¦é€éå°å¯¦ä½œä¾†æ’°å¯«ç­†è¨˜ï¼Œé”åˆ°åšä¸­å­¸çš„æ•ˆæœï¼Œå› æ­¤å°±ä¾†å¯¦ä½œå€‹å°çˆ¬èŸ²é †ä¾¿çµåˆå‰é¢å­¸åˆ°çš„packageåšä¸€å€‹å°è¤‡ç¿’ã€‚\nå»ºç«‹HTTP Client Goçš„net/http package æä¾›äº†ä¸€å€‹HTTP Clientï¼Œç”¨ä¾†ç™¼é€å„ç¨®HTTPè«‹æ±‚ã€‚\nhttp.Getï¼šç™¼é€GETè«‹æ±‚ã€‚ http.Postï¼šç™¼é€POSTè«‹æ±‚ã€‚ http.NewRequestï¼šå»ºç«‹ä¸€å€‹æ–°çš„HTTPè«‹æ±‚ã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// ç™¼é€GETè«‹æ±‚ func http.Get(url string) (resp *http.Response, err error) // ç™¼é€POSTè«‹æ±‚ func http.Post(url, contentType string, body io.Reader) (resp *http.Response, err error) // å»ºç«‹ä¸€å€‹æ–°çš„HTTPè«‹æ±‚ func http.NewRequest(method, url string, body io.Reader) (*http.Request, error) å¸¸è¦‹çš„Responseå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¬„ä½\ntype Response struct { Status string // e.g. \u0026#34;200 OK\u0026#34; StatusCode int // e.g. 200 Proto string // e.g. \u0026#34;HTTP/1.0\u0026#34; Header Header Body io.ReadCloser ... } æ¥è‘—çœ‹ä¸€ä¸‹io.","title":"å¦‚ä½•ç”¨ Go å¯¦ä½œä¸€å€‹ç°¡å–®çš„ PTT çˆ¬èŸ²"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ä»Šå¤©ä¾†ä»‹ç´¹ä¸€å€‹è‡ªå·±é–‹ç™¼å¾Œç«¯è »å¸¸ç”¨çš„ä¸€å€‹ packageï¼Œpromptuiï¼Œæ‹¿ä¾†åšmenuçœŸçš„å¾ˆæ–¹ä¾¿ï¼Œpromptuiæœ‰å…©å€‹ä¸»è¦çš„è¼¸å…¥æ¨¡å¼ï¼š\nPromptï¼šè·³å‡ºå–®è¡Œä½¿ç”¨è€…è¼¸å…¥ã€‚ Selectï¼šæä¾›ä¸€å€‹é¸é …åˆ—è¡¨ä¾›ä½¿ç”¨è€…é¸æ“‡ã€‚ Prompt promptæ˜¯ä¸€å€‹structï¼Œç•¶åŸ·è¡ŒRunæ™‚æœƒè¿”å›è¼¸å…¥çš„çµæœ\ntype Prompt struct { // Label is the value displayed on the command line prompt. // // The value for Label can be a simple string or a struct that will need to be accessed by dot notation // inside the templates. For example, `{{ .Name }}` will display the name property of a struct. Label interface{} // Default is the initial value for the prompt. This value will be displayed next to the prompt\u0026#39;s label // and the user will be able to view or change it depending on the options. Default string // AllowEdit lets the user edit the default value. If false, any key press // other than \u0026lt;Enter\u0026gt; automatically clears the default value. AllowEdit bool // Validate is an optional function that fill be used against the entered value in the prompt to validate it. Validate ValidateFunc // Mask is an optional rune that sets which character to display instead of the entered characters. This // allows hiding private information like passwords. Mask rune // HideEntered sets whether to hide the text after the user has pressed enter. HideEntered bool // Templates can be used to customize the prompt output. If nil is passed, the // default templates are used. See the PromptTemplates docs for more info. Templates *PromptTemplates // IsConfirm makes the prompt ask for a yes or no ([Y/N]) question rather than request an input. When set, // most properties related to input will be ignored. IsConfirm bool // IsVimMode enables vi-like movements (hjkl) and editing. IsVimMode bool // the Pointer defines how to render the cursor. Pointer Pointer Stdin io.ReadCloser Stdout io.WriteCloser } èªæ³•å¦‚ä¸‹ï¼š\nfunc (*promptui.Prompt).Run() (string, error) package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/manifoldco/promptui\u0026#34; ) func main() { prompt := promptui.Prompt{ Label: \u0026#34;Anything\u0026#34;, } result, err := prompt.Run() if err != nil { fmt.Printf(\u0026#34;Prompt failed %v\\n\u0026#34;, err) return } fmt.Printf(\u0026#34;You type %q\\n\u0026#34;, result) } ç¢ºèªï¼ˆConfirmï¼‰ å»ºç«‹ä¸€å€‹ç¢ºèªæç¤ºï¼Œä½¿ç”¨è€…å¯ä»¥é¸æ“‡æ˜¯æˆ–å¦ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/manifoldco/promptui\u0026#34; ) func main() { prompt := promptui.Prompt{ Label: \u0026#34;Delete all resources\u0026#34;, IsConfirm: true, } _, err := prompt.Run() if err != nil { fmt.Printf(\u0026#34;Prompt failed %v\\n\u0026#34;, err) return } fmt.Printf(\u0026#34;Resources deleted\u0026#34;) } è‡ªå®šç¾©æç¤ºï¼ˆCustom Promptï¼‰ é€™å€‹åŠŸèƒ½æ˜¯è®“ä½¿ç”¨è€…å¯ä»¥è‡ªå·±å®šç¾©æç¤ºçš„å¤–è§€å’Œè¡Œç‚ºã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æ›´æ”¹æç¤ºçš„é¡è‰²ï¼Œæ¨™ç±¤å’Œå…¶ä»–è¨­å®šã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;errors\u0026#34; \u0026#34;github.com/manifoldco/promptui\u0026#34; ) func main() { prompt := promptui.Prompt{ Label: \u0026#34;Enter your name\u0026#34;, Validate: func(input string) error { if len(input) \u0026lt; 3 { return errors.New(\u0026#34;Name must have more than 3 characters\u0026#34;) } return nil }, } result, err := prompt.Run() if err != nil { fmt.Printf(\u0026#34;Prompt failed %v\\n\u0026#34;, err) return } fmt.Printf(\u0026#34;Hello %q\\n\u0026#34;, result) } æç¤ºé è¨­å€¼ï¼ˆPrompt Defaultï¼‰ Promptui æ”¯æ´è¨­å®šæç¤ºçš„é è¨­å€¼ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/manifoldco/promptui\u0026#34; ) func main() { prompt := promptui.Prompt{ Label: \u0026#34;Enter your name\u0026#34;, Default: \u0026#34;Alan\u0026#34;, } result, err := prompt.Run() if err != nil { fmt.Printf(\u0026#34;Prompt failed %v\\n\u0026#34;, err) return } fmt.Printf(\u0026#34;Hello %q\\n\u0026#34;, result) } å¯†ç¢¼æç¤ºï¼ˆPassword Promptï¼‰ Promptui å¯ä»¥ç”¨ä¾†å»ºç«‹ä¸€å€‹å¯†ç¢¼æç¤ºï¼Œå…¶ä¸­ä½¿ç”¨è€…è¼¸å…¥çš„æ–‡æœ¬å°‡è¢«æ©è“‹ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/manifoldco/promptui\u0026#34; ) func main() { prompt := promptui.Prompt{ Label: \u0026#34;Enter Password\u0026#34;, Mask: \u0026#39;*\u0026#39;, } result, err := prompt.Run() if err != nil { fmt.Printf(\u0026#34;Prompt failed %v\\n\u0026#34;, err) return } fmt.Printf(\u0026#34;Password entered: %q\\n\u0026#34;, result) } Select Selectä¹Ÿæ˜¯ä¸€å€‹structï¼Œèˆ‡Promptä¸åŒçš„æ˜¯ç•¶åŸ·è¡ŒRunæ™‚æœƒè¿”å›indexä»¥åŠé¸ä¸­çš„çµæœ\ntype Select struct { // Label is the text displayed on top of the list to direct input. The IconInitial value \u0026#34;?\u0026#34; will be // appended automatically to the label so it does not need to be added. // // The value for Label can be a simple string or a struct that will need to be accessed by dot notation // inside the templates. For example, `{{ .Name }}` will display the name property of a struct. Label interface{} // Items are the items to display inside the list. It expect a slice of any kind of values, including strings. // // If using a slice of strings, promptui will use those strings directly into its base templates or the // provided templates. If using any other type in the slice, it will attempt to transform it into a string // before giving it to its templates. Custom templates will override this behavior if using the dot notation // inside the templates. // // For example, `{{ .Name }}` will display the name property of a struct. Items interface{} // Size is the number of items that should appear on the select before scrolling is necessary. Defaults to 5. Size int // CursorPos is the initial position of the cursor. CursorPos int // IsVimMode sets whether to use vim mode when using readline in the command prompt. Look at // https://godoc.org/github.com/chzyer/readline#Config for more information on readline. IsVimMode bool // HideHelp sets whether to hide help information. HideHelp bool // HideSelected sets whether to hide the text displayed after an item is successfully selected. HideSelected bool // Templates can be used to customize the select output. If nil is passed, the // default templates are used. See the SelectTemplates docs for more info. Templates *SelectTemplates // Keys is the set of keys used in select mode to control the command line interface. See the SelectKeys docs for // more info. Keys *SelectKeys // Searcher is a function that can be implemented to refine the base searching algorithm in selects. // // Search is a function that will receive the searched term and the item\u0026#39;s index and should return a boolean // for whether or not the terms are alike. It is unimplemented by default and search will not work unless // it is implemented. Searcher list.Searcher // StartInSearchMode sets whether or not the select mode should start in search mode or selection mode. // For search mode to work, the Search property must be implemented. StartInSearchMode bool list *list.List // A function that determines how to render the cursor Pointer Pointer Stdin io.ReadCloser Stdout io.WriteCloser } èªæ³•å¦‚ä¸‹ï¼š\nfunc (*promptui.Select).Run() (int, string, error) func (*promptui.Select).RunCursorAt(cursorPos int, scroll int) (int, string, error) func (*promptui.Select).ScrollPosition() int package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/manifoldco/promptui\u0026#34; ) func main() { prompt := promptui.Select{ Label: \u0026#34;Select Day\u0026#34;, Items: []string{\u0026#34;Monday\u0026#34;, \u0026#34;Tuesday\u0026#34;, \u0026#34;Wednesday\u0026#34;, \u0026#34;Thursday\u0026#34;, \u0026#34;Friday\u0026#34;, \u0026#34;Saturday\u0026#34;, \u0026#34;Sunday\u0026#34;}, } _, result, err := prompt.Run() if err != nil { fmt.Printf(\u0026#34;Prompt failed %v\\n\u0026#34;, err) return } fmt.Printf(\u0026#34;You choose %q\\n\u0026#34;, result) } è‡ªå®šç¾©é¸æ“‡ï¼ˆCustom Selectï¼‰ é™¤äº†åŸºæœ¬çš„é¸æ“‡æç¤ºå¤–ï¼ŒPromptui é‚„å…è¨±ä½¿ç”¨è€…è‡ªå®šç¾©é¸æ“‡åˆ—è¡¨çš„å¤–è§€å’Œè¡Œç‚ºã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/manifoldco/promptui\u0026#34; ) func main() { prompt := promptui.Select{ Label: \u0026#34;Choose Color\u0026#34;, Items: []string{\u0026#34;Red\u0026#34;, \u0026#34;Blue\u0026#34;, \u0026#34;Green\u0026#34;}, Templates: \u0026amp;promptui.SelectTemplates{ Label: \u0026#34;{{ . }}?\u0026#34;, Active: \u0026#34;\\U0001F336 {{ . | red }}\u0026#34;, Inactive: \u0026#34; {{ . | cyan }}\u0026#34;, Selected: \u0026#34;\\U0001F336 {{ . | red | cyan }}\u0026#34;, }, } _, result, err := prompt.Run() if err != nil { fmt.Printf(\u0026#34;Prompt failed %v\\n\u0026#34;, err) return } fmt.Printf(\u0026#34;You choose %q\\n\u0026#34;, result) } é¸æ“‡æ·»åŠ ï¼ˆSelect Addï¼‰ Promptui é‚„å…è¨±ä½¿ç”¨è€…åœ¨é¸æ“‡æç¤ºä¸­æ·»åŠ æ–°çš„é¸é …ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/manifoldco/promptui\u0026#34; ) func main() { items := []string{\u0026#34;Monday\u0026#34;, \u0026#34;Tuesday\u0026#34;, \u0026#34;Wednesday\u0026#34;, \u0026#34;Thursday\u0026#34;, \u0026#34;Friday\u0026#34;} prompt := promptui.SelectWithAdd{ Label: \u0026#34;What day is it?\u0026#34;, Items: items, AddLabel: \u0026#34;Other\u0026#34;, } idx, result, err := prompt.Run() if err != nil { fmt.Printf(\u0026#34;Prompt failed %v\\n\u0026#34;, err) return } if idx == len(items) { fmt.Printf(\u0026#34;You chose to add %q\\n\u0026#34;, result) } else { fmt.Printf(\u0026#34;You chose %q\\n\u0026#34;, result) } } ğŸ“šReference manifoldco/promptui: Interactive prompt for command-line applications (github.com) promptui package - github.com/manifoldco/promptui - Go Packages ","permalink":"https://sz9751210.github.io/posts/go-promptui/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ä»Šå¤©ä¾†ä»‹ç´¹ä¸€å€‹è‡ªå·±é–‹ç™¼å¾Œç«¯è »å¸¸ç”¨çš„ä¸€å€‹ packageï¼Œpromptuiï¼Œæ‹¿ä¾†åšmenuçœŸçš„å¾ˆæ–¹ä¾¿ï¼Œpromptuiæœ‰å…©å€‹ä¸»è¦çš„è¼¸å…¥æ¨¡å¼ï¼š\nPromptï¼šè·³å‡ºå–®è¡Œä½¿ç”¨è€…è¼¸å…¥ã€‚ Selectï¼šæä¾›ä¸€å€‹é¸é …åˆ—è¡¨ä¾›ä½¿ç”¨è€…é¸æ“‡ã€‚ Prompt promptæ˜¯ä¸€å€‹structï¼Œç•¶åŸ·è¡ŒRunæ™‚æœƒè¿”å›è¼¸å…¥çš„çµæœ\ntype Prompt struct { // Label is the value displayed on the command line prompt. // // The value for Label can be a simple string or a struct that will need to be accessed by dot notation // inside the templates. For example, `{{ .Name }}` will display the name property of a struct. Label interface{} // Default is the initial value for the prompt.","title":"Promptuiæ•™å­¸ï¼šå¿«é€Ÿå»ºç«‹ Go èªè¨€çš„äº¤äº’å¼ä»‹é¢"},{"content":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ åœ¨è™•ç†stringæ™‚ï¼Œæ­£å‰‡è¡¨é”å¼æ˜¯ä¸€å€‹éå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚Goèªè¨€çš„regexp package å¯ä»¥ä½¿ç”¨æ­£å‰‡è¡¨é”å¼ï¼Œç”¨ä¾†åŸ·è¡Œå¦‚æª¢æŸ¥stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€æå–åŒ¹é…çš„subStringç­‰æ“ä½œã€‚\nåŒ¹é…åŠŸèƒ½ regexp.MatchStringï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€‚ regexp.Compileï¼šç·¨è­¯ä¸€å€‹æ­£å‰‡è¡¨é”å¼ã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€‚ func regexp.MatchString(pattern string, s string) (matched bool, err error) // ç·¨è­¯ä¸€å€‹æ­£å‰‡è¡¨é”å¼ã€‚ func regexp.Compile(expr string) (*Regexp, error) package main import ( \u0026#34;fmt\u0026#34; \u0026#34;regexp\u0026#34; ) func main() { // æª¢æŸ¥stringæ˜¯å¦åŒ¹é…æ¨¡å¼ matched, err := regexp.MatchString(\u0026#34;Go\u0026#34;, \u0026#34;Hello, Go!\u0026#34;) if err != nil { fmt.Println(err) } fmt.Println(\u0026#34;Matched:\u0026#34;, matched) // true } æå–åŠŸèƒ½ regexp.FindStringï¼šæ‰¾åˆ°ç¬¬ä¸€å€‹åŒ¹é…çš„subStringã€‚ regexp.FindAllStringï¼šæ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„subStringã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æ‰¾åˆ°ç¬¬ä¸€å€‹åŒ¹é…çš„subStringã€‚ func (re *Regexp) FindString(s string) string // æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„subStringã€‚ func (re *Regexp) FindAllString(s string, n int) []string package main import ( \u0026#34;fmt\u0026#34; \u0026#34;regexp\u0026#34; ) func main() { re, err := regexp.Compile(\u0026#34;Go\u0026#34;) if err != nil { fmt.Println(err) } // æ‰¾åˆ°ç¬¬ä¸€å€‹åŒ¹é…çš„subString firstMatch := re.FindString(\u0026#34;Hello, Go! Go is awesome!\u0026#34;) fmt.Println(\u0026#34;First Match:\u0026#34;, firstMatch) // \u0026#34;Go\u0026#34; // æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„subString allMatches := re.FindAllString(\u0026#34;Hello, Go! Go is awesome!\u0026#34;, -1) fmt.Println(\u0026#34;All Matches:\u0026#34;, allMatches) // [\u0026#34;Go\u0026#34; \u0026#34;Go\u0026#34;] } æ›¿æ›åŠŸèƒ½ regexp.ReplaceAllStringï¼šæ›¿æ›åŒ¹é…çš„subStringã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æ›¿æ›åŒ¹é…çš„subStringã€‚ func (re *Regexp) ReplaceAllString(src, repl string) string package main import ( \u0026#34;fmt\u0026#34; \u0026#34;regexp\u0026#34; ) func main() { re, err := regexp.Compile(\u0026#34;Go\u0026#34;) if err != nil { fmt.Println(err) } // æ›¿æ›åŒ¹é…çš„subString replaced := re.ReplaceAllString(\u0026#34;Hello, Go! Go is awesome!\u0026#34;, \u0026#34;Golang\u0026#34;) fmt.Println(replaced) // \u0026#34;Hello, Golang! Golang is awesome!\u0026#34; } å…¶ä»–åŠŸèƒ½ regexp.Splitï¼šæŒ‰ç…§æ­£å‰‡è¡¨é”å¼åˆ†å‰²stringã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æŒ‰ç…§æ­£å‰‡è¡¨é”å¼åˆ†å‰²stringã€‚ func (re *Regexp) Split(s string, n int) []string package main import ( \u0026#34;fmt\u0026#34; \u0026#34;regexp\u0026#34; ) func main() { re, err := regexp.Compile(\u0026#34; \u0026#34;) if err != nil { fmt.Println(err) } // æŒ‰ç…§æ­£å‰‡è¡¨é”å¼åˆ†å‰²string parts := re.Split(\u0026#34;Hello, Go! Go is awesome!\u0026#34;, -1) fmt.Println(parts) // [\u0026#34;Hello,\u0026#34;, \u0026#34;Go!\u0026#34;, \u0026#34;Go\u0026#34;, \u0026#34;is\u0026#34;, \u0026#34;awesome!\u0026#34;] } ğŸ“šReference regexp package - regexp - Go Packages Regular Expression :: Go çš„ Regexp å¯¦ä¾‹ (openhome.cc) ","permalink":"https://sz9751210.github.io/posts/go-regexp/","summary":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ åœ¨è™•ç†stringæ™‚ï¼Œæ­£å‰‡è¡¨é”å¼æ˜¯ä¸€å€‹éå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚Goèªè¨€çš„regexp package å¯ä»¥ä½¿ç”¨æ­£å‰‡è¡¨é”å¼ï¼Œç”¨ä¾†åŸ·è¡Œå¦‚æª¢æŸ¥stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€æå–åŒ¹é…çš„subStringç­‰æ“ä½œã€‚\nåŒ¹é…åŠŸèƒ½ regexp.MatchStringï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€‚ regexp.Compileï¼šç·¨è­¯ä¸€å€‹æ­£å‰‡è¡¨é”å¼ã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ¹é…æŸå€‹æ¨¡å¼ã€‚ func regexp.MatchString(pattern string, s string) (matched bool, err error) // ç·¨è­¯ä¸€å€‹æ­£å‰‡è¡¨é”å¼ã€‚ func regexp.Compile(expr string) (*Regexp, error) package main import ( \u0026#34;fmt\u0026#34; \u0026#34;regexp\u0026#34; ) func main() { // æª¢æŸ¥stringæ˜¯å¦åŒ¹é…æ¨¡å¼ matched, err := regexp.MatchString(\u0026#34;Go\u0026#34;, \u0026#34;Hello, Go!\u0026#34;) if err != nil { fmt.Println(err) } fmt.Println(\u0026#34;Matched:\u0026#34;, matched) // true } æå–åŠŸèƒ½ regexp.FindStringï¼šæ‰¾åˆ°ç¬¬ä¸€å€‹åŒ¹é…çš„subStringã€‚ regexp.FindAllStringï¼šæ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„subStringã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æ‰¾åˆ°ç¬¬ä¸€å€‹åŒ¹é…çš„subStringã€‚ func (re *Regexp) FindString(s string) string // æ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„subStringã€‚ func (re *Regexp) FindAllString(s string, n int) []string package main import ( \u0026#34;fmt\u0026#34; \u0026#34;regexp\u0026#34; ) func main() { re, err := regexp.","title":"å¦‚ä½•åœ¨Goä¸­ä½¿ç”¨æ­£å‰‡è¡¨é”å¼"},{"content":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä¸€é–‹å§‹ä»‹ç´¹åŸºæœ¬è³‡æ–™å‹åˆ¥æ™‚æœ‰ç¨å¾®æåˆ°ä¸€é»stringçš„è™•ç†ï¼Œä»Šå¤©ä»‹ç´¹stringçš„ä¸€äº›æ“ä½œï¼Œåƒæ˜¯æª¢æŸ¥çš„åŠŸèƒ½ã€ä¿®æ”¹çš„åŠŸèƒ½ã€æ¯”è¼ƒçš„åŠŸèƒ½ç­‰ç­‰ã€‚\næª¢æŸ¥åŠŸèƒ½ strings.Containsï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹stringã€‚ strings.ContainsAnyï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«ä»»ä½•æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ strings.Countï¼šè¨ˆç®—subStringåœ¨ç›®æ¨™stringä¸­å‡ºç¾çš„æ¬¡æ•¸ã€‚ strings.ContainsRuneï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹stringã€‚ func strings.Contains(s, substr string) bool // æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«ä»»ä½•æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ func strings.ContainsAny(s, chars string) bool // è¨ˆç®—subStringåœ¨ç›®æ¨™stringä¸­å‡ºç¾çš„æ¬¡æ•¸ã€‚ func strings.Count(s, substr string) int // æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ func strings.ContainsRune(s string, r rune) bool package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { text := \u0026#34;Hello, world! Hello, universe!\u0026#34; // æª¢æŸ¥stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹string containsHello := strings.Contains(text, \u0026#34;Hello\u0026#34;) fmt.Println(\u0026#34;Contains \u0026#39;Hello\u0026#39;:\u0026#34;, containsHello) // true // æª¢æŸ¥stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒ containsAny := strings.ContainsAny(text, \u0026#34;aeiou\u0026#34;) fmt.Println(\u0026#34;Contains any vowel:\u0026#34;, containsAny) // true // è¨ˆç®—subStringåœ¨ç›®æ¨™stringä¸­å‡ºç¾çš„æ¬¡æ•¸ countHello := strings.Count(text, \u0026#34;Hello\u0026#34;) fmt.Println(\u0026#34;Count \u0026#39;Hello\u0026#39;:\u0026#34;, countHello) // 2 // æª¢æŸ¥stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒ containsRune := strings.ContainsRune(text, \u0026#39;H\u0026#39;) fmt.Println(\u0026#34;Contains \u0026#39;H\u0026#39;:\u0026#34;, containsRune) // true } ä¿®æ”¹åŠŸèƒ½ strings.Joinï¼šå°‡å¤šå€‹stringé€£æ¥æˆä¸€å€‹æ–°çš„stringï¼Œä¸¦ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†éš”å®ƒå€‘ã€‚ strings.Repeatï¼šå°‡ä¸€å€‹stringé‡è¤‡å¤šæ¬¡ã€‚ strings.Replaceï¼šæ›¿æ›stringä¸­çš„ç‰¹å®šsubStringã€‚ strings.ReplaceAllï¼šæ›¿æ›stringä¸­çš„æ‰€æœ‰åŒ¹é…subStringã€‚ strings.ToLowerï¼šå°‡stringè½‰æ›ç‚ºå°å¯«ã€‚ strings.ToUpperï¼šå°‡stringè½‰æ›ç‚ºå¤§å¯«ã€‚ strings.Titleï¼šå°‡stringä¸­çš„æ¯å€‹å–®å­—çš„é¦–å­—æ¯è½‰æ›ç‚ºå¤§å¯«ã€‚ strings.Trimï¼šåˆªé™¤stringé–‹é ­å’Œçµå°¾çš„æŒ‡å®šå­—ç¬¦é›†åˆã€‚ strings.TrimSpaceï¼šåˆªé™¤stringé–‹é ­å’Œçµå°¾çš„ç©ºæ ¼å­—ç¬¦ã€‚ strings.TrimPrefixï¼šåˆªé™¤stringé–‹é ­çš„æŒ‡å®šå‰ç¶´ã€‚ strings.TrimSuffixï¼šåˆªé™¤stringçµå°¾çš„æŒ‡å®šå¾Œç¶´ã€‚ strings.TrimLeftï¼šåˆªé™¤stringé–‹é ­çš„æŒ‡å®šå­—ç¬¦é›†åˆã€‚ strings.TrimRightï¼šåˆªé™¤stringçµå°¾çš„æŒ‡å®šå­—ç¬¦é›†åˆã€‚ strings.TrimFuncï¼šä½¿ç”¨è‡ªå®šç¾©å‡½æ•¸åˆªé™¤stringé–‹é ­å’Œçµå°¾çš„å­—ç¬¦ã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// å°‡å¤šå€‹stringé€£æ¥æˆä¸€å€‹æ–°çš„stringï¼Œä¸¦ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†éš”å®ƒå€‘ã€‚ func strings.Join(strs []string, sep string) string // å°‡ä¸€å€‹stringé‡è¤‡å¤šæ¬¡ã€‚ func strings.Repeat(s string, count int) string // æ›¿æ›stringä¸­çš„ç‰¹å®šsubStringã€‚ func strings.Replace(s, old, new string, n int) string // æ›¿æ›stringä¸­çš„æ‰€æœ‰åŒ¹é…subStringã€‚ func strings.ReplaceAll(s, old, new string) string // å°‡stringè½‰æ›ç‚ºå°å¯«ã€‚ func strings.ToLower(s string) string // å°‡stringè½‰æ›ç‚ºå¤§å¯«ã€‚ func strings.ToUpper(s string) string // å°‡stringä¸­çš„æ¯å€‹å–®å­—çš„é¦–å­—æ¯è½‰æ›ç‚ºå¤§å¯«ã€‚ func strings.Title(s string) string // åˆªé™¤stringé–‹é ­å’Œçµå°¾çš„æŒ‡å®šå­—ç¬¦é›†åˆã€‚ func strings.Trim(s string, cutset string) string // åˆªé™¤stringé–‹é ­å’Œçµå°¾çš„ç©ºæ ¼å­—ç¬¦ã€‚ func strings.TrimSpace(s string) string // åˆªé™¤stringé–‹é ­çš„æŒ‡å®šå‰ç¶´ã€‚ func strings.TrimPrefix(s, prefix string) string // åˆªé™¤stringçµå°¾çš„æŒ‡å®šå¾Œç¶´ã€‚ func strings.TrimSuffix(s, suffix string) string // åˆªé™¤stringé–‹é ­çš„æŒ‡å®šå­—ç¬¦é›†åˆã€‚ func strings.TrimLeft(s string, cutset string) string // åˆªé™¤stringçµå°¾çš„æŒ‡å®šå­—ç¬¦é›†åˆã€‚ func strings.TrimRight(s string, cutset string) string // ä½¿ç”¨è‡ªå®šç¾©å‡½æ•¸åˆªé™¤stringé–‹é ­å’Œçµå°¾çš„å­—ç¬¦ã€‚ func strings.TrimFunc(s string, f func(rune) bool) string package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { // stringé€£æ¥ words := []string{\u0026#34;apple\u0026#34;, \u0026#34;banana\u0026#34;, \u0026#34;cherry\u0026#34;} joined := strings.Join(words, \u0026#34;, \u0026#34;) fmt.Println(joined) // \u0026#34;apple, banana, cherry\u0026#34; // stringé‡è¤‡ text := \u0026#34;Go\u0026#34; repeated := strings.Repeat(text, 3) fmt.Println(repeated) // \u0026#34;GoGoGo\u0026#34; // stringæ›¿æ› text = \u0026#34;Hello, world! Hello, universe!\u0026#34; // æ›¿æ›ç¬¬ä¸€å€‹åŒ¹é… replaced := strings.Replace(text, \u0026#34;Hello\u0026#34;, \u0026#34;Hi\u0026#34;, 1) fmt.Println(replaced) // \u0026#34;Hi, world! Hello, universe!\u0026#34; // æ›¿æ›æ‰€æœ‰åŒ¹é… replacedAll := strings.ReplaceAll(text, \u0026#34;Hello\u0026#34;, \u0026#34;Hi\u0026#34;) fmt.Println(replacedAll) // \u0026#34;Hi, world! Hi, universe!\u0026#34; // stringå¤§å°å¯«è½‰æ› text = \u0026#34;Hello, World!\u0026#34; lowerCase := strings.ToLower(text) upperCase := strings.ToUpper(text) fmt.Println(lowerCase) // \u0026#34;hello, world!\u0026#34; fmt.Println(upperCase) // \u0026#34;HELLO, WORLD!\u0026#34; // stringå‰ç¶´å’Œå¾Œç¶´åˆªé™¤ text = \u0026#34; Go is awesome! \u0026#34; // åˆªé™¤stringé–‹é ­å’Œçµå°¾çš„ç©ºæ ¼ trimmedText := strings.Trim(text, \u0026#34; \u0026#34;) fmt.Printf(\u0026#34;[%s]\\n\u0026#34;, trimmedText) // \u0026#34;[Go is awesome!]\u0026#34; // åˆªé™¤stringé–‹é ­çš„ç©ºæ ¼ trimmedLeftText := strings.TrimLeft(text, \u0026#34; \u0026#34;) fmt.Printf(\u0026#34;[%s]\\n\u0026#34;, trimmedLeftText) // \u0026#34;[Go is awesome! ]\u0026#34; // åˆªé™¤stringçµå°¾çš„ç©ºæ ¼ trimmedRightText := strings.TrimRight(text, \u0026#34; \u0026#34;) fmt.Printf(\u0026#34;[%s]\\n\u0026#34;, trimmedRightText) // \u0026#34;[ Go is awesome!]\u0026#34; // stringå‰ç¶´å’Œå¾Œç¶´æ›¿æ› prefixedText := \u0026#34;prefix: Hello, World!\u0026#34; trimmedPrefixText := strings.TrimPrefix(prefixedText, \u0026#34;prefix: \u0026#34;) fmt.Println(trimmedPrefixText) // \u0026#34;Hello, World!\u0026#34; suffixedText := \u0026#34;Hello, World! -suffix\u0026#34; trimmedSuffixText := strings.TrimSuffix(suffixedText, \u0026#34; -suffix\u0026#34;) fmt.Println(trimmedSuffixText) // \u0026#34;Hello, World!\u0026#34; // ä½¿ç”¨è‡ªå®šç¾©å‡½æ•¸åˆªé™¤string trimFuncText := \u0026#34;###TrimMe###\u0026#34; trimmedFuncText := strings.TrimFunc(trimFuncText, func(r rune) bool { return r == \u0026#39;#\u0026#39; }) fmt.Println(trimmedFuncText) // \u0026#34;TrimMe\u0026#34; } æ¯”è¼ƒåŠŸèƒ½ strings.Compareï¼šæ¯”è¼ƒå…©å€‹stringæ˜¯å¦ç›¸ç­‰ï¼Œä¸éç›´æ¥ä½¿ç”¨==æˆ–æ˜¯!=æ›´ç›´è¦ºã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æ¯”è¼ƒå…©å€‹stringï¼Œè¿”å›æ¯”è¼ƒçµæœçš„æ•´æ•¸å€¼ã€‚ func strings.Compare(a, b string) int package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { str1 := \u0026#34;apple\u0026#34; str2 := \u0026#34;banana\u0026#34; // ä½¿ç”¨ strings.Compare æ¯”è¼ƒstring result := strings.Compare(str1, str2) switch { case result \u0026lt; 0: fmt.Printf(\u0026#34;%s å°æ–¼ %s\\n\u0026#34;, str1, str2) case result \u0026gt; 0: fmt.Printf(\u0026#34;%s å¤§æ–¼ %s\\n\u0026#34;, str1, str2) default: fmt.Printf(\u0026#34;%s ç­‰æ–¼ %s\\n\u0026#34;, str1, str2) } } åˆ‡å‰²åŠŸèƒ½ strings.Splitï¼šå°‡stringæŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†å‰²æˆsubStringã€‚ strings.SplitAfterï¼šåœ¨æŒ‡å®šçš„åˆ†éš”ç¬¦ä¹‹å¾Œåˆ‡å‰²stringã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// å°‡stringæŒ‰ç…§æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†å‰²æˆsubStringã€‚ func strings.Split(s, sep string) []string // åœ¨æŒ‡å®šçš„åˆ†éš”ç¬¦ä¹‹å¾Œåˆ‡å‰²stringã€‚ func strings.SplitAfter(s, sep string) []string package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { // ä½¿ç”¨ strings.Split å‡½æ•¸æŒ‰ç…§é€—è™Ÿåˆ†å‰²string s1 := \u0026#34;apple,banana,cherry\u0026#34; words1 := strings.Split(s1, \u0026#34;,\u0026#34;) fmt.Printf(\u0026#34;ä½¿ç”¨ Split å‡½æ•¸åˆ†å‰²çš„çµæœï¼š%v\\n\u0026#34;, words1) // ä½¿ç”¨ strings.SplitAfter å‡½æ•¸åœ¨é€—è™Ÿä¹‹å¾Œåˆ†å‰²string s2 := \u0026#34;apple,banana,cherry\u0026#34; words2 := strings.SplitAfter(s2, \u0026#34;,\u0026#34;) fmt.Printf(\u0026#34;ä½¿ç”¨ SplitAfter å‡½æ•¸åˆ†å‰²çš„çµæœï¼š%v\\n\u0026#34;, words2) } å…¶ä»–åŠŸèƒ½ strings.Indexï¼šæ‰¾åˆ°ä¸€å€‹subStringåœ¨ç›®æ¨™stringä¸­çš„ç¬¬ä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ä½ç½®ã€‚ strings.LastIndexï¼šæ‰¾åˆ°ä¸€å€‹subStringåœ¨ç›®æ¨™stringä¸­çš„æœ€å¾Œä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ä½ç½®ã€‚ strings.Fieldsï¼šå°‡stringæ‹†åˆ†ç‚ºsliceçš„subStringï¼Œä½¿ç”¨ç©ºæ ¼ä½œç‚ºåˆ†éš”ç¬¦ã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æ‰¾åˆ°ä¸€å€‹subStringåœ¨ç›®æ¨™stringä¸­çš„ç¬¬ä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ä½ç½®ã€‚ func strings.Index(s, substr string) int // æ‰¾åˆ°ä¸€å€‹subStringåœ¨ç›®æ¨™stringä¸­çš„æœ€å¾Œä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ä½ç½®ã€‚ func strings.LastIndex(s, substr string) int // å°‡stringæ‹†åˆ†ç‚ºsliceçš„subStringï¼Œä½¿ç”¨ç©ºæ ¼ä½œç‚ºåˆ†éš”ç¬¦ã€‚ func strings.Fields(s string) []string package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { s := \u0026#34;Hello, world! Welcome to the world of Go. Hello, Go world.\u0026#34; // æ‰¾åˆ°ä¸€å€‹subStringåœ¨ç›®æ¨™stringä¸­çš„ç¬¬ä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ä½ç½®ã€‚ substr := \u0026#34;world\u0026#34; index := strings.Index(s, substr) if index != -1 { fmt.Printf(\u0026#34;\u0026#39;%s\u0026#39; ç¬¬ä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ä½ç½®ï¼š%d\\n\u0026#34;, substr, index) } else { fmt.Printf(\u0026#34;\u0026#39;%s\u0026#39; æœªåœ¨stringä¸­æ‰¾åˆ°\\n\u0026#34;, substr) } // æ‰¾åˆ°ä¸€å€‹subStringåœ¨ç›®æ¨™stringä¸­çš„æœ€å¾Œä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ä½ç½®ã€‚ lastIndex := strings.LastIndex(s, substr) if lastIndex != -1 { fmt.Printf(\u0026#34;\u0026#39;%s\u0026#39; æœ€å¾Œä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ä½ç½®ï¼š%d\\n\u0026#34;, substr, lastIndex) } else { fmt.Printf(\u0026#34;\u0026#39;%s\u0026#39; æœªåœ¨stringä¸­æ‰¾åˆ°\\n\u0026#34;, substr) } // å°‡stringæ‹†åˆ†ç‚ºsliceçš„subStringï¼Œä½¿ç”¨ç©ºæ ¼ä½œç‚ºåˆ†éš”ç¬¦ã€‚ text := \u0026#34;This is a sample sentence.\u0026#34; fields := strings.Fields(text) fmt.Println(\u0026#34;æ‹†åˆ†å¾Œçš„subString sliceï¼š\u0026#34;) for _, field := range fields { fmt.Println(field) } } ğŸ“šReference strings package - strings - Go Packages strings â€” å­—ç¬¦ä¸²æ“ä½œ Â· Goè¯­è¨€æ ‡å‡†åº“ (studygolang.com) [pkg] strings | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-strings/","summary":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä¸€é–‹å§‹ä»‹ç´¹åŸºæœ¬è³‡æ–™å‹åˆ¥æ™‚æœ‰ç¨å¾®æåˆ°ä¸€é»stringçš„è™•ç†ï¼Œä»Šå¤©ä»‹ç´¹stringçš„ä¸€äº›æ“ä½œï¼Œåƒæ˜¯æª¢æŸ¥çš„åŠŸèƒ½ã€ä¿®æ”¹çš„åŠŸèƒ½ã€æ¯”è¼ƒçš„åŠŸèƒ½ç­‰ç­‰ã€‚\næª¢æŸ¥åŠŸèƒ½ strings.Containsï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹stringã€‚ strings.ContainsAnyï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«ä»»ä½•æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ strings.Countï¼šè¨ˆç®—subStringåœ¨ç›®æ¨™stringä¸­å‡ºç¾çš„æ¬¡æ•¸ã€‚ strings.ContainsRuneï¼šæª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ èªæ³•å¦‚ä¸‹ï¼š\n// æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹stringã€‚ func strings.Contains(s, substr string) bool // æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«ä»»ä½•æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ func strings.ContainsAny(s, chars string) bool // è¨ˆç®—subStringåœ¨ç›®æ¨™stringä¸­å‡ºç¾çš„æ¬¡æ•¸ã€‚ func strings.Count(s, substr string) int // æª¢æŸ¥ä¸€å€‹stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒã€‚ func strings.ContainsRune(s string, r rune) bool package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { text := \u0026#34;Hello, world! Hello, universe!\u0026#34; // æª¢æŸ¥stringæ˜¯å¦åŒ…å«å¦ä¸€å€‹string containsHello := strings.Contains(text, \u0026#34;Hello\u0026#34;) fmt.Println(\u0026#34;Contains \u0026#39;Hello\u0026#39;:\u0026#34;, containsHello) // true // æª¢æŸ¥stringæ˜¯å¦åŒ…å«æŒ‡å®šçš„Unicodeå­—å…ƒ containsAny := strings.ContainsAny(text, \u0026#34;aeiou\u0026#34;) fmt.","title":"å¦‚ä½•åœ¨ Go ä¸­è™•ç† String"},{"content":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ æ˜¨å¤©è¬›åˆ° os packageï¼Œä»Šå¤©ç¹¼çºŒè£œå…… os packageåº•ä¸‹çš„ exec packageï¼Œé€™å€‹packageä¸»è¦ç”¨ä¾†åŸ·è¡Œå¤–éƒ¨æŒ‡ä»¤å’Œè™•ç†æŒ‡ä»¤çš„è¼¸å…¥å’Œè¼¸å‡ºï¼ŒåŒ…æ‹¬å¦‚ä½•è¨­å®šæŒ‡ä»¤ã€åŸ·è¡ŒæŒ‡ä»¤ä»¥åŠè™•ç†è¼¸å‡ºç­‰ç­‰ã€‚\nè¨­å®šæŒ‡ä»¤ è¦åŸ·è¡Œå¤–éƒ¨æŒ‡ä»¤ï¼Œé¦–å…ˆéœ€è¦è¨­å®šè¦åŸ·è¡Œçš„ä¸»è¦æŒ‡ä»¤ï¼š\nexec.Commandï¼šæ¥å—ä¸€å€‹æŒ‡ä»¤åç¨±å’Œå¤šå€‹åƒæ•¸ï¼Œä¸¦è¿”å›ä¸€å€‹ Cmd å°è±¡ã€‚ èªæ³•å¦‚ä¸‹ï¼š\nfunc exec.Command(name string, arg ...string) *exec.Cmd ç¬¬ä¸€å€‹åƒæ•¸æ˜¯æ”¾è¦åŸ·è¡Œçš„å‘½ä»¤åç¨±ï¼Œç¬¬äºŒå€‹å‰‡æ˜¯æ”¾åƒæ•¸ã€‚ æ¥è‘—ä¾†çœ‹çœ‹exec.Cmdæ˜¯ç”šéº¼æ±è¥¿ï¼š\ntype Cmd struct { Path string // the path of the command to run Args []string // holds command line arguments Env []string // the environment of the process Dir string // the working directory of the command. Stdin io.Reader // the process\u0026#39;s standard input. Stdout io.Writer // the process\u0026#39;s standard output and error. Stderr io.Writer .... } å¯ä»¥çœ‹åˆ°exec.Commandæœƒå›å‚³ä¸€å€‹Cmdçš„structã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹è¨­å®šæŒ‡ä»¤çš„ç°¡å–®ç¯„ä¾‹ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmd := exec.Command(\u0026#34;ls\u0026#34;, \u0026#34;-al\u0026#34;) err := cmd.Run() if err != nil { fmt.Printf(\u0026#34;failed to call cmd.Run(): %v\u0026#34;, err) } } åŸ·è¡Œå®Œæ²’æœ‰ä»»ä½•è¼¸å‡ºæ˜¯æ­£å¸¸çš„ï¼Œå› ç‚ºé€™å€‹ç¯„ä¾‹ä¸¦æ²’æœ‰å°‡æ¨™æº–è¼¸å‡ºå°å‡ºã€‚å¦‚æœè¦å°å‡ºåŸ·è¡Œçµæœå°‡cmd.Runæ”¹ç‚ºcmd.Outputå³å¯ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmd := exec.Command(\u0026#34;ls\u0026#34;, \u0026#34;-al\u0026#34;) output, err := cmd.Output() if err != nil { fmt.Printf(\u0026#34;failed to call cmd.Output(): %v\u0026#34;, err) return } fmt.Println(\u0026#34;Command Output:\u0026#34;) fmt.Println(string(output)) } æ¥è‘—ä¾†å¿«é€Ÿä»‹ç´¹Cmd structå¸¸ç”¨çš„æ¬„ä½ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmd := exec.Command(\u0026#34;ls\u0026#34;, \u0026#34;-l\u0026#34;) // è¨­å®šåŸ·è¡Œä½ç½® cmd.Dir = \u0026#34;/\u0026#34; // å°‡æ¨™æº–è¼¸å‡ºå’Œæ¨™æº–éŒ¯èª¤è¼¸å‡ºåˆ°çµ‚ç«¯æ©Ÿ cmd.Stdout = os.Stdout cmd.Stderr = os.Stderr // åŸ·è¡Œä¸¦ç­‰å¾…å…¶å®Œæˆ err := cmd.Run() if err != nil { fmt.Println(err) return } } åŸ·è¡ŒæŒ‡ä»¤ cmd.Runï¼šåŸ·è¡ŒæŒ‡ä»¤ä¸¦æœƒç­‰å¾…æŒ‡ä»¤å®Œæˆï¼Œæ˜¯cmd.Startå’Œcmd.Waitçš„çµåˆã€‚ cmd.Startï¼šåŸ·è¡ŒæŒ‡ä»¤ä½†ä¸æœƒç­‰å¾…æŒ‡ä»¤å®Œæˆã€‚ cmd.Waitï¼šç­‰å¾…å·²ç¶“åŸ·è¡Œçš„æŒ‡ä»¤ï¼Œæœƒé˜»å¡ç¨‹å¼ï¼Œè·åˆ°æŒ‡ä»¤åŸ·è¡Œå®Œç•¢ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmd := exec.Command(\u0026#34;ls\u0026#34;, \u0026#34;-l\u0026#34;) // åŸ·è¡ŒæŒ‡ä»¤ err := cmd.Start() if err != nil { fmt.Println(err) return } // ç­‰å¾…æŒ‡ä»¤å®Œæˆ err = cmd.Wait() if err != nil { log.Fatal(err) } } è™•ç†è¼¸å‡º cmd.Outputï¼šå–å¾—åŸ·è¡Œçš„æ¨™æº–è¼¸å‡ºã€‚ cmd.CombinedOutputï¼šå–å¾—åŸ·è¡Œçš„æ¨™æº–è¼¸å‡ºå’Œæ¨™æº–éŒ¯èª¤çš„åˆä½µçµæœã€‚ å–å¾—æ¨™æº–è¼¸å‡º package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmd := exec.Command(\u0026#34;echo\u0026#34;, \u0026#34;Hello, World!\u0026#34;) // å–å¾—åŸ·è¡Œçš„æ¨™æº–è¼¸å‡º output, err := cmd.Output() if err != nil { fmt.Println(\u0026#34;failed to call cmd.Output(): %v\u0026#34;, err) return } fmt.Println(\u0026#34;Command Output:\u0026#34;) fmt.Println(string(output)) } å–å¾—æ¨™æº–è¼¸å‡ºå’Œæ¨™æº–éŒ¯èª¤çš„åˆä½µçµæœ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmd := exec.Command(\u0026#34;ls\u0026#34;, \u0026#34;non-existent-directory\u0026#34;) // å–å¾—åŸ·è¡Œçš„æ¨™æº–è¼¸å‡ºå’Œæ¨™æº–éŒ¯èª¤çš„åˆä½µçµæœ output, err := cmd.CombinedOutput() if err != nil { fmt.Println(\u0026#34;Error:\u0026#34;, err) return } fmt.Println(\u0026#34;Command Output:\u0026#34;) fmt.Println(string(output)) } è¼¸å‡ºçš„å¤šç¨®æ–¹å¼ å› ç‚ºcmd çš„structåŒ…å«ä»¥ä¸‹ä¸‰å€‹æ¬„ä½ï¼Œåˆ†åˆ¥ä»£è¡¨åŸ·è¡Œçš„æ¨™æº–è¼¸å…¥ï¼Œæ¨™æº–è¼¸å‡ºä»¥åŠæ¨™æº–éŒ¯èª¤è¼¸å‡ºï¼Œè€Œio.Readerä»¥åŠio.Writerçš†ç‚ºinterfaceï¼Œå› æ­¤åªè¦æ»¿è¶³interface methodçš„structï¼Œå³å¯å®Œæˆè®€å–è·Ÿå¯«å…¥\ntype Cmd struct { Stdin io.Reader // the process\u0026#39;s standard input. Stdout io.Writer // the process\u0026#39;s standard output and error. Stderr io.Writer .... } å¯«å…¥æª”æ¡ˆ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { // å»ºç«‹ä¸€å€‹æª”æ¡ˆï¼Œç”¨æ–¼å­˜å„²æ¨™æº–è¼¸å‡º outFile, err := os.Create(\u0026#34;output.txt\u0026#34;) if err != nil { fmt.Println(err) return } defer outFile.Close() // å»ºç«‹ä¸€å€‹æª”æ¡ˆï¼Œç”¨æ–¼å­˜å„²æ¨™æº–éŒ¯èª¤ errFile, err := os.Create(\u0026#34;error.txt\u0026#34;) if err != nil { fmt.Println(err) return } defer errFile.Close() // è¨­å®šåŸ·è¡ŒæŒ‡ä»¤ï¼Œå°‡æ¨™æº–è¼¸å‡ºå’Œæ¨™æº–éŒ¯èª¤é‡å®šå‘åˆ°æª”æ¡ˆ cmd := exec.Command(\u0026#34;ls\u0026#34;, \u0026#34;-l\u0026#34;) cmd.Stdout = outFile cmd.Stderr = errFile // åŸ·è¡Œä¸¦ç­‰å¾…å…¶å®Œæˆ err = cmd.Run() if err != nil { fmt.Println(err) return } } å¯«åˆ°çµ‚ç«¯ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmd := exec.Command(\u0026#34;ls\u0026#34;, \u0026#34;-l\u0026#34;) // å°‡æ¨™æº–è¼¸å‡ºå’Œæ¨™æº–éŒ¯èª¤è¼¸å‡ºåˆ°çµ‚ç«¯æ©Ÿ cmd.Stdout = os.Stdout cmd.Stderr = os.Stderr // åŸ·è¡ŒæŒ‡ä»¤ err := cmd.Start() if err != nil { fmt.Println(err) return } // ç­‰å¾…æŒ‡ä»¤å®Œæˆ err = cmd.Wait() if err != nil { log.Fatal(err) } } å› os.Createã€os.Stdoutå’Œos.Stderréƒ½æœƒè¿”å›ä¸€å€‹File structï¼Œè€Œè©²structæœ‰æ»¿è¶³io.Writerçš„method -\u0026gt; Writeï¼Œå› æ­¤å¯ä»¥å°‡æ¨™æº–è¼¸å‡ºä»¥åŠæ¨™æº–éŒ¯èª¤è¼¸å‡ºçµ¦å¯«å…¥æª”æ¡ˆæˆ–æ˜¯çµ‚ç«¯è£¡ã€‚\nè™•ç†è¼¸å…¥ é€éwcæŒ‡ä»¤è®€å–main.goæª”æ¡ˆï¼Œä¸¦è¨ˆç®—ç¸½å…±å¤šå°‘è¡Œã€‚\npackage main import ( \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { stdin, err := os.Open(\u0026#34;main.go\u0026#34;) if err != nil { log.Fatalf(\u0026#34;failed to open file: %v\u0026#34;, err) } cmd := exec.Command(\u0026#34;wc\u0026#34;, \u0026#34;-l\u0026#34;) cmd.Stdin = stdin cmd.Stdout = os.Stdout cmd.Stderr = os.Stderr err = cmd.Run() if err != nil { log.Fatalf(\u0026#34;failed to call cmd.Run(): %v\u0026#34;, err) } } Pipelineæ“ä½œ cmd.StderrPipeï¼šè¿”å›ä¸€å€‹é€£æ¥åˆ°åŸ·è¡Œçš„æ¨™æº–éŒ¯èª¤çš„pipelineã€‚ cmd.StdinPipeï¼šè¿”å›ä¸€å€‹é€£æ¥åˆ°åŸ·è¡Œçš„æ¨™æº–è¼¸å…¥çš„pipelineã€‚ cmd.StdoutPipeï¼šè¿”å›ä¸€å€‹é€£æ¥åˆ°åŸ·è¡Œçš„æ¨™æº–è¼¸å‡ºçš„pipelineã€‚ package main import ( \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmdCat := exec.Command(\u0026#34;cat\u0026#34;, \u0026#34;main.go\u0026#34;) cmdWC := exec.Command(\u0026#34;wc\u0026#34;, \u0026#34;-l\u0026#34;) // å»ºç«‹ä¸€å€‹pipelineï¼Œå°‡ cat main.go çš„è¼¸å‡ºå…§å®¹å­˜æ”¾åˆ° catout catout, err := cmdCat.StdoutPipe() if err != nil { log.Fatalf(\u0026#34;failed to get StdoutPipe of cat: %v\u0026#34;, err) } cmdWC.Stdin = catout // å°‡ catout ç•¶ä½œ wc -l çš„è¼¸å…¥ cmdWC.Stdout = os.Stdout // å°‡ wc -l çš„çµæœå°åˆ°çµ‚ç«¯æ©Ÿä¸Š err = cmdCat.Start() if err != nil { log.Fatalf(\u0026#34;failed to call cmdCat.Start():%v\u0026#34;, err) } err = cmdWC.Start() if err != nil { log.Fatalf(\u0026#34;failed to call cmdWC.Start():%v\u0026#34;, err) } cmdCat.Wait() cmdWC.Wait() } é€šç”¨pipelineæ–¹æ³• package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os/exec\u0026#34; ) func main() { cmdCat := exec.Command(\u0026#34;cat\u0026#34;, \u0026#34;main.go\u0026#34;) cmdWC := exec.Command(\u0026#34;wc\u0026#34;, \u0026#34;-l\u0026#34;) data, err := pipeCommands(cmdCat, cmdWC) if err != nil { fmt.Printf(\u0026#34;failed to call pipeCommands(): %v\u0026#34;, err) } fmt.Printf(\u0026#34;output: %s\u0026#34;, data) } func pipeCommands(commands ...*exec.Cmd) ([]byte, error) { for i, command := range commands[:len(commands)-1] { out, err := command.StdoutPipe() if err != nil { return nil, err } command.Start() commands[i+1].Stdin = out } final, err := commands[len(commands)-1].Output() if err != nil { return nil, err } return final, nil } bash pipeline cmd := exec.Command(\u0026#34;bash\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;cat main.go| wc -l\u0026#34;) data, err := cmd.CombinedOutput() if err != nil { log.Fatalf(\u0026#34;failed to call pipeCommands(): %v\u0026#34;, err) } log.Printf(\u0026#34;output: %s\u0026#34;, data) ğŸ“š åƒè€ƒè³‡æ–™ os/exec package - exec - Go packages Go os.exec åŸ·è¡Œå¤–éƒ¨æŒ‡ä»¤ - Gary Liao - Medium go os/exec ç®€æ˜æ•™ç¨‹ (colobu.com) ","permalink":"https://sz9751210.github.io/posts/go-os-exec/","summary":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ æ˜¨å¤©è¬›åˆ° os packageï¼Œä»Šå¤©ç¹¼çºŒè£œå…… os packageåº•ä¸‹çš„ exec packageï¼Œé€™å€‹packageä¸»è¦ç”¨ä¾†åŸ·è¡Œå¤–éƒ¨æŒ‡ä»¤å’Œè™•ç†æŒ‡ä»¤çš„è¼¸å…¥å’Œè¼¸å‡ºï¼ŒåŒ…æ‹¬å¦‚ä½•è¨­å®šæŒ‡ä»¤ã€åŸ·è¡ŒæŒ‡ä»¤ä»¥åŠè™•ç†è¼¸å‡ºç­‰ç­‰ã€‚\nè¨­å®šæŒ‡ä»¤ è¦åŸ·è¡Œå¤–éƒ¨æŒ‡ä»¤ï¼Œé¦–å…ˆéœ€è¦è¨­å®šè¦åŸ·è¡Œçš„ä¸»è¦æŒ‡ä»¤ï¼š\nexec.Commandï¼šæ¥å—ä¸€å€‹æŒ‡ä»¤åç¨±å’Œå¤šå€‹åƒæ•¸ï¼Œä¸¦è¿”å›ä¸€å€‹ Cmd å°è±¡ã€‚ èªæ³•å¦‚ä¸‹ï¼š\nfunc exec.Command(name string, arg ...string) *exec.Cmd ç¬¬ä¸€å€‹åƒæ•¸æ˜¯æ”¾è¦åŸ·è¡Œçš„å‘½ä»¤åç¨±ï¼Œç¬¬äºŒå€‹å‰‡æ˜¯æ”¾åƒæ•¸ã€‚ æ¥è‘—ä¾†çœ‹çœ‹exec.Cmdæ˜¯ç”šéº¼æ±è¥¿ï¼š\ntype Cmd struct { Path string // the path of the command to run Args []string // holds command line arguments Env []string // the environment of the process Dir string // the working directory of the command. Stdin io.Reader // the process\u0026#39;s standard input. Stdout io.Writer // the process\u0026#39;s standard output and error.","title":"å¦‚ä½•åœ¨ Go ä¸­æ“ä½œç³»çµ±"},{"content":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä»Šå¤©å¿«é€Ÿä»‹ç´¹ä¸€ä¸‹å°æª”æ¡ˆçš„æ“ä½œæ‰€ä½¿ç”¨çš„package osï¼ŒåŒ…æ‹¬æª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œç­‰ã€‚\næª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œ os package å¯ä»¥åŸ·è¡Œå„ç¨®æª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œï¼Œå¦‚å»ºç«‹ã€è®€å–ã€å¯«å…¥ã€åˆªé™¤æª”æ¡ˆï¼Œä»¥åŠå–å¾—è³‡æ–™å¤¾å…§å®¹ç­‰ã€‚\nå»ºç«‹ç›¸é—œæ“ä½œ os.Createï¼šå»ºç«‹ä¸€å€‹æ–°æª”æ¡ˆã€‚ os.Mkdirï¼šå»ºç«‹ä¸€å€‹æ–°è³‡æ–™å¤¾ã€‚ os.MkdirAllï¼šå»ºç«‹è³‡æ–™å¤¾ï¼ŒåŒ…æ‹¬å¿…è¦çš„çˆ¶å±¤è³‡æ–™å¤¾ã€‚ èªæ³•å¦‚ä¸‹ï¼š\nfunc os.Create(name string) (*os.File, error) func os.Mkdir(name string, perm fs.FileMode) error func os.MkdirAll(path string, perm fs.FileMode) error package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;io\u0026#34; ) func main() { // å»ºç«‹è³‡æ–™å¤¾ï¼ŒæŒ‡å®šæ¬Šé™ç‚º755 err := os.Mkdir(\u0026#34;mydir\u0026#34;, 0755) if err != nil { fmt.Println(\u0026#34;Error creating directory:\u0026#34;, err) } else { fmt.Println(\u0026#34;Directory created successfully.\u0026#34;) } // å»ºç«‹ä¸€å€‹æ–°æª”æ¡ˆä¸¦å¯«å…¥å…§å®¹ file, err := os.Create(\u0026#34;example.txt\u0026#34;) if err != nil { fmt.Println(err) return } defer file.Close() file.WriteString(\u0026#34;Hello, World!\u0026#34;) } è®€å¯«ç›¸é—œæ“ä½œ os.Openï¼šæ‰“é–‹ä¸€å€‹æª”æ¡ˆé€²è¡Œè®€å–æ“ä½œã€‚ os.OpenFileï¼šæ‰“é–‹ä¸€å€‹æª”æ¡ˆï¼Œå¯ä»¥æŒ‡å®šæ›´å¤šçš„é¸é …ï¼Œå¦‚è®€å¯«æ¨¡å¼å’Œæ¬Šé™ã€‚ os.Getwdï¼šå–å¾—ç•¶å‰è·¯å¾‘ os.Statï¼šå–å¾—æª”æ¡ˆæˆ–è³‡æ–™å¤¾è¨Šæ¯ã€‚ os.IsNotExistï¼šæª¢æŸ¥æª”æ¡ˆæˆ–è³‡æ–™å¤¾æ˜¯å¦å­˜åœ¨ã€‚ os.Renameï¼šé‡å‘½åæª”æ¡ˆæˆ–è³‡æ–™å¤¾ èªæ³•å¦‚ä¸‹ï¼š\nfunc os.Open(name string) (*os.File, error) func OpenFile(name string, flag int, perm FileMode) (*File, error) func os.Getwd() (dir string, err error) func os.Stat(name string) (fs.FileInfo, error) func os.IsNotExist(err error) bool OpenFileçš„ç´°é …ä»‹ç´¹ï¼š\nç¬¬ä¸€å€‹åƒæ•¸ç‚ºæª”åï¼Œç¬¬äºŒå€‹ç‚ºè¦å°æª”æ¡ˆä½¿ç”¨çš„é¸é …ï¼Œç¬¬ä¸‰å€‹å‰‡ç‚ºæª”æ¡ˆæ¬Šé™çš„è¨­å®šã€‚\nå¸¸è¦‹çš„é¸é …æœ‰ä»¥ä¸‹å¹¾ç¨®ï¼š\nO_RDONLYï¼šä»¥åªè®€æ¨¡å¼æ‰“é–‹æª”æ¡ˆï¼Œä¸å…è¨±å¯«å…¥ã€‚ O_WRONLYï¼šä»¥åªå¯«æ¨¡å¼æ‰“é–‹æª”æ¡ˆï¼Œä¸å…è¨±è®€å–ã€‚ O_APPENDï¼šä»¥é™„åŠ æ¨¡å¼æ‰“é–‹æª”æ¡ˆï¼Œæ–°å…§å®¹å°‡é™„åŠ åˆ°æª”æ¡ˆæœ«å°¾ã€‚ O_TRUNCï¼šå¦‚æœæª”æ¡ˆå­˜åœ¨ï¼Œå‰‡æ¸…ç©ºæª”æ¡ˆå…§å®¹ã€‚ O_EXCLï¼šèˆ‡ O_CREATE ä¸€èµ·ä½¿ç”¨æ™‚ï¼Œåªæœ‰åœ¨æª”æ¡ˆä¸å­˜åœ¨æ™‚æ‰å»ºç«‹æª”æ¡ˆï¼Œç”¨æ–¼é˜²æ­¢æª”æ¡ˆç«¶çˆ­ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { // æ‰“é–‹æª”æ¡ˆä¸¦è®€å–å…§å®¹ readFile, err := os.Open(\u0026#34;example.txt\u0026#34;) if err != nil { fmt.Println(err) return } defer readFile.Close() // æ‰“é–‹ä¸€å€‹æª”æ¡ˆä»¥é€²è¡Œè®€å¯«æ“ä½œ file, err := os.OpenFile(\u0026#34;example.txt\u0026#34;, os.O_RDWR|os.O_CREATE, 0755) if err != nil { fmt.Println(\u0026#34;Error opening file:\u0026#34;, err) return } defer file.Close() // å–å¾—ç•¶å‰å·¥ä½œè³‡æ–™å¤¾ wd, err := os.Getwd() if err != nil { fmt.Println(\u0026#34;Error:\u0026#34;, err) return } fmt.Println(\u0026#34;Current Working Directory:\u0026#34;, wd) } é€™é‚Šå¦å¤–ä»‹ç´¹ä¸€ä¸‹Statï¼Œ\nStatæœƒå›å‚³ä¸€å€‹FileInfoçš„interface\ntype FileInfo interface { Name() string // base name of the file Size() int64 // length in bytes for regular files; system-dependent for others Mode() FileMode // file mode bits ModTime() time.Time // modification time IsDir() bool // abbreviation for Mode().IsDir() Sys() any // underlying data source (can return nil) } package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { fileInfo, err := os.Stat(\u0026#34;example.txt\u0026#34;) if err == nil { fmt.Println(\u0026#34;File exists.\u0026#34;) } else if os.IsNotExist(err) { fmt.Println(\u0026#34;File does not exist.\u0026#34;) } else { fmt.Println(\u0026#34;Error:\u0026#34;, err) } // å–å¾—æª”æ¡ˆè³‡è¨Š fmt.Println(fileInfo.Name()) fmt.Println(fileInfo.IsDir()) fmt.Println(fileInfo.Size()) fmt.Println(fileInfo.ModTime()) fmt.Println(fileInfo.Mode()) } è¦å¯«å…¥æª”æ¡ˆå‰‡éœ€è¦å…ˆå–å¾—os.Fileç‰©ä»¶ï¼Œå¯é€éOpenfileå–å¾—ã€‚ å…ˆä¾†çœ‹ä¸€ä¸‹WriteStringèªæ³•\nfunc (*os.File).WriteString(s string) (n int, err error) å…¶ä¸­sç‚ºè¦å¯«å…¥çš„å…§å®¹ï¼Œnç‚ºå¯«å…¥çš„å­—ç¯€æ•¸\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { // æ‰“é–‹ä¸€å€‹æª”æ¡ˆä»¥é€²è¡Œå¯«å…¥æ“ä½œ file, err := os.OpenFile(\u0026#34;example.txt\u0026#34;, os.O_WRONLY|os.O_CREATE|os.O_APPEND, 0644) if err != nil { fmt.Println(\u0026#34;Error opening file:\u0026#34;, err) return } defer file.Close() // å¯«å…¥å…§å®¹åˆ°æª”æ¡ˆ _, err = file.WriteString(\u0026#34;Hello, Appended Content!\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error writing to file:\u0026#34;, err) return } fmt.Println(\u0026#34;File opened and written in append mode successfully.\u0026#34;) } æœ€å¾Œä»‹ç´¹ä¸€ä¸‹Renameï¼Œèªæ³•å¦‚ä¸‹ï¼š\nfunc os.Rename(oldpath string, newpath string) error package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { // é‡å‘½åæª”æ¡ˆ err := os.Rename(\u0026#34;oldfile.txt\u0026#34;, \u0026#34;newfile.txt\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error:\u0026#34;, err) return } // é‡å‘½åè³‡æ–™å¤¾ err = os.Rename(\u0026#34;olddir\u0026#34;, \u0026#34;newdir\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error:\u0026#34;, err) return } } åˆªé™¤ç›¸é—œæ“ä½œ os.Removeï¼šåˆªé™¤æª”æ¡ˆå’Œè³‡æ–™å¤¾ï¼Œå¦‚æœè³‡æ–™å¤¾ä¸ç‚ºç©ºæœƒå ±éŒ¯ã€‚ os.RemoveAllï¼šåˆªé™¤æª”æ¡ˆå’Œè³‡æ–™å¤¾ã€‚ å…©ç¨®ä½¿ç”¨æ–¹æ³•éƒ½å¾ˆé¡ä¼¼ï¼Œèªæ³•ç‚º\nfunc os.Remove(name string) error func os.RemoveAll(path string) error package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { file, err := os.Create(\u0026#34;example.txt\u0026#34;) if err != nil { fmt.Println(err) return } defer file.Close() err := os.Remove(\u0026#34;example.txt\u0026#34;) if err != nil { fmt.Println(\u0026#34;Error deleting file:\u0026#34;, err) } else { fmt.Println(\u0026#34;File deleted successfully.\u0026#34;) } testDir := \u0026#34;d1/d2/d3\u0026#34; // Create Recursive dir err := os.MkdirAll(testDir, os.ModePerm) if err != nil { fmt.Println(\u0026#34;Error creating directory:\u0026#34;, err) } // ä½¿ç”¨ os.RemoveAll() åˆªé™¤è³‡æ–™å¤¾ err = os.RemoveAll(\u0026#34;d1\u0026#34;) // err = os.Remove(\u0026#34;d1\u0026#34;) // å› è³‡æ–™å¤¾ä¸ç‚ºç©ºï¼Œå› æ­¤æœƒå™´directory not emptyéŒ¯èª¤ if err != nil { fmt.Println(\u0026#34;Error deleting directory:\u0026#34;, err) } else { fmt.Println(\u0026#34;Directory deleted successfully.\u0026#34;) } } ğŸ“š åƒè€ƒè³‡æ–™ os package - os - Go packages Go Standard Library - os Go file - working with files in Golang (zetcode.com) ","permalink":"https://sz9751210.github.io/posts/go-os-file/","summary":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä»Šå¤©å¿«é€Ÿä»‹ç´¹ä¸€ä¸‹å°æª”æ¡ˆçš„æ“ä½œæ‰€ä½¿ç”¨çš„package osï¼ŒåŒ…æ‹¬æª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œç­‰ã€‚\næª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œ os package å¯ä»¥åŸ·è¡Œå„ç¨®æª”æ¡ˆå’Œè³‡æ–™å¤¾æ“ä½œï¼Œå¦‚å»ºç«‹ã€è®€å–ã€å¯«å…¥ã€åˆªé™¤æª”æ¡ˆï¼Œä»¥åŠå–å¾—è³‡æ–™å¤¾å…§å®¹ç­‰ã€‚\nå»ºç«‹ç›¸é—œæ“ä½œ os.Createï¼šå»ºç«‹ä¸€å€‹æ–°æª”æ¡ˆã€‚ os.Mkdirï¼šå»ºç«‹ä¸€å€‹æ–°è³‡æ–™å¤¾ã€‚ os.MkdirAllï¼šå»ºç«‹è³‡æ–™å¤¾ï¼ŒåŒ…æ‹¬å¿…è¦çš„çˆ¶å±¤è³‡æ–™å¤¾ã€‚ èªæ³•å¦‚ä¸‹ï¼š\nfunc os.Create(name string) (*os.File, error) func os.Mkdir(name string, perm fs.FileMode) error func os.MkdirAll(path string, perm fs.FileMode) error package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;io\u0026#34; ) func main() { // å»ºç«‹è³‡æ–™å¤¾ï¼ŒæŒ‡å®šæ¬Šé™ç‚º755 err := os.Mkdir(\u0026#34;mydir\u0026#34;, 0755) if err != nil { fmt.Println(\u0026#34;Error creating directory:\u0026#34;, err) } else { fmt.Println(\u0026#34;Directory created successfully.\u0026#34;) } // å»ºç«‹ä¸€å€‹æ–°æª”æ¡ˆä¸¦å¯«å…¥å…§å®¹ file, err := os.Create(\u0026#34;example.txt\u0026#34;) if err !","title":"å¦‚ä½•åœ¨ Go ä¸­æ“ä½œæª”æ¡ˆ"},{"content":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä»Šå¤©çš„encoding/json packageæ˜¯æˆ‘æ—¥å¸¸åœ¨é–‹ç™¼webæ™‚å¾ˆå¸¸ç”¨åˆ°çš„packageä¹‹ä¸€ï¼Œä¸»è¦æ˜¯ç”¨ä¾†å°‡Go structå’Œ JSON ä¹‹é–“é€²è¡Œè½‰æ›ã€‚ä¸»è¦åŠŸèƒ½ç‚ºè³‡æ–™åºåˆ—åŒ–ï¼ˆmarshallingï¼‰å’Œååºåˆ—åŒ–ï¼ˆunmarshallingï¼‰ã€‚\nä¸»è¦åŠŸèƒ½ encoding/json package ä¸»è¦ç”¨ä¾†å°‡ Go structè½‰æ›ç‚º JSON æ ¼å¼ï¼ˆmarshallingï¼‰ä»¥åŠå°‡ JSON è³‡æ–™è½‰æ›ç‚º Go structï¼ˆunmarshallingï¼‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦åŠŸèƒ½ï¼š\nå°‡ Go structè½‰æ›ç‚º JSON ä½¿ç”¨ json.Marshal å‡½æ•¸å¯ä»¥å°‡ Go structè½‰æ›ç‚º JSON æ ¼å¼çš„è³‡æ–™ã€‚\npackage main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type Person struct { Name string `json:\u0026#34;name\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } func main() { person := Person{Name: \u0026#34;Alan\u0026#34;, Age: 25} jsonData, err := json.Marshal(person) if err != nil { fmt.Println(\u0026#34;JSON ç·¨ç¢¼å¤±æ•—:\u0026#34;, err) return } fmt.Println(string(jsonData)) // è¼¸å‡º: {\u0026#34;name\u0026#34;:\u0026#34;Alan\u0026#34;,\u0026#34;age\u0026#34;:25} } åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å…ˆå®šç¾©äº†ä¸€å€‹ Person structï¼Œç„¶å¾Œä½¿ç”¨ json.Marshal å‡½æ•¸å°‡ Person è½‰æ›ç‚º JSON è³‡æ–™ã€‚\nå°‡ JSON è³‡æ–™è½‰æ›ç‚º Go struct ä½¿ç”¨ json.Unmarshal å‡½æ•¸å¯ä»¥å°‡ JSON è³‡æ–™è½‰æ›ç‚º Go structã€‚\npackage main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type Person struct { Name string `json:\u0026#34;name\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } func main() { jsonData := []byte(`{\u0026#34;name\u0026#34;:\u0026#34;Bob\u0026#34;,\u0026#34;age\u0026#34;:30}`) var person Person err := json.Unmarshal(jsonData, \u0026amp;person) if err != nil { fmt.Println(\u0026#34;JSON è§£ç¢¼å¤±æ•—:\u0026#34;, err) return } fmt.Println(\u0026#34;å§“å:\u0026#34;, person.Name) fmt.Println(\u0026#34;å¹´é½¡:\u0026#34;, person.Age) // è¼¸å‡º: // å§“å: Bob // å¹´é½¡: 30 } åè½‰å‰‡æ˜¯ä½¿ç”¨ json.Unmarshal å‡½æ•¸å°‡ JSON è³‡æ–™è½‰æ›ç‚º Person çš„structã€‚\nè‡ªå®šç¾© JSON éµå ç•¶éœ€è¦APIé¡¯ç¤ºè‡ªå®šç¾© JSON æ¬„ä½éµåæ™‚ï¼Œå¯ä»¥åœ¨ Go structçš„æ¬„ä½ä¸Šä½¿ç”¨ json æ¨™ç±¤ä¾†è‡ªå®šç¾© JSON éµåï¼Œæ–¹ä¾¿èˆ‡å¤–éƒ¨ API æˆ–å…¶ä»–ç³»çµ±çš„æ ¼å¼ç›¸åŒã€‚\npackage main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type Person struct { FullName string `json:\u0026#34;full_name\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } func main() { person := Person{FullName: \u0026#34;Charlie Brown\u0026#34;, Age: 10} jsonData, err := json.Marshal(person) if err != nil { fmt.Println(\u0026#34;JSON ç·¨ç¢¼å¤±æ•—:\u0026#34;, err) return } fmt.Println(string(jsonData)) // è¼¸å‡º: {\u0026#34;full_name\u0026#34;:\u0026#34;Charlie Brown\u0026#34;,\u0026#34;age\u0026#34;:10} } åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨ json æ¨™ç±¤ä¾†æŒ‡å®š FullName æ¬„ä½åœ¨ JSON ä¸­çš„åç¨±ç‚º \u0026ldquo;full_name\u0026rdquo;ã€‚\nå¸¸è¦‹ç”¨æ³• è§£æè¤‡é›œçš„ JSON è³‡æ–™ encoding/json package å¯ä»¥è™•ç†è¤‡é›œçš„ JSON è³‡æ–™ï¼ŒåŒ…æ‹¬åµŒå¥—structå’Œé™£åˆ—ã€‚\npackage main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type Address struct { City string `json:\u0026#34;city\u0026#34;` Country string `json:\u0026#34;country\u0026#34;` } type Person struct { Name string `json:\u0026#34;name\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` Address Address `json:\u0026#34;address\u0026#34;` } func main() { jsonData := []byte(`{ \u0026#34;name\u0026#34;: \u0026#34;Alan\u0026#34;, \u0026#34;age\u0026#34;: 25, \u0026#34;address\u0026#34;: { \u0026#34;city\u0026#34;: \u0026#34;Taichung\u0026#34;, \u0026#34;country\u0026#34;: \u0026#34;Taiwan\u0026#34; } }`) var person Person err := json.Unmarshal(jsonData, \u0026amp;person) if err != nil { fmt.Println(\u0026#34;JSON è§£ç¢¼å¤±æ•—:\u0026#34;, err) return } fmt.Println(\u0026#34;å§“å:\u0026#34;, person.Name) fmt.Println(\u0026#34;å¹´é½¡:\u0026#34;, person.Age) fmt.Println(\u0026#34;åœ°å€:\u0026#34;, person.Address.Countryï¼Œperson.Address.City ) // è¼¸å‡º: // å§“å: Alan // å¹´é½¡: 25 // åœ°å€: Taiwan Taichung } åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº† Address å’Œ Person å…©å€‹structï¼Œå…¶ä¸­ Person åŒ…å«ä¸€å€‹åµŒå¥—çš„ Address structã€‚æˆ‘å€‘ä½¿ç”¨ json.Unmarshal å‡½æ•¸è§£æåµŒå¥—structçš„ JSON è³‡æ–™ã€‚\nè™•ç† JSON é™£åˆ— encoding/json package ä¹Ÿèƒ½å¤ è™•ç† JSON é™£åˆ—ã€‚\npackage main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type Item struct { ID int `json:\u0026#34;id\u0026#34;` Name string `json:\u0026#34;name\u0026#34;` } func main() { jsonData := []byte(`[ {\u0026#34;id\u0026#34;: 1, \u0026#34;name\u0026#34;: \u0026#34;Item 1\u0026#34;}, {\u0026#34;id\u0026#34;: 2, \u0026#34;name\u0026#34;: \u0026#34;Item 2\u0026#34;}, {\u0026#34;id\u0026#34;: 3, \u0026#34;name\u0026#34;: \u0026#34;Item 3\u0026#34;} ]`) var items []Item err := json.Unmarshal(jsonData, \u0026amp;items) if err != nil { fmt.Println(\u0026#34;JSON è§£ç¢¼å¤±æ•—:\u0026#34;, err) return } for _, item := range items { fmt.Printf(\u0026#34;ID: %d, åç¨±: %s\\n\u0026#34;, item.ID, item.Name) } // è¼¸å‡º: // ID: 1, åç¨±: Item 1 // ID: 2, åç¨±: Item 2 // ID: 3, åç¨±: Item 3 } å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘å®šç¾©äº† Item structï¼Œç„¶å¾Œä½¿ç”¨ json.Unmarshal å‡½æ•¸è§£æåŒ…å« JSON é™£åˆ—çš„ JSON è³‡æ–™ã€‚\nğŸ“š åƒè€ƒè³‡æ–™ encoding/json package - json - Go packages The Go Blog - JSON and Go ","permalink":"https://sz9751210.github.io/posts/go-json/","summary":"ğŸ‘¨â€ğŸ’» ç°¡ä»‹ ä»Šå¤©çš„encoding/json packageæ˜¯æˆ‘æ—¥å¸¸åœ¨é–‹ç™¼webæ™‚å¾ˆå¸¸ç”¨åˆ°çš„packageä¹‹ä¸€ï¼Œä¸»è¦æ˜¯ç”¨ä¾†å°‡Go structå’Œ JSON ä¹‹é–“é€²è¡Œè½‰æ›ã€‚ä¸»è¦åŠŸèƒ½ç‚ºè³‡æ–™åºåˆ—åŒ–ï¼ˆmarshallingï¼‰å’Œååºåˆ—åŒ–ï¼ˆunmarshallingï¼‰ã€‚\nä¸»è¦åŠŸèƒ½ encoding/json package ä¸»è¦ç”¨ä¾†å°‡ Go structè½‰æ›ç‚º JSON æ ¼å¼ï¼ˆmarshallingï¼‰ä»¥åŠå°‡ JSON è³‡æ–™è½‰æ›ç‚º Go structï¼ˆunmarshallingï¼‰ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦åŠŸèƒ½ï¼š\nå°‡ Go structè½‰æ›ç‚º JSON ä½¿ç”¨ json.Marshal å‡½æ•¸å¯ä»¥å°‡ Go structè½‰æ›ç‚º JSON æ ¼å¼çš„è³‡æ–™ã€‚\npackage main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type Person struct { Name string `json:\u0026#34;name\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } func main() { person := Person{Name: \u0026#34;Alan\u0026#34;, Age: 25} jsonData, err := json.Marshal(person) if err != nil { fmt.Println(\u0026#34;JSON ç·¨ç¢¼å¤±æ•—:\u0026#34;, err) return } fmt.","title":"å¦‚ä½•åœ¨ Go ä¸­è™•ç† JSON"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œreflect packageæ˜¯ç”¨ä¾†æª¢æŸ¥å’Œæ“ä½œè®Šæ•¸çš„typeã€valueå’Œstructã€‚å¸¸è¦‹ç”¨æ³•æœ‰æª¢å¯Ÿ typeã€èª¿ç”¨æ–¹æ³•ï¼Œä»¥åŠä¿®æ”¹è®Šæ•¸çš„valueã€‚ä»Šå¤©ç°¡å–®ä»‹ç´¹ reflect packageçš„ä¸»è¦åŠŸèƒ½ã€ä½¿ç”¨æ–¹æ³•å’Œå¸¸è¦‹ç”¨æ³•ã€‚\nä¸»è¦åŠŸèƒ½ reflect package ä¸»è¦ç”¨ä¾†åœ¨é‹è¡Œæ™‚æª¢æŸ¥å’Œæ“ä½œè®Šæ•¸çš„typeè¨Šæ¯ã€‚é€™å°æ–¼éœ€è¦åœ¨ä¸ç¢ºå®štypeçš„æƒ…æ³ä¸‹è™•ç†è³‡æ–™çš„æƒ…æ³éå¸¸æœ‰ç”¨ã€‚è¦ä½¿ç”¨reflect packageï¼Œé¦–å…ˆéœ€è¦importå®ƒï¼š\nimport \u0026#34;reflect\u0026#34; reflect packageçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\nType reflect reflect å¯ä»¥è®“ä½ å–å¾—è®Šæ•¸çš„typeè¨Šæ¯ï¼Œæ–¹ä¾¿æˆ‘å€‘åœ¨é‹è¡Œæ™‚é€²è¡Œtypeæ¯”è¼ƒï¼Œæª¢æŸ¥è®Šæ•¸çš„typeã€‚ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬çš„type reflectæ“ä½œï¼š\nreflect.TypeOfï¼šå–å¾—è®Šæ•¸çš„typeã€‚ reflect.ValueOfï¼šå–å¾—è®Šæ•¸çš„valueã€‚ reflect.Zeroï¼šå»ºç«‹ä¸€å€‹zero valueã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { var num int typ := reflect.TypeOf(num) val := reflect.ValueOf(num) zeroVal := reflect.Zero(typ) fmt.Printf(\u0026#34;Type: %v\\n\u0026#34;, typ) // Type: int fmt.Printf(\u0026#34;Value: %v\\n\u0026#34;, val) // Value: 0 fmt.Printf(\u0026#34;Zero Value: %v\\n\u0026#34;, zeroVal) // Zero Value: 0 } Struct reflect reflect å¯ä»¥è®“ä½ å–å¾—structæ¬„ä½çš„è¨Šæ¯ï¼Œè¨ªå•structæ¬„ä½çš„valueï¼Œä»¥åŠä¿®æ”¹structæ¬„ä½çš„valueã€‚\nreflect.Value.Fieldï¼šå–å¾—structæ¬„ä½çš„valueã€‚ reflect.Value.FieldByNameï¼šæ ¹æ“šæ¬„ä½åç¨±å–å¾—structæ¬„ä½çš„valueã€‚ reflect.Value.FieldByIndexï¼šæ ¹æ“šæ¬„ä½ç´¢å¼•å–å¾—structæ¬„ä½çš„valueã€‚ reflect.Value.FieldByNameFuncï¼šä½¿ç”¨è‡ªå®šç¾©å‡½æ•¸æŸ¥æ‰¾æ¬„ä½ã€‚ reflect.Value.Setï¼šè¨­å®šè®Šæ•¸çš„valueã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) type Person struct { Name string Age int } func main() { person := Person{Name: \u0026#34;Alan\u0026#34;, Age: 30} val := reflect.ValueOf(person) nameField := val.FieldByName(\u0026#34;Name\u0026#34;) fmt.Printf(\u0026#34;Name: %v\\n\u0026#34;, nameField) // Name: \u0026#34;Alan\u0026#34; ageField := val.FieldByName(\u0026#34;Age\u0026#34;) fmt.Printf(\u0026#34;Age: %v\\n\u0026#34;, ageField) // Age: 30 val.FieldByName(\u0026#34;Age\u0026#34;).SetInt(31) fmt.Printf(\u0026#34;Updated Age: %v\\n\u0026#34;, person.Age) // Updated Age: 31 } æ–¹æ³• reflect reflect ä¹Ÿå¯ä»¥èª¿ç”¨structçš„æ–¹æ³•ã€‚\nreflect.Value.Methodï¼šå–å¾—structæ–¹æ³•ã€‚ reflect.Value.MethodByNameï¼šæ ¹æ“šæ–¹æ³•åå–å¾—structæ–¹æ³•ã€‚ reflect.Value.Callï¼šèª¿ç”¨æ–¹æ³•ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) type Calculator struct{} func (c Calculator) Add(a, b int) int { return a + b } func main() { calculator := Calculator{} // ä½¿ç”¨ reflect.ValueOf å–å¾—è¨ˆç®—å™¨ç‰©ä»¶çš„reflect value val := reflect.ValueOf(calculator) // ä½¿ç”¨ MethodByName æ–¹æ³•å–å¾—åç‚º \u0026#34;Add\u0026#34; çš„æ–¹æ³•çš„reflect value method := val.MethodByName(\u0026#34;Add\u0026#34;) // æº–å‚™æ–¹æ³•çš„åƒæ•¸ args := []reflect.Value{reflect.ValueOf(5), reflect.ValueOf(3)} // èª¿ç”¨æ–¹æ³•ä¸¦å–å¾—çµæœï¼Œç„¶å¾Œè½‰æ›ç‚ºæ•´æ•¸å‹åˆ¥ result := method.Call(args)[0].Interface().(int) fmt.Printf(\u0026#34;Result: %d\\n\u0026#34;, result) // Result: 8 } å»ºç«‹æ–°çš„value reflect ä¹Ÿå¯ä»¥ç”¨ä¾†å»ºç«‹ä¸€å€‹æ–°çš„è®Šæ•¸ï¼Œä¸¦è¨­å®šå®ƒçš„valueã€‚å…ˆå»ºç«‹è®Šæ•¸çš„é¡å‹ï¼Œç„¶å¾Œä½¿ç”¨ reflect.New æ–¹æ³•ä¾†å»ºç«‹ï¼Œæœ€å¾Œä½¿ç”¨ Elem æ–¹æ³•å–å¾—å¯è¨­å®švalueçš„å°è±¡ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { // å–å¾—æ•´æ•¸é¡å‹çš„ reflect.Type intType := reflect.TypeOf(0) // å»ºç«‹ä¸€å€‹æ–°çš„æ•´æ•¸è®Šæ•¸ newInt := reflect.New(intType).Elem() // è¨­å®šè®Šæ•¸çš„value newInt.SetInt(42) // å–å¾—è®Šæ•¸çš„value fmt.Println(\u0026#34;New Integer Value:\u0026#34;, newInt.Int()) // 42 } ä¿®æ”¹è®Šæ•¸çš„value è¦ä½¿ç”¨ reflect ä¿®æ”¹è®Šæ•¸çš„valueï¼Œæœ‰ä»¥ä¸‹æ­¥é©Ÿï¼š\nä½¿ç”¨ reflect.ValueOf å‡½æ•¸å–å¾—è®Šæ•¸çš„ reflect.Valueã€‚ ä½¿ç”¨ .Elem() æ–¹æ³•å–å¾—å¯å¯«çš„valueï¼ˆå¦‚æœåŸå§‹valueæ˜¯pointeræˆ–interfaceï¼‰ã€‚ ä½¿ç”¨ CanSet æ–¹æ³•ç¢ºä¿valueå¯å¯«ã€‚ ä½¿ç”¨ SetXXX æ–¹æ³•è¨­å®šæ–°çš„valueï¼Œå…¶ä¸­ XXX æ˜¯æ‰€éœ€çš„è³‡æ–™typeã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { // å‰µå»ºä¸€å€‹æ•´æ•¸è®Šæ•¸ var num int = 42 // ä½¿ç”¨ reflect.ValueOf å–å¾— reflect.Value valueOfNum := reflect.ValueOf(\u0026amp;num).Elem() // ä½¿ç”¨ Elem() å–å¾—å¯å¯«çš„value if valueOfNum.CanSet() { // ä½¿ç”¨ SetInt è¨­å®šæ–°çš„æ•´æ•¸value valueOfNum.SetInt(99) } fmt.Println(\u0026#34;Updated Value:\u0026#34;, num) // 99 } åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘é¦–å…ˆä½¿ç”¨ reflect.ValueOf å–å¾—æ•´æ•¸è®Šæ•¸ num çš„ reflect.Valueï¼Œç„¶å¾Œä½¿ç”¨ .Elem() æ–¹æ³•å–å¾—å¯å¯«çš„valueã€‚æœ€å¾Œï¼Œæˆ‘å€‘ä½¿ç”¨ SetInt æ–¹æ³•è¨­å®šæ–°çš„æ•´æ•¸valueã€‚è«‹æ³¨æ„ï¼Œåªæœ‰åœ¨å¯å¯«çš„valueä¸Šæ‰èƒ½ä½¿ç”¨ SetXXX æ–¹æ³•ï¼Œä½¿ç”¨å‰è¨˜å¾—ä½¿ç”¨ CanSet æ–¹æ³•ä¾†ç¢ºä¿valueæ˜¯å¯å¯«çš„ã€‚\næª¢æŸ¥æ˜¯å¦æœ‰æ•ˆå’Œæ˜¯å¦ç‚ºç©º reflect package é‚„æä¾›äº† IsValid å’Œ IsNil æ–¹æ³•ï¼Œç”¨ä¾†æª¢æŸ¥ reflect valueæ˜¯å¦æœ‰æ•ˆï¼ˆä¸ç‚ºzero valueï¼‰å’Œæ˜¯å¦ç‚ºnil pointerã€‚é€™åœ¨è™•ç† reflect valueæ™‚éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥é¿å…æ„å¤–çš„éŒ¯èª¤ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { var num int = 42 value := reflect.ValueOf(num) if value.IsValid() { fmt.Println(\u0026#34;Value is valid\u0026#34;) } var ptr *int ptrValue := reflect.ValueOf(ptr) if ptrValue.IsValid() { fmt.Println(\u0026#34;Pointer Value is valid\u0026#34;) } else if ptrValue.IsNil() { fmt.Println(\u0026#34;Pointer Value is nil\u0026#34;) } } å¸¸è¦‹ç”¨æ³• æª¢æŸ¥Interfaceçš„å‹•æ…‹type package main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { var x interface{} = 42 val := reflect.ValueOf(x) if val.Type() == reflect.TypeOf(0) { fmt.Printf(\u0026#34;Value is an integer: %d\\n\u0026#34;, val.Int()) } else { fmt.Printf(\u0026#34;Value is not an integer\\n\u0026#34;) } } éæ­·structçš„æ¬„ä½ reflect package å¯ä»¥ç”¨ä¾†éæ­·structçš„æ¬„ä½ï¼Œé€™åœ¨æŸäº›æƒ…æ³ä¸‹å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚åºåˆ—åŒ–æˆ–æª¢æŸ¥structçš„æ¬„ä½å±¬æ€§ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) type Person struct { Name string Age int Address string } func main() { p := Person{\u0026#34;Alan\u0026#34;, 30, \u0026#34;123 Main St\u0026#34;} valueOfP := reflect.ValueOf(p) for i := 0; i \u0026lt; valueOfP.NumField(); i++ { field := valueOfP.Field(i) fmt.Printf(\u0026#34;Field Name: %s, Field Value: %v\\n\u0026#34;, valueOfP.Type().Field(i).Name, field.Interface()) } } æª¢æŸ¥æ–¹æ³•æ˜¯å¦å­˜åœ¨ ä½ å¯ä»¥ä½¿ç”¨reflect package æª¢æŸ¥structæ˜¯å¦å¯¦ç¾äº†æŸå€‹æ–¹æ³•ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) type Person struct { Name string Age int } func (p Person) SayHello() { fmt.Println(\u0026#34;Hello, my name is\u0026#34;, p.Name) } func main() { p := Person{\u0026#34;Alan\u0026#34;, 30} valueOfP := reflect.ValueOf(p) method := valueOfP.MethodByName(\u0026#34;SayHello\u0026#34;) if method.IsValid() { fmt.Println(\u0026#34;SayHello method exists\u0026#34;) } else { fmt.Println(\u0026#34;SayHello method does not exist\u0026#34;) } } æ“ä½œåˆ‡ç‰‡å’Œæ˜ å°„ reflect package å¯ä»¥ç”¨ä¾†å‹•æ…‹æ“ä½œåˆ‡ç‰‡å’Œæ˜ å°„çš„å…ƒç´ ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { slice := []int{1, 2, 3} mapVal := map[string]int{\u0026#34;a\u0026#34;: 1, \u0026#34;b\u0026#34;: 2} sliceValue := reflect.ValueOf(slice) mapValue := reflect.ValueOf(mapVal) // ä¿®æ”¹åˆ‡ç‰‡å’Œæ˜ å°„çš„å…ƒç´  sliceValue.Index(0).SetInt(42) mapValue.SetMapIndex(reflect.ValueOf(\u0026#34;b\u0026#34;), reflect.ValueOf(99)) fmt.Println(slice) // [42 2 3] fmt.Println(mapVal) // map[a:1 b:99] } ğŸ“šåƒè€ƒè³‡æ–™ reflect package - reflect - Go packages The Laws of Reflection ","permalink":"https://sz9751210.github.io/posts/go-reflect/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œreflect packageæ˜¯ç”¨ä¾†æª¢æŸ¥å’Œæ“ä½œè®Šæ•¸çš„typeã€valueå’Œstructã€‚å¸¸è¦‹ç”¨æ³•æœ‰æª¢å¯Ÿ typeã€èª¿ç”¨æ–¹æ³•ï¼Œä»¥åŠä¿®æ”¹è®Šæ•¸çš„valueã€‚ä»Šå¤©ç°¡å–®ä»‹ç´¹ reflect packageçš„ä¸»è¦åŠŸèƒ½ã€ä½¿ç”¨æ–¹æ³•å’Œå¸¸è¦‹ç”¨æ³•ã€‚\nä¸»è¦åŠŸèƒ½ reflect package ä¸»è¦ç”¨ä¾†åœ¨é‹è¡Œæ™‚æª¢æŸ¥å’Œæ“ä½œè®Šæ•¸çš„typeè¨Šæ¯ã€‚é€™å°æ–¼éœ€è¦åœ¨ä¸ç¢ºå®štypeçš„æƒ…æ³ä¸‹è™•ç†è³‡æ–™çš„æƒ…æ³éå¸¸æœ‰ç”¨ã€‚è¦ä½¿ç”¨reflect packageï¼Œé¦–å…ˆéœ€è¦importå®ƒï¼š\nimport \u0026#34;reflect\u0026#34; reflect packageçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\nType reflect reflect å¯ä»¥è®“ä½ å–å¾—è®Šæ•¸çš„typeè¨Šæ¯ï¼Œæ–¹ä¾¿æˆ‘å€‘åœ¨é‹è¡Œæ™‚é€²è¡Œtypeæ¯”è¼ƒï¼Œæª¢æŸ¥è®Šæ•¸çš„typeã€‚ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬çš„type reflectæ“ä½œï¼š\nreflect.TypeOfï¼šå–å¾—è®Šæ•¸çš„typeã€‚ reflect.ValueOfï¼šå–å¾—è®Šæ•¸çš„valueã€‚ reflect.Zeroï¼šå»ºç«‹ä¸€å€‹zero valueã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { var num int typ := reflect.TypeOf(num) val := reflect.ValueOf(num) zeroVal := reflect.Zero(typ) fmt.Printf(\u0026#34;Type: %v\\n\u0026#34;, typ) // Type: int fmt.Printf(\u0026#34;Value: %v\\n\u0026#34;, val) // Value: 0 fmt.Printf(\u0026#34;Zero Value: %v\\n\u0026#34;, zeroVal) // Zero Value: 0 } Struct reflect reflect å¯ä»¥è®“ä½ å–å¾—structæ¬„ä½çš„è¨Šæ¯ï¼Œè¨ªå•structæ¬„ä½çš„valueï¼Œä»¥åŠä¿®æ”¹structæ¬„ä½çš„valueã€‚","title":"Reflectï¼šGo èªè¨€çš„é¡å­"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ è¦è™•ç†æ—¥æœŸå’Œæ™‚é–“ï¼Œå°±å¿…é ˆçŸ¥é“é€™å€‹Package -\u0026gt; timeï¼ŒGoæä¾›äº†å…§å»ºçš„timePackageã€‚ ä»Šå¤©ä¸»è¦ä»‹ç´¹timeçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ™‚é–“æ“ä½œã€æ ¼å¼åŒ–ç­‰ç­‰ï¼Œä»¥åŠå¸¸è¦‹ç”¨æ³•ã€‚\nä¸»è¦åŠŸèƒ½ timePackageçš„ä¸»è¦åŠŸèƒ½æ˜¯è™•ç†æ™‚é–“å’Œæ—¥æœŸçš„æ“ä½œï¼ŒåŒ…æ‹¬æ™‚é–“çš„è¡¨ç¤ºã€å‰µå»ºã€æ ¼å¼åŒ–å’Œè¨ˆç®—ã€‚åœ¨Goä¸­ï¼Œæ™‚é–“é€šå¸¸ä»¥time.Time typeè¡¨ç¤ºï¼Œé€™å€‹typeåŒ…å«äº†æ—¥æœŸå’Œæ™‚é–“çš„è³‡è¨Šã€‚\nå°å…¥Package import \u0026#34;time\u0026#34; å‰µå»ºæ™‚é–“ ä½¿ç”¨time.Now()å‡½æ•¸ä¾†ç²å–ç•¶å‰çš„æ™‚é–“ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { currentTime := time.Now() fmt.Println(\u0026#34;Current Time:\u0026#34;, currentTime) } ä½ é‚„å¯ä»¥ä½¿ç”¨time.Date()å‡½æ•¸ä¾†å‰µå»ºä¸€å€‹ç‰¹å®šæ—¥æœŸå’Œæ™‚é–“çš„time.Time ç‰©ä»¶ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { specificTime := time.Date(2023, time.September, 15, 12, 0, 0, 0, time.UTC) fmt.Println(\u0026#34;Specific Time:\u0026#34;, specificTime) } æ™‚é–“æ ¼å¼åŒ– timePackageæœ‰æä¾›è¨±å¤šæ–¹æ³•ä¾†æ ¼å¼åŒ–æ™‚é–“ç‚ºå­—ä¸²ã€‚å¯ä»¥ä½¿ç”¨Formatæ–¹æ³•å’ŒæŒ‡å®šçš„æ™‚é–“æ ¼å¼ä¾†å¯¦ç¾ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { currentTime := time.Now() fmt.Println(\u0026#34;Default Format:\u0026#34;, currentTime) fmt.Println(\u0026#34;Custom Format:\u0026#34;, currentTime.Format(\u0026#34;2006-01-02 15:04:05\u0026#34;)) } æ™‚é–“æ“ä½œ å°æ™‚é–“é€²è¡Œå¢æ¸›ï¼Œå¦‚è¨ˆç®—å…©å€‹æ™‚é–“çš„å·®è·ã€å¢åŠ æ™‚é–“ã€æ¸›å°‘æ™‚é–“ç­‰ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { now := time.Now() oneHourLater := now.Add(time.Hour) fmt.Println(\u0026#34;One Hour Later:\u0026#34;, oneHourLater) tenMinutesAgo := now.Add(-10 * time.Minute) fmt.Println(\u0026#34;Ten Minutes Ago:\u0026#34;, tenMinutesAgo) duration := oneHourLater.Sub(now) fmt.Println(\u0026#34;Time Difference:\u0026#34;, duration) } å®šæ™‚å™¨ timePackageé‚„æä¾›äº†å®šæ™‚å™¨çš„åŠŸèƒ½ï¼Œå¯ä»¥ç”¨ä¾†åŸ·è¡Œå®šæ™‚ä»»å‹™ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { ticker := time.NewTicker(2 * time.Second) defer ticker.Stop() for { select { case \u0026lt;-ticker.C: fmt.Println(\u0026#34;Tick at\u0026#34;, time.Now()) } } } Sleep è¦è®“ç¨‹å¼æš«åœåŸ·è¡Œä¸€æ®µæ™‚é–“ï¼Œå¯ä»¥ä½¿ç”¨time.Sleepå‡½æ•¸ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { fmt.Println(\u0026#34;Start\u0026#34;) time.Sleep(3 * time.Second) fmt.Println(\u0026#34;End after 3 seconds\u0026#34;) } å¸¸è¦‹ç”¨æ³• æ™‚é–“æ¯”è¼ƒ ä½¿ç”¨Beforeã€Afterå’ŒEqualæ–¹æ³•ä¾†æ¯”è¼ƒå…©å€‹æ™‚é–“å·®ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { now := time.Now() future := now.Add(time.Hour) if future.After(now) { fmt.Println(\u0026#34;Future time is after current time\u0026#34;) } past := now.Add(-time.Hour) if past.Before(now) { fmt.Println(\u0026#34;Past time is before current time\u0026#34;) } sameTime := now if sameTime.Equal(now) { fmt.Println(\u0026#34;Same time as current time\u0026#34;) } } è¨ˆç®—æ™‚é–“é–“éš” ä½¿ç”¨Subæ–¹æ³•è¨ˆç®—å…©å€‹æ™‚é–“ä¹‹é–“çš„æ™‚é–“é–“éš”ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { start := time.Now() time.Sleep(2 * time.Second) end := time.Now() duration := end.Sub(start) fmt.Println(\u0026#34;Time elapsed:\u0026#34;, duration) } æ™‚é–“æ ¼å¼åŒ–èˆ‡è§£æ å°‡æ™‚é–“æ ¼å¼åŒ–ç‚ºå­—ä¸²ï¼Œä¹Ÿå¯ä»¥å¾å­—ä¸²è§£æå‡ºæ™‚é–“ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { // æ ¼å¼åŒ–æ™‚é–“ç‚ºå­—ä¸² currentTime := time.Now() fmt.Println(\u0026#34;Default Format:\u0026#34;, currentTime) fmt.Println(\u0026#34;Custom Format:\u0026#34;, currentTime.Format(\u0026#34;2006-01-02 15:04:05\u0026#34;)) // å¾å­—ä¸²è§£ææ™‚é–“ timeStr := \u0026#34;2023-09-15 14:30:00\u0026#34; parsedTime, _ := time.Parse(\u0026#34;2006-01-02 15:04:05\u0026#34;, timeStr) fmt.Println(\u0026#34;Parsed Time:\u0026#34;, parsedTime) } å®šç¾©è‡ªå®šç¾©æ™‚å€ ä½¿ç”¨time.LoadLocationä¾†å®šç¾©è‡ªå®šç¾©çš„æ™‚å€ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { // å®šç¾©è‡ªå®šç¾©æ™‚å€ taipei, _ := time.LoadLocation(\u0026#34;Asia/Taipei\u0026#34;) // åœ¨æŒ‡å®šæ™‚å€ä¸‹ç²å–æ™‚é–“ twTime := time.Now().In(taipei) fmt.Println(\u0026#34;Taiwai Time:\u0026#34;, twTime) } å®šæ™‚ä»»å‹™ ä½¿ç”¨time.Timerä¾†åŸ·è¡Œå®šæ™‚ä»»å‹™ï¼Œé€šå¸¸ç”¨ä¾†å®šæ™‚åŸ·è¡Œç¨‹å¼ä¸­çš„æŸäº›æ“ä½œã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { timer1 := time.NewTimer(2 * time.Second) \u0026lt;-timer1.C fmt.Println(\u0026#34;Timer 1 fired\u0026#34;) timer2 := time.NewTimer(time.Second) go func() { \u0026lt;-timer2.C fmt.Println(\u0026#34;Timer 2 fired\u0026#34;) }() stop2 := timer2.Stop() if stop2 { fmt.Println(\u0026#34;Timer 2 stopped\u0026#34;) } } ğŸ“šåƒè€ƒè³‡æ–™ time package - time - Go Packages Go by Example: Time [pkg] time | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-time/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ è¦è™•ç†æ—¥æœŸå’Œæ™‚é–“ï¼Œå°±å¿…é ˆçŸ¥é“é€™å€‹Package -\u0026gt; timeï¼ŒGoæä¾›äº†å…§å»ºçš„timePackageã€‚ ä»Šå¤©ä¸»è¦ä»‹ç´¹timeçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ™‚é–“æ“ä½œã€æ ¼å¼åŒ–ç­‰ç­‰ï¼Œä»¥åŠå¸¸è¦‹ç”¨æ³•ã€‚\nä¸»è¦åŠŸèƒ½ timePackageçš„ä¸»è¦åŠŸèƒ½æ˜¯è™•ç†æ™‚é–“å’Œæ—¥æœŸçš„æ“ä½œï¼ŒåŒ…æ‹¬æ™‚é–“çš„è¡¨ç¤ºã€å‰µå»ºã€æ ¼å¼åŒ–å’Œè¨ˆç®—ã€‚åœ¨Goä¸­ï¼Œæ™‚é–“é€šå¸¸ä»¥time.Time typeè¡¨ç¤ºï¼Œé€™å€‹typeåŒ…å«äº†æ—¥æœŸå’Œæ™‚é–“çš„è³‡è¨Šã€‚\nå°å…¥Package import \u0026#34;time\u0026#34; å‰µå»ºæ™‚é–“ ä½¿ç”¨time.Now()å‡½æ•¸ä¾†ç²å–ç•¶å‰çš„æ™‚é–“ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { currentTime := time.Now() fmt.Println(\u0026#34;Current Time:\u0026#34;, currentTime) } ä½ é‚„å¯ä»¥ä½¿ç”¨time.Date()å‡½æ•¸ä¾†å‰µå»ºä¸€å€‹ç‰¹å®šæ—¥æœŸå’Œæ™‚é–“çš„time.Time ç‰©ä»¶ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { specificTime := time.Date(2023, time.September, 15, 12, 0, 0, 0, time.UTC) fmt.Println(\u0026#34;Specific Time:\u0026#34;, specificTime) } æ™‚é–“æ ¼å¼åŒ– timePackageæœ‰æä¾›è¨±å¤šæ–¹æ³•ä¾†æ ¼å¼åŒ–æ™‚é–“ç‚ºå­—ä¸²ã€‚å¯ä»¥ä½¿ç”¨Formatæ–¹æ³•å’ŒæŒ‡å®šçš„æ™‚é–“æ ¼å¼ä¾†å¯¦ç¾ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { currentTime := time.","title":"Timeï¼šGoèªè¨€çš„æ™‚é–“è™•ç†åˆ©å™¨"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ è¦å°å‡ºHello Worldï¼Œå°±æœƒç¢°åˆ°é€™å€‹Package -\u0026gt; fmtï¼Œä»Šå¤©ä¾†ç°¡å–®æ•´ç†ä¸€ä¸‹fmtçš„ä½œç”¨ã€æ ¼å¼åŒ–çš„æ§åˆ¶èˆ‡å¸¸è¦‹ç”¨æ³•ã€‚\nä¸»è¦åŠŸèƒ½ fmt å¥—ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯è™•ç†æ ¼å¼åŒ–çš„è¼¸å‡ºå’Œè¼¸å…¥ï¼ŒåŒ…æ‹¬è³‡æ–™æ ¼å¼è™•ç†ã€å­—ä¸²è§£æå’Œæ•¸å€¼è½‰æ›ç­‰åŠŸèƒ½ã€‚é€šå¸¸ç”¨ä¾†è¨˜éŒ„è¨Šæ¯ã€æª”æ¡ˆè™•ç†ç­‰ç­‰ã€‚fmt å¥—ä»¶ä¸­çš„å‡½æ•¸å¯ä»¥ä¸»è¦åˆ†ç‚ºå…©å¤§é¡ï¼šPrint å’Œ Scanã€‚\nå°å…¥Package import \u0026#34;fmt\u0026#34; Print å‡½æ•¸ç³»åˆ— fmt.Printï¼šå°‡è³‡æ–™å°åˆ°çµ‚ç«¯æ©Ÿã€‚ fmt.Printlnï¼šå°‡è³‡æ–™å°åˆ°çµ‚ç«¯æ©Ÿï¼Œä¸¦æ›è¡Œã€‚ fmt.Printfï¼šæ ¹æ“šæ ¼å¼åŒ–åƒæ•¸å°‡è³‡æ–™å°åˆ°çµ‚ç«¯æ©Ÿã€‚ fmt.Sprintfï¼šæ ¼å¼åŒ–æˆå­—ä¸²ï¼Œé€šå¸¸ç”¨åœ¨éœ€è¦ä»¥å­—ä¸²å½¢å¼è™•ç†æ ¼å¼åŒ–æ™‚æœƒç”¨åˆ° fmt.Fprintfï¼šæ ¼å¼åŒ–åˆ°æ–‡ä»¶ï¼Œé€šå¸¸ç”¨ä¾†å¯«æª”æœƒç”¨åˆ° Printèˆ‡Printfç›¸æ¯”ï¼Œå·®åœ¨ä¸èƒ½å°æ ¼å¼åŒ–è¼¸å‡º\nPrintèˆ‡Printlnç›¸æ¯”ï¼Œå·®åœ¨lnå¤šäº†ä¸€å€‹æ›è¡Œ\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { name := \u0026#34;Alan\u0026#34; age := 30 fmt.Print(\u0026#34;Name: \u0026#34;, name, \u0026#34; Age: \u0026#34;, age) // æ²’æœ‰æ›è¡Œ fmt.Println(\u0026#34;Name:\u0026#34;, name, \u0026#34;Age:\u0026#34;, age) // æœ‰æ›è¡Œ fmt.Printf(\u0026#34;Name: %s Age: %d\\n\u0026#34;, name, age) // æ ¼å¼åŒ–å°å‡º formatted := fmt.Sprintf(\u0026#34;Name: %s, Age: %d\u0026#34;, name, age) fmt.Println(formatted) // è¼¸å‡ºæ ¼å¼åŒ–å¾Œçš„å­—ä¸² file, _ := os.Create(\u0026#34;output.txt\u0026#34;) defer file.Close() fmt.Fprintf(file, \u0026#34;Name: %s, Age: %d\u0026#34;, name, age) // å°‡æ ¼å¼åŒ–å¾Œçš„å…§å®¹å¯«å…¥æª”æ¡ˆ } Scan å‡½æ•¸ç³»åˆ— fmt.Scanï¼šè®€å–ä¸€å€‹æˆ–å¤šå€‹ç©ºæ ¼åˆ†éš”çš„å€¼ã€‚ fmt.Scanfï¼šæ ¼å¼åŒ–è®€å–ã€‚ fmt.Scanlnï¼šè®€å–ä¸€è¡Œå…§å®¹ã€‚ fmt.Fscanfï¼šå¾æ–‡ä»¶ä¸­æ ¼å¼åŒ–è®€å– package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { // ä½¿ç”¨ fmt.Scan è®€å–ä¸€å€‹æˆ–å¤šå€‹ç©ºæ ¼åˆ†éš”çš„å€¼ var name string var age int fmt.Print(\u0026#34;Enter your name and age (space-separated): \u0026#34;) fmt.Scan(\u0026amp;name, \u0026amp;age) fmt.Printf(\u0026#34;Name: %s Age: %d\\n\u0026#34;, name, age) // ä½¿ç”¨ fmt.Scanf é€²è¡Œæ ¼å¼åŒ–è®€å– var height float64 fmt.Print(\u0026#34;Enter your height in meters: \u0026#34;) fmt.Scanf(\u0026#34;%f\u0026#34;, \u0026amp;height) fmt.Printf(\u0026#34;Height: %.2f meters\\n\u0026#34;, height) // ä½¿ç”¨ fmt.Scanln è®€å–ä¸€è¡Œå…§å®¹ var city string var country string fmt.Print(\u0026#34;Enter your city and country: \u0026#34;) fmt.Scanln(\u0026amp;city, \u0026amp;country) fmt.Printf(\u0026#34;City: %s Country: %s\\n\u0026#34;, city, country) // ä½¿ç”¨ fmt.Fscanf å¾æ–‡ä»¶ä¸­æ ¼å¼åŒ–è®€å– file, _ := os.Open(\u0026#34;input.txt\u0026#34;) defer file.Close() var code int var message string fmt.Fscanf(file, \u0026#34;%d %s\u0026#34;, \u0026amp;code, \u0026amp;message) fmt.Printf(\u0026#34;Code: %d Message: %s\\n\u0026#34;, code, message) } æ ¼å¼åŒ–æ§åˆ¶ å¸¸è¦‹çš„æ ¼å¼åŒ–åƒæ•¸ åœ¨Goçš„fmtPackageä¸­ï¼Œå¸¸è¦‹çš„æ ¼å¼åŒ–åƒæ•¸ç”¨ä¾†æŒ‡å®šå°å‡ºçš„æ ¼å¼ã€‚é€™é‚Šåˆ—èˆ‰ä¸€äº›å¸¸è¦‹çš„æ ¼å¼åŒ–åƒæ•¸ï¼š\n%sï¼šstring (å­—ä¸²) %cï¼šchar (å­—å…ƒ) %dï¼šdigit (10é€²ä½çš„æ•¸å­—) %fï¼šfloat (æµ®é»æ•¸) %tï¼šbool (å¸ƒæ—å€¼) %v: value (å€¼) package main import \u0026#34;fmt\u0026#34; func main() { name := \u0026#34;Alan\u0026#34; age := 30 firstChar := \u0026#39;A\u0026#39; height := 5.8 isStudent := true fmt.Printf(\u0026#34;Name: %s\\n\u0026#34;, name) // Name: Alan fmt.Printf(\u0026#34;Age: %d\\n\u0026#34;, age) // Age: 30 fmt.Printf(\u0026#34;First Char: %c\\n\u0026#34;, firstChar) // First Char: A fmt.Printf(\u0026#34;Height: %.2f\\n\u0026#34;, height) // Height: 5.8 fmt.Printf(\u0026#34;Is Student: %t\\n\u0026#34;, isStudent) // Is Student: true } %vé‚„èƒ½å¤ é¡¯ç¤ºæ›´è©³ç´°çš„è³‡è¨Š\n%+v: value (ä»¥è©³ç´°æ ¼å¼è¼¸å‡ºï¼Œå°å‡º struct æ™‚ï¼Œæœƒå¤šæ¬„ä½åç¨±) %#v: value (ä»¥Goèªè¨€èªæ³•è¼¸å‡ºï¼Œå°å‡º struct æ™‚ï¼Œæœƒå¤š struct åç¨±èˆ‡æ¬„ä½åç¨±) type Person struct { FirstName string LastName string Age int } func main() { person := Person{ FirstName: \u0026#34;Alan\u0026#34;, LastName: \u0026#34;Wang\u0026#34;, Age: 30, } fmt.Printf(\u0026#34;%+v\\n\u0026#34;, person) // {FirstName:John LastName:Doe Age:30} fmt.Printf(\u0026#34;%#v\\n\u0026#34;, person) // main.Person{FirstName:\u0026#34;John\u0026#34;, LastName:\u0026#34;Doe\u0026#34;, Age:30} } å¯¬åº¦å’Œç²¾åº¦ åœ¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¸­ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨å¯¬åº¦ï¼ˆWidthï¼‰å’Œç²¾åº¦ï¼ˆPrecisionï¼‰ä¾†èª¿æ•´å°å‡ºçš„é•·åº¦å’Œå°æ•¸é»ä½æ•¸ã€‚ä¾‹å¦‚ï¼Œ%8.2fè¡¨ç¤ºå°å‡ºæµ®é»æ•¸ä½”8å€‹å­—ç¬¦çš„å¯¬åº¦ï¼Œä¸¦ä¿ç•™2ä½å°æ•¸ã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { num := 123.456789 fmt.Printf(\u0026#34;Default: %f\\n\u0026#34;, num) fmt.Printf(\u0026#34;Width 16: %16f\\n\u0026#34;, num) fmt.Printf(\u0026#34;Width 8, Precision 2: %8.2f\\n\u0026#34;, num) } æ ¼å¼åŒ–é¸é … æ ¼å¼åŒ–é¸é …å¯ä»¥è®“æˆ‘å€‘è¨­å®šå°é½Šæ–¹å¼ã€å¡«å……å­—ç¬¦ç­‰ã€‚ä¾‹å¦‚ï¼Œ%-8sä»£è¡¨å‘å·¦å°é½Šï¼Œä¸¦åœ¨ä¸è¶³8å€‹å­—ç¬¦æ™‚ä½¿ç”¨ç©ºæ ¼é€²è¡Œå¡«å……ã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { name := \u0026#34;Alan\u0026#34; fmt.Printf(\u0026#34;Name: %-8s|\\n\u0026#34;, name) fmt.Printf(\u0026#34;Name: %8s|\\n\u0026#34;, name) fmt.Printf(\u0026#34;Name: %.8s|\\n\u0026#34;, name) } å¸¸è¦‹ç”¨æ³• å­—ä¸²æ ¼å¼åŒ– package main import \u0026#34;fmt\u0026#34; func main() { name := \u0026#34;Alan\u0026#34; greeting := fmt.Sprintf(\u0026#34;Hello, %s!\u0026#34;, name) fmt.Println(greeting) } æ•¸å€¼æ ¼å¼åŒ– package main import \u0026#34;fmt\u0026#34; func main() { num := 42 fmt.Printf(\u0026#34;Decimal: %d\\n\u0026#34;, num) fmt.Printf(\u0026#34;Hexadecimal: %x\\n\u0026#34;, num) fmt.Printf(\u0026#34;Binary: %b\\n\u0026#34;, num) } æ™‚é–“æ ¼å¼åŒ– package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { now := time.Now() fmt.Printf(\u0026#34;Current time: %s\\n\u0026#34;, now.Format(\u0026#34;2006-01-02 15:04:05\u0026#34;)) } JSON è®€å–å’Œå°å‡º package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type Person struct { Name string `json:\u0026#34;name\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } func main() { // å°‡Structè½‰æ›ç‚ºJSON person := Person{Name: \u0026#34;Alan\u0026#34;, Age: 30} jsonBytes, _ := json.Marshal(person) fmt.Println(string(jsonBytes)) // å¾JSONè§£æStruct jsonStr := `{\u0026#34;name\u0026#34;:\u0026#34;Bob\u0026#34;,\u0026#34;age\u0026#34;:25}` var anotherPerson Person json.Unmarshal([]byte(jsonStr), \u0026amp;anotherPerson) fmt.Printf(\u0026#34;Name: %s Age: %d\\n\u0026#34;, anotherPerson.Name, anotherPerson.Age) } ğŸ“šReference fmt package - fmt - Go Packages [pkg] fmt | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-fmt/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ è¦å°å‡ºHello Worldï¼Œå°±æœƒç¢°åˆ°é€™å€‹Package -\u0026gt; fmtï¼Œä»Šå¤©ä¾†ç°¡å–®æ•´ç†ä¸€ä¸‹fmtçš„ä½œç”¨ã€æ ¼å¼åŒ–çš„æ§åˆ¶èˆ‡å¸¸è¦‹ç”¨æ³•ã€‚\nä¸»è¦åŠŸèƒ½ fmt å¥—ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯è™•ç†æ ¼å¼åŒ–çš„è¼¸å‡ºå’Œè¼¸å…¥ï¼ŒåŒ…æ‹¬è³‡æ–™æ ¼å¼è™•ç†ã€å­—ä¸²è§£æå’Œæ•¸å€¼è½‰æ›ç­‰åŠŸèƒ½ã€‚é€šå¸¸ç”¨ä¾†è¨˜éŒ„è¨Šæ¯ã€æª”æ¡ˆè™•ç†ç­‰ç­‰ã€‚fmt å¥—ä»¶ä¸­çš„å‡½æ•¸å¯ä»¥ä¸»è¦åˆ†ç‚ºå…©å¤§é¡ï¼šPrint å’Œ Scanã€‚\nå°å…¥Package import \u0026#34;fmt\u0026#34; Print å‡½æ•¸ç³»åˆ— fmt.Printï¼šå°‡è³‡æ–™å°åˆ°çµ‚ç«¯æ©Ÿã€‚ fmt.Printlnï¼šå°‡è³‡æ–™å°åˆ°çµ‚ç«¯æ©Ÿï¼Œä¸¦æ›è¡Œã€‚ fmt.Printfï¼šæ ¹æ“šæ ¼å¼åŒ–åƒæ•¸å°‡è³‡æ–™å°åˆ°çµ‚ç«¯æ©Ÿã€‚ fmt.Sprintfï¼šæ ¼å¼åŒ–æˆå­—ä¸²ï¼Œé€šå¸¸ç”¨åœ¨éœ€è¦ä»¥å­—ä¸²å½¢å¼è™•ç†æ ¼å¼åŒ–æ™‚æœƒç”¨åˆ° fmt.Fprintfï¼šæ ¼å¼åŒ–åˆ°æ–‡ä»¶ï¼Œé€šå¸¸ç”¨ä¾†å¯«æª”æœƒç”¨åˆ° Printèˆ‡Printfç›¸æ¯”ï¼Œå·®åœ¨ä¸èƒ½å°æ ¼å¼åŒ–è¼¸å‡º\nPrintèˆ‡Printlnç›¸æ¯”ï¼Œå·®åœ¨lnå¤šäº†ä¸€å€‹æ›è¡Œ\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { name := \u0026#34;Alan\u0026#34; age := 30 fmt.Print(\u0026#34;Name: \u0026#34;, name, \u0026#34; Age: \u0026#34;, age) // æ²’æœ‰æ›è¡Œ fmt.Println(\u0026#34;Name:\u0026#34;, name, \u0026#34;Age:\u0026#34;, age) // æœ‰æ›è¡Œ fmt.Printf(\u0026#34;Name: %s Age: %d\\n\u0026#34;, name, age) // æ ¼å¼åŒ–å°å‡º formatted := fmt.Sprintf(\u0026#34;Name: %s, Age: %d\u0026#34;, name, age) fmt.","title":"Fmtï¼šè³‡æ–™è™•ç†çš„å¥½å¹«æ‰‹"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æ˜¨å¤©è¬›åˆ°Goroutineçš„æ©‹æ¢akaå‚³è©±ç­’ - Channelï¼Œé‚£è¦æ€éº¼çŸ¥é“å°æ–¹æœ‰æ”¶åˆ°è¨Šæ¯ï¼Œæˆ‘çš„ç´™æ¢æœ‰é€åˆ°å°æ–¹æ‰‹ä¸Šå‘¢? ä»Šå¤©å°±æ˜¯è¦ä¾†ä»‹ç´¹å¹¾ç¨®Goroutineçš„ç¢ºå®šå®Œæˆå·¥ä½œçš„å¹¾ç¨®æ–¹å¼ã€‚\nGoroutine çš„ç­‰å¾…æ–¹å¼ åœ¨Goèªè¨€ä¸­ï¼Œç­‰å¾…Goroutineå®Œæˆçš„æ–¹å¼æœ‰å¤šç¨®ã€‚\nsync.WaitGroup sync.WaitGroupæ˜¯Goèªè¨€ä¸­å¸¸è¦‹çš„ä¸€ç¨®ç­‰å¾…æ–¹å¼ï¼Œå®ƒå…è¨±æˆ‘å€‘ç­‰å¾…ä¸€çµ„Goroutineå®Œæˆã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; ) func worker(id int, wg *sync.WaitGroup) { defer wg.Done() // è¡¨ç¤ºGoroutineå®Œæˆå·¥ä½œï¼Œæ¸›å°‘WaitGroupè¨ˆæ•¸ fmt.Printf(\u0026#34;Worker %d æ­£åœ¨å·¥ä½œ\\n\u0026#34;, id) } func main() { var wg sync.WaitGroup for i := 1; i \u0026lt;= 3; i++ { wg.Add(1) // å¢åŠ WaitGroupæ•¸é‡ go worker(i, \u0026amp;wg) // å•Ÿå‹•Goroutineï¼Œä¸¦å°‡WaitGroupçš„æŒ‡é‡å‚³éçµ¦å®ƒ } wg.Wait() // å°‡ä¸»ç¨‹å¼é˜»å¡ï¼Œç›´åˆ°æ‰€æœ‰Goroutineså®Œæˆå·¥ä½œã€‚ fmt.Println(\u0026#34;æ‰€æœ‰å·¥ä½œå®Œæˆ\u0026#34;) } åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å…ˆå‰µå»ºäº†ä¸€å€‹sync.WaitGroupçš„è®Šæ•¸wgï¼Œä¸¦ä½¿ç”¨forå¾ªç’°å»åŸ·è¡Œæˆ‘å€‘çš„goroutineï¼Œæ¯æ¬¡åŸ·è¡Œå‰éƒ½å…ˆå°‡ç­‰å¾…goroutineçš„æ•¸é‡+1ï¼Œç¸½å…±ç­‰å¾…ä¸‰å€‹Goroutineå®Œæˆå·¥ä½œã€‚ æ¥è‘—ä½¿ç”¨ wg.Wait()å°‡mainå‡½æ•¸å…ˆæš«åœä¸€ä¸‹ï¼Œç­‰æ‰€æœ‰goroutineéƒ½å®Œæˆå·¥ä½œï¼Œwgçš„è¨ˆæ•¸å™¨ç‚º0ï¼Œåœ¨ç¹¼çºŒåŸ·è¡Œç¨‹å¼ã€‚ åœ¨ workerå‡½æ•¸è£¡ï¼Œæœƒæ¥æ”¶ wgçš„pointerï¼Œä¸¦åœ¨é–‹é ­ä½¿ç”¨defer wg.Done()åœ¨ç¨‹å¼åŸ·è¡ŒçµæŸå°±å°‡ç­‰å¾…çš„goroutineæ•¸é‡-1ï¼Œä¾†ç¢ºä¿goroutineæœƒå®Œæˆ\nChannel Channelæ˜¯Goèªè¨€ä¸­ç”¨æ–¼é€šä¿¡çš„æ©Ÿåˆ¶ï¼Œä¹Ÿå¯ä»¥ç”¨æ–¼ç­‰å¾…Goroutineå®Œæˆã€‚\npackage main import ( \u0026#34;fmt\u0026#34; ) func worker(id int, ch chan bool) { fmt.Printf(\u0026#34;Worker %d æ­£åœ¨å·¥ä½œ\\n\u0026#34;, id) ch \u0026lt;- true } func main() { ch := make(chan bool) for i := 1; i \u0026lt;= 3; i++ { go worker(i, ch) } for i := 1; i \u0026lt;= 3; i++ { \u0026lt;-ch } fmt.Println(\u0026#34;æ‰€æœ‰å·¥ä½œå®Œæˆ\u0026#34;) } Channelçš„ç‰¹æ€§å°±æ˜¯æœ‰æ–¹å‘æ€§ï¼Œåœ¨é€™æ®µç¨‹å¼ç¢¼ä¸­ï¼Œå‰µå»ºäº†ä¸‰å€‹Goroutinesï¼Œæ¯å€‹Goroutineåœ¨åŸ·è¡Œæ™‚éƒ½å°å‡ºä¸€æ¢è¨Šæ¯ï¼Œç„¶å¾Œå°‡ä¸€å€‹å¸ƒæ—å€¼å‚³é€åˆ°Channelä¸­ï¼Œæœ€å¾Œç­‰ä¸‰å€‹Channeléƒ½æ¥æ”¶åˆ°æ“ä½œå®Œæˆå¾Œï¼Œå°å‡º \u0026ldquo;æ‰€æœ‰å·¥ä½œå®Œæˆ\u0026rdquo;ã€‚\nselect ä½¿ç”¨selectèªå¥å¯ä»¥ç­‰å¾…å¤šå€‹Goroutineä¸­çš„ä»»ä½•ä¸€å€‹å®Œæˆã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func worker(id int, ch chan bool) { fmt.Printf(\u0026#34;Worker %d æ­£åœ¨å·¥ä½œ\\n\u0026#34;, id) time.Sleep(time.Second * time.Duration(id)) ch \u0026lt;- true } func main() { ch1 := make(chan bool) ch2 := make(chan bool) go worker(1, ch1) go worker(2, ch2) select { case \u0026lt;-ch1: fmt.Println(\u0026#34;Worker 1 å®Œæˆ\u0026#34;) case \u0026lt;-ch2: fmt.Println(\u0026#34;Worker 2 å®Œæˆ\u0026#34;) } fmt.Println(\u0026#34;å·¥ä½œå®Œæˆ\u0026#34;) } åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å•Ÿå‹•äº†å…©å€‹Goroutinesï¼ˆworker(1, ch1) å’Œ worker(2, ch2)ï¼‰ï¼Œå®ƒå€‘å„è‡ªåŸ·è¡Œä¸€äº›å·¥ä½œä¸¦å°‡å¸ƒæ—å€¼å¯«å…¥Channelã€‚æ¥è‘—ï¼Œæˆ‘å€‘ä½¿ç”¨ select ä¾†ç­‰å¾…å“ªå€‹Channelä¸­çš„å€¼æœƒå…ˆåˆ°é”ï¼Œå³å“ªå€‹Goroutineå…ˆå®Œæˆå·¥ä½œã€‚\nå› selectçš„ç‰¹æ€§ï¼Œ åªæœƒé¸æ“‡å…¶ä¸­ä¸€å€‹ caseï¼Œå¦‚æœå…©å€‹Goroutineséƒ½å®Œæˆï¼Œåªæœƒé¸æ“‡ä¸€å€‹ä¾†è™•ç†ï¼Œè€Œä¸æœƒç­‰å¾…æ‰€æœ‰Goroutineså®Œæˆã€‚é€™ä¹Ÿä½¿å¾— select éå¸¸é©åˆç”¨ä¾†éœ€è¦ç«¶çˆ­çš„æƒ…æ³ï¼Œå¯ä»¥æ ¹æ“šéœ€è¦å¢åŠ æ›´å¤šçš„ case ä¾†ç­‰å¾…å¤šå€‹Goroutinesã€‚\ntime.Sleep time.Sleepä¹Ÿæ˜¯ä¸€ç¨®ç°¡å–®çš„ç­‰å¾…æ–¹å¼ï¼Œä½†å®ƒåªæ˜¯é æ¸¬å¤šä¹…å®Œæˆï¼Œè€Œä¸”æœƒé˜»å¡æ•´å€‹åŸ·è¡Œç·’ï¼Œä¸æ¨ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func worker(id int) { fmt.Printf(\u0026#34;Worker %d æ­£åœ¨å·¥ä½œ\\n\u0026#34;, id) time.Sleep(time.Second * time.Duration(id)) fmt.Printf(\u0026#34;Worker %d å®Œæˆ\\n\u0026#34;, id) } func main() { go worker(1) go worker(2) // ç­‰å¾…ä¸€æ®µæ™‚é–“ä»¥ç¢ºä¿å·¥ä½œå®Œæˆ time.Sleep(time.Second * 3) fmt.Println(\u0026#34;æ‰€æœ‰å·¥ä½œå®Œæˆ\u0026#34;) } Goroutine ç­‰å¾…æ–¹å¼çš„æ¯”è¼ƒ ä¸åŒçš„ç­‰å¾…æ–¹å¼æœ‰å„è‡ªçš„ä½¿ç”¨å ´æ™¯å’Œå„ªç¼ºé»ã€‚sync.WaitGroupæ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œå› ç‚ºå®ƒç°¡å–®ä¸”é«˜æ•ˆã€‚Channelç­‰å¾…æ–¹å¼åœ¨éœ€è¦æ›´å¤šæ§åˆ¶æ™‚å¾ˆæœ‰ç”¨ï¼Œè€Œselectå‰‡é©ç”¨æ–¼ç­‰å¾…å¤šå€‹Goroutineä¸­çš„æŸä¸€å€‹ã€‚è«‹æ ¹æ“šæ‚¨çš„éœ€æ±‚é¸æ“‡æœ€é©åˆçš„æ–¹å¼ã€‚\nç•¶ä½ åœ¨Goèªè¨€ä¸­ä½¿ç”¨Goroutinesä¸¦éœ€è¦ç­‰å¾…å®ƒå€‘å®Œæˆæ™‚ï¼Œæœ‰å¹¾ç¨®ä¸åŒçš„ç­‰å¾…æ–¹å¼å¯ä¾›é¸æ“‡ã€‚ä»¥ä¸‹æ˜¯é€™äº›ç­‰å¾…æ–¹å¼çš„æ¯”è¼ƒï¼š\nsync.WaitGroupï¼š\nå„ªé»ï¼š\nç°¡å–®æ˜“ç”¨ æ•ˆç‡é«˜ï¼šç­‰å¾…æœŸé–“ä¸æœƒæµªè²»CPUè³‡æºã€‚ å¯ç”¨æ–¼ä»»æ„æ•¸é‡çš„Goroutinesã€‚ é™åˆ¶ï¼š\néœ€è¦é¡å¤–çš„è¨˜æ†¶é«”ï¼šæ¯å€‹ç­‰å¾…çš„Goroutineéƒ½éœ€è¦ä¸€å€‹WaitGroupã€‚ åªèƒ½ç­‰å¾…å›ºå®šæ•¸é‡çš„Goroutinesã€‚ Channelï¼ˆChannelï¼‰ç­‰å¾…ï¼š\nå„ªé»ï¼š\nå¯ä»¥éˆæ´»æ§åˆ¶ç­‰å¾…ï¼šä½ å¯ä»¥åœ¨Goroutineå®Œæˆæ™‚å‘Channelç™¼é€ä¿¡è™Ÿã€‚ å¯ä»¥ç”¨æ–¼ä¸å®šæ•¸é‡çš„Goroutinesã€‚ å¯ä»¥ç”¨æ–¼ä»»ä½•éœ€è¦è‡ªå®šç¾©ç­‰å¾…é‚è¼¯çš„æƒ…æ³ã€‚ é™åˆ¶ï¼š\néœ€è¦é¡å¤–çš„ç¨‹å¼ç¢¼ä¾†è™•ç†Channelã€‚ å¯èƒ½éœ€è¦é¡å¤–çš„åŒæ­¥ä»¥ç¢ºä¿æ‰€æœ‰Channelæ“ä½œæ­£ç¢ºã€‚ select å¤šChannelé¸æ“‡ï¼š\nå„ªé»ï¼š\nå¯ä»¥ç­‰å¾…å¤šå€‹Goroutinesä¸­çš„ä»»ä½•ä¸€å€‹å®Œæˆã€‚ é©ç”¨æ–¼éœ€è¦ç«¶çˆ­çš„æƒ…æ³ã€‚ é™åˆ¶ï¼š\nè¤‡é›œæ€§ï¼šç•¶ä½ æœ‰å¤šå€‹Channelæ™‚ï¼Œå¯èƒ½éœ€è¦æ›´å¤šçš„ç¨‹å¼ç¢¼å’Œé‚è¼¯ã€‚ åªèƒ½ç­‰å¾…ä¸€å€‹å®Œæˆï¼Œç„¡æ³•ç­‰å¾…å¤šå€‹Goroutineså…¨éƒ¨å®Œæˆã€‚ time.Sleepï¼š\nå„ªé»ï¼š\nç°¡å–®æ˜ç­ï¼Œå®¹æ˜“ç†è§£ã€‚ é™åˆ¶ï¼š\nä¸æ˜¯ä¸€ç¨®æœ‰æ•ˆçš„ç­‰å¾…æ–¹å¼ï¼Œå› ç‚ºæœƒé˜»å¡æ•´å€‹å‡½æ•¸ï¼Œæµªè²»CPUè³‡æºã€‚ ç„¡æ³•ç¢ºä¿Goroutinesä½•æ™‚å®Œæˆã€‚ ä¸æ¨è–¦åœ¨æ­£å¼ç’°å¢ƒä¸­ä½¿ç”¨ã€‚ é€™æ¨£çœ‹ä¸‹ä¾†ï¼Œæœ€å¸¸è¦‹ä¸”æ¨è–¦çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨sync.WaitGroupï¼Œå› ç‚ºç°¡å–®è€Œä¸”é«˜æ•ˆã€‚ä½†æ ¹æ“šä¸åŒæƒ…æ³ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨å…¶ä»–æ–¹å¼ã€‚ä½¿ç”¨Channelç­‰å¾…å’Œselecté©ç”¨æ–¼éœ€è¦æ›´å¤šæ§åˆ¶å’Œç«¶çˆ­çš„æƒ…æ³ï¼Œè€Œtime.Sleepåªæ‡‰è©²åœ¨æ¸¬è©¦æˆ–å­¸ç¿’ç›®çš„ä¸­ä½¿ç”¨ã€‚é¸æ“‡é©åˆä½ éœ€æ±‚çš„ç­‰å¾…æ–¹å¼ï¼Œæ‰èƒ½ç¢ºä¿Goroutinesçš„ä¸¦ç™¼èƒ½å¤ åœ¨ä½ çš„æ‡‰ç”¨ä¸­æ­£ç¢ºé‹ä½œã€‚\nå°çµ å‰å…©ç¯‡ä»‹ç´¹äº†Goroutineã€Channelï¼Œæœ€å¾Œå°±ä¾†ä»‹ç´¹ä¸€ä¸‹å¦‚ä½•ç¢ºä¿ä½ çš„å·¥ä½œæœ‰å®Œæˆï¼Œç´™æ¢æœ‰æˆåŠŸé€åˆ°å°æ–¹æ‰‹ä¸Šã€‚äº†è§£å¦‚ä½•ç­‰å¾…å®ƒå€‘å®Œæˆæ˜¯é–‹ç™¼é«˜æ•ˆä½µç™¼æ‡‰ç”¨çš„é‡è¦ä¸€ç’°ã€‚ä»‹ç´¹äº†å¤šç¨®ç­‰å¾…Goroutineçš„æ–¹å¼ï¼Œæ¯ç¨®æ–¹å¼éƒ½æœ‰ä»–çš„å„ªå‹¢å’Œé™åˆ¶ã€‚å¯ä»¥æ ¹æ“šéœ€æ±‚ï¼Œé¸æ“‡é©åˆçš„æ–¹å¼ä¾†è®“ä½ ç¨‹å¼ç¢¼èƒ½å¤ å……åˆ†åˆ©ç”¨Goroutineçš„å„ªé»ã€‚\nğŸ“šReference Go by Example: WaitGroups Golang æ•™å­¸ç³»åˆ— - ä½•è¬‚ WaitGroup? ç­‰å¾… Goroutine çš„å¥½å¹«æ‰‹ï¼ | Kenny\u0026rsquo;s Blog (kennycoder.io) ","permalink":"https://sz9751210.github.io/posts/go-waitgroup/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æ˜¨å¤©è¬›åˆ°Goroutineçš„æ©‹æ¢akaå‚³è©±ç­’ - Channelï¼Œé‚£è¦æ€éº¼çŸ¥é“å°æ–¹æœ‰æ”¶åˆ°è¨Šæ¯ï¼Œæˆ‘çš„ç´™æ¢æœ‰é€åˆ°å°æ–¹æ‰‹ä¸Šå‘¢? ä»Šå¤©å°±æ˜¯è¦ä¾†ä»‹ç´¹å¹¾ç¨®Goroutineçš„ç¢ºå®šå®Œæˆå·¥ä½œçš„å¹¾ç¨®æ–¹å¼ã€‚\nGoroutine çš„ç­‰å¾…æ–¹å¼ åœ¨Goèªè¨€ä¸­ï¼Œç­‰å¾…Goroutineå®Œæˆçš„æ–¹å¼æœ‰å¤šç¨®ã€‚\nsync.WaitGroup sync.WaitGroupæ˜¯Goèªè¨€ä¸­å¸¸è¦‹çš„ä¸€ç¨®ç­‰å¾…æ–¹å¼ï¼Œå®ƒå…è¨±æˆ‘å€‘ç­‰å¾…ä¸€çµ„Goroutineå®Œæˆã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; ) func worker(id int, wg *sync.WaitGroup) { defer wg.Done() // è¡¨ç¤ºGoroutineå®Œæˆå·¥ä½œï¼Œæ¸›å°‘WaitGroupè¨ˆæ•¸ fmt.Printf(\u0026#34;Worker %d æ­£åœ¨å·¥ä½œ\\n\u0026#34;, id) } func main() { var wg sync.WaitGroup for i := 1; i \u0026lt;= 3; i++ { wg.Add(1) // å¢åŠ WaitGroupæ•¸é‡ go worker(i, \u0026amp;wg) // å•Ÿå‹•Goroutineï¼Œä¸¦å°‡WaitGroupçš„æŒ‡é‡å‚³éçµ¦å®ƒ } wg.Wait() // å°‡ä¸»ç¨‹å¼é˜»å¡ï¼Œç›´åˆ°æ‰€æœ‰Goroutineså®Œæˆå·¥ä½œã€‚ fmt.Println(\u0026#34;æ‰€æœ‰å·¥ä½œå®Œæˆ\u0026#34;) } åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å…ˆå‰µå»ºäº†ä¸€å€‹sync.WaitGroupçš„è®Šæ•¸wgï¼Œä¸¦ä½¿ç”¨forå¾ªç’°å»åŸ·è¡Œæˆ‘å€‘çš„goroutineï¼Œæ¯æ¬¡åŸ·è¡Œå‰éƒ½å…ˆå°‡ç­‰å¾…goroutineçš„æ•¸é‡+1ï¼Œç¸½å…±ç­‰å¾…ä¸‰å€‹Goroutineå®Œæˆå·¥ä½œã€‚ æ¥è‘—ä½¿ç”¨ wg.Wait()å°‡mainå‡½æ•¸å…ˆæš«åœä¸€ä¸‹ï¼Œç­‰æ‰€æœ‰goroutineéƒ½å®Œæˆå·¥ä½œï¼Œwgçš„è¨ˆæ•¸å™¨ç‚º0ï¼Œåœ¨ç¹¼çºŒåŸ·è¡Œç¨‹å¼ã€‚ åœ¨ workerå‡½æ•¸è£¡ï¼Œæœƒæ¥æ”¶ wgçš„pointerï¼Œä¸¦åœ¨é–‹é ­ä½¿ç”¨defer wg.Done()åœ¨ç¨‹å¼åŸ·è¡ŒçµæŸå°±å°‡ç­‰å¾…çš„goroutineæ•¸é‡-1ï¼Œä¾†ç¢ºä¿goroutineæœƒå®Œæˆ\nChannel Channelæ˜¯Goèªè¨€ä¸­ç”¨æ–¼é€šä¿¡çš„æ©Ÿåˆ¶ï¼Œä¹Ÿå¯ä»¥ç”¨æ–¼ç­‰å¾…Goroutineå®Œæˆã€‚","title":"Goèªè¨€ä¸­Goroutineçš„ç­‰å¾…æ–¹å¼"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æ˜¨å¤©è¬›åˆ°Goroutineæœ‰ç¨å¾®ç°¡å–®ä»‹ç´¹Channelï¼ŒChannelæ˜¯Goèªè¨€ä¸­æ¥µç‚ºé‡è¦çš„ä½µç™¼é€šè¨Šæ©Ÿåˆ¶ï¼Œå®ƒå°±åƒæ˜¯ä¸åŒgoroutinesä¹‹é–“çš„è©±ç­’ï¼Œå…è¨±å®ƒå€‘å®‰å…¨åœ°å‚³éè³‡æ–™å’Œä¿¡æ¯ã€‚é€™å€‹å¼·å¤§çš„å·¥å…·ä½¿å¾—Goèªè¨€åœ¨è™•ç†ä½µç™¼ä»»å‹™æ™‚éå¸¸å„ªé›…å’Œé«˜æ•ˆã€‚é€šéChannelï¼Œå¯ä»¥å”èª¿goroutinesçš„æ“ä½œï¼Œé˜²æ­¢ç«¶çˆ­æ¢ä»¶ï¼Œä¸¦å¯¦ç¾é«˜æ•ˆçš„ä½µç™¼ç¨‹å¼è¨­è¨ˆã€‚\nä»€éº¼æ˜¯Channelï¼Ÿ Channelæ˜¯Goèªè¨€ä¸­ä¸€å€‹å¼·å¤§çš„ä½µç™¼åŸèªè¨€åŠŸèƒ½ï¼Œç”¨æ–¼åœ¨ä¸åŒçš„goroutineä¹‹é–“å‚³éè³‡æ–™ã€‚å®ƒå€‘æä¾›äº†ä¸€ç¨®é€šè¨Šçš„æ©Ÿåˆ¶ï¼Œå¯ä»¥è®“goroutinesä¹‹é–“å®‰å…¨åœ°äº¤æ›ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦é¡å¤–çš„äº’æ–¥é–æˆ–ä¿¡è™Ÿé‡ã€‚\nå¯ä»¥æŠŠchannelæ¯”å–»æˆå‚³ç´™æ¢ï¼Œå‚³ç´™æ¢å¯ä»¥æ˜¯å–®å‘ï¼Œä¹Ÿå¯ä»¥æ˜¯é›™å‘ï¼Œå–®å‘å¯ä»¥æƒ³åƒé¡ä¼¼ä»¥å‰å‚³ç´™æ¢çš„ä¸­é–“äººï¼Œä»–åªæ¥æ”¶å’Œå‚³éï¼Œç´™æ¢ä¹Ÿæœ‰å¤§å°çš„é™åˆ¶ï¼Œå¯«æ»¿äº†å°±ä¸èƒ½å†ç¹¼çºŒå¯«ï¼Œä¸¦ä¸”éœ€è¦ç­‰å¾…å°æ–¹å°‡ç´™æ¢é€²è¡Œå›è¦†å¾Œä½ æ‰èƒ½ç¹¼çºŒã€‚\nå»ºç«‹å’Œä½¿ç”¨Channel åœ¨Goä¸­ï¼Œå¯ä»¥ä½¿ç”¨å…§å»ºçš„makeå‡½æ•¸ä¾†å»ºç«‹ä¸€å€‹æ–°çš„Channelã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ makeå‡½æ•¸å»ºç«‹æ•´æ•¸é¡å‹çš„Channel\nch := make(chan int) å»ºç«‹å®Œå¾Œï¼Œå°±å¯ä»¥å°‡è³‡æ–™ç™¼é€åˆ°Channelä¸­ï¼Œç„¶å¾Œåœ¨å…¶ä»–goroutineä¸­æ¥æ”¶å®ƒå€‘ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡å–®çš„ç™¼é€å’Œæ¥æ”¶è³‡æ–™çš„ä¾‹å­ï¼š\nfunc main() { ch := make(chan int) go func() { ch \u0026lt;- 42 // ç™¼é€è³‡æ–™åˆ°Channel }() value := \u0026lt;-ch // å¾Channelæ¥æ”¶è³‡æ–™ fmt.Println(value) // è¼¸å‡ºï¼š42 } é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å»ºç«‹äº†ä¸€å€‹goroutineï¼Œå®ƒå°‡æ•¸å­—42ç™¼é€åˆ°Channelï¼Œç„¶å¾Œä¸»goroutineï¼Œä¹Ÿå°±æ˜¯mainå‡½æ•¸ï¼Œæ¥æ”¶åˆ°é€™å€‹æ•¸å­—ã€‚\né—œé–‰Channel ç´™æ¢ç”¨å®Œæœƒä¸Ÿæ‰ï¼ŒChannelç”¨å®Œä¹Ÿæ˜¯è¦é—œæ‰ï¼Œæ‚¨å¯èƒ½éœ€è¦é—œé–‰Channelï¼Œä»¥é€šçŸ¥æ¥æ”¶æ–¹ä¸å†æœ‰æ–°çš„è³‡æ–™å¯ç”¨ã€‚è¦é—œé–‰Channelï¼Œå¯ä»¥ä½¿ç”¨closeå‡½æ•¸ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nclose(ch) æ¥æ”¶æ–¹å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„èªæ³•ä¾†æª¢æŸ¥Channelæ˜¯å¦å·²é—œé–‰ï¼š\nvalue, ok := \u0026lt;-ch if !ok { // Channelå·²ç¶“é—œé–‰ } é€™å¯ä»¥é˜²æ­¢æ¥æ”¶æ–¹åœ¨Channelå·²é—œé–‰çš„æƒ…æ³ä¸‹ç¹¼çºŒç­‰å¾…ã€‚ ä¸¦ä¸”å·²ç¶“é—œé–‰çš„Channelä¾ç„¶å¯ä»¥é€²è¡Œæ¥æ”¶çš„æ“ä½œï¼Œä½†ä¸èƒ½å†é€²è¡Œç™¼é€ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { ch := make(chan int) go func() { for i := 0; i \u0026lt; 5; i++ { time.Sleep(1 * time.Second) ch \u0026lt;- i // å‘Channelç™¼é€è³‡æ–™ } close(ch) // é—œé–‰Channel }() // æ¥æ”¶è³‡æ–™ç›´åˆ°Channelè¢«é—œé–‰ for val := range ch { fmt.Println(val) } } ç¯„ä¾‹ä¸­é¦–å…ˆå‰µå»ºäº†ä¸€å€‹æ•´æ•¸å‹çš„Channel chï¼Œä¸¦åœ¨ä¸€å€‹ç¨ç«‹çš„goroutineä¸­å‘è©²Channelç™¼é€ä¸€ç³»åˆ—æ•¸å­—ã€‚ä¸€æ—¦æ‰€æœ‰è³‡æ–™éƒ½è¢«ç™¼é€å®Œç•¢ï¼Œæˆ‘å€‘é€šéclose(ch)é—œé–‰äº†Channelã€‚\nä¸»goroutineä½¿ç”¨for num := range chçš„æ–¹å¼ä¾†å¾Channelä¸­æ¥æ”¶è³‡æ–™ï¼Œé€™æ˜¯ä¸€ç¨®å¸¸è¦‹çš„æ¥æ”¶æ–¹å¼ã€‚ç•¶Channelè¢«é—œé–‰å¾Œï¼Œrangeè¿´åœˆæœƒè‡ªå‹•é€€å‡ºï¼Œå¾è€Œé¿å…äº†ç„¡é™ç­‰å¾…ã€‚\nChannelçš„æ–¹å‘ å‚³ç´™æ¢æœ‰æ–¹å‘ï¼ŒChannelè‚¯å®šä¹Ÿæœ‰æ–¹å‘ï¼ŒChannelçš„æ–¹å‘ä¸»è¦ç”¨ä¾†é™åˆ¶æ“ä½œæ–¹å‘ï¼Œå¢åŠ ç¨‹å¼çš„å®‰å…¨æ€§ã€‚Channelå¯ä»¥æ˜¯é›™å‘çš„ï¼ˆå¯ä»¥ç”¨ä¾†ç™¼é€å’Œæ¥æ”¶ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å–®å‘çš„ï¼ˆåªèƒ½ç”¨ä¾†ç™¼é€æˆ–æ¥æ”¶ï¼‰ã€‚\n1. é›™å‘Channelï¼ˆBidirectional Channelsï¼‰ é›™å‘Channelæ˜¯æœ€å¸¸è¦‹çš„é¡å‹ï¼Œå®ƒå…è¨±é€²è¡Œç™¼é€å’Œæ¥æ”¶æ“ä½œã€‚\nå»ºç«‹æ–¹å¼ï¼šch := make(chan T)ï¼Œå…¶ä¸­Tæ˜¯æ‰€éœ€çš„è³‡æ–™é¡å‹ã€‚\né›™å‘Channelå¯ä»¥åœ¨å‡½æ•¸åƒæ•¸ä¸­ä»¥æ™®é€šå½¢å¼ä½¿ç”¨ï¼Œé€²è¡Œç™¼é€å’Œæ¥æ”¶æ“ä½œã€‚\nç¯„ä¾‹ï¼š\nch := make(chan int) go func() { ch \u0026lt;- 42 // å‘Channelç™¼é€è³‡æ–™ fmt.Println(\u0026lt;-ch) // å¾Channelæ¥æ”¶è³‡æ–™ }() 2. å–®å‘Channelï¼ˆUnidirectional Channelsï¼‰ å–®å‘Channelåªå…è¨±ç™¼é€æˆ–æ¥æ”¶æ“ä½œï¼Œä»¥å¢åŠ ç¨‹å¼çš„å®‰å…¨æ€§å’Œå¯è®€æ€§ã€‚å®ƒå€‘å¯ä»¥åˆ†ç‚ºå…©ç¨®é¡å‹ï¼š\na. å–®å‘ç™¼é€Channelï¼ˆSend-Only Channelï¼‰ åªå…è¨±ç™¼é€æ“ä½œï¼Œä¸å…è¨±æ¥æ”¶æ“ä½œã€‚\nå»ºç«‹æ–¹å¼ï¼šch := make(chan\u0026lt;- T)ï¼Œå…¶ä¸­Tæ˜¯æ‰€éœ€çš„è³‡æ–™é¡å‹ã€‚\nç”¨ä¾†å‘å…¶ä»–goroutinesç™¼é€è³‡æ–™ï¼Œæé«˜å®‰å…¨æ€§ã€‚\nç¯„ä¾‹ï¼š\nfunc sendData(ch chan\u0026lt;- int, data int) { ch \u0026lt;- data } func main() { ch := make(chan\u0026lt;- int) go sendData(ch, 42) // å‘å–®å‘ç™¼é€Channelç™¼é€è³‡æ–™ // é€™è¡Œç¨‹å¼ç¢¼ç„¡æ³•ç·¨è­¯ï¼Œå› ç‚ºæˆ‘å€‘ç„¡æ³•å¾å–®å‘ç™¼é€Channelæ¥æ”¶è³‡æ–™ value := \u0026lt;-ch // ç·¨è­¯éŒ¯èª¤ } b. å–®å‘æ¥æ”¶Channelï¼ˆReceive-Only Channelï¼‰ åªå…è¨±æ¥æ”¶æ“ä½œï¼Œä¸å…è¨±ç™¼é€æ“ä½œã€‚\nå»ºç«‹æ–¹å¼ï¼šch := make(\u0026lt;-chan T)ï¼Œå…¶ä¸­Tæ˜¯æ‰€éœ€çš„è³‡æ–™é¡å‹ã€‚\nç”¨ä¾†é™åˆ¶goroutinesåªèƒ½å¾Channelæ¥æ”¶è³‡æ–™ï¼Œæé«˜ç¨‹å¼çš„å¯è®€æ€§ã€‚\nç¯„ä¾‹ï¼š\nfunc receiveData(ch \u0026lt;-chan int) { data := \u0026lt;-ch fmt.Println(data) } func main() { ch := make(\u0026lt;-chan int) go receiveData(ch) // å¾å–®å‘æ¥æ”¶Channelæ¥æ”¶è³‡æ–™ // é€™è¡Œç¨‹å¼ç¢¼ç„¡æ³•ç·¨è­¯ï¼Œå› ç‚ºæˆ‘å€‘ç„¡æ³•å‘å–®å‘æ¥æ”¶Channelç™¼é€è³‡æ–™ ch \u0026lt;- 42 // ç·¨è­¯éŒ¯èª¤ } Channelçš„ç‰¹æ€§ã€é™åˆ¶èˆ‡å¸¸è¦‹ç”¨æ³• ç‰¹æ€§ é€šè¨Šæ©Ÿåˆ¶ï¼šChannelæ˜¯ç”¨æ–¼goroutinesä¹‹é–“é€šè¨Šçš„æ©Ÿåˆ¶ã€‚å®ƒå€‘å…è¨±goroutineså®‰å…¨åœ°å‚³éè³‡æ–™ï¼Œç¢ºä¿åŒæ­¥å’Œå”èª¿ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { ch := make(chan string) // å¯åŠ¨ä¸€ä¸ªgoroutineå‘é€æ¶ˆæ¯åˆ°Channel go func() { ch \u0026lt;- \u0026#34;Hello from goroutine!\u0026#34; }() // ä¸»goroutineæ¥æ”¶æ¶ˆæ¯ msg := \u0026lt;-ch fmt.Println(msg) // è¾“å‡ºï¼šHello from goroutine! } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å»ºç«‹äº†ä¸€å€‹Stringé¡å‹çš„Channel chï¼Œç„¶å¾Œåœ¨ä¸€å€‹goroutineä¸­å°‡æ¶ˆæ¯ç™¼é€åˆ°è©²Channelï¼Œä¸»goroutineæ¥æ”¶ä¸¦æ‰“å°æ¶ˆæ¯ã€‚\né˜»å¡æ“ä½œï¼šChannelçš„ç™¼é€ï¼ˆsendï¼‰å’Œæ¥æ”¶ï¼ˆreceiveï¼‰æ“ä½œéƒ½æ˜¯é˜»å¡çš„ã€‚å¦‚æœç™¼é€æ–¹æ²’æœ‰goroutineæº–å‚™å¥½æ¥æ”¶è³‡æ–™ï¼Œæˆ–è€…æ¥æ”¶æ–¹æ²’æœ‰è³‡æ–™å¯ç”¨ï¼Œæ“ä½œå°‡è¢«é˜»å¡ï¼Œç›´åˆ°æ»¿è¶³æ¢ä»¶ç‚ºæ­¢ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { ch := make(chan int) go func() { time.Sleep(2 * time.Second) ch \u0026lt;- 42 // å°‡è³‡æ–™42ç™¼é€åˆ°Channel }() select { case value := \u0026lt;-ch: fmt.Printf(\u0026#34;æ¥æ”¶åˆ°è³‡æ–™ï¼š%d\\n\u0026#34;, value) case \u0026lt;-time.After(1 * time.Second): fmt.Println(\u0026#34;è¶…æ™‚ï¼šæœªèƒ½æ¥æ”¶åˆ°è³‡æ–™\u0026#34;) } } åœ¨ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å…ˆå»ºç«‹äº†ä¸€å€‹Channel chï¼Œç„¶å¾Œå•Ÿå‹•ä¸€å€‹goroutineï¼Œè©²goroutineå°‡åœ¨2ç§’å¾Œå‘Channelç™¼é€æ•¸å­—42ã€‚æ¥è‘—ï¼Œæˆ‘å€‘ä½¿ç”¨selectèªå¥ä¾†ç­‰å¾…Channelçš„è³‡æ–™æ¥æ”¶æ“ä½œï¼Œä½†æˆ‘å€‘è¨­ç½®äº†ä¸€å€‹1ç§’çš„è¶…æ™‚ã€‚\né€™è£¡å¯èƒ½ç™¼ç”Ÿä»¥ä¸‹æƒ…æ³ï¼š\nå¦‚æœåœ¨2ç§’å…§ï¼ŒgoroutineæˆåŠŸå‘Channelç™¼é€äº†æ•¸å­—42ï¼Œå‰‡æˆ‘å€‘æœƒåœ¨case value := \u0026lt;-chåˆ†æ”¯è™•æ¥æ”¶åˆ°è³‡æ–™ï¼Œä¸¦è¼¸å‡ºã€Œæ¥æ”¶åˆ°è³‡æ–™ï¼š42ã€ã€‚\nå¦‚æœåœ¨1ç§’å…§ç„¡æ³•æ¥æ”¶åˆ°è³‡æ–™ï¼Œå‰‡è¶…æ™‚ç™¼ç”Ÿï¼Œæˆ‘å€‘æœƒé€²å…¥case \u0026lt;-time.After(1 * time.Second)åˆ†æ”¯ï¼Œä¸¦è¼¸å‡ºã€Œè¶…æ™‚ï¼šæœªèƒ½æ¥æ”¶åˆ°è³‡æ–™ã€ã€‚\né€™å€‹ç¯„ä¾‹å±•ç¤ºäº†Channelçš„é˜»å¡æ“ä½œç‰¹æ€§ï¼Œç„¡è«–æ˜¯æˆåŠŸæ¥æ”¶è³‡æ–™é‚„æ˜¯è¶…æ™‚ï¼Œéƒ½å–æ±ºæ–¼Channelä¸­æ˜¯å¦æœ‰å¯ç”¨çš„è³‡æ–™ä»¥åŠæ“ä½œæ˜¯å¦é˜»å¡ã€‚é€™ç¨®é˜»å¡æ“ä½œä½¿å¾—åœ¨ä½µç™¼ç¨‹å¼è¨­è¨ˆä¸­èƒ½å¤ å®‰å…¨åœ°ç­‰å¾…è³‡æ–™çš„åˆ°ä¾†ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨é¡å¤–çš„ç­‰å¾…æˆ–è¼ªè©¢æ©Ÿåˆ¶ã€‚\nå…·æœ‰æ–¹å‘æ€§ï¼šChannelå¯ä»¥æ˜¯å–®å‘æˆ–é›™å‘çš„ã€‚å–®å‘Channelåªå…è¨±ç™¼é€æˆ–æ¥æ”¶æ“ä½œï¼Œè€Œé›™å‘Channelå‰‡æ²’æœ‰é€™é™åˆ¶ã€‚\nç·©è¡Channelï¼šå¯ä»¥ä½¿ç”¨makeå‡½æ•¸çš„ç¬¬äºŒå€‹åƒæ•¸ä¾†å»ºç«‹ç·©è¡Channelã€‚ç·©è¡Channelå…è¨±ä¸€å®šæ•¸é‡çš„è³‡æ–™åœ¨ä¸é˜»å¡çš„æƒ…æ³ä¸‹é€²è¡Œç™¼é€ï¼Œç›´åˆ°ç·©è¡å€æ»¿ç‚ºæ­¢ã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { ch := make(chan int, 2) // å»ºç«‹ä¸€å€‹å®¹é‡ç‚º2çš„ç·©è¡Channel ch \u0026lt;- 1 // ç™¼é€ç¬¬ä¸€å€‹æ•¸å­—ï¼Œä¸æœƒé˜»å¡ ch \u0026lt;- 2 // ç™¼é€ç¬¬äºŒå€‹æ•¸å­—ï¼Œä¸æœƒé˜»å¡ // ch \u0026lt;- 3 // å¦‚æœå†å˜—è©¦ç™¼é€ç¬¬ä¸‰å€‹æ•¸å­—ï¼Œå°‡æœƒé˜»å¡ï¼Œå› ç‚ºç·©è¡å€å·²æ»¿ fmt.Println(\u0026lt;-ch) // å¾Channelæ¥æ”¶ç¬¬ä¸€å€‹æ•¸å­— fmt.Println(\u0026lt;-ch) // å¾Channelæ¥æ”¶ç¬¬äºŒå€‹æ•¸å­— } åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å»ºç«‹äº†ä¸€å€‹å®¹é‡ç‚º2çš„ç·©è¡Channelã€‚æˆ‘å€‘å¯ä»¥é€£çºŒç™¼é€å…©å€‹æ•¸å­—ï¼Œè€Œä¸æœƒé˜»å¡ï¼Œä½†å¦‚æœæƒ³å†ç™¼é€ç¬¬ä¸‰å€‹æ•¸å­—ï¼Œå‰‡æœƒé˜»å¡ï¼Œç›´åˆ°æœ‰goroutineæ¥æ”¶ã€‚\né™åˆ¶ åªèƒ½å‚³éç›¸åŒé¡å‹çš„è³‡æ–™ï¼šå°±åƒç´™æ¢åªè¬›ä¸€ä»¶äº‹ï¼Œå¯èƒ½è‹±æ–‡èª²ä¸Šå‚³ç´™æ¢æœƒå¯«è‹±æ–‡ï¼Œæ•¸å­¸èª²ä¸Šå‚³ç´™æ¢æœƒå¯«æ•¸å­¸ï¼›Channelä¹Ÿä¸€æ¨£ï¼Œæ¯å€‹Channelåªå…è¨±å‚³éç›¸åŒé¡å‹çš„è³‡æ–™ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå»ºç«‹äº†ä¸€å€‹æ•´æ•¸å‹çš„Channelï¼Œå‰‡åªèƒ½ç™¼é€å’Œæ¥æ”¶æ•´æ•¸ã€‚ package main import \u0026#34;fmt\u0026#34; func main() { ch := make(chan int) // ä»¥ä¸‹ç¨‹å¼ç¢¼å°‡å°è‡´ç·¨è­¯éŒ¯èª¤ ch \u0026lt;- \u0026#34;Hello\u0026#34; // å˜—è©¦å‘æ•´æ•¸Channelç™¼é€String } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘æƒ³è¦åœ¨æ•´æ•¸å‹çš„Channel ch å‚³éä¸€å€‹Stringï¼Œé€™å°±æœƒè®“ç·¨è­¯å™¨çœ‹ä¸æ‡‚ï¼Œé€²è€Œå ±éŒ¯ï¼Œå› ç‚ºå®ƒå€‘ä¸æ˜¯ç›¸åŒé¡å‹çš„è³‡æ–™ã€‚\nä¸å¯æ“´å±•ï¼šä¸€æ¨£åœ¨æ‹¿ç´™æ¢ä¾†èˆ‰ä¾‹ï¼Œç•¶ä½ æ’•ä¸‹ä¸€å¼µç´™ä½œç‚ºç´™æ¢ï¼Œå°±ä¸èƒ½å†æ±ºå®šç´™æ¢å¤§å°äº†ï¼›Channelä¹Ÿæ˜¯ï¼Œå»ºç«‹å®Œå¾Œï¼Œå®¹é‡å°±ä¸èƒ½å‹•æ…‹æ“´å±•ã€‚å¦‚æœéœ€è¦æ›´å¤šå®¹é‡ï¼Œå°±å¿…é ˆé‡æ–°å»ºç«‹ä¸€å€‹æ–°çš„Channelã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { // å»ºç«‹ä¸€å€‹æ•´æ•¸å‹çš„Channelï¼Œå®¹é‡ç‚º2 ch := make(chan int, 2) // å‘Channelç™¼é€å…©å€‹æ•¸å­— ch \u0026lt;- 1 ch \u0026lt;- 2 // å˜—è©¦å†æ¬¡å‘Channelç™¼é€ï¼Œä½†æ­¤æ™‚å®¹é‡å·²æ»¿ï¼Œå°‡å°è‡´æ­»é– // ch \u0026lt;- 3 // é€™è¡Œæœƒå°è‡´ç¨‹å¼æ­»é– // è®€å–Channelä¸­çš„æ•¸å­— fmt.Println(\u0026lt;-ch) fmt.Println(\u0026lt;-ch) // é—œé–‰Channel close(ch) // å†æ¬¡å˜—è©¦è®€å–Channelä¸­çš„æ•¸å­—ï¼Œå°‡å¾—åˆ°é›¶å€¼ä¸¦ä¸æœƒé€ æˆæ­»é– fmt.Println(\u0026lt;-ch) // è¼¸å‡ºï¼š0 } å¸¸è¦‹ç”¨æ³• ä½µç™¼æ§åˆ¶ï¼šå¯ä»¥ä½¿ç”¨Channelä¾†å”èª¿å¤šå€‹goroutinesçš„åŸ·è¡Œé †åºï¼Œç¢ºä¿å®ƒå€‘æŒ‰ç…§æ‰€éœ€çš„é †åºåŸ·è¡Œã€‚\nè³‡æ–™å…±äº«ï¼šå¤šå€‹goroutineså¯ä»¥é€šéChannelå…±äº«è³‡æ–™ï¼Œè€Œç„¡éœ€ä½¿ç”¨é¡å¤–çš„åŒæ­¥æ©Ÿåˆ¶ï¼Œå¾è€Œé¿å…ç«¶çˆ­æ¢ä»¶å’Œæ­»é–ã€‚\näº‹ä»¶é€šçŸ¥ï¼šChannelå¯ä»¥ç”¨æ–¼é€šçŸ¥goroutinesç™¼ç”Ÿçš„äº‹ä»¶ï¼Œä¾‹å¦‚æŸå€‹æ¢ä»¶å·²æ»¿è¶³æˆ–æŸå€‹ä»»å‹™å·²å®Œæˆã€‚\nç•°æ­¥è™•ç†ï¼šå¯ä»¥ä½¿ç”¨Channelä¾†å•Ÿå‹•ç•°æ­¥ä»»å‹™ï¼Œç„¶å¾Œç­‰å¾…å®ƒå€‘å®Œæˆï¼Œè€Œä¸æœƒé˜»å¡ä¸»ç·šç¨‹ã€‚\nå°çµ Goroutineå°±åƒæ˜¯è¬›é›»è©±çš„æˆ‘å€‘ï¼ŒChannelå°±åƒæ˜¯è©±ç­’ï¼Œèƒ½ç©©ç©©åœ°å‚³é”æˆ‘è¦çš„è¨Šæ¯ï¼Œåœ¨goroutinesä¹‹é–“å®‰å…¨åœ°å‚³éè³‡æ–™å’Œå”èª¿æ“ä½œï¼Œä¹Ÿé¿å…äº†ç«¶çˆ­æ¢ä»¶å’Œæ­»é–ç­‰å•é¡Œã€‚\nğŸ“šReference Go by Example: Channels [Golang] goroutines, channels, and concurrency | PJCHENder æœªæ•´ç†ç­†è¨˜ ä½¿ç”¨ Go Channel åŠ Goroutine æ™‚æ©Ÿ | Go æŠ€æœ¯è®ºå› (learnku.com) ","permalink":"https://sz9751210.github.io/posts/go-channel/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æ˜¨å¤©è¬›åˆ°Goroutineæœ‰ç¨å¾®ç°¡å–®ä»‹ç´¹Channelï¼ŒChannelæ˜¯Goèªè¨€ä¸­æ¥µç‚ºé‡è¦çš„ä½µç™¼é€šè¨Šæ©Ÿåˆ¶ï¼Œå®ƒå°±åƒæ˜¯ä¸åŒgoroutinesä¹‹é–“çš„è©±ç­’ï¼Œå…è¨±å®ƒå€‘å®‰å…¨åœ°å‚³éè³‡æ–™å’Œä¿¡æ¯ã€‚é€™å€‹å¼·å¤§çš„å·¥å…·ä½¿å¾—Goèªè¨€åœ¨è™•ç†ä½µç™¼ä»»å‹™æ™‚éå¸¸å„ªé›…å’Œé«˜æ•ˆã€‚é€šéChannelï¼Œå¯ä»¥å”èª¿goroutinesçš„æ“ä½œï¼Œé˜²æ­¢ç«¶çˆ­æ¢ä»¶ï¼Œä¸¦å¯¦ç¾é«˜æ•ˆçš„ä½µç™¼ç¨‹å¼è¨­è¨ˆã€‚\nä»€éº¼æ˜¯Channelï¼Ÿ Channelæ˜¯Goèªè¨€ä¸­ä¸€å€‹å¼·å¤§çš„ä½µç™¼åŸèªè¨€åŠŸèƒ½ï¼Œç”¨æ–¼åœ¨ä¸åŒçš„goroutineä¹‹é–“å‚³éè³‡æ–™ã€‚å®ƒå€‘æä¾›äº†ä¸€ç¨®é€šè¨Šçš„æ©Ÿåˆ¶ï¼Œå¯ä»¥è®“goroutinesä¹‹é–“å®‰å…¨åœ°äº¤æ›ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦é¡å¤–çš„äº’æ–¥é–æˆ–ä¿¡è™Ÿé‡ã€‚\nå¯ä»¥æŠŠchannelæ¯”å–»æˆå‚³ç´™æ¢ï¼Œå‚³ç´™æ¢å¯ä»¥æ˜¯å–®å‘ï¼Œä¹Ÿå¯ä»¥æ˜¯é›™å‘ï¼Œå–®å‘å¯ä»¥æƒ³åƒé¡ä¼¼ä»¥å‰å‚³ç´™æ¢çš„ä¸­é–“äººï¼Œä»–åªæ¥æ”¶å’Œå‚³éï¼Œç´™æ¢ä¹Ÿæœ‰å¤§å°çš„é™åˆ¶ï¼Œå¯«æ»¿äº†å°±ä¸èƒ½å†ç¹¼çºŒå¯«ï¼Œä¸¦ä¸”éœ€è¦ç­‰å¾…å°æ–¹å°‡ç´™æ¢é€²è¡Œå›è¦†å¾Œä½ æ‰èƒ½ç¹¼çºŒã€‚\nå»ºç«‹å’Œä½¿ç”¨Channel åœ¨Goä¸­ï¼Œå¯ä»¥ä½¿ç”¨å…§å»ºçš„makeå‡½æ•¸ä¾†å»ºç«‹ä¸€å€‹æ–°çš„Channelã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ makeå‡½æ•¸å»ºç«‹æ•´æ•¸é¡å‹çš„Channel\nch := make(chan int) å»ºç«‹å®Œå¾Œï¼Œå°±å¯ä»¥å°‡è³‡æ–™ç™¼é€åˆ°Channelä¸­ï¼Œç„¶å¾Œåœ¨å…¶ä»–goroutineä¸­æ¥æ”¶å®ƒå€‘ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡å–®çš„ç™¼é€å’Œæ¥æ”¶è³‡æ–™çš„ä¾‹å­ï¼š\nfunc main() { ch := make(chan int) go func() { ch \u0026lt;- 42 // ç™¼é€è³‡æ–™åˆ°Channel }() value := \u0026lt;-ch // å¾Channelæ¥æ”¶è³‡æ–™ fmt.Println(value) // è¼¸å‡ºï¼š42 } é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å»ºç«‹äº†ä¸€å€‹goroutineï¼Œå®ƒå°‡æ•¸å­—42ç™¼é€åˆ°Channelï¼Œç„¶å¾Œä¸»goroutineï¼Œä¹Ÿå°±æ˜¯mainå‡½æ•¸ï¼Œæ¥æ”¶åˆ°é€™å€‹æ•¸å­—ã€‚\né—œé–‰Channel ç´™æ¢ç”¨å®Œæœƒä¸Ÿæ‰ï¼ŒChannelç”¨å®Œä¹Ÿæ˜¯è¦é—œæ‰ï¼Œæ‚¨å¯èƒ½éœ€è¦é—œé–‰Channelï¼Œä»¥é€šçŸ¥æ¥æ”¶æ–¹ä¸å†æœ‰æ–°çš„è³‡æ–™å¯ç”¨ã€‚è¦é—œé–‰Channelï¼Œå¯ä»¥ä½¿ç”¨closeå‡½æ•¸ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nclose(ch) æ¥æ”¶æ–¹å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„èªæ³•ä¾†æª¢æŸ¥Channelæ˜¯å¦å·²é—œé–‰ï¼š\nvalue, ok := \u0026lt;-ch if !ok { // Channelå·²ç¶“é—œé–‰ } é€™å¯ä»¥é˜²æ­¢æ¥æ”¶æ–¹åœ¨Channelå·²é—œé–‰çš„æƒ…æ³ä¸‹ç¹¼çºŒç­‰å¾…ã€‚ ä¸¦ä¸”å·²ç¶“é—œé–‰çš„Channelä¾ç„¶å¯ä»¥é€²è¡Œæ¥æ”¶çš„æ“ä½œï¼Œä½†ä¸èƒ½å†é€²è¡Œç™¼é€ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { ch := make(chan int) go func() { for i := 0; i \u0026lt; 5; i++ { time.","title":"Channelï¼šGoèªè¨€å»ºç«‹ä½µç™¼é€šè¨Šçš„æ©‹æ¨‘"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œå¦‚æœèƒ½åŒæ™‚åšå¾ˆå¤šäº‹æƒ…ï¼Œæ•ˆç‡è‚¯å®šå¤§å¤§æå‡ï¼Œé‚£éº¼åœ¨Goèªè¨€ä¸­ï¼Œè©²å¦‚ä½•åšåˆ°å‘¢ï¼Œç­”æ¡ˆå°±æ˜¯ä»Šå¤©çš„ä¸»è§’Goroutineäº†ï¼Œåœ¨Goèªè¨€ä¸­ï¼Œè®“ä½µç™¼è®Šå¾—ç°¡å–®çš„å¼·å¤§å·¥å…·ï¼Œä»Šå¤©å°±æ˜¯ä¾†çµ¦ä»–ä¸€å€‹å¿«é€Ÿä»‹ç´¹ã€‚\nä»€éº¼æ˜¯Goroutineï¼Ÿ é¦–å…ˆï¼Œè®“æˆ‘å€‘ä»¥ä¸€å€‹ç°¡å–®çš„æ–¹å¼ä¾†è§£é‡‹ä»€éº¼æ˜¯Goroutineã€‚Goroutineæ˜¯Goèªè¨€çš„ä¸€å€‹ç‰¹åˆ¥çš„åŠŸèƒ½ï¼Œå®ƒå°±åƒæ˜¯å°å‹çš„å·¥ä½œä»»å‹™ï¼Œå¯ä»¥è®“æˆ‘å€‘åŒæ™‚è™•ç†å¾ˆå¤šäº‹æƒ…ï¼Œè€Œä¸éœ€è¦æµªè²»å¤ªå¤šé›»è…¦è³‡æºã€‚å¯ä»¥æŠŠå®ƒæƒ³åƒæˆæ¯”å‚³çµ±æ–¹å¼æ›´è°æ˜çš„æ–¹å¼ä¾†è™•ç†å¤šé …å·¥ä½œï¼Œè€Œä¸æœƒè®“é›»è…¦è®Šå¾—è¶…ç´šå¿™ç¢Œã€‚é€™ç¨®åŠŸèƒ½è®“Goèªè¨€åœ¨è™•ç†å¤§é‡åŒæ™‚åŸ·è¡Œçš„å·¥ä½œæ™‚è®Šå¾—éå¸¸å¼·å¤§ã€‚\nå¦‚ä½•å‰µå»ºå’Œå•Ÿå‹•Goroutine è¦ä½¿ç”¨Goroutineå¾ˆç°¡å–®ï¼Œåªéœ€è¦å‰µå»ºä¸€å€‹å‡½æ•¸ï¼Œç„¶å¾Œä½¿ç”¨goé—œéµå­—åœ¨è¦ä½¿ç”¨goroutineçš„å‡½æ•¸å‰é¢å°±å®Œæˆäº†ã€‚å¯ä»¥çœ‹ä»¥ä¸‹ç¯„ä¾‹ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; ) func main() { go sayHello() // ä¸»ç¨‹å¼ä¸æœƒç­‰å¾…Goroutineå®Œæˆ } func sayHello() { fmt.Println(\u0026#34;Hello, Goroutine!\u0026#34;) } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨goé—œéµå­—å•Ÿå‹•ä¸€å€‹æ–°çš„Goroutineï¼ŒGoroutineåŸ·è¡Œäº†sayHelloå‡½æ•¸ã€‚ä½†é ˆæ³¨æ„ï¼Œä¸»ç¨‹å¼mainä¸æœƒç­‰å¾…Goroutineå®Œæˆï¼Œæ‰€ä»¥å¯èƒ½ä¸æœƒçœ‹åˆ°æœ‰å°å‡ºä»»ä½•æ±è¥¿ä¾†ã€‚\nå¯ä»¥ç¨å¾®è®“mainä¸»ç¨‹å¼ç¡ä¸€ä¸‹ï¼Œå°±å¯ä»¥çœ‹åˆ°è¼¸å‡ºäº†\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { go sayHello() time.Sleep(1) } func sayHello() { fmt.Println(\u0026#34;Hello, Goroutine!\u0026#34;) } Goroutineçš„åŸ·è¡Œéç¨‹ ä¸‹é¢æä¾›äº†ä¸€å€‹ç°¡å–®çš„å°ç¨‹å¼ï¼Œåœ¨ä¸»ç¨‹å¼è£¡æœ‰å…©å€‹goroutineï¼Œè©¦è‘—åŸ·è¡Œä¸€ä¸‹ç¨‹å¼å¯ä»¥ç™¼ç¾è¼¸å‡ºæ˜¯ä¸€æ®µä¸€æ®µçš„ï¼Œæœƒæ˜¯0è·Ÿ1äº¤éŒ¯å°å‡ºï¼Œä»£è¡¨å…©é‚Šçš„goroutineæœƒæ¶è‘—å°å‡ºï¼Œå‘ˆç¾ç«¶çˆ­ç‹€æ…‹\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { go print1() go print2() time.Sleep(time.Second) } func print1() { for i := 0; i \u0026lt; 100; i++ { fmt.Print(\u0026#34;0\u0026#34;) } } func print2() { for i := 0; i \u0026lt; 100; i++ { fmt.Print(\u0026#34;1\u0026#34;) } } Goroutineä¹‹é–“çš„é€šä¿¡ ä½µç™¼å¾€å¾€æ¶‰åŠåˆ°å¤šå€‹ä»»å‹™ä¹‹é–“çš„é€šä¿¡ã€‚é€™å°±æ˜¯é€šé“ï¼ˆChannelï¼‰çš„ç”¨æ­¦ä¹‹åœ°ã€‚é€šé“æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„è³‡æ–™çµæ§‹ï¼Œç”¨æ–¼åœ¨ä¸åŒçš„Goroutineä¹‹é–“å‚³éè³‡æ–™ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { ch := make(chan string) go sendData(ch) go receiveData(ch) time.Sleep(2 * time.Second) // ç­‰å¾…Goroutineså®Œæˆ } func sendData(ch chan string) { ch \u0026lt;- \u0026#34;Hello from Goroutine!\u0026#34; } func receiveData(ch chan string) { msg := \u0026lt;-ch fmt.Println(msg) } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å…ˆå‰µå»ºäº†ä¸€å€‹é€šé“chï¼Œç„¶å¾Œä½¿ç”¨é€šé“åœ¨å…©å€‹Goroutineä¹‹é–“å‚³éæ¶ˆæ¯ã€‚ é€šé“çš„æºé€šå¯ä»¥çœ‹åˆ°ç¯„ä¾‹ï¼Œ\u0026lt;- chan ä»£è¡¨å°‡è³‡æ–™å¾channelä¸­å–å‡ºï¼Œè€Œchan \u0026lt;- å‰‡ä»£è¡¨å°‡è³‡æ–™æ”¾é€²channel\nGoroutineåŒæ­¥èˆ‡ç­‰å¾… é€šå¸¸æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘å¸Œæœ›ä¸»ç¨‹å¼èƒ½å¤ ç­‰å¾…æ‰€æœ‰çš„Goroutineå®Œæˆï¼Œä»¥ç¢ºä¿çµæœçš„å®Œæ•´æ€§ã€‚é€™å°±æ˜¯WaitGroupçš„ä½œç”¨ï¼š\nsync.WaitGroup é€™å€‹å‡½æ•¸çš„ä¸»è¦åŠŸèƒ½æ˜¯è®“ä¸»ç¨‹å¼ç­‰å¾…æ‰€æœ‰çš„Goroutineå®Œæˆï¼Œç„¶å¾Œå†ç¹¼çºŒåŸ·è¡Œæ¥ä¸‹ä¾†çš„ç¨‹å¼ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å¹¾ç¨®æ–¹æ³•\nAdd(delta int)ï¼šç”¨ä¾†å¢åŠ è¨ˆæ•¸å™¨çš„å€¼ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘å€‹Goroutineéœ€è¦ç­‰å¾…ã€‚\nDone()ï¼šç”¨ä¾†æ¸›å°‘è¨ˆæ•¸å™¨çš„å€¼ï¼Œè¡¨ç¤ºä¸€å€‹Goroutineå·²ç¶“å®Œæˆã€‚é€šå¸¸åœ¨GoroutineåŸ·è¡Œå®Œå¾Œä½¿ç”¨ Doneã€‚\nWait()ï¼šç”¨ä¾†å°‡è¨ˆæ•¸å™¨æ­¸é›¶ã€‚ç•¶è¨ˆæ•¸å™¨çš„å€¼ç‚ºé›¶æ™‚ï¼ŒWait å‡½æ•¸æœƒè¿”å›ï¼Œä¸¦å…è¨±ä¸»ç¨‹å¼ç¹¼çºŒåŸ·è¡Œã€‚\næ¥è‘—è®“æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ç¯„ä¾‹ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; ) func main() { // å‰µå»ºä¸€å€‹WaitGroup var wg sync.WaitGroup // å•Ÿå‹•5å€‹Goroutine for i := 0; i \u0026lt; 5; i++ { wg.Add(1) // å¢åŠ è¨ˆæ•¸å™¨ go worker(i, \u0026amp;wg) } wg.Wait() // ç­‰å¾…æ‰€æœ‰Goroutineså®Œæˆ fmt.Println(\u0026#34;All Goroutines have finished.\u0026#34;) } func worker(id int, wg *sync.WaitGroup) { defer wg.Done() // æ¸›å°‘è¨ˆæ•¸å™¨ fmt.Printf(\u0026#34;Worker %d is done\\n\u0026#34;, id) } å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘ä½¿ç”¨WaitGroupä¾†ç­‰å¾…æ‰€æœ‰çš„Goroutineå®Œæˆï¼Œç¢ºä¿æˆ‘çš„ä¸»ç¨‹å¼å¯ä»¥å®Œæ•´åŸ·è¡Œè€Œä¸æœƒæå‰é€€å‡ºã€‚\nGoroutine çš„ç‰¹æ€§èˆ‡é™åˆ¶ ç‰¹æ€§ è³‡æºæ¶ˆè€—æ¥µä½ï¼šGoroutine çš„å‰µå»ºç›¸å°è¼•é‡ï¼Œä¸»è¦æ¶ˆè€—å°‘é‡stackç©ºé–“ã€‚é€™æ„å‘³è‘—ä½ å¯ä»¥å‰µå»ºå¤§é‡çš„ goroutine è€Œä¸å¿…æ“”å¿ƒè³‡æºè€—ç›¡çš„å•é¡Œã€‚\næœ‰æ•ˆçš„ç·šç¨‹ç®¡ç†ï¼šç•¶ä¸€å€‹ goroutine è¢«é˜»å¡æ™‚ï¼Œç›¸æ‡‰çš„ç®¡ç†ç·šç¨‹å°‡è¢«æ“±ç½®ï¼Œä½†é‹è¡Œæ™‚æœƒå°‡å…¶ä»– goroutine åˆ†é…çµ¦é€™å€‹ç·šç¨‹ï¼Œä½¿å…¶ç¹¼çºŒåŸ·è¡Œå…¶ä»–å·¥ä½œã€‚é€™ç¨®æ©Ÿåˆ¶ç¢ºä¿äº†ç·šç¨‹çš„é«˜æ•ˆä½¿ç”¨ï¼Œé¿å…äº†è³‡æºæµªè²»ã€‚\næœ€å¤§ç·šç¨‹æ•¸é™åˆ¶ï¼šä½ å¯ä»¥é€éè¨­å®š $GOMAXPROCS ä¾†é™åˆ¶ç³»çµ±ä¸­çš„ç·šç¨‹æ•¸é‡ï¼Œç¢ºä¿å®ƒå€‘ä¸æœƒç„¡ç¯€åˆ¶åœ°å¢åŠ ã€‚é€™æœ‰åŠ©æ–¼é¿å…ç³»çµ±è³‡æºçš„éåº¦æ¶ˆè€—ã€‚\né™åˆ¶ Goroutine æ•¸é‡é™åˆ¶ï¼šç†è«–ä¸Šï¼ŒGo èªè¨€å¯ä»¥å‰µå»ºæ¥µå¤šçš„ Goroutineï¼Œä½†å¯¦éš›ä¸Šï¼Œç³»çµ±çš„å¯ç”¨è³‡æºï¼ˆè¨˜æ†¶é«”å’Œ CPUï¼‰æ˜¯æœ‰é™çš„ã€‚å› æ­¤ï¼Œä½ éœ€è¦è¬¹æ…æ§åˆ¶ Goroutine çš„æ•¸é‡ï¼Œä»¥é¿å…éå¤šçš„ä½µç™¼é€ æˆè³‡æºè€—ç›¡æˆ–æ€§èƒ½ä¸‹é™ã€‚\nç«¶çˆ­æ¢ä»¶å’Œæ­»é–ï¼šGoroutine çš„ä½µç™¼æ“ä½œéœ€è¦è¬¹æ…è™•ç†å…±äº«è³‡æºï¼Œå¦å‰‡å¯èƒ½å‡ºç¾ç«¶çˆ­æ¢ä»¶ï¼ˆrace conditionï¼‰å’Œæ­»é–ï¼ˆdeadlockï¼‰ã€‚é€™ä¸æ˜¯ç›´æ¥çš„é™åˆ¶ï¼Œä½†æ˜¯åœ¨ Goroutine çš„è¨­è¨ˆå’Œä½¿ç”¨ä¸­éœ€è¦ç‰¹åˆ¥æ³¨æ„ï¼Œä»¥ç¢ºä¿ç¨‹å¼çš„æ­£ç¢ºæ€§ã€‚\nå°çµ ç›¸ä¿¡å­¸ç¿’Goèªè¨€çš„å„ä½ï¼Œä¹Ÿæ˜¯è¢«Goroutineå¼·å¤§çš„ä½µç™¼èƒ½åŠ›æ‰€å¸å¼•ï¼ŒGoroutineé‚„æœ‰è¨±å¤šç´°ç¯€ï¼Œä»Šå¤©é€™ç¯‡åªæ˜¯ç°¡å–®ä»‹ç´¹Goroutineï¼Œä¹‹å¾Œæœƒå†æ…¢æ…¢æ·±å…¥æ¢è¨Goroutineçš„å¥§å¦™ä¹‹è™•ã€‚\nğŸ“šReference A Tour of Go(goroutine) Golang æ•™å­¸ç³»åˆ— - ä½•è¬‚ Goroutine | Kenny\u0026rsquo;s Blog (kennycoder.io) é—œæ–¼ Goroutineçš„äºŒä¸‰äº‹. è¿‘æœŸå› å€‹äººå› ç´ ï¼Œé–‹å§‹æŸ¥è©¢â€¦ | by Lykoi Zhang | Medium [Golang] goroutines, channels, and concurrency | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-goroutine/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œå¦‚æœèƒ½åŒæ™‚åšå¾ˆå¤šäº‹æƒ…ï¼Œæ•ˆç‡è‚¯å®šå¤§å¤§æå‡ï¼Œé‚£éº¼åœ¨Goèªè¨€ä¸­ï¼Œè©²å¦‚ä½•åšåˆ°å‘¢ï¼Œç­”æ¡ˆå°±æ˜¯ä»Šå¤©çš„ä¸»è§’Goroutineäº†ï¼Œåœ¨Goèªè¨€ä¸­ï¼Œè®“ä½µç™¼è®Šå¾—ç°¡å–®çš„å¼·å¤§å·¥å…·ï¼Œä»Šå¤©å°±æ˜¯ä¾†çµ¦ä»–ä¸€å€‹å¿«é€Ÿä»‹ç´¹ã€‚\nä»€éº¼æ˜¯Goroutineï¼Ÿ é¦–å…ˆï¼Œè®“æˆ‘å€‘ä»¥ä¸€å€‹ç°¡å–®çš„æ–¹å¼ä¾†è§£é‡‹ä»€éº¼æ˜¯Goroutineã€‚Goroutineæ˜¯Goèªè¨€çš„ä¸€å€‹ç‰¹åˆ¥çš„åŠŸèƒ½ï¼Œå®ƒå°±åƒæ˜¯å°å‹çš„å·¥ä½œä»»å‹™ï¼Œå¯ä»¥è®“æˆ‘å€‘åŒæ™‚è™•ç†å¾ˆå¤šäº‹æƒ…ï¼Œè€Œä¸éœ€è¦æµªè²»å¤ªå¤šé›»è…¦è³‡æºã€‚å¯ä»¥æŠŠå®ƒæƒ³åƒæˆæ¯”å‚³çµ±æ–¹å¼æ›´è°æ˜çš„æ–¹å¼ä¾†è™•ç†å¤šé …å·¥ä½œï¼Œè€Œä¸æœƒè®“é›»è…¦è®Šå¾—è¶…ç´šå¿™ç¢Œã€‚é€™ç¨®åŠŸèƒ½è®“Goèªè¨€åœ¨è™•ç†å¤§é‡åŒæ™‚åŸ·è¡Œçš„å·¥ä½œæ™‚è®Šå¾—éå¸¸å¼·å¤§ã€‚\nå¦‚ä½•å‰µå»ºå’Œå•Ÿå‹•Goroutine è¦ä½¿ç”¨Goroutineå¾ˆç°¡å–®ï¼Œåªéœ€è¦å‰µå»ºä¸€å€‹å‡½æ•¸ï¼Œç„¶å¾Œä½¿ç”¨goé—œéµå­—åœ¨è¦ä½¿ç”¨goroutineçš„å‡½æ•¸å‰é¢å°±å®Œæˆäº†ã€‚å¯ä»¥çœ‹ä»¥ä¸‹ç¯„ä¾‹ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; ) func main() { go sayHello() // ä¸»ç¨‹å¼ä¸æœƒç­‰å¾…Goroutineå®Œæˆ } func sayHello() { fmt.Println(\u0026#34;Hello, Goroutine!\u0026#34;) } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨goé—œéµå­—å•Ÿå‹•ä¸€å€‹æ–°çš„Goroutineï¼ŒGoroutineåŸ·è¡Œäº†sayHelloå‡½æ•¸ã€‚ä½†é ˆæ³¨æ„ï¼Œä¸»ç¨‹å¼mainä¸æœƒç­‰å¾…Goroutineå®Œæˆï¼Œæ‰€ä»¥å¯èƒ½ä¸æœƒçœ‹åˆ°æœ‰å°å‡ºä»»ä½•æ±è¥¿ä¾†ã€‚\nå¯ä»¥ç¨å¾®è®“mainä¸»ç¨‹å¼ç¡ä¸€ä¸‹ï¼Œå°±å¯ä»¥çœ‹åˆ°è¼¸å‡ºäº†\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { go sayHello() time.Sleep(1) } func sayHello() { fmt.Println(\u0026#34;Hello, Goroutine!\u0026#34;) } Goroutineçš„åŸ·è¡Œéç¨‹ ä¸‹é¢æä¾›äº†ä¸€å€‹ç°¡å–®çš„å°ç¨‹å¼ï¼Œåœ¨ä¸»ç¨‹å¼è£¡æœ‰å…©å€‹goroutineï¼Œè©¦è‘—åŸ·è¡Œä¸€ä¸‹ç¨‹å¼å¯ä»¥ç™¼ç¾è¼¸å‡ºæ˜¯ä¸€æ®µä¸€æ®µçš„ï¼Œæœƒæ˜¯0è·Ÿ1äº¤éŒ¯å°å‡ºï¼Œä»£è¡¨å…©é‚Šçš„goroutineæœƒæ¶è‘—å°å‡ºï¼Œå‘ˆç¾ç«¶çˆ­ç‹€æ…‹\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func main() { go print1() go print2() time.Sleep(time.Second) } func print1() { for i := 0; i \u0026lt; 100; i++ { fmt.","title":"æ¢ç´¢Goroutineï¼šGoèªè¨€çš„ä½µç™¼é­”æ³•"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ç•¶æˆ‘å€‘åœ¨å®£å‘Šè®Šæ•¸æ™‚ï¼Œé›»è…¦æœƒç‚ºè©²è®Šæ•¸åœ¨è¨˜æ†¶é«”ä¸­åˆ†é…ä¸€å€‹ä½ç½®ï¼Œç„¶å¾Œå°‡é€™å€‹è®Šæ•¸å€¼å„²å­˜åœ¨é€™å€‹ä½ç½®ä¸Šï¼Œéœ€è¦è®€å–æˆ–ä¿®æ”¹é€™å€‹è®Šæ•¸å€¼æ™‚ï¼Œé›»è…¦æ˜¯é€éè¨˜æ†¶é«”ä½ç½®ä¾†å­˜å–é€™å€‹å€¼ã€‚ ä»Šå¤©ä¾†ç°¡å–®ä»‹ç´¹ä¸€ä¸‹goçš„Pointerï¼Œä»–çš„ç‰¹æ€§ä»¥åŠå¸¸è¦‹ç”¨æ³•ã€‚\nä»€éº¼æ˜¯Pointerï¼Ÿ Pointeræ˜¯ä¸€ç¨®è³‡æ–™é¡å‹ï¼Œç”¨ä¾†å„²å­˜è®Šæ•¸çš„è¨˜æ†¶é«”åœ°å€ã€‚åœ¨Goä¸­ï¼Œæˆ‘å€‘å¯ä»¥é€šéä½¿ç”¨ * ç¬¦è™Ÿä¾†å®£å‘Šå’Œæ“ä½œPointerã€‚é€™å…è¨±æˆ‘å€‘ç›´æ¥è¨ªå•å’Œä¿®æ”¹è®Šæ•¸çš„å…§å®¹ï¼Œè€Œä¸åƒ…åƒ…æ˜¯è®€å–æˆ–è¤‡è£½å®ƒå€‘çš„å€¼ã€‚\nPointerçš„ç‰¹æ€§ã€é™åˆ¶èˆ‡å¸¸è¦‹ç”¨æ³• ç‰¹æ€§ Pointerçš„å€¼å’Œåœ°å€ æ¯å€‹è®Šæ•¸éƒ½æœ‰ä¸€å€‹è¨˜æ†¶é«”åœ°å€ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨Pointerè®Šæ•¸ä¾†å„²å­˜é€™å€‹åœ°å€ã€‚è®“æˆ‘å€‘çœ‹ä¸€å€‹ç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { x := 42 var p *int // å®£å‘Šä¸€å€‹æ•´æ•¸Pointer p = \u0026amp;x // å°‡pæŒ‡å‘xçš„åœ°å€ fmt.Println(\u0026#34;x =\u0026#34;, x) fmt.Println(\u0026#34;p =\u0026#34;, p) } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å‰µå»ºäº†ä¸€å€‹æ•´æ•¸è®Šæ•¸ xï¼Œä¸¦å®£å‘Šäº†ä¸€å€‹æ•´æ•¸Pointer pï¼Œç„¶å¾Œå°‡ p è¨­ç‚º x çš„åœ°å€ã€‚ç¾åœ¨ï¼Œp è£¡é¢å­˜æ”¾çš„å°±æ˜¯ x çš„åœ°å€ã€‚\nPointerçš„åˆå§‹åŒ– Goä¸­çš„Pointerå¯ä»¥é€šé new å‡½æ•¸ä¾†åˆå§‹åŒ–ï¼Œé€™å°‡ç‚ºæŒ‡å®šçš„é¡å‹åˆ†é…è¨˜æ†¶é«”ä¸¦è¿”å›å…¶åœ°å€ã€‚ç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { var p *int p = new(int) // åˆå§‹åŒ–ä¸€å€‹æ•´æ•¸Pointer *p = 123 // å°‡Pointeræ‰€æŒ‡å‘çš„è¨˜æ†¶é«”è¨­ç½®ç‚º123 fmt.Println(\u0026#34;*p =\u0026#34;, *p) } å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘å‰µå»ºäº†ä¸€å€‹æ•´æ•¸Pointer pï¼Œä¸¦ä½¿ç”¨ new(int) åˆå§‹åŒ–å®ƒï¼Œç„¶å¾Œå°‡ p æ‰€æŒ‡å‘çš„è¨˜æ†¶é«”è¨­ç½®ç‚º 123ã€‚\nPointerçš„è§£å¼•ç”¨ é€šéPointerï¼Œæˆ‘å€‘å¯ä»¥è¨ªå•å’Œä¿®æ”¹è®Šæ•¸çš„å€¼ï¼Œé€™ç¨±ç‚ºPointerçš„è§£å¼•ç”¨ã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { x := 42 p := \u0026amp;x // å°‡pè¨­ç‚ºxçš„åœ°å€ï¼Œä½¿ç”¨\u0026amp; fmt.Println(\u0026#34;x =\u0026#34;, x) fmt.Println(\u0026#34;\u0026amp;x =\u0026#34;, \u0026amp;x) fmt.Println(\u0026#34;*p =\u0026#34;, *p) // è§£å¼•ç”¨Pointerï¼Œç²å¾—xçš„å€¼ï¼Œä½¿ç”¨* *p = 99 // é€šéPointerä¿®æ”¹xçš„å€¼ fmt.Println(\u0026#34;x =\u0026#34;, x) // xçš„å€¼å·²è¢«ä¿®æ”¹ fmt.Println(\u0026#34;\u0026amp;x =\u0026#34;, \u0026amp;x) fmt.Println(\u0026#34;*p =\u0026#34;, *p) } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨Pointer p è§£å¼•ç”¨ï¼Œä¸¦ä¿®æ”¹äº†è®Šæ•¸ x çš„å€¼ã€‚ä¹Ÿå¯ä»¥è§€å¯Ÿåˆ°ä¿®æ”¹å€¼ä¸¦ä¸æœƒæ”¹è®Šè¨˜æ†¶é«”ä½ç½®ã€‚\né™åˆ¶ ç©ºPointeré¢¨éšªï¼šæœªåˆå§‹åŒ–çš„Pointerå¯èƒ½ç‚ºnilï¼Œè©¦åœ–è§£å¼•ç”¨nil Pointeræœƒå°è‡´é‹è¡Œæ™‚éŒ¯èª¤ï¼ˆpanicï¼‰ã€‚\nè¨˜æ†¶é«”ç®¡ç†ï¼šGoä¸­çš„åƒåœ¾å›æ”¶å™¨æœƒç®¡ç†è¨˜æ†¶é«”ï¼Œä½†Pointerä»ç„¶éœ€è¦è¬¹æ…ä½¿ç”¨ï¼Œä»¥é¿å…è¨˜æ†¶é«”éŒ¯èª¤ã€‚\nç«¶çˆ­æ¢ä»¶ï¼šå¤šç·šç¨‹ç’°å¢ƒä¸­ï¼Œå…±äº«çš„Pointerå¯èƒ½å°è‡´ç«¶çˆ­æ¢ä»¶ï¼Œéœ€è¦ä½¿ç”¨äº’æ–¥é–ç­‰æŠ€è¡“ä¾†ä¿è­·å…±äº«è³‡æºã€‚\nå¸¸è¦‹ç”¨æ³• ç¯€çœè¨˜æ†¶é«” ç•¶éœ€è¦è™•ç†å¤§å‹è³‡æ–™çµæ§‹æ™‚ï¼Œä½¿ç”¨Pointerå¯ä»¥ç¯€çœè¨˜æ†¶é«”ï¼Œå› ç‚ºå®ƒå€‘åªå„²å­˜è®Šæ•¸çš„åœ°å€ï¼Œè€Œä¸æ˜¯æ•´å€‹è³‡æ–™ã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;unsafe\u0026#34; ) // å®šç¾©ä¸€å€‹åç‚º Person çš„çµæ§‹ï¼ˆstructï¼‰ type Person struct { Name string // åç¨± Age int // å¹´é½¡ } func main() { // å‰µå»ºä¸€å€‹ Person è®Šæ•¸ï¼Œåç¨±ç‚º Aliceï¼Œå¹´é½¡ç‚º 30 æ­² alice := Person{Name: \u0026#34;Alice\u0026#34;, Age: 30} // è¨ˆç®— Person è®Šæ•¸ alice çš„å¤§å° personSize := unsafe.Sizeof(alice) // å‰µå»ºä¸€å€‹æŒ‡å‘ Person è®Šæ•¸çš„Pointerï¼Œåç¨±ç‚º Bobï¼Œå¹´é½¡ç‚º 24 æ­² bob := \u0026amp;Person{Name: \u0026#34;Bob\u0026#34;, Age: 24} // è¨ˆç®—æŒ‡å‘ Person è®Šæ•¸ bob çš„Pointerçš„å¤§å° pointerSize := unsafe.Sizeof(bob) fmt.Printf(\u0026#34;alice -\u0026gt; Person è®Šæ•¸çš„å¤§å°ï¼š %d å€‹ä½å…ƒçµ„\\n\u0026#34;, personSize) fmt.Printf(\u0026#34;bob -\u0026gt; æŒ‡å‘ Person è®Šæ•¸çš„Pointerçš„å¤§å°ï¼š %d å€‹ä½å…ƒçµ„\\n\u0026#34;, pointerSize) fmt.Println(\u0026amp;alice) // åˆ—å° alice è®Šæ•¸çš„è¨˜æ†¶é«”ä½ç½® fmt.Println(\u0026amp;bob) // åˆ—å° bob è®Šæ•¸ï¼ˆPointerï¼‰çš„è¨˜æ†¶é«”ä½ç½® } åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘é€éå…©ç¨®æ–¹å¼å‰µå»ºpersonï¼Œä½†å¯ä»¥è§€å¯Ÿåˆ°ä½¿ç”¨Pointerçš„æ–¹å¼å‰µå»ºï¼Œä½¿ç”¨çš„å¤§å°è¼ƒå°ï¼Œé”åˆ°ç¯€çœè¨˜æ†¶é«”çš„ä½œç”¨ã€‚\næ”¹è®Šè³‡æ–™çš„åŸå§‹å€¼ æƒ³è¦åœ¨å‡½æ•¸ä¸­ä¿®æ”¹è®Šæ•¸çš„å€¼ï¼Œè€Œä¸åªæ˜¯å‰¯æœ¬æ™‚ï¼ŒPointerè®Šå¾—éå¸¸æœ‰ç”¨ã€‚\npackage main import \u0026#34;fmt\u0026#34; func modifyValue(x *int) { *x = 100 } func main() { y := 10 modifyValue(\u0026amp;y) // é€šéPointerä¿®æ”¹yçš„å€¼ fmt.Println(\u0026#34;y =\u0026#34;, y) } æ•ˆèƒ½å„ªå‹¢ åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œä½¿ç”¨Pointerå¯ä»¥æé«˜æ€§èƒ½ï¼Œå› ç‚ºå®ƒå€‘å…è¨±ç›´æ¥è¨ªå•å’Œä¿®æ”¹è¨˜æ†¶é«”ï¼Œè€Œä¸éœ€è¦é¡å¤–çš„è¨˜æ†¶é«”è¤‡è£½æ“ä½œã€‚\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) const N = 1000000 // é™£åˆ—å¤§å° // ä½¿ç”¨å€¼å‚³éçš„å‡½æ•¸ï¼Œä¸ä½¿ç”¨æŒ‡æ¨™ func sumValues(arr [N]int) int { sum := 0 for _, v := range arr { sum += v } return sum } // ä½¿ç”¨æŒ‡æ¨™å‚³éçš„å‡½æ•¸ï¼Œé¿å…é™£åˆ—è¤‡è£½ func sumPointers(arr *[N]int) int { sum := 0 for _, v := range arr { sum += v } return sum } func main() { // å‰µå»ºä¸€å€‹åŒ…å«å¤§é‡è³‡æ–™çš„æ•´æ•¸é™£åˆ— var arr [N]int for i := 0; i \u0026lt; N; i++ { arr[i] = i } // æ¸¬è©¦ä¸ä½¿ç”¨æŒ‡æ¨™çš„æƒ…æ³ï¼Œè¤‡è£½é™£åˆ— startTime := time.Now() result1 := sumValues(arr) duration1 := time.Since(startTime) // æ¸¬è©¦ä½¿ç”¨æŒ‡æ¨™çš„æƒ…æ³ï¼Œé¿å…è¤‡è£½é™£åˆ— startTime = time.Now() result2 := sumPointers(\u0026amp;arr) duration2 := time.Since(startTime) fmt.Printf(\u0026#34;ä¸ä½¿ç”¨æŒ‡æ¨™çš„çµæœï¼š%dï¼ŒåŸ·è¡Œæ™‚é–“ï¼š%v\\n\u0026#34;, result1, duration1) fmt.Printf(\u0026#34;ä½¿ç”¨æŒ‡æ¨™çš„çµæœï¼š%dï¼ŒåŸ·è¡Œæ™‚é–“ï¼š%v\\n\u0026#34;, result2, duration2) } å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘å‰µå»ºäº†ä¸€å€‹åŒ…å«å¤§é‡è³‡æ–™çš„æ•´æ•¸é™£åˆ—ï¼Œä¸¦å¯«äº†å…©å€‹å‡½æ•¸ä¾†è¨ˆç®—é™£åˆ—ä¸­æ‰€æœ‰å…ƒç´ çš„ç¸½å’Œã€‚ä¸€å€‹å‡½æ•¸ sumValues ä½¿ç”¨å€¼å‚³éé™£åˆ—ï¼Œå¦ä¸€å€‹å‡½æ•¸ sumPointers ä½¿ç”¨æŒ‡æ¨™å‚³éé™£åˆ—ã€‚\nåœ¨ main å‡½æ•¸ä¸­ï¼Œæ¸¬è©¦äº†é€™å…©å€‹å‡½æ•¸çš„æ•ˆèƒ½ã€‚çµæœé¡¯ç¤ºï¼Œä½¿ç”¨æŒ‡æ¨™å‚³éé™£åˆ—å¯ä»¥æ˜é¡¯æé«˜æ•ˆèƒ½ï¼Œå› ç‚ºå®ƒå°‘äº†é™£åˆ—çš„è¤‡è£½ï¼Œç¯€çœäº†å¤§é‡çš„æ™‚é–“å’Œè¨˜æ†¶é«”ã€‚\nå°çµ Pointeræ˜¯ç¨‹å¼èªè¨€ä¸­çš„é‡è¦æ¦‚å¿µï¼Œå®ƒå…è¨±æˆ‘å€‘ç›´æ¥è¨ªå•å’Œä¿®æ”¹è®Šæ•¸çš„å…§å®¹ï¼Œä¸¦åœ¨è¨±å¤šæƒ…æ³ä¸‹æä¾›æ€§èƒ½å„ªå‹¢å’Œç¯€çœè¨˜æ†¶é«”çš„æ©Ÿæœƒã€‚ä½†é‚„æ˜¯è¦å°å¿ƒä½¿ç”¨Pointerï¼Œç¢ºä¿ç¨‹å¼ç¢¼çš„ç©©å®šæ€§å’Œå®‰å…¨æ€§ã€‚\nğŸ“šReference A Tour of Go(pointer) [Golang] æŒ‡æ¨™ Pointers | PJCHENder æœªæ•´ç†ç­†è¨˜ Go æŒ‡é’ˆä¸å¼•ç”¨ï¼šå€¼ä¼ é€’å’Œå€ä¼ é€’-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com) ","permalink":"https://sz9751210.github.io/posts/go-pointer/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ç•¶æˆ‘å€‘åœ¨å®£å‘Šè®Šæ•¸æ™‚ï¼Œé›»è…¦æœƒç‚ºè©²è®Šæ•¸åœ¨è¨˜æ†¶é«”ä¸­åˆ†é…ä¸€å€‹ä½ç½®ï¼Œç„¶å¾Œå°‡é€™å€‹è®Šæ•¸å€¼å„²å­˜åœ¨é€™å€‹ä½ç½®ä¸Šï¼Œéœ€è¦è®€å–æˆ–ä¿®æ”¹é€™å€‹è®Šæ•¸å€¼æ™‚ï¼Œé›»è…¦æ˜¯é€éè¨˜æ†¶é«”ä½ç½®ä¾†å­˜å–é€™å€‹å€¼ã€‚ ä»Šå¤©ä¾†ç°¡å–®ä»‹ç´¹ä¸€ä¸‹goçš„Pointerï¼Œä»–çš„ç‰¹æ€§ä»¥åŠå¸¸è¦‹ç”¨æ³•ã€‚\nä»€éº¼æ˜¯Pointerï¼Ÿ Pointeræ˜¯ä¸€ç¨®è³‡æ–™é¡å‹ï¼Œç”¨ä¾†å„²å­˜è®Šæ•¸çš„è¨˜æ†¶é«”åœ°å€ã€‚åœ¨Goä¸­ï¼Œæˆ‘å€‘å¯ä»¥é€šéä½¿ç”¨ * ç¬¦è™Ÿä¾†å®£å‘Šå’Œæ“ä½œPointerã€‚é€™å…è¨±æˆ‘å€‘ç›´æ¥è¨ªå•å’Œä¿®æ”¹è®Šæ•¸çš„å…§å®¹ï¼Œè€Œä¸åƒ…åƒ…æ˜¯è®€å–æˆ–è¤‡è£½å®ƒå€‘çš„å€¼ã€‚\nPointerçš„ç‰¹æ€§ã€é™åˆ¶èˆ‡å¸¸è¦‹ç”¨æ³• ç‰¹æ€§ Pointerçš„å€¼å’Œåœ°å€ æ¯å€‹è®Šæ•¸éƒ½æœ‰ä¸€å€‹è¨˜æ†¶é«”åœ°å€ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨Pointerè®Šæ•¸ä¾†å„²å­˜é€™å€‹åœ°å€ã€‚è®“æˆ‘å€‘çœ‹ä¸€å€‹ç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { x := 42 var p *int // å®£å‘Šä¸€å€‹æ•´æ•¸Pointer p = \u0026amp;x // å°‡pæŒ‡å‘xçš„åœ°å€ fmt.Println(\u0026#34;x =\u0026#34;, x) fmt.Println(\u0026#34;p =\u0026#34;, p) } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å‰µå»ºäº†ä¸€å€‹æ•´æ•¸è®Šæ•¸ xï¼Œä¸¦å®£å‘Šäº†ä¸€å€‹æ•´æ•¸Pointer pï¼Œç„¶å¾Œå°‡ p è¨­ç‚º x çš„åœ°å€ã€‚ç¾åœ¨ï¼Œp è£¡é¢å­˜æ”¾çš„å°±æ˜¯ x çš„åœ°å€ã€‚\nPointerçš„åˆå§‹åŒ– Goä¸­çš„Pointerå¯ä»¥é€šé new å‡½æ•¸ä¾†åˆå§‹åŒ–ï¼Œé€™å°‡ç‚ºæŒ‡å®šçš„é¡å‹åˆ†é…è¨˜æ†¶é«”ä¸¦è¿”å›å…¶åœ°å€ã€‚ç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { var p *int p = new(int) // åˆå§‹åŒ–ä¸€å€‹æ•´æ•¸Pointer *p = 123 // å°‡Pointeræ‰€æŒ‡å‘çš„è¨˜æ†¶é«”è¨­ç½®ç‚º123 fmt.","title":"æ·ºè«‡Goä¸­çš„Pointerå’Œè¨˜æ†¶é«”ç®¡ç†"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨è»Ÿé«”é–‹ç™¼ä¸­ï¼ŒéŒ¯èª¤ç„¡æ‰€ä¸åœ¨ã€‚ç„¡è«–æ˜¯ç¶²è·¯è«‹æ±‚å¤±æ•—ã€æª”æ¡ˆä¸å­˜åœ¨ï¼Œé‚„æ˜¯æ•¸å­¸è¨ˆç®—éŒ¯èª¤ï¼Œè™•ç†éŒ¯èª¤æ˜¯ä»»ä½•é–‹ç™¼è€…çš„æ—¥å¸¸å·¥ä½œï¼Œç³»çµ±çš„ç©©å®šåº¦åŸºæœ¬å–æ±ºæ–¼å°æ–¼éŒ¯èª¤è™•ç†æ˜¯å¦å…¨é¢ï¼Œå¥½çš„éŒ¯èª¤è™•ç†ä¹Ÿå¯ä»¥ç”¢ç”Ÿé©ç•¶çš„éŒ¯èª¤è¨Šæ¯ï¼Œè®“ Debug æ›´åŠ å®¹æ˜“ã€‚åœ¨Goèªè¨€ä¸­ï¼Œæœ‰ä¸€äº›ç¨ç‰¹çš„åŠŸèƒ½åœ¨è™•ç†éŒ¯èª¤å’Œè³‡æºç®¡ç†æ–¹é¢éå¸¸æœ‰ç”¨ã€‚ï¼Œå…¶ä¸­åŒ…æ‹¬errorã€panicå’Œrecoverã€‚ä»Šå¤©å°±ä¾†ä»‹ç´¹é€™ä¸‰å€‹é—œéµå­—èˆ‡éŒ¯èª¤è™•ç†çš„ç°¡å–®ç”¨æ³•ã€‚\nError ä»€éº¼æ˜¯Error? åœ¨Goä¸­ï¼ŒErroræ˜¯ä¸€å€‹æ“æœ‰error interfaceçš„é¡å‹ï¼Œå¯ä»¥çœ‹åˆ°ä»–åªæœ‰ä¸€å€‹æ–¹æ³•ï¼Œè©²æ–¹æ³•ä¸»è¦ç”¨ä¾†æè¿°ä¸€å€‹éŒ¯èª¤çš„å­—ä¸²ã€‚\ntype error interface { Error() string } å¦‚ä½•ç”¢ç”ŸéŒ¯èª¤è¨Šæ¯ errors.New() ä½¿ç”¨æ–¹å¼å¾ˆç°¡å–®ï¼Œåœ¨è£¡é¢æ”¾å…¥è¦é¡¯ç¤ºçš„éŒ¯èª¤è¨Šæ¯ package main import ( \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; ) func main() { err := errors.New(\u0026#34;This is a custom error message\u0026#34;) fmt.Println(err.Error()) // outputï¼šThis is a custom error message } fmt.Errorf() ä¸»è¦ç”¨åœ¨æ ¼å¼åŒ–éŒ¯èª¤è¨Šæ¯çš„æƒ…æ³ä¸‹ package main import ( \u0026#34;fmt\u0026#34; ) func main() { name := \u0026#34;John\u0026#34; err := fmt.Errorf(\u0026#34;Hello, %s! This is a custom error message\u0026#34;, name) fmt.Println(err.Error()) // outputï¼šHello, John! This is a custom error message } Errorç”¨é€” æˆ‘å€‘é€šå¸¸å°‡Errorç”¨ä¾†ç•¶ä½œå‡½æ•¸çš„è¿”å›å€¼ï¼Œæ–¹ä¾¿æˆ‘å€‘åœ¨èª¿ç”¨å‡½æ•¸æ™‚æª¢æŸ¥éŒ¯èª¤ï¼š\nfunc divide(x, y int) (int, error) { if y == 0 { return 0, errors.New(\u0026#34;division by zero\u0026#34;) } return x / y, nil } åœ¨ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘é€éerrors.Newå‰µå»ºä¸€å€‹æ–°çš„Errorå¯¦ä¾‹ï¼Œä»¥è¡¨ç¤ºé™¤ä»¥é›¶çš„éŒ¯èª¤æƒ…æ³ã€‚\npanicèˆ‡recover ä»€éº¼æ˜¯panicï¼Ÿ åœ¨Goä¸­ï¼Œpanicæ˜¯ä¸€å€‹å…§å»ºå‡½æ•¸ï¼Œç”¨æ–¼å¼•ç™¼é‹è¡Œæ™‚ç•°å¸¸æˆ–åš´é‡éŒ¯èª¤ã€‚é€šå¸¸æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘æ‡‰è©²é¿å…ä½¿ç”¨panicï¼Œé™¤éå‡ºç¾ä¸å¯æ¢å¾©çš„éŒ¯èª¤ã€‚\nPanicæ˜¯Goèªè¨€ä¸­çš„ä¸€ç¨®ç•°å¸¸æƒ…æ³ï¼Œè¡¨ç¤ºç¨‹å¼é‡åˆ°äº†ä¸€å€‹ç„¡æ³•è™•ç†çš„éŒ¯èª¤ã€‚ç•¶Panicç™¼ç”Ÿæ™‚ï¼Œç¨‹å¼æœƒç«‹å³åœæ­¢åŸ·è¡Œä¸¦æ‰“å°Panicè¨Šæ¯ï¼Œç„¶å¾Œé€€å‡ºã€‚Panicé€šå¸¸ç”¨æ–¼è¡¨ç¤ºåš´é‡çš„éŒ¯èª¤ï¼Œå¦‚ç©ºæŒ‡æ¨™å¼•ç”¨æˆ–é™£åˆ—è¶Šç•Œã€‚\nä»€éº¼æ˜¯recoverï¼Ÿ recoveræ˜¯Goèªè¨€ä¸­çš„ä¸€å€‹å…§å»ºå‡½æ•¸ï¼Œç”¨æ–¼åœ¨ç™¼ç”Ÿpanicæ™‚æ¢å¾©ç¨‹åºçš„æ­£å¸¸åŸ·è¡Œæµç¨‹ã€‚å®ƒç”¨æ–¼æ•ç²panicå¼•ç™¼çš„éŒ¯èª¤ï¼Œä¸¦å…è¨±ç¨‹åºç¹¼çºŒé‹è¡Œè€Œä¸å´©æ½°ã€‚\nå¦‚ä½•è™•ç†panic ç‚ºäº†è™•ç†panicï¼Œæˆ‘å€‘æœƒä½¿ç”¨recoverã€‚åº•ä¸‹ç°¡å–®ä½¿ç”¨å…©è€…ç•¶ä½œç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { defer handlePanic() doSomething() } func doSomething() { panic(\u0026#34;ç™¼ç”Ÿäº†ä¸€å€‹åš´é‡éŒ¯èª¤\u0026#34;) } func handlePanic() { if r := recover(); r != nil { fmt.Println(\u0026#34;æ¢å¾©äº†panic:\u0026#34;, r) } } å¯ä»¥çœ‹åˆ°ï¼ŒdoSomethingå‡½æ•¸å¼•ç™¼äº†ä¸€å€‹panicï¼Œä½†ç”±æ–¼æˆ‘å€‘åœ¨mainå‡½æ•¸ä¸­ä½¿ç”¨äº†deferå’Œrecoverï¼Œç¨‹åºä¸æœƒå´©æ½°ï¼Œè€Œæ˜¯åŸ·è¡Œäº†handlePanicå‡½æ•¸ï¼Œä¸¦è¼¸å‡ºäº†éŒ¯èª¤è¨Šæ¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œrecoveråªèƒ½åœ¨deferä¸­åŸ·è¡Œ\nå¸¸è¦‹ç”¨æ³• å‡½æ•¸è¿”å›éŒ¯èª¤ ç•¶å‡½æ•¸åŸ·è¡Œéç¨‹ä¸­é‡åˆ°éŒ¯èª¤æ™‚ï¼Œé€šå¸¸æœƒå°‡ä¸€å€‹ error é¡å‹çš„å€¼ä½œç‚ºè¿”å›å€¼ï¼Œä»¥ä¾¿å‘¼å«æ–¹å¯ä»¥æª¢æŸ¥å’Œè™•ç†éŒ¯èª¤ã€‚\nfunc Divide(a, b float64) (float64, error) { if b == 0 { return 0, errors.New(\u0026#34;division by zero\u0026#34;) } return a / b, nil } éŒ¯èª¤è™•ç† åœ¨å‘¼å«å‡½æ•¸æ™‚ï¼Œé€šå¸¸æœƒæª¢æŸ¥è¿”å›çš„ error æ˜¯å¦ç‚º nilï¼Œä»¥åˆ¤æ–·æ˜¯å¦ç™¼ç”Ÿäº†éŒ¯èª¤ã€‚å¦‚æœéŒ¯èª¤ä¸ç‚º nilï¼Œå‰‡éœ€è¦æ¡å–é©ç•¶çš„æªæ–½ä¾†è™•ç†éŒ¯èª¤ï¼Œæ¯”å¦‚è¨˜éŒ„éŒ¯èª¤æ—¥èªŒã€è¿”å›éŒ¯èª¤è¨Šæ¯çµ¦ä½¿ç”¨è€…ç­‰ã€‚\nresult, err := Divide(10.0, 0.0) if err != nil { log.Println(\u0026#34;Error:\u0026#34;, err) // é€²ä¸€æ­¥è™•ç†éŒ¯èª¤ï¼Œå¦‚è¿”å›éŒ¯èª¤éŸ¿æ‡‰çµ¦ä½¿ç”¨è€… } è‡ªå®šç¾©éŒ¯èª¤é¡å‹ å› ç‚ºErroræ˜¯ä¸€å€‹ interfaceï¼Œæ‰€ä»¥æˆ‘å€‘ä¹Ÿå¯ä»¥å¯¦ä½œè‡ªå·±çš„ error structï¼Œæœ‰æ™‚æœƒéœ€è¦è‡ªå®šç¾©éŒ¯èª¤é¡å‹ï¼Œæ–¹ä¾¿æˆ‘å€‘æ›´å¥½æè¿°ç‰¹å®šé¡å‹çš„éŒ¯èª¤\n// è‡ªå®šç¾© error type type MyError struct { Code int Message string } // å¯¦ç¾ error interfaceçš„ Error æ–¹æ³• func (e *MyError) Error() string { return fmt.Sprintf(\u0026#34;Error %d: %s\u0026#34;, e.Code, e.Message) } func main() { // ç°¡å–®å»ºç«‹è‡ªå·±çš„error err := \u0026amp;MyError{ Code: 404, Message: \u0026#34;Page not found\u0026#34;, } // èª¿ç”¨è‡ªå·±çš„error æ–¹æ³• fmt.Println(\u0026#34;Error:\u0026#34;, err.Error()) } éŒ¯èª¤é¡å‹åˆ¤æ–· é‚„æœ‰ä¸€ç¨®å¸¸è¦‹çš„åšæ³•æ˜¯å°‡erroræ­é… type assertioné€²è¡ŒéŒ¯èª¤é¡å‹åˆ¤æ–·\npackage main import ( \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; ) // è‡ªå®šç¾© error type type MyError struct { Code int Message string } func (e *MyError) Error() string { return fmt.Sprintf(\u0026#34;Error %d: %s\u0026#34;, e.Code, e.Message) } func main() { err := processRequest(0) switch e := err.(type) { case nil: fmt.Println(\u0026#34;Request processed successfully.\u0026#34;) case *MyError: fmt.Printf(\u0026#34;Custom Error: %v\\n\u0026#34;, e) // è™•ç†è‡ªå®šç¾©éŒ¯èª¤ case error: fmt.Printf(\u0026#34;Generic Error: %v\\n\u0026#34;, e) // è™•ç†å…¶ä»–éŒ¯èª¤ default: fmt.Println(\u0026#34;Unknown error.\u0026#34;) } } func processRequest(param int) error { if param == 0 { return \u0026amp;MyError{Code: 500, Message: \u0026#34;Internal Server Error\u0026#34;} } else if param \u0026lt; 0 { return errors.New(\u0026#34;Negative parameter value\u0026#34;) } return nil } å¯¦éš›æ‡‰ç”¨ 1. æª”æ¡ˆæ“ä½œ å ´æ™¯ï¼šè®€å–æª”æ¡ˆæ™‚æª”æ¡ˆä¸å­˜åœ¨çš„æƒ…æ³ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { _, err := os.Open(\u0026#34;non_existent_file.txt\u0026#34;) if err != nil { if os.IsNotExist(err) { fmt.Println(\u0026#34;æª”æ¡ˆä¸å­˜åœ¨ã€‚\u0026#34;) } else { fmt.Println(\u0026#34;éŒ¯èª¤:\u0026#34;, err) } } } 2. ç¶²è·¯é€šè¨Š å ´æ™¯ï¼šå˜—è©¦å»ºç«‹ç¶²è·¯é€£ç·šæ™‚timeoutçš„æƒ…æ³ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;net\u0026#34; \u0026#34;time\u0026#34; ) func main() { _, err := net.DialTimeout(\u0026#34;tcp\u0026#34;, \u0026#34;example.com:8080\u0026#34;, time.Second) if err != nil { fmt.Println(\u0026#34;éŒ¯èª¤:\u0026#34;, err) } } 3. è³‡æ–™åº«æ“ä½œ å ´æ™¯ï¼šåŸ·è¡Œ SQL æŸ¥è©¢æ™‚ç™¼ç”Ÿèªæ³•éŒ¯èª¤çš„æƒ…æ³ã€‚ package main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; _ \u0026#34;github.com/go-sql-driver/mysql\u0026#34; ) func main() { db, _ := sql.Open(\u0026#34;mysql\u0026#34;, \u0026#34;user:password@tcp(localhost:3306)/database\u0026#34;) _, err := db.Exec(\u0026#34;SELECT * FROM non_existent_table\u0026#34;) if err != nil { fmt.Println(\u0026#34;éŒ¯èª¤:\u0026#34;, err) } } 4. ä½¿ç”¨è€…è¼¸å…¥é©—è­‰ å ´æ™¯ï¼šé©—è­‰ä½¿ç”¨è€…è¼¸å…¥æ˜¯å¦ç‚ºæ•¸å­—ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strconv\u0026#34; ) func main() { userInput := \u0026#34;abc\u0026#34; _, err := strconv.Atoi(userInput) if err != nil { fmt.Println(\u0026#34;ç„¡æ•ˆçš„è¼¸å…¥:\u0026#34;, err) } } 5. ç•°å¸¸æƒ…æ³è™•ç† å ´æ™¯ï¼šè™•ç†ä¸å¯é è¦‹çš„ç³»çµ±éŒ¯èª¤ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { file, err := os.Open(\u0026#34;/dev/zero\u0026#34;) if err != nil { panic(err) } defer file.Close() fmt.Println(\u0026#34;File opened successfully.\u0026#34;) } å°çµ éŒ¯èª¤è™•ç†ä¸‰åŠå®¢ï¼Œerrorã€panicå’Œrecoveræ˜¯å¼·å¤§çš„å·¥å…·ï¼Œå®ƒèƒ½è®“ä½ çš„ç¨‹å¼ç¢¼æ›´å®¹æ˜“è®€æ‡‚ã€å®¹æ˜“ç¶­è­·ï¼ŒåŒæ™‚ä¹Ÿèƒ½ç¢ºä¿è³‡æºè¢«å¦¥å–„é‡‹æ”¾ï¼Œè™•ç†éŒ¯èª¤ä¹Ÿæ›´åŠ æ–¹ä¾¿ã€‚\nğŸ“šReference Error handling and Go - The Go Programming Language Effective Error Handling in Golang - Earthly Blog [Golang] éŒ¯èª¤è™•ç† error handling | PJCHENder æœªæ•´ç†ç­†è¨˜ Error handling in Go: Best practices - LogRocket Blog ","permalink":"https://sz9751210.github.io/posts/go-error/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨è»Ÿé«”é–‹ç™¼ä¸­ï¼ŒéŒ¯èª¤ç„¡æ‰€ä¸åœ¨ã€‚ç„¡è«–æ˜¯ç¶²è·¯è«‹æ±‚å¤±æ•—ã€æª”æ¡ˆä¸å­˜åœ¨ï¼Œé‚„æ˜¯æ•¸å­¸è¨ˆç®—éŒ¯èª¤ï¼Œè™•ç†éŒ¯èª¤æ˜¯ä»»ä½•é–‹ç™¼è€…çš„æ—¥å¸¸å·¥ä½œï¼Œç³»çµ±çš„ç©©å®šåº¦åŸºæœ¬å–æ±ºæ–¼å°æ–¼éŒ¯èª¤è™•ç†æ˜¯å¦å…¨é¢ï¼Œå¥½çš„éŒ¯èª¤è™•ç†ä¹Ÿå¯ä»¥ç”¢ç”Ÿé©ç•¶çš„éŒ¯èª¤è¨Šæ¯ï¼Œè®“ Debug æ›´åŠ å®¹æ˜“ã€‚åœ¨Goèªè¨€ä¸­ï¼Œæœ‰ä¸€äº›ç¨ç‰¹çš„åŠŸèƒ½åœ¨è™•ç†éŒ¯èª¤å’Œè³‡æºç®¡ç†æ–¹é¢éå¸¸æœ‰ç”¨ã€‚ï¼Œå…¶ä¸­åŒ…æ‹¬errorã€panicå’Œrecoverã€‚ä»Šå¤©å°±ä¾†ä»‹ç´¹é€™ä¸‰å€‹é—œéµå­—èˆ‡éŒ¯èª¤è™•ç†çš„ç°¡å–®ç”¨æ³•ã€‚\nError ä»€éº¼æ˜¯Error? åœ¨Goä¸­ï¼ŒErroræ˜¯ä¸€å€‹æ“æœ‰error interfaceçš„é¡å‹ï¼Œå¯ä»¥çœ‹åˆ°ä»–åªæœ‰ä¸€å€‹æ–¹æ³•ï¼Œè©²æ–¹æ³•ä¸»è¦ç”¨ä¾†æè¿°ä¸€å€‹éŒ¯èª¤çš„å­—ä¸²ã€‚\ntype error interface { Error() string } å¦‚ä½•ç”¢ç”ŸéŒ¯èª¤è¨Šæ¯ errors.New() ä½¿ç”¨æ–¹å¼å¾ˆç°¡å–®ï¼Œåœ¨è£¡é¢æ”¾å…¥è¦é¡¯ç¤ºçš„éŒ¯èª¤è¨Šæ¯ package main import ( \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; ) func main() { err := errors.New(\u0026#34;This is a custom error message\u0026#34;) fmt.Println(err.Error()) // outputï¼šThis is a custom error message } fmt.Errorf() ä¸»è¦ç”¨åœ¨æ ¼å¼åŒ–éŒ¯èª¤è¨Šæ¯çš„æƒ…æ³ä¸‹ package main import ( \u0026#34;fmt\u0026#34; ) func main() { name := \u0026#34;John\u0026#34; err := fmt.Errorf(\u0026#34;Hello, %s! This is a custom error message\u0026#34;, name) fmt.","title":"éŒ¯èª¤è™•ç†çš„ç²¾é«“ï¼šå¿«é€Ÿäº†è§£Goèªè¨€çš„ errorã€panicå’Œrecover"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ç•¶æˆ‘å€‘åœ¨å¯«ç¨‹å¼æ™‚ï¼Œæœ‰æ™‚å€™æœƒéœ€è¦åœ¨ç¨‹å¼çµæŸæ™‚é—œé–‰æŸäº›è³‡æºï¼Œè€Œdeferé€™å€‹é—œéµå­—ï¼Œå¯ä»¥è®“ä½ è¼•é¬†çš„å¯¦ç¾ï¼Œä¸‹é¢ä¾†ç°¡å–®ä»‹ç´¹ä¸€ä¸‹deferä»¥åŠå¸¸ç”¨çš„ç¯„ä¾‹ã€‚ï¼Œå®ƒç‚ºç¨‹å¼è¨­è¨ˆå¸«æä¾›äº†ä¸€ç¨®ç°¡å–®è€Œå¼·å¤§çš„å·¥å…·ï¼Œç”¨æ–¼ç®¡ç†è³‡æºå’Œç¢ºä¿ç¨‹å¼çš„æ­£ç¢ºåŸ·è¡Œã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘å°‡æ·±å…¥æ¢è¨Goèªè¨€ä¸­çš„deferï¼Œä¸¦æä¾›ä¸€äº›å¯¦éš›çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼Œä»¥å¹«åŠ©ä½ ç†è§£å®ƒçš„å·¥ä½œåŸç†ä»¥åŠå¦‚ä½•é‹ç”¨å®ƒä¾†æé«˜ç¨‹å¼çš„å¯è®€æ€§å’Œå¯ç¶­è­·æ€§ã€‚\nä»€éº¼æ˜¯deferï¼Ÿ deferæ˜¯ä¸€å€‹é—œéµå­—ï¼Œç”¨ä¾†å»¶é²å‡½æ•¸çš„åŸ·è¡Œï¼Œç›´åˆ°åŒ…å«å®ƒçš„å‡½æ•¸åŸ·è¡Œå®Œç•¢ã€‚é€™ä»£è¡¨ä½ å¯ä»¥åœ¨å‡½æ•¸ä¸­çš„ä»»ä½•ä½ç½®ä½¿ç”¨deferä¾†å®‰æ’æŸå€‹æ“ä½œï¼Œä¸¦ç¢ºä¿å®ƒå°‡åœ¨å‡½æ•¸è¿”å›ä¹‹å‰åŸ·è¡Œã€‚deferé€šå¸¸ç”¨æ–¼åŸ·è¡Œä¸€äº›æ¸…ç†æˆ–è³‡æºå›æ”¶çš„æ“ä½œã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { defer fmt.Println(\u0026#34;World\u0026#34;) fmt.Print(\u0026#34;Hello, \u0026#34;) } ä½¿ç”¨æ–¹å¼ä¹Ÿå¾ˆç°¡å–®ï¼Œåœ¨è¦åŸ·è¡Œçš„å‡½æ•¸å‰é¢åŠ ä¸Šdeferå°±å®Œæˆäº†ï¼Œæ‰€ä»¥ä¸Šé¢çš„ç¯„ä¾‹æœƒå°å‡º Hello World\nDeferçš„ç‰¹æ€§ å»¶é²åŸ·è¡Œï¼šdefer èªå¥å…è¨±ä½ å®‰æ’ä¸€æ®µç¨‹å¼ç¢¼ï¼Œä½¿å®ƒåœ¨åŒ…å«å®ƒçš„å‡½æ•¸è¿”å›ä¹‹å‰åŸ·è¡Œï¼Œç„¡è«–å‡½æ•¸æ˜¯å¦æ­£å¸¸è¿”å›æˆ–å‡ºç¾éŒ¯èª¤ã€‚\nå †ç–Šç‰¹æ€§ï¼šå¤šå€‹ defer èªå¥æŒ‰ç…§å¾Œé€²å…ˆå‡ºï¼ˆLIFOï¼‰çš„é †åºåŸ·è¡Œï¼Œé€™æ„å‘³è‘—æœ€å¾Œä¸€å€‹è¢«å»¶é²çš„èªå¥æœƒæœ€å…ˆåŸ·è¡Œã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { fmt.Println(\u0026#34;Start\u0026#34;) defer fmt.Println(\u0026#34;Deferred 1\u0026#34;) defer fmt.Println(\u0026#34;Deferred 2\u0026#34;) fmt.Println(\u0026#34;End\u0026#34;) } æ ¹æ“šdeferç‰¹æ€§çš„å¾Œé€²å…ˆå‡ºï¼Œè¼¸å‡ºæœƒæ˜¯ä¸‹é¢é€™å€‹æ¨£å­\nStart End Deferred 2 Deferred 1 Deferçš„é™åˆ¶ å»¶é²çš„å‡½æ•¸å¿…é ˆæ˜¯ç„¡åƒæ•¸å‡½æ•¸ï¼šä½ åªèƒ½å»¶é²ç„¡åƒæ•¸çš„å‡½æ•¸èª¿ç”¨ï¼Œå› ç‚º defer ä¸å…è¨±å‚³éåƒæ•¸ã€‚\né †åºæ€§ï¼šdefer èªå¥çš„æ•ˆæœåœ¨å‡½æ•¸å…§æ˜¯æœ‰é™å®šç¯„åœçš„ï¼Œå®ƒåªåœ¨åŒ…å«å®ƒçš„å‡½æ•¸ç¯„åœå…§æœ‰æ•ˆï¼Œç„¡æ³•è·¨å‡½æ•¸ä½¿ç”¨ã€‚\nå¸¸è¦‹ç”¨æ³• è³‡æºæ¸…ç† æœ€å¸¸è¦‹çš„ç”¨é€”ä¹‹ä¸€æ˜¯åœ¨å‡½æ•¸è¿”å›å‰é—œé–‰æ–‡ä»¶ã€é‡‹æ”¾é–ã€é—œé–‰è³‡æ–™åº«é€£æ¥ç­‰ï¼Œä»¥ç¢ºä¿è³‡æºè¢«æ­£ç¢ºé‡‹æ”¾ã€‚\nfunc readFile(filename string) (string, error) { file, err := os.Open(filename) if err != nil { return \u0026#34;\u0026#34;, err } defer file.Close() // è®€å–æ–‡ä»¶å…§å®¹ // ... return content, nil } åœ¨ä¸Šè¿°ç¯„ä¾‹ä¸­ï¼Œdefer ç”¨æ–¼ç¢ºä¿æ–‡ä»¶åœ¨å‡½æ•¸è¿”å›ä¹‹å‰è¢«æ­£ç¢ºé—œé–‰ã€‚\nè¨˜éŒ„éŒ¯èª¤ **ï¼šdefer å¯ä»¥ç”¨æ–¼è™•ç†éŒ¯èª¤ï¼Œä¾‹å¦‚è¨˜éŒ„éŒ¯èª¤è¨Šæ¯æˆ–å›æ»¾äº¤æ˜“ï¼Œä¸¦ç¢ºä¿å®ƒå€‘ä¸æœƒè¢«éºæ¼ã€‚\nfunc doSomething() error { err := performOperation() if err != nil { defer logError(err) } // å…¶ä»–æ“ä½œ return nil } func logError(err error) { fmt.Println(\u0026#34;Error:\u0026#34;, err) } åœ¨ä¸Šè¿°ç¯„ä¾‹ä¸­ï¼Œdefer ç”¨æ–¼è¨˜éŒ„éŒ¯èª¤ï¼Œç„¡è«–å‡½æ•¸æ˜¯å¦æ­£å¸¸è¿”å›ã€‚\nå°çµ deferæ˜¯Goèªè¨€ä¸­ä¸€å€‹å¼·å¤§çš„åŠŸèƒ½ï¼Œé€šå¸¸åœ¨æ’°å¯«å°dbçš„é€£æ¥æ™‚æˆ‘éƒ½æœƒåœ¨ä¸‹ä¸€è¡Œä½¿ç”¨deferé€²è¡Œdbçš„é—œé–‰é€£æ¥ï¼Œç¢ºä¿é€™äº›æ“ä½œåœ¨å‡½æ•¸è¿”å›ä¹‹å‰åŸ·è¡Œã€‚é€™ä½¿å¾—ç¨‹å¼æ›´å®¹æ˜“é–±è®€å’Œç¶­è­·ï¼Œä¸¦æœ‰åŠ©æ–¼é¿å…è³‡æºæ´©æ¼ç­‰å•é¡Œï¼Œå®ƒå¯ç”¨æ–¼è³‡æºç®¡ç†ã€éŒ¯èª¤è™•ç†å’Œæ€§èƒ½å„ªåŒ–ç­‰å¤šç¨®æƒ…æ³ä¸‹ï¼Œæé«˜ç¨‹å¼çš„å¯è®€æ€§å’Œå¯ç¶­è­·æ€§ã€‚\nğŸ“šReference A Tour of Go(defer) [Golang] Defer, Panic å’Œ Recovery | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-defer/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ç•¶æˆ‘å€‘åœ¨å¯«ç¨‹å¼æ™‚ï¼Œæœ‰æ™‚å€™æœƒéœ€è¦åœ¨ç¨‹å¼çµæŸæ™‚é—œé–‰æŸäº›è³‡æºï¼Œè€Œdeferé€™å€‹é—œéµå­—ï¼Œå¯ä»¥è®“ä½ è¼•é¬†çš„å¯¦ç¾ï¼Œä¸‹é¢ä¾†ç°¡å–®ä»‹ç´¹ä¸€ä¸‹deferä»¥åŠå¸¸ç”¨çš„ç¯„ä¾‹ã€‚ï¼Œå®ƒç‚ºç¨‹å¼è¨­è¨ˆå¸«æä¾›äº†ä¸€ç¨®ç°¡å–®è€Œå¼·å¤§çš„å·¥å…·ï¼Œç”¨æ–¼ç®¡ç†è³‡æºå’Œç¢ºä¿ç¨‹å¼çš„æ­£ç¢ºåŸ·è¡Œã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘å°‡æ·±å…¥æ¢è¨Goèªè¨€ä¸­çš„deferï¼Œä¸¦æä¾›ä¸€äº›å¯¦éš›çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼Œä»¥å¹«åŠ©ä½ ç†è§£å®ƒçš„å·¥ä½œåŸç†ä»¥åŠå¦‚ä½•é‹ç”¨å®ƒä¾†æé«˜ç¨‹å¼çš„å¯è®€æ€§å’Œå¯ç¶­è­·æ€§ã€‚\nä»€éº¼æ˜¯deferï¼Ÿ deferæ˜¯ä¸€å€‹é—œéµå­—ï¼Œç”¨ä¾†å»¶é²å‡½æ•¸çš„åŸ·è¡Œï¼Œç›´åˆ°åŒ…å«å®ƒçš„å‡½æ•¸åŸ·è¡Œå®Œç•¢ã€‚é€™ä»£è¡¨ä½ å¯ä»¥åœ¨å‡½æ•¸ä¸­çš„ä»»ä½•ä½ç½®ä½¿ç”¨deferä¾†å®‰æ’æŸå€‹æ“ä½œï¼Œä¸¦ç¢ºä¿å®ƒå°‡åœ¨å‡½æ•¸è¿”å›ä¹‹å‰åŸ·è¡Œã€‚deferé€šå¸¸ç”¨æ–¼åŸ·è¡Œä¸€äº›æ¸…ç†æˆ–è³‡æºå›æ”¶çš„æ“ä½œã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { defer fmt.Println(\u0026#34;World\u0026#34;) fmt.Print(\u0026#34;Hello, \u0026#34;) } ä½¿ç”¨æ–¹å¼ä¹Ÿå¾ˆç°¡å–®ï¼Œåœ¨è¦åŸ·è¡Œçš„å‡½æ•¸å‰é¢åŠ ä¸Šdeferå°±å®Œæˆäº†ï¼Œæ‰€ä»¥ä¸Šé¢çš„ç¯„ä¾‹æœƒå°å‡º Hello World\nDeferçš„ç‰¹æ€§ å»¶é²åŸ·è¡Œï¼šdefer èªå¥å…è¨±ä½ å®‰æ’ä¸€æ®µç¨‹å¼ç¢¼ï¼Œä½¿å®ƒåœ¨åŒ…å«å®ƒçš„å‡½æ•¸è¿”å›ä¹‹å‰åŸ·è¡Œï¼Œç„¡è«–å‡½æ•¸æ˜¯å¦æ­£å¸¸è¿”å›æˆ–å‡ºç¾éŒ¯èª¤ã€‚\nå †ç–Šç‰¹æ€§ï¼šå¤šå€‹ defer èªå¥æŒ‰ç…§å¾Œé€²å…ˆå‡ºï¼ˆLIFOï¼‰çš„é †åºåŸ·è¡Œï¼Œé€™æ„å‘³è‘—æœ€å¾Œä¸€å€‹è¢«å»¶é²çš„èªå¥æœƒæœ€å…ˆåŸ·è¡Œã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { fmt.Println(\u0026#34;Start\u0026#34;) defer fmt.Println(\u0026#34;Deferred 1\u0026#34;) defer fmt.Println(\u0026#34;Deferred 2\u0026#34;) fmt.Println(\u0026#34;End\u0026#34;) } æ ¹æ“šdeferç‰¹æ€§çš„å¾Œé€²å…ˆå‡ºï¼Œè¼¸å‡ºæœƒæ˜¯ä¸‹é¢é€™å€‹æ¨£å­\nStart End Deferred 2 Deferred 1 Deferçš„é™åˆ¶ å»¶é²çš„å‡½æ•¸å¿…é ˆæ˜¯ç„¡åƒæ•¸å‡½æ•¸ï¼šä½ åªèƒ½å»¶é²ç„¡åƒæ•¸çš„å‡½æ•¸èª¿ç”¨ï¼Œå› ç‚º defer ä¸å…è¨±å‚³éåƒæ•¸ã€‚\né †åºæ€§ï¼šdefer èªå¥çš„æ•ˆæœåœ¨å‡½æ•¸å…§æ˜¯æœ‰é™å®šç¯„åœçš„ï¼Œå®ƒåªåœ¨åŒ…å«å®ƒçš„å‡½æ•¸ç¯„åœå…§æœ‰æ•ˆï¼Œç„¡æ³•è·¨å‡½æ•¸ä½¿ç”¨ã€‚\nå¸¸è¦‹ç”¨æ³• è³‡æºæ¸…ç† æœ€å¸¸è¦‹çš„ç”¨é€”ä¹‹ä¸€æ˜¯åœ¨å‡½æ•¸è¿”å›å‰é—œé–‰æ–‡ä»¶ã€é‡‹æ”¾é–ã€é—œé–‰è³‡æ–™åº«é€£æ¥ç­‰ï¼Œä»¥ç¢ºä¿è³‡æºè¢«æ­£ç¢ºé‡‹æ”¾ã€‚\nfunc readFile(filename string) (string, error) { file, err := os.Open(filename) if err != nil { return \u0026#34;\u0026#34;, err } defer file.","title":"Goèªè¨€çš„deferï¼šç¢ºä¿å¾Œç½®æ“ä½œçš„åŸ·è¡Œ"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨Goä¸­ï¼Œå‡å¦‚æˆ‘è¦åˆ¤æ–·ä¸€å€‹è³‡æ–™é¡å‹æ˜¯ç”šéº¼ï¼Œè©²æ€éº¼åšå‘¢? Golangæœ‰ä¸€å€‹åŠŸèƒ½å«åšType Assertionsï¼ˆé¡å‹æ–·è¨€ï¼‰ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯èƒ½å¤ åœ¨é‹è¡Œæ™‚æª¢æŸ¥æˆ‘çš„è³‡æ–™é¡å‹ï¼Œè®“æˆ‘åœ¨å‚³éé¡å‹æ™‚èƒ½ç¢ºä¿è³‡æ–™é¡å‹æ˜¯æ­£ç¢ºçš„ã€‚\nType Assertions çš„åŸºæœ¬æ¦‚å¿µ åœ¨Goä¸­ï¼ŒType Assertionsçš„ä¸»è¦ç›®çš„æ˜¯åœ¨é‹è¡Œæ™‚å°‡ interface å‹åˆ¥çš„å€¼è½‰æ›ç‚ºç‰¹å®šçš„å¯¦éš›å‹åˆ¥ã€‚interface æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„é¡å‹ï¼Œå®ƒå¯ä»¥ä¿å­˜ä»»ä½•å€¼çš„å¯¦ä¾‹ï¼Œä½†åœ¨é‹è¡Œæ™‚ï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦ç¢ºå®šè©²å€¼çš„å¯¦éš›é¡å‹ä»¥åŸ·è¡Œç›¸æ‡‰çš„æ“ä½œï¼Œä»¥ç¢ºä¿æˆ‘å€‘èƒ½å¤ å®‰å…¨åœ°æ“ä½œè³‡æ–™ï¼Œé€™å°±æ˜¯Type Assertionsçš„ä½œç”¨ã€‚\nType Assertionsçš„åŸºæœ¬èªæ³•å¦‚ä¸‹ï¼š\nvalue, ok := someInterface.(T) é€™å€‹è¡¨é”å¼æ„æ€ç‚ºå°‡someInterfaceè½‰æ›ç‚ºé¡å‹Tã€‚å¦‚æœæˆåŠŸï¼Œå®ƒå°‡valueè¨­ç½®ç‚ºè½‰æ›å¾Œçš„å€¼ï¼Œä¸¦å°‡okè¨­ç½®ç‚ºtrueã€‚å¦‚æœè½‰æ›å¤±æ•—ï¼Œå‰‡valueå°‡æ˜¯é›¶å€¼ï¼Œè€Œokå°‡æ˜¯falseã€‚\nType Assertionsçš„ç”¨é€” Type Assertions çš„ä¸»è¦ç”¨é€”åŒ…æ‹¬ï¼š\nè³‡æ–™å‹åˆ¥çš„è½‰æ› ç•¶æˆ‘å€‘è™•ç†interfaceå‹åˆ¥çš„è³‡æ–™æ™‚ï¼Œå¯èƒ½éœ€è¦å°‡å…¶è½‰æ›ç‚ºå…·é«”çš„å‹åˆ¥ï¼Œä»¥ä¾¿é€²è¡Œç‰¹å®šæ“ä½œã€‚\nfunc process(someInterface interface{}) { if str, ok := someInterface.(string); ok { // å°‡interfacceè½‰æ›ç‚ºstringé¡å‹ä¸¦é€²è¡Œæ“ä½œ fmt.Printf(\u0026#34;Length of string: %d\\n\u0026#34;, len(str)) } else { fmt.Println(\u0026#34;Not a string\u0026#34;) } } ç¢ºä¿å‹åˆ¥çš„æ­£ç¢ºæ€§ ä½¿ç”¨ Type Assertionsï¼Œæˆ‘å€‘å¯ä»¥åœ¨åŸ·è¡Œç‰¹å®šæ“ä½œä¹‹å‰ï¼Œç¢ºä¿è³‡æ–™çš„å‹åˆ¥æ˜¯æˆ‘å€‘æœŸæœ›çš„ã€‚é€™æœ‰åŠ©æ–¼é˜²æ­¢å› å‹åˆ¥éŒ¯èª¤è€Œå¼•ç™¼çš„åŸ·è¡Œæ™‚éŒ¯èª¤ã€‚\nif val, ok := someInterface.(int); ok { // someInterface æ˜¯ä¸€å€‹inté¡å‹ fmt.Printf(\u0026#34;Value is an int: %d\\n\u0026#34;, val) } else { // someInterface ä¸æ˜¯ä¸€å€‹inté¡å‹ fmt.Println(\u0026#34;Value is not an int\u0026#34;) } åœ¨æ¥å£å€¼ä¸­å­˜å„²é¡å¤–ä¿¡æ¯ Type Assertionsé‚„å¯ç”¨æ–¼åœ¨interfaceä¸­å„²å­˜é¡å¤–çš„è³‡æ–™ï¼Œé€™äº›è³‡æ–™åªåœ¨ç‰¹å®šé¡å‹æ™‚æ‰å¯ç”¨ã€‚ ä»¥ä¸‹ç¨‹å¼ç¢¼ä½¿ç”¨Type Assertions å’Œ switch ä¾†è™•ç†ä¸åŒçš„struct\ntype Circle struct { Radius float64 } type Square struct { SideLength float64 } func printArea(shape interface{}) { switch val := shape.(type) { case Circle: area := 3.14159265359 * val.Radius * val.Radius fmt.Printf(\u0026#34;Area of the circle: %f\\n\u0026#34;, area) case Square: area := val.SideLength * val.SideLength fmt.Printf(\u0026#34;Area of the square: %f\\n\u0026#34;, area) default: fmt.Println(\u0026#34;Unknown shape\u0026#34;) } } Type Assertions çš„å¯¦éš›æ‡‰ç”¨ ä»¥ä¸‹ç°¡å–®ä»‹ç´¹å¯¦éš›æ‡‰ç”¨æƒ…æ³ï¼š\nJSON è§£ç¢¼ï¼šç•¶è§£ç¢¼ JSON è³‡æ–™æ™‚ï¼Œé€šå¸¸æœƒè§£ç¢¼ç‚º map[string]interface{} æˆ– []interface{}ï¼Œé€™äº› interface å‹åˆ¥å¯ä»¥è®“æˆ‘å€‘èƒ½å¤ å‹•æ…‹è™•ç†è³‡æ–™ï¼Œä½†æœ‰æ™‚æˆ‘å€‘éœ€è¦å°‡å®ƒå€‘è½‰æ›ç‚ºå…·é«”çš„ structï¼Œä»¥ä¾¿æ›´æ–¹ä¾¿åœ°ä½¿ç”¨ã€‚ package main import ( \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; ) type Person struct { Name string Age int } func main() { jsonData := `{\u0026#34;Name\u0026#34;: \u0026#34;Alice\u0026#34;, \u0026#34;Age\u0026#34;: 30}` var data interface{} err := json.Unmarshal([]byte(jsonData), \u0026amp;data) if err != nil { fmt.Println(\u0026#34;JSON è§£ç¢¼å¤±æ•—:\u0026#34;, err) return } // ä½¿ç”¨ Type Assertions å°‡ä»‹é¢å‹åˆ¥è½‰æ›ç‚ºçµæ§‹é«”å‹åˆ¥ if person, ok := data.(map[string]interface{}); ok { name := person[\u0026#34;Name\u0026#34;].(string) age := int(person[\u0026#34;Age\u0026#34;].(float64)) fmt.Printf(\u0026#34;Name: %s, Age: %d\\n\u0026#34;, name, age) } else { fmt.Println(\u0026#34;è³‡æ–™å‹åˆ¥ä¸æ˜¯é æœŸçš„ map[string]interface{}\u0026#34;) } } å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘é¦–å…ˆè§£ç¢¼äº†ä¸€å€‹ JSON å­—ä¸²ï¼Œä¸¦å„²å­˜åœ¨ä¸€å€‹ interface å‹åˆ¥çš„è®Šæ•¸ data ä¸­ã€‚ç„¶å¾Œï¼Œæˆ‘å€‘ä½¿ç”¨ Type Assertions å°‡ data æ–·è¨€ç‚º map[string]interface{} å‹åˆ¥ï¼Œè®“æˆ‘å€‘èƒ½å¤ è¨ªå•å…¶ä¸­çš„å­—æ®µã€‚\nåå°„ï¼ˆReflectionï¼‰ï¼š reflect é€šå¸¸ç”¨æ–¼æª¢æŸ¥å’Œæ“ä½œè®Šæ•¸ã€struct å’Œ interface å‹åˆ¥çš„è¨Šæ¯ã€‚ åœ¨æŸäº›æƒ…æ³ä¸‹ï¼ŒType Assertions åœ¨reflect éç¨‹ä¸­ç¶“å¸¸æ´¾ä¸Šç”¨å ´ï¼Œç”¨æ–¼ç¢ºèª interface å‹åˆ¥çš„å¯¦éš›å…§å®¹ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;reflect\u0026#34; ) func main() { var x interface{} = 42 // ä½¿ç”¨ Type Assertions æª¢æŸ¥å¯¦éš›å‹åˆ¥ if val, ok := x.(int); ok { fmt.Printf(\u0026#34;x æ˜¯ä¸€å€‹æ•´æ•¸ï¼Œå€¼ç‚ºï¼š%d\\n\u0026#34;, val) } else { fmt.Println(\u0026#34;x ä¸æ˜¯ä¸€å€‹æ•´æ•¸\u0026#34;) } // ä½¿ç”¨ reflect ç²å–å‹åˆ¥ä¿¡æ¯ t := reflect.TypeOf(x) fmt.Printf(\u0026#34;x çš„å¯¦éš›å‹åˆ¥æ˜¯ï¼š%s\\n\u0026#34;, t) } åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘é¦–å…ˆä½¿ç”¨ Type Assertions æª¢æŸ¥ x çš„å¯¦éš›å‹åˆ¥ï¼Œç„¶å¾Œä½¿ç”¨ reflect ç²å–å‹åˆ¥ä¿¡æ¯ã€‚Type Assertions ç¢ºä¿äº†æˆ‘å€‘åœ¨ç¢ºå®šå‹åˆ¥å¾Œæ‰èƒ½å®‰å…¨åœ°è¨ªå• val è®Šæ•¸ã€‚\nType Assertions ä½¿ç”¨æ™‚çš„æ³¨æ„äº‹é … åœ¨ä½¿ç”¨ Type Assertions æ™‚ï¼Œæœ‰äº›æ³¨æ„äº‹é …æœ‰åŠ©æ–¼ç¢ºä¿ç¨‹å¼ç¢¼å¦‚é æœŸé‹ä½œï¼Œä¸¦æ¸›å°‘æ½›åœ¨çš„åŸ·è¡Œæ™‚éŒ¯èª¤ã€‚\nå§‹çµ‚æª¢æŸ¥ ok å€¼ï¼šç•¶é€²è¡Œ Type Assertions æ™‚ï¼Œç„¡è«–å¦‚ä½•éƒ½æ‡‰è©²å§‹çµ‚æª¢æŸ¥ ok å€¼ã€‚é€™æ˜¯ç¢ºä¿è½‰æ›æˆåŠŸçš„é—œéµã€‚å¦‚æœ ok çš„å€¼ç‚º falseï¼Œä»£è¡¨æ–·è¨€å¤±æ•—ï¼Œä½ æ‡‰è©²æ¡å–é©ç•¶çš„éŒ¯èª¤è™•ç†æªæ–½ï¼Œè€Œä¸æ˜¯å‡è¨­è½‰æ›å·²æˆåŠŸã€‚\nä½¿ç”¨ switch èªå¥ï¼šç•¶è™•ç†å¤šç¨®å¯èƒ½çš„è³‡æ–™å‹åˆ¥æ™‚ï¼Œæœ€å¥½ä½¿ç”¨ switch èªå¥ä¾†é€²è¡Œ Type Assertionsã€‚é€™æ¨£åšçš„å¥½è™•æ˜¯ï¼Œå®ƒä½¿ä½ çš„ç¨‹å¼ç¢¼æ›´å…·å¯è®€æ€§ï¼Œä¸¦ä¸”æ›´å®¹æ˜“æ“´å±•ã€‚æ¯å€‹ case å­å¥å¯ä»¥è™•ç†ä¸€ç¨®ç‰¹å®šçš„å‹åˆ¥ï¼Œè®“ç¨‹å¼é‚è¼¯æ¸…æ™°æ˜ç­ã€‚\né¿å…éå¤šçš„ Type Assertionsï¼šéå¤šçš„ Type Assertions å¯èƒ½æ˜¯ç¨‹å¼è¨­è¨ˆä¸Šçš„è­¦è™Ÿï¼Œå¯èƒ½è¡¨ç¤ºä½ çš„è¨­è¨ˆå­˜åœ¨å•é¡Œã€‚å„˜é‡é¿å…åœ¨ç¨‹å¼ç¢¼ä¸­éå¤šä½¿ç”¨ Type Assertionsï¼Œè€Œæ˜¯è€ƒæ…®ä½¿ç”¨ interface å’Œå¤šæ…‹æ€§ä¾†å¯¦ç¾æ›´å„ªé›…çš„è¨­è¨ˆã€‚æ­£ç¢ºçš„ interface è¨­è¨ˆå¯ä»¥æ¸›å°‘å° Type Assertions çš„éœ€æ±‚ï¼Œä½¿ç¨‹å¼ç¢¼æ›´åŠ ç°¡æ½”ä¸”æ˜“æ–¼ç¶­è­·ã€‚\nå°çµ Go èªè¨€çš„ Type Assertions è®“æˆ‘å€‘èƒ½å¤ æ›´å¥½åœ°è™•ç†ä¸åŒè³‡æ–™å‹åˆ¥çš„æƒ…æ³ï¼ŒåŒæ™‚ä¿æŒç¨‹å¼çš„å¯è®€æ€§å’Œå®‰å…¨æ€§ã€‚ç„¡è«–æ˜¯åœ¨è™•ç† JSON æ•¸æ“šã€å¯¦ç¾ reflect åŠŸèƒ½ï¼ŒType Assertions éƒ½æ˜¯ä¸€å€‹ä¸å¯æˆ–ç¼ºçš„åŠŸèƒ½ï¼Œæœ‰åŠ©æ–¼ Go èªè¨€çš„æ‡‰ç”¨ç¨‹å¼é–‹ç™¼æ›´åŠ éˆæ´»å’Œå¼·å¤§ã€‚\nğŸ“šReference A Tour of Go(Type Assertions) Type Assertions in Golang - GeeksforGeeks Golang ç­†è¨˜ â€” Type Assertion | Kalan\u0026rsquo;s Blog ","permalink":"https://sz9751210.github.io/posts/go-type-assertion/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨Goä¸­ï¼Œå‡å¦‚æˆ‘è¦åˆ¤æ–·ä¸€å€‹è³‡æ–™é¡å‹æ˜¯ç”šéº¼ï¼Œè©²æ€éº¼åšå‘¢? Golangæœ‰ä¸€å€‹åŠŸèƒ½å«åšType Assertionsï¼ˆé¡å‹æ–·è¨€ï¼‰ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯èƒ½å¤ åœ¨é‹è¡Œæ™‚æª¢æŸ¥æˆ‘çš„è³‡æ–™é¡å‹ï¼Œè®“æˆ‘åœ¨å‚³éé¡å‹æ™‚èƒ½ç¢ºä¿è³‡æ–™é¡å‹æ˜¯æ­£ç¢ºçš„ã€‚\nType Assertions çš„åŸºæœ¬æ¦‚å¿µ åœ¨Goä¸­ï¼ŒType Assertionsçš„ä¸»è¦ç›®çš„æ˜¯åœ¨é‹è¡Œæ™‚å°‡ interface å‹åˆ¥çš„å€¼è½‰æ›ç‚ºç‰¹å®šçš„å¯¦éš›å‹åˆ¥ã€‚interface æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„é¡å‹ï¼Œå®ƒå¯ä»¥ä¿å­˜ä»»ä½•å€¼çš„å¯¦ä¾‹ï¼Œä½†åœ¨é‹è¡Œæ™‚ï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦ç¢ºå®šè©²å€¼çš„å¯¦éš›é¡å‹ä»¥åŸ·è¡Œç›¸æ‡‰çš„æ“ä½œï¼Œä»¥ç¢ºä¿æˆ‘å€‘èƒ½å¤ å®‰å…¨åœ°æ“ä½œè³‡æ–™ï¼Œé€™å°±æ˜¯Type Assertionsçš„ä½œç”¨ã€‚\nType Assertionsçš„åŸºæœ¬èªæ³•å¦‚ä¸‹ï¼š\nvalue, ok := someInterface.(T) é€™å€‹è¡¨é”å¼æ„æ€ç‚ºå°‡someInterfaceè½‰æ›ç‚ºé¡å‹Tã€‚å¦‚æœæˆåŠŸï¼Œå®ƒå°‡valueè¨­ç½®ç‚ºè½‰æ›å¾Œçš„å€¼ï¼Œä¸¦å°‡okè¨­ç½®ç‚ºtrueã€‚å¦‚æœè½‰æ›å¤±æ•—ï¼Œå‰‡valueå°‡æ˜¯é›¶å€¼ï¼Œè€Œokå°‡æ˜¯falseã€‚\nType Assertionsçš„ç”¨é€” Type Assertions çš„ä¸»è¦ç”¨é€”åŒ…æ‹¬ï¼š\nè³‡æ–™å‹åˆ¥çš„è½‰æ› ç•¶æˆ‘å€‘è™•ç†interfaceå‹åˆ¥çš„è³‡æ–™æ™‚ï¼Œå¯èƒ½éœ€è¦å°‡å…¶è½‰æ›ç‚ºå…·é«”çš„å‹åˆ¥ï¼Œä»¥ä¾¿é€²è¡Œç‰¹å®šæ“ä½œã€‚\nfunc process(someInterface interface{}) { if str, ok := someInterface.(string); ok { // å°‡interfacceè½‰æ›ç‚ºstringé¡å‹ä¸¦é€²è¡Œæ“ä½œ fmt.Printf(\u0026#34;Length of string: %d\\n\u0026#34;, len(str)) } else { fmt.Println(\u0026#34;Not a string\u0026#34;) } } ç¢ºä¿å‹åˆ¥çš„æ­£ç¢ºæ€§ ä½¿ç”¨ Type Assertionsï¼Œæˆ‘å€‘å¯ä»¥åœ¨åŸ·è¡Œç‰¹å®šæ“ä½œä¹‹å‰ï¼Œç¢ºä¿è³‡æ–™çš„å‹åˆ¥æ˜¯æˆ‘å€‘æœŸæœ›çš„ã€‚é€™æœ‰åŠ©æ–¼é˜²æ­¢å› å‹åˆ¥éŒ¯èª¤è€Œå¼•ç™¼çš„åŸ·è¡Œæ™‚éŒ¯èª¤ã€‚\nif val, ok := someInterface.(int); ok { // someInterface æ˜¯ä¸€å€‹inté¡å‹ fmt.Printf(\u0026#34;Value is an int: %d\\n\u0026#34;, val) } else { // someInterface ä¸æ˜¯ä¸€å€‹inté¡å‹ fmt.","title":"ä¿è­‰å‹åˆ¥å®‰å…¨ï¼šä½¿ç”¨Goçš„Type Assertionsé¿å…å‹åˆ¥éŒ¯èª¤"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ makeå‡½æ•¸åœ¨sliceã€mapå’Œä¹‹å¾Œæœƒä»‹ç´¹åˆ°çš„channelçš„åˆå§‹åŒ–ä¸­æ‰®æ¼”è‘—é—œéµçš„è§’è‰²ã€‚æœ¬æ–‡å°‡æœƒç°¡å–®ä»‹ç´¹makeå‡½æ•¸çš„ç”¨æ³•ï¼Œä»¥åŠåœ¨åˆå§‹åŒ–ä¸åŒè³‡æ–™çµæ§‹æ™‚çš„å·®ç•°ï¼Œè®“ä½ æ›´å¥½åœ°ç†è§£å’Œåˆ©ç”¨makeå‡½æ•¸ã€‚\nmakeå‡½æ•¸åŸºæœ¬æ¦‚å¿µ é¦–å…ˆï¼Œè®“æˆ‘å€‘ä¾†äº†è§£ä¸€ä¸‹makeå‡½æ•¸çš„åŸºæœ¬æ¦‚å¿µã€‚åœ¨Goä¸­ï¼Œmakeå‡½æ•¸ç”¨æ–¼å‹•æ…‹åˆ†é…è¨˜æ†¶é«”ä¸¦åˆå§‹åŒ–sliceã€mapå’Œchannelã€‚\n// å‰µå»ºä¸€å€‹åˆ‡ç‰‡ï¼Œé•·åº¦ç‚º5ï¼Œå®¹é‡ç‚º10 mySlice := make([]int, 5, 10) åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨makeå‡½æ•¸å‰µå»ºäº†ä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼ˆsliceï¼‰ï¼Œå…¶é•·åº¦ç‚º5ï¼Œå®¹é‡ç‚º10ã€‚é€™æ„å‘³è‘—åˆ‡ç‰‡å¯ä»¥å®¹ç´5å€‹å…ƒç´ ï¼Œä½†å®ƒçš„åº•å±¤é™£åˆ—çš„å®¹é‡æ˜¯10ï¼Œé€™ç‚ºå¾ŒçºŒçš„æ“ä½œæä¾›äº†ä¸€å®šçš„éˆæ´»æ€§ã€‚\nmakeå‡½æ•¸çš„èªæ³• makeå‡½æ•¸çš„èªæ³•ç›¸å°ç°¡å–®ã€‚å®ƒçš„ä¸€èˆ¬å½¢å¼æ˜¯ï¼š\nmake(é¡å‹, é•·åº¦, å®¹é‡) é¡å‹ï¼šæŒ‡å®šè¦å‰µå»ºçš„è³‡æ–™é¡å‹ï¼Œå¯ä»¥æ˜¯åˆ‡ç‰‡ã€mapæˆ–é€šé“ã€‚ é•·åº¦ï¼šè¡¨ç¤ºè³‡æ–™çµæ§‹çš„åˆå§‹é•·åº¦ã€‚ å®¹é‡ï¼šåªé©ç”¨æ–¼åˆ‡ç‰‡å’Œé€šé“ï¼Œè¡¨ç¤ºåº•å±¤é™£åˆ—çš„å®¹é‡ã€‚ ä½¿ç”¨makeåˆå§‹åŒ–åˆ‡ç‰‡ æ¥ä¸‹ä¾†ï¼Œè®“æˆ‘å€‘çœ‹çœ‹å¦‚ä½•ä½¿ç”¨makeå‡½æ•¸åˆå§‹åŒ–åˆ‡ç‰‡ã€‚\n// å‰µå»ºä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼Œé•·åº¦ç‚º3ï¼Œå®¹é‡ç‚º5 mySlice := make([]int, 3, 5) mySlice[0] = 1 mySlice[1] = 2 mySlice[2] = 3 åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘é¦–å…ˆä½¿ç”¨makeå‡½æ•¸å‰µå»ºäº†ä¸€å€‹é•·åº¦ç‚º3ã€å®¹é‡ç‚º5çš„æ•´æ•¸åˆ‡ç‰‡ã€‚ç„¶å¾Œï¼Œæˆ‘å€‘åˆ†é…äº†ä¸‰å€‹æ•´æ•¸å€¼åˆ°åˆ‡ç‰‡ä¸­ã€‚\nä½¿ç”¨makeåˆå§‹åŒ–Map ç¾åœ¨ï¼Œè®“æˆ‘å€‘çœ‹çœ‹å¦‚ä½•ä½¿ç”¨makeå‡½æ•¸åˆå§‹åŒ–Mapã€‚mapæ˜¯ä¸€ç¨®éµå€¼å°çš„è³‡æ–™çµæ§‹ï¼Œéå¸¸é©åˆç”¨æ–¼å­˜å„²é—œè¯æ€§è³‡æ–™ã€‚\n// å‰µå»ºä¸€å€‹å­—ç¬¦ä¸²åˆ°æ•´æ•¸çš„map myMap := make(map[string]int) myMap[\u0026#34;apple\u0026#34;] = 1 myMap[\u0026#34;banana\u0026#34;] = 2 myMap[\u0026#34;cherry\u0026#34;] = 3 åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨makeå‡½æ•¸å‰µå»ºäº†ä¸€å€‹ç©ºçš„å­—ç¬¦ä¸²åˆ°æ•´æ•¸çš„mapï¼Œç„¶å¾Œæ·»åŠ äº†ä¸‰å€‹éµå€¼å°ã€‚\nmake å‡½æ•¸åœ¨ Go èªè¨€ä¸­å¸¸è¦‹ç”¨æ³•åŒ…æ‹¬åˆå§‹åŒ–åˆ‡ç‰‡ã€mapå’Œé€šé“ã€‚ç„¶è€Œï¼Œå®ƒçš„ä½¿ç”¨ä¹Ÿå—åˆ°ä¸€äº›é™åˆ¶å’Œç´„æŸã€‚ä»¥ä¸‹æ˜¯ make å‡½æ•¸çš„å¸¸è¦‹ç”¨æ³•ä»¥åŠç›¸é—œçš„ä½¿ç”¨é™åˆ¶ï¼š\nä½¿ç”¨makeåˆå§‹åŒ–é€šé“ æœ€å¾Œï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å¦‚ä½•ä½¿ç”¨makeå‡½æ•¸åˆå§‹åŒ–é€šé“ã€‚é€šé“æ˜¯Goèªè¨€ä¸­ç”¨æ–¼ä¸¦ç™¼é€šä¿¡çš„é‡è¦æ©Ÿåˆ¶ã€‚\n// å‰µå»ºä¸€å€‹é€šé“ï¼Œç”¨æ–¼å‚³è¼¸å­—ç¬¦ä¸²è³‡æ–™ myChannel := make(chan string) go func() { myChannel \u0026lt;- \u0026#34;Hello\u0026#34; myChannel \u0026lt;- \u0026#34;World\u0026#34; }() åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨makeå‡½æ•¸å‰µå»ºäº†ä¸€å€‹é€šé“ï¼Œå®ƒå¯ä»¥å‚³è¼¸å­—ç¬¦ä¸²è³‡æ–™ã€‚ç„¶å¾Œï¼Œæˆ‘å€‘ä½¿ç”¨Goå”ç¨‹å‘é€šé“ç™¼é€äº†å…©å€‹å­—ç¬¦ä¸²ã€‚\nä½¿ç”¨é™åˆ¶ åªèƒ½ç”¨æ–¼åˆ‡ç‰‡ã€mapå’Œé€šé“ï¼šmake å‡½æ•¸åªèƒ½ç”¨æ–¼åˆå§‹åŒ–åˆ‡ç‰‡ã€mapå’Œé€šé“ï¼Œä¸èƒ½ç”¨æ–¼å…¶ä»–è³‡æ–™é¡å‹æˆ–è‡ªå®šç¾©é¡å‹çš„åˆå§‹åŒ–ã€‚\nåˆ‡ç‰‡å®¹é‡å¿…é ˆå¤§æ–¼ç­‰æ–¼é•·åº¦ï¼šåœ¨ä½¿ç”¨ make åˆå§‹åŒ–åˆ‡ç‰‡æ™‚ï¼Œåˆ‡ç‰‡çš„å®¹é‡å¿…é ˆå¤§æ–¼ç­‰æ–¼é•·åº¦ã€‚å¦å‰‡ï¼Œæœƒå°è‡´é‹è¡Œæ™‚éŒ¯èª¤ã€‚\n// æ­£ç¢ºçš„ç¯„ä¾‹ mySlice := make([]int, 5, 10) // éŒ¯èª¤çš„ç¯„ä¾‹ï¼Œå®¹é‡å°æ–¼é•·åº¦ mySlice := make([]int, 10, 5) // é€™æœƒå°è‡´é‹è¡Œæ™‚éŒ¯èª¤ Mapç„¡éœ€æŒ‡å®šå®¹é‡ï¼šèˆ‡åˆ‡ç‰‡ä¸åŒï¼Œmapçš„å®¹é‡ç„¡éœ€é¡¯ç¤ºæŒ‡å®šï¼Œå› ç‚ºmapæœƒæ ¹æ“šéœ€è¦å‹•æ…‹æ“´å±•ã€‚\nmyMap := make(map[string]int) // æ­£ç¢ºçš„åˆå§‹åŒ–mapï¼Œç„¡éœ€æŒ‡å®šå®¹é‡ é€šé“çš„å®¹é‡æ˜¯å¯é¸çš„ï¼šé€šé“çš„å®¹é‡æ˜¯å¯é¸çš„ï¼Œä½ å¯ä»¥é¸æ“‡åœ¨å‰µå»ºé€šé“æ™‚æŒ‡å®šå®¹é‡ï¼Œä¹Ÿå¯ä»¥ä¸æŒ‡å®šã€‚\nmyChannel := make(chan int) // å‰µå»ºä¸€å€‹ç„¡ç·©è¡é€šé“ myBufferedChannel := make(chan int, 10) // å‰µå»ºä¸€å€‹æœ‰ç·©è¡å®¹é‡ç‚º 10 çš„é€šé“ é€šé“éœ€è¦é—œé–‰ï¼šå¦‚æœä½ ä½¿ç”¨ make å‰µå»ºçš„é€šé“ï¼Œéœ€è¦è² è²¬åœ¨é©ç•¶çš„æ™‚å€™é—œé–‰é€šé“ï¼Œä»¥é¿å…æ­»é–ã€‚\nclose(myChannel) make å‡½æ•¸æ˜¯ Go èªè¨€ä¸­ç”¨æ–¼åˆå§‹åŒ–åˆ‡ç‰‡ã€mapå’Œé€šé“çš„é‡è¦å·¥å…·ï¼Œä½†å®ƒæœ‰ä¸€äº›ä½¿ç”¨é™åˆ¶ï¼Œéœ€è¦æŒ‰ç…§ä¸Šè¿°è¦å‰‡ä½¿ç”¨ï¼Œä»¥ç¢ºä¿ç¨‹åºçš„æ­£ç¢ºæ€§å’Œæ€§èƒ½ã€‚\nmakeå‡½æ•¸çš„æ³¨æ„äº‹é … åœ¨ä½¿ç”¨makeå‡½æ•¸æ™‚ï¼Œæœ‰ä¸€äº›æ³¨æ„äº‹é …ã€‚é¦–å…ˆï¼Œè¦ç¢ºä¿é¸æ“‡é©ç•¶çš„é•·åº¦å’Œå®¹é‡ï¼Œä»¥é¿å…ä¸å¿…è¦çš„è¨˜æ†¶é«”æµªè²»ã€‚å…¶æ¬¡ï¼Œæ ¹æ“šä½ çš„éœ€æ±‚ï¼Œé¸æ“‡åˆ‡ç‰‡ã€mapæˆ–é€šé“ä¾†å­˜å„²å’Œè™•ç†è³‡æ–™ã€‚æœ€å¾Œï¼Œè¨˜å¾—é‡‹æ”¾ä¸å†ä½¿ç”¨çš„è³‡æ–™çµæ§‹ï¼Œä»¥é¿å…è¨˜æ†¶é«”æ´©æ¼ã€‚\nğŸ“šReference A Tour of Go(make) Golang Make Function - Initializing Slices, Maps, and Channels (Size and Capacity) (sohamkamani.com) ","permalink":"https://sz9751210.github.io/posts/go-make/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ makeå‡½æ•¸åœ¨sliceã€mapå’Œä¹‹å¾Œæœƒä»‹ç´¹åˆ°çš„channelçš„åˆå§‹åŒ–ä¸­æ‰®æ¼”è‘—é—œéµçš„è§’è‰²ã€‚æœ¬æ–‡å°‡æœƒç°¡å–®ä»‹ç´¹makeå‡½æ•¸çš„ç”¨æ³•ï¼Œä»¥åŠåœ¨åˆå§‹åŒ–ä¸åŒè³‡æ–™çµæ§‹æ™‚çš„å·®ç•°ï¼Œè®“ä½ æ›´å¥½åœ°ç†è§£å’Œåˆ©ç”¨makeå‡½æ•¸ã€‚\nmakeå‡½æ•¸åŸºæœ¬æ¦‚å¿µ é¦–å…ˆï¼Œè®“æˆ‘å€‘ä¾†äº†è§£ä¸€ä¸‹makeå‡½æ•¸çš„åŸºæœ¬æ¦‚å¿µã€‚åœ¨Goä¸­ï¼Œmakeå‡½æ•¸ç”¨æ–¼å‹•æ…‹åˆ†é…è¨˜æ†¶é«”ä¸¦åˆå§‹åŒ–sliceã€mapå’Œchannelã€‚\n// å‰µå»ºä¸€å€‹åˆ‡ç‰‡ï¼Œé•·åº¦ç‚º5ï¼Œå®¹é‡ç‚º10 mySlice := make([]int, 5, 10) åœ¨ä¸Šé¢çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨makeå‡½æ•¸å‰µå»ºäº†ä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼ˆsliceï¼‰ï¼Œå…¶é•·åº¦ç‚º5ï¼Œå®¹é‡ç‚º10ã€‚é€™æ„å‘³è‘—åˆ‡ç‰‡å¯ä»¥å®¹ç´5å€‹å…ƒç´ ï¼Œä½†å®ƒçš„åº•å±¤é™£åˆ—çš„å®¹é‡æ˜¯10ï¼Œé€™ç‚ºå¾ŒçºŒçš„æ“ä½œæä¾›äº†ä¸€å®šçš„éˆæ´»æ€§ã€‚\nmakeå‡½æ•¸çš„èªæ³• makeå‡½æ•¸çš„èªæ³•ç›¸å°ç°¡å–®ã€‚å®ƒçš„ä¸€èˆ¬å½¢å¼æ˜¯ï¼š\nmake(é¡å‹, é•·åº¦, å®¹é‡) é¡å‹ï¼šæŒ‡å®šè¦å‰µå»ºçš„è³‡æ–™é¡å‹ï¼Œå¯ä»¥æ˜¯åˆ‡ç‰‡ã€mapæˆ–é€šé“ã€‚ é•·åº¦ï¼šè¡¨ç¤ºè³‡æ–™çµæ§‹çš„åˆå§‹é•·åº¦ã€‚ å®¹é‡ï¼šåªé©ç”¨æ–¼åˆ‡ç‰‡å’Œé€šé“ï¼Œè¡¨ç¤ºåº•å±¤é™£åˆ—çš„å®¹é‡ã€‚ ä½¿ç”¨makeåˆå§‹åŒ–åˆ‡ç‰‡ æ¥ä¸‹ä¾†ï¼Œè®“æˆ‘å€‘çœ‹çœ‹å¦‚ä½•ä½¿ç”¨makeå‡½æ•¸åˆå§‹åŒ–åˆ‡ç‰‡ã€‚\n// å‰µå»ºä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼Œé•·åº¦ç‚º3ï¼Œå®¹é‡ç‚º5 mySlice := make([]int, 3, 5) mySlice[0] = 1 mySlice[1] = 2 mySlice[2] = 3 åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘é¦–å…ˆä½¿ç”¨makeå‡½æ•¸å‰µå»ºäº†ä¸€å€‹é•·åº¦ç‚º3ã€å®¹é‡ç‚º5çš„æ•´æ•¸åˆ‡ç‰‡ã€‚ç„¶å¾Œï¼Œæˆ‘å€‘åˆ†é…äº†ä¸‰å€‹æ•´æ•¸å€¼åˆ°åˆ‡ç‰‡ä¸­ã€‚\nä½¿ç”¨makeåˆå§‹åŒ–Map ç¾åœ¨ï¼Œè®“æˆ‘å€‘çœ‹çœ‹å¦‚ä½•ä½¿ç”¨makeå‡½æ•¸åˆå§‹åŒ–Mapã€‚mapæ˜¯ä¸€ç¨®éµå€¼å°çš„è³‡æ–™çµæ§‹ï¼Œéå¸¸é©åˆç”¨æ–¼å­˜å„²é—œè¯æ€§è³‡æ–™ã€‚\n// å‰µå»ºä¸€å€‹å­—ç¬¦ä¸²åˆ°æ•´æ•¸çš„map myMap := make(map[string]int) myMap[\u0026#34;apple\u0026#34;] = 1 myMap[\u0026#34;banana\u0026#34;] = 2 myMap[\u0026#34;cherry\u0026#34;] = 3 åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨makeå‡½æ•¸å‰µå»ºäº†ä¸€å€‹ç©ºçš„å­—ç¬¦ä¸²åˆ°æ•´æ•¸çš„mapï¼Œç„¶å¾Œæ·»åŠ äº†ä¸‰å€‹éµå€¼å°ã€‚\nmake å‡½æ•¸åœ¨ Go èªè¨€ä¸­å¸¸è¦‹ç”¨æ³•åŒ…æ‹¬åˆå§‹åŒ–åˆ‡ç‰‡ã€mapå’Œé€šé“ã€‚ç„¶è€Œï¼Œå®ƒçš„ä½¿ç”¨ä¹Ÿå—åˆ°ä¸€äº›é™åˆ¶å’Œç´„æŸã€‚ä»¥ä¸‹æ˜¯ make å‡½æ•¸çš„å¸¸è¦‹ç”¨æ³•ä»¥åŠç›¸é—œçš„ä½¿ç”¨é™åˆ¶ï¼š\nä½¿ç”¨makeåˆå§‹åŒ–é€šé“ æœ€å¾Œï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å¦‚ä½•ä½¿ç”¨makeå‡½æ•¸åˆå§‹åŒ–é€šé“ã€‚é€šé“æ˜¯Goèªè¨€ä¸­ç”¨æ–¼ä¸¦ç™¼é€šä¿¡çš„é‡è¦æ©Ÿåˆ¶ã€‚\n// å‰µå»ºä¸€å€‹é€šé“ï¼Œç”¨æ–¼å‚³è¼¸å­—ç¬¦ä¸²è³‡æ–™ myChannel := make(chan string) go func() { myChannel \u0026lt;- \u0026#34;Hello\u0026#34; myChannel \u0026lt;- \u0026#34;World\u0026#34; }() åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨makeå‡½æ•¸å‰µå»ºäº†ä¸€å€‹é€šé“ï¼Œå®ƒå¯ä»¥å‚³è¼¸å­—ç¬¦ä¸²è³‡æ–™ã€‚ç„¶å¾Œï¼Œæˆ‘å€‘ä½¿ç”¨Goå”ç¨‹å‘é€šé“ç™¼é€äº†å…©å€‹å­—ç¬¦ä¸²ã€‚","title":"å¾é›¶é–‹å§‹ï¼šä½¿ç”¨makeå‡½æ•¸å‰µå»ºè³‡æ–™çµæ§‹"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ å¥—ä»¶ï¼ˆPackageï¼‰åœ¨Golangä¸­æ‰®æ¼”è‘—çµ„ç¹”å’Œç®¡ç†ç¨‹å¼ç¢¼çš„é‡è¦è§’è‰²ã€‚\npackageå°±åƒå·¥å…·ç®±ä¸€æ¨£ï¼Œè£¡é¢è£æ»¿å„ç¨®ä¸åŒçš„å·¥å…·ï¼Œæ¯å€‹å·¥å…·éƒ½æœ‰ç‰¹å®šçš„åŠŸèƒ½ã€‚é€™äº›å·¥å…·èƒ½å¤ å¹«åŠ©ä½ å®Œæˆä¸åŒçš„ä»»å‹™ï¼Œå¾ä¿®ç†å®¶å…·åˆ°è“‹å°å±‹ï¼Œæ¨£æ¨£éƒ½è¡Œã€‚\nä»Šå¤©é€™ç¯‡æ–‡ç« å°‡å¿«é€Ÿç­è§£ Golang çš„packageï¼Œå­¸ç¿’å¦‚ä½•å»ºç«‹packageã€åŒ¯å…¥packageä»¥åŠä¸€äº›ä½¿ç”¨æŠ€å·§ã€‚\nä»€éº¼æ˜¯ Packageï¼Ÿ åœ¨ Golang ä¸­ï¼ŒPackage æ˜¯ä¸€ç¨®çµ„ç¹”ç¨‹å¼ç¢¼çš„æ–¹å¼ï¼Œå®ƒå°‡ç›¸é—œçš„å‡½å¼ã€è®Šæ•¸å’Œè³‡æºæ”¾åœ¨ä¸€å€‹ç›®éŒ„ä¸­ã€‚é€™ä¸åƒ…æœ‰åŠ©æ–¼ä¿æŒç¨‹å¼ç¢¼çš„æ•´æ½”ï¼Œé‚„èƒ½è®“æˆ‘å€‘æ›´å®¹æ˜“åœ°é‡è¤‡ä½¿ç”¨ç¨‹å¼ç¢¼ã€‚\nPackage åç¨±èˆ‡è³‡æ–™å¤¾åç¨±çš„ä¸€è‡´æ€§ é€šå¸¸å»ºè­°åœ¨å»ºç«‹packageæ™‚ï¼Œå°‡packageåç¨±èˆ‡æ‰€åœ¨è³‡æ–™å¤¾åç¨±ä¿æŒä¸€è‡´ï¼Œé€™æ¨£æœ‰åŠ©æ–¼æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œä¸€è‡´æ€§ã€‚Golang çš„åŒ¯å…¥æ©Ÿåˆ¶æ˜¯åŸºæ–¼packageçš„ import è·¯å¾‘ä¾†è­˜åˆ¥packageï¼Œè€Œ import è·¯å¾‘é€šå¸¸æœƒåæ˜ packageçš„è³‡æ–™å¤¾çµæ§‹ã€‚é€™ç¨®ä¸€è‡´æ€§å¯ä»¥è®“å…¶ä»–é–‹ç™¼äººå“¡æ›´å®¹æ˜“ç†è§£ä½ çš„ç¨‹å¼ç¢¼ï¼Œä¸¦ä¸”ä¸éœ€è¦é¡å¤–çš„æŸ¥æ‰¾å·¥ä½œï¼Œå› ç‚ºpackageçš„åç¨±èˆ‡è³‡æ–™å¤¾åç¨±ä¸€è‡´ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­ä½ çš„è³‡æ–™å¤¾çµæ§‹å¦‚ä¸‹ï¼š\nproject/ |-- greetings/ | |-- greetings.go | |-- main/ | |-- main.go å¦‚æœæˆ‘å€‘å»ºç«‹çš„packageåç¨±ç‚º greetingsï¼Œæˆ‘å€‘å¯ä»¥åœ¨ greetings.go ä¸­é€™æ¨£å®šç¾©ï¼š\n// greetings.go package greetings func Hello(name string) string { return \u0026#34;Hello, \u0026#34; + name } ç„¶å¾Œåœ¨ main.go ä¸­ä½¿ç”¨é€™å€‹packageï¼š\n// main.go package main import ( \u0026#34;fmt\u0026#34; \u0026#34;your/project/path/greetings\u0026#34; ) func main() { message := greetings.Hello(\u0026#34;Alan\u0026#34;) fmt.Println(message) } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å»ºç«‹çš„packageåç¨± greetings èˆ‡æ‰€åœ¨è³‡æ–™å¤¾åç¨±ç›¸åŒï¼Œç¢ºä¿åŒ¯å…¥çš„æ™‚å€™è·¯å¾‘æ˜¯ä¸€è‡´çš„ã€‚\nå»ºç«‹ Package å»ºç«‹ä¸€å€‹ Packageä¹‹å‰ï¼Œé¦–å…ˆï¼Œæˆ‘å€‘éœ€è¦å‰µå»ºä¸€å€‹ç›®éŒ„ï¼Œæˆ‘å€‘å–åå« greetingsï¼š\nåœ¨ä½ çš„å·¥ä½œç›®éŒ„åº•ä¸‹å‰µå»ºä¸€å€‹æ–°è³‡æ–™å¤¾ï¼šgreetings åœ¨ greetings è³‡æ–™å¤¾ä¸­ï¼Œå‰µå»ºä¸€å€‹åç‚º greetings.go çš„æª”æ¡ˆ // greetings/greetings.go package greetings import \u0026#34;fmt\u0026#34; func SayHello(name string) { fmt.Println(\u0026#34;Hello, \u0026#34; + name + \u0026#34;!\u0026#34;) } å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘åœ¨ greetings ä¸­å»ºç«‹äº†ä¸€å€‹ SayHello å‡½å¼ï¼Œè®“æˆ‘å€‘å¯ä»¥æ‰“å€‹æ‹›å‘¼ã€‚\nä½¿ç”¨ Package ç¾åœ¨æˆ‘å€‘å·²ç¶“å»ºç«‹å®Œ Packageï¼Œè®“æˆ‘å€‘ä¾†çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å®ƒï¼š\nä½¿ç”¨ go mod init xxx åˆå§‹åŒ–å°ˆæ¡ˆä»¥è¨­å®šè·¯å¾‘ï¼Œå‡è¨­é€™é‚Šæ˜¯å«demo å‰µå»ºä¸€å€‹åç‚º main.go çš„æª”æ¡ˆï¼Œæ”¾åœ¨èˆ‡ greetings è³‡æ–™å¤¾ä¸åŒçš„ç›®éŒ„ä¸‹ã€‚ ç·¨å¯«ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š // main.go package main import \u0026#34;demo/greetings\u0026#34; func main() { greetings.SayHello(\u0026#34;Alan\u0026#34;) } åœ¨main.goç›´æ¥ä½¿ç”¨ greetings.SayHello å‡½å¼ä¾†å°å‡ºhelloåˆ°çµ‚ç«¯ã€‚\næœ€å¾Œï¼Œæˆ‘å€‘å¯ä»¥åœ¨çµ‚ç«¯ä¸­åŸ·è¡Œæˆ‘å€‘çš„ç¨‹å¼ï¼š\ngo run main.go ä½ æ‡‰è©²æœƒåœ¨çµ‚ç«¯çœ‹åˆ°è¼¸å‡ºçš„å•å€™è¨Šæ¯ï¼šã€ŒHello, Alanã€\nåˆ°é€™è£¡å·²ç¶“æˆåŠŸåœ°å‰µå»ºäº†ä¸€å€‹ Golang çš„ Packageï¼Œä¸¦åœ¨è‡ªå·±çš„ç¨‹å¼ä¸­ä½¿ç”¨å®ƒã€‚\npackageçš„å¯è¦‹æ€§ Golang ä¸­çš„packageæˆå“¡æœ‰å¯å°å‡ºï¼ˆExportedï¼‰å’Œä¸å¯å°å‡ºï¼ˆUnexportedï¼‰ä¹‹åˆ†ã€‚é¦–å­—æ¯å¤§å¯«çš„æˆå“¡æ˜¯å¯å°å‡ºçš„ï¼Œå…¶ä»–packageå¯ä»¥å­˜å–å®ƒå€‘ï¼›è€Œé¦–å­—æ¯å°å¯«çš„æˆå“¡å‰‡æ˜¯ä¸å¯å°å‡ºçš„ï¼Œåƒ…åœ¨åŒä¸€packageå…§å¯è¦‹ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ç¤ºä¾‹ï¼š\n// greetings/greetings.go package greetings func sayHi(name string) { fmt.Println(\u0026#34;Hi, \u0026#34; + name + \u0026#34;!\u0026#34;) } åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼ŒsayHi æ˜¯ä¸å¯å°å‡ºçš„ï¼Œç„¡æ³•åœ¨å…¶ä»–packageä¸­ä½¿ç”¨ã€‚\nåŒ¯å…¥package åŒ¯å…¥å¤šå€‹package ä½ å¯ä»¥ä½¿ç”¨æ‹¬è™ŸåŒ¯å…¥å¤šå€‹packageï¼Œä»¥æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;your/project/path/greetings\u0026#34; \u0026#34;your/project/path/utils\u0026#34; ) func main() { greetings.SayHello(\u0026#34;Alan\u0026#34;) fmt.Println(\u0026#34;Cube of 3:\u0026#34;, utils.Cube(3)) } packageåˆ¥å ç•¶æˆ‘å€‘å¼•å…¥ä¸€å€‹packageæ™‚ï¼Œæˆ‘å€‘å¯ä»¥ç‚ºè©²packageæŒ‡å®šä¸€å€‹åˆ¥åã€‚é€™å°æ–¼è§£æ±ºåç¨±è¡çªæˆ–ç¸®çŸ­packageåç¨±éƒ½å¾ˆæœ‰ç”¨ã€‚\nimport mygreetings \u0026#34;your/project/path/greetings\u0026#34; ä½¿ç”¨æ–¹å¼ä¹Ÿå¾ˆç°¡å–®ï¼Œåœ¨packageå‰é¢åŠ ä¸Šåˆ¥åå³å¯\næ¥è‘—èª¿ç”¨å‡½å¼å¦‚ä¸‹\nfunc main() { mygreetings.SayHello(\u0026#34;Alan\u0026#34;) } é€™æ¨£ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ mygreetings ä½œç‚º greetings packageçš„åˆ¥åï¼Œä»¥æ›´ç°¡æ½”çš„æ–¹å¼è¨ªå•packageä¸­çš„å‡½å¼ã€‚\né€™å€‹æ–¹å¼å°¤å…¶åœ¨ç•¶ä½ çš„å°ˆæ¡ˆä¸­æœ‰å¤šå€‹packageéœ€è¦å¼•å…¥æ™‚å¾ˆæœ‰ç”¨ï¼Œå› ç‚ºå®ƒå¯ä»¥å¹«åŠ©ä½ æ›´å¥½åœ°ç®¡ç†packageçš„å‘½åç©ºé–“ã€‚\nåŒ¿åpackage å‡è¨­ä½ çš„ greetings packageè·¯å¾‘ä»ç„¶æ˜¯ your/project/path/greetingsï¼Œä½ å¯ä»¥å¼•å…¥å®ƒä¸¦ä½¿ç”¨åŒ¿åpackageï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nimport _ \u0026#34;your/project/path/greetings\u0026#34; å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘ä½¿ç”¨ _ ä½œç‚ºåŒ¿åpackageçš„åç¨±ï¼Œé€™è¡¨ç¤ºæˆ‘å€‘ä¸æ‰“ç®—åœ¨ç¨‹å¼ç¢¼ä¸­ç›´æ¥ä½¿ç”¨ greetings packageçš„åç¨±ï¼Œä½†æˆ‘å€‘å¸Œæœ›å®ƒåŸ·è¡Œpackageåˆå§‹åŒ–çš„å·¥ä½œã€‚\nåœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œä½ ä¸éœ€è¦åœ¨å¾ŒçºŒçš„ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨ greetings packageçš„åç¨±ï¼Œè€Œpackageåˆå§‹åŒ–çš„å·¥ä½œä»ç„¶æœƒåŸ·è¡Œï¼Œå¦‚æœ greetings packageå…·æœ‰åˆå§‹åŒ–é‚è¼¯ï¼ˆinit å‡½å¼ï¼‰ï¼Œé‚£éº¼å®ƒå°‡åœ¨å¼•å…¥æ™‚é‹è¡Œã€‚\nåœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ›å¼•å…¥ä¸€å€‹packageï¼Œä½†ä½ ä¸æ‰“ç®—åœ¨ä½ çš„ç¨‹å¼ç¢¼ä¸­ç›´æ¥ä½¿ç”¨è©²packageä¸­çš„å‡½å¼æˆ–è³‡æºã€‚ç›¸åï¼Œä½ åªå°packageçš„ä¸€äº›ã€Œå‰¯ä½œç”¨ã€æˆ–åˆå§‹åŒ–æ“ä½œæ„Ÿèˆˆè¶£ã€‚é€™äº›åˆå§‹åŒ–æ“ä½œå¯èƒ½åŒ…æ‹¬è¨­ç½®å…¨å±€è®Šæ•¸ã€åŸ·è¡ŒæŸäº›åˆå§‹åŒ–å‡½å¼æˆ–è¨­å®špackageçš„é…ç½®ã€‚\nä½¿ç”¨åŒ¿åpackageçš„æ–¹å¼ï¼Œä½ å¯ä»¥å¼•å…¥packageï¼Œä½¿å®ƒåŸ·è¡Œåˆå§‹åŒ–æ“ä½œï¼Œä½†ä½ ä¸éœ€è¦åœ¨ä½ çš„ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨å®ƒçš„åŠŸèƒ½ã€‚é€™å°±æ˜¯ã€Œåªé—œå¿ƒå‰¯ä½œç”¨ã€çš„æ„æ€ã€‚ä½ ä¸éœ€è¦ç›´æ¥èˆ‡packageçš„åŠŸèƒ½äº¤äº’ï¼Œåªæ˜¯å¸Œæœ›packageåœ¨ä½ çš„ç¨‹å¼å•Ÿå‹•æ™‚åŸ·è¡ŒæŸäº›æ“ä½œï¼Œç„¶å¾Œä½ çš„ç¨‹å¼å¯ä»¥ç¹¼çºŒé‹è¡Œã€‚\nèˆ‰å€‹ä¾‹å­ï¼Œå‡è¨­ä½ æœ‰ä¸€å€‹packageï¼Œå®ƒåœ¨åˆå§‹åŒ–æ™‚è¨­ç½®äº†ä¸€å€‹å…¨å±€çš„æ—¥èªŒè¨˜éŒ„å™¨ï¼Œä½†ä½ çš„ä¸»ç¨‹å¼ä¸éœ€è¦ç›´æ¥ä½¿ç”¨é€™å€‹æ—¥èªŒè¨˜éŒ„å™¨ã€‚ä½ å¯ä»¥ä½¿ç”¨åŒ¿åpackageçš„æ–¹å¼å¼•å…¥é€™å€‹packageï¼Œé€™æ¨£å®ƒæœƒåœ¨ç¨‹å¼å•Ÿå‹•æ™‚è¨­ç½®æ—¥èªŒè¨˜éŒ„å™¨ï¼Œè€Œä½ çš„ç¨‹å¼å¯ä»¥ç¹¼çºŒåŸ·è¡Œè‡ªå·±çš„é‚è¼¯ï¼Œè€Œä¸å¿…ç›´æ¥èˆ‡æ—¥èªŒpackageäº¤äº’ã€‚\npackageçš„ç‰ˆæœ¬æ§åˆ¶ ç®¡ç†packageçš„ç‰ˆæœ¬æ˜¯éå¸¸é‡è¦çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨ go get å‘½ä»¤å®‰è£packageä¸¦æ›´æ–°ç‰ˆæœ¬ï¼š\ngo get -u your/project/path/greetings packageçš„ä½ˆç½²èˆ‡åˆ†äº« å¦‚æœä½ æƒ³åˆ†äº«ä½ çš„packageçµ¦å…¶ä»–äººï¼Œä½ å¯ä»¥å°‡packageçš„åŸå§‹ç¢¼ä¸Šå‚³è‡³ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ï¼Œå¦‚ GitHubã€‚å…¶ä»–äººå¯ä»¥é€é go get å‘½ä»¤ä¾†å®‰è£ä¸¦ä½¿ç”¨ä½ çš„packageã€‚\nå°çµ packageåœ¨ Golang ä¸­æ‰®æ¼”è‘—çµ„ç¹”ç¨‹å¼ç¢¼ã€é‡è¤‡ä½¿ç”¨ç¨‹å¼ç¢¼çš„é‡è¦è§’è‰²ã€‚é€éæœ¬æ–‡ï¼Œæˆ‘å€‘å­¸ç¿’äº†å»ºç«‹packageã€åŒ¯å…¥packageä»¥åŠä¸€äº›ä½¿ç”¨æŠ€å·§ï¼Œå¸Œæœ›èƒ½å¹«åŠ©ä½ æ›´æ·±å…¥åœ°ç†è§£ Golang çš„packageä¸–ç•Œï¼\nğŸ“šReference Packages â€” An Introduction to Programming in Go | Go Resources (golang-book.com) Managing dependencies - The Go Programming Language Go Packages (With Examples) (programiz.com) [Golang] Modules and Packages | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-package/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ å¥—ä»¶ï¼ˆPackageï¼‰åœ¨Golangä¸­æ‰®æ¼”è‘—çµ„ç¹”å’Œç®¡ç†ç¨‹å¼ç¢¼çš„é‡è¦è§’è‰²ã€‚\npackageå°±åƒå·¥å…·ç®±ä¸€æ¨£ï¼Œè£¡é¢è£æ»¿å„ç¨®ä¸åŒçš„å·¥å…·ï¼Œæ¯å€‹å·¥å…·éƒ½æœ‰ç‰¹å®šçš„åŠŸèƒ½ã€‚é€™äº›å·¥å…·èƒ½å¤ å¹«åŠ©ä½ å®Œæˆä¸åŒçš„ä»»å‹™ï¼Œå¾ä¿®ç†å®¶å…·åˆ°è“‹å°å±‹ï¼Œæ¨£æ¨£éƒ½è¡Œã€‚\nä»Šå¤©é€™ç¯‡æ–‡ç« å°‡å¿«é€Ÿç­è§£ Golang çš„packageï¼Œå­¸ç¿’å¦‚ä½•å»ºç«‹packageã€åŒ¯å…¥packageä»¥åŠä¸€äº›ä½¿ç”¨æŠ€å·§ã€‚\nä»€éº¼æ˜¯ Packageï¼Ÿ åœ¨ Golang ä¸­ï¼ŒPackage æ˜¯ä¸€ç¨®çµ„ç¹”ç¨‹å¼ç¢¼çš„æ–¹å¼ï¼Œå®ƒå°‡ç›¸é—œçš„å‡½å¼ã€è®Šæ•¸å’Œè³‡æºæ”¾åœ¨ä¸€å€‹ç›®éŒ„ä¸­ã€‚é€™ä¸åƒ…æœ‰åŠ©æ–¼ä¿æŒç¨‹å¼ç¢¼çš„æ•´æ½”ï¼Œé‚„èƒ½è®“æˆ‘å€‘æ›´å®¹æ˜“åœ°é‡è¤‡ä½¿ç”¨ç¨‹å¼ç¢¼ã€‚\nPackage åç¨±èˆ‡è³‡æ–™å¤¾åç¨±çš„ä¸€è‡´æ€§ é€šå¸¸å»ºè­°åœ¨å»ºç«‹packageæ™‚ï¼Œå°‡packageåç¨±èˆ‡æ‰€åœ¨è³‡æ–™å¤¾åç¨±ä¿æŒä¸€è‡´ï¼Œé€™æ¨£æœ‰åŠ©æ–¼æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œä¸€è‡´æ€§ã€‚Golang çš„åŒ¯å…¥æ©Ÿåˆ¶æ˜¯åŸºæ–¼packageçš„ import è·¯å¾‘ä¾†è­˜åˆ¥packageï¼Œè€Œ import è·¯å¾‘é€šå¸¸æœƒåæ˜ packageçš„è³‡æ–™å¤¾çµæ§‹ã€‚é€™ç¨®ä¸€è‡´æ€§å¯ä»¥è®“å…¶ä»–é–‹ç™¼äººå“¡æ›´å®¹æ˜“ç†è§£ä½ çš„ç¨‹å¼ç¢¼ï¼Œä¸¦ä¸”ä¸éœ€è¦é¡å¤–çš„æŸ¥æ‰¾å·¥ä½œï¼Œå› ç‚ºpackageçš„åç¨±èˆ‡è³‡æ–™å¤¾åç¨±ä¸€è‡´ã€‚\nèˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­ä½ çš„è³‡æ–™å¤¾çµæ§‹å¦‚ä¸‹ï¼š\nproject/ |-- greetings/ | |-- greetings.go | |-- main/ | |-- main.go å¦‚æœæˆ‘å€‘å»ºç«‹çš„packageåç¨±ç‚º greetingsï¼Œæˆ‘å€‘å¯ä»¥åœ¨ greetings.go ä¸­é€™æ¨£å®šç¾©ï¼š\n// greetings.go package greetings func Hello(name string) string { return \u0026#34;Hello, \u0026#34; + name } ç„¶å¾Œåœ¨ main.go ä¸­ä½¿ç”¨é€™å€‹packageï¼š\n// main.go package main import ( \u0026#34;fmt\u0026#34; \u0026#34;your/project/path/greetings\u0026#34; ) func main() { message := greetings.Hello(\u0026#34;Alan\u0026#34;) fmt.","title":"Packageï¼šGolang å°ˆæ¡ˆçš„çµ„ç¹”ç­–ç•¥"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨Goèªè¨€ä¸­ï¼ŒInterface æ˜¯ä¸€å€‹é‡è¦ä¸”å¼·å¤§çš„æ¦‚å¿µã€‚Interfaceæä¾›äº†ä¸€ç¨®æ–¹å¼ä¾†å®šç¾©å°è±¡ä¹‹é–“çš„å¥‘ç´„ï¼Œè®“ä½ å¯ä»¥è¨­è¨ˆæ›´å…·æœ‰éˆæ´»æ€§å’Œå¯æ“´å±•æ€§çš„ç¨‹å¼ç¢¼ã€‚ ä½ å¯ä»¥æŠŠInterfaceæƒ³åƒæˆæ˜¯ä¸€ç¨®ç´„å®šï¼Œè®“ä¸åŒçš„æ±è¥¿å½¼æ­¤æºé€šçš„æ–¹å¼è®Šå¾—ç‰¹åˆ¥éˆæ´»å’Œå¥½æ“´å……ï¼Œå‘Šè¨´ç¨‹å¼è£¡çš„å„å€‹å…ƒä»¶å½¼æ­¤è¦æ€éº¼åˆä½œã€‚\nä»€éº¼æ˜¯Interface åœ¨ Go èªè¨€ä¸­ï¼ŒInterfaceæ˜¯ä¸€ç¨®é—œéµçš„æ¦‚å¿µï¼Œç”¨æ–¼å®šç¾©æ–¹æ³•çš„å¥‘ç´„ï¼Œè€Œä¸é—œå¿ƒå…·é«”çš„å¯¦ç¾ã€‚å®ƒæ˜¯ä¸€ç¨®æŠ½è±¡çš„å‹åˆ¥ï¼Œæè¿°äº†ç‰©ä»¶æ‡‰è©²å…·å‚™çš„æ–¹æ³•ã€‚Interfaceåœ¨å¯¦ç¾å¤šæ…‹æ€§ã€æŠ½è±¡å’Œæ¨¡çµ„åŒ–è¨­è¨ˆç­‰æ–¹é¢æ‰®æ¼”è‘—é‡è¦è§’è‰²ã€‚\nInterfaceæ˜¯ä¸€ç¨®æŠ½è±¡çš„é¡å‹ï¼Œå®ƒå®šç¾©äº†ä¸€çµ„æ–¹æ³•ç°½åï¼ˆmethod signaturesï¼‰ï¼Œä½†ä¸åŒ…å«æ–¹æ³•çš„å¯¦éš›å¯¦ç¾ã€‚é€™äº›æ–¹æ³•ç°½åå®šç¾©äº†å°è±¡æ‡‰è©²æ”¯æ´çš„æ“ä½œï¼Œå¾è€Œå…è¨±ä¸åŒé¡å‹çš„å°è±¡å¯¦ç¾åŒä¸€å€‹Interfaceä¸¦é€²è¡Œäº¤äº’ã€‚\nä¸€è½å¯èƒ½æœ‰é»é«˜æ·±ï¼Œä½†å…¶å¯¦å®ƒå°±åƒæ˜¯ä¸€ä»½ç´„å®šï¼Œä¸ç®¡å¯¦éš›æ€éº¼åšï¼Œåªè¦èƒ½éµå¾ªé€™ä»½ç´„å®šå°±è¡Œã€‚\nå°±å¥½åƒä½ å’Œæœ‹å‹ç´„å¥½è¦å‡ºå»ç©ï¼Œä½ å€‘ç´„å®šå¥½ä¸€èµ·å‡ºé–€ã€ä¸€èµ·ç©ï¼Œä½†å…·é«”æ€éº¼ç©ï¼Œæ˜¯ä¸æ˜¯åƒç«é‹é‚„æ˜¯å»å”±æ­Œï¼Œé‚£å°±éš¨ä½ å€‘ã€‚é€™äº›ç´„å®šå°±æ˜¯ä½ å€‘çš„ã€ŒInterfaceã€ï¼Œå‘Šè¨´å¤§å®¶ã€Œæˆ‘å€‘ä¸€èµ·è¦åšé€™äº›äº‹æƒ…ï¼ã€ã€‚\nç•¶ç„¶ï¼Œé€™åœ¨ç¨‹å¼ç¢¼è£¡çš„ä½œç”¨æ›´å¤§ã€‚é€éé€™å€‹ã€ŒInterfaceã€ï¼Œä½ å¯ä»¥è®“ä¸åŒç¨®é¡çš„æ±è¥¿ï¼Œåƒæ˜¯è»Šã€ç‹—ã€é›»è…¦ï¼Œéƒ½èƒ½å¤ ç”¨ä¸€æ¨£çš„æ–¹å¼é€²è¡Œäº’å‹•ã€‚ä¸ç®¡æ˜¯è»Šã€ç‹—ã€é‚„æ˜¯é›»è…¦ï¼Œåªè¦ç¬¦åˆäº†é€™å€‹ã€ŒInterfaceã€ç´„å®šçš„æ–¹æ³•ï¼Œä½ å°±å¯ä»¥æ”¾å¿ƒåœ°æ‹¿ä¾†ç”¨äº†ã€‚\nInterfaceçš„åŸºæœ¬ä½¿ç”¨ é€éInterfaceï¼Œæˆ‘å€‘å¯ä»¥åœ¨ä¸é—œå¿ƒå…·é«”é¡å‹çš„æƒ…æ³ä¸‹ï¼Œå°å°è±¡é€²è¡Œæ“ä½œã€‚é€™ç¨®å¤šæ…‹æ€§çš„æ¦‚å¿µè®“ç¨‹å¼ç¢¼æ›´å…·å½ˆæ€§ï¼Œèƒ½å¤ é©æ‡‰ä¸åŒçš„å¯¦ç¾ã€‚\n// å®šç¾©ä¸€å€‹Interface Shapeï¼Œå®ƒå…·æœ‰ä¸€å€‹ Area æ–¹æ³• type Shape Interface { Area() float64 } // å®šç¾©ä¸€å€‹ Circle çµæ§‹é«”ï¼Œå¯¦ç¾äº† Shape Interfaceçš„ Area æ–¹æ³• type Circle struct { Radius float64 } func (c Circle) Area() float64 { return 3.14 * c.Radius * c.Radius } // å®šç¾©ä¸€å€‹ Rectangle çµæ§‹é«”ï¼Œå¯¦ç¾äº† Shape Interfaceçš„ Area æ–¹æ³• type Rectangle struct { Width, Height float64 } func (r Rectangle) Area() float64 { return r.Width * r.Height } func PrintArea(s Shape) { fmt.Println(\u0026#34;Area:\u0026#34;, s.Area()) } func main() { circle := Circle{Radius: 3} rectangle := Rectangle{Width: 4, Height: 5} PrintArea(circle) // è¼¸å‡ºï¼šArea: 28.26 PrintArea(rectangle) // è¼¸å‡ºï¼šArea: 20 } é¡å‹æ–·è¨€ï¼ˆType Assertionï¼‰ åœ¨Interfaceä¸­ï¼Œä½¿ç”¨é¡å‹æ–·è¨€å¯ä»¥å°‡Interfaceå€¼è½‰æ›ç‚ºå…·é«”å‹åˆ¥ï¼Œä»¥ä¾¿ä½¿ç”¨è©²å‹åˆ¥çš„æ–¹æ³•ã€‚\nfunc PrintSpecificArea(s Shape) { if circle, ok := s.(Circle); ok { fmt.Println(\u0026#34;Circle Area:\u0026#34;, circle.Area()) } else if rectangle, ok := s.(Rectangle); ok { fmt.Println(\u0026#34;Rectangle Area:\u0026#34;, rectangle.Area()) } } func main() { circle := Circle{Radius: 3} rectangle := Rectangle{Width: 4, Height: 5} PrintSpecificArea(circle) // è¼¸å‡ºï¼šCircle Area: 28.26 PrintSpecificArea(rectangle) // è¼¸å‡ºï¼šRectangle Area: 20 } ç©ºInterface ä»€éº¼æ˜¯ç©ºInterfaceï¼Ÿ åœ¨ Go èªè¨€ä¸­ï¼Œç©ºInterfaceæ˜¯ä¸€å€‹ä¸åŒ…å«ä»»ä½•æ–¹æ³•ç°½åçš„Interfaceï¼Œå› æ­¤å®ƒå¯ä»¥è¡¨ç¤ºä»»æ„å‹åˆ¥çš„å€¼ã€‚ç”±æ–¼ç©ºInterfaceä¸åŒ…å«æ–¹æ³•ï¼Œæ‰€ä»¥ä»»ä½•å‹åˆ¥éƒ½å¯ä»¥éš±å¼åœ°æ»¿è¶³ç©ºInterfaceã€‚é€™ç¨®ç‰¹æ€§ä½¿å¾—ç©ºInterfaceåœ¨éœ€è¦è™•ç†å¤šç¨®å‹åˆ¥çš„å ´æ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚\nç©ºInterfaceæ˜¯ä¸€å€‹ä¸åŒ…å«ä»»ä½•æ–¹æ³•çš„Interfaceï¼Œå› æ­¤å¯ä»¥ä»£è¡¨ä»»ä½•é¡å‹çš„å€¼ã€‚é€éé¡å‹æ–·è¨€ï¼Œæˆ‘å€‘å¯ä»¥å°‡ç©ºInterfaceè½‰æ›ç‚ºç‰¹å®šé¡å‹ä¸¦é€²è¡Œæ“ä½œã€‚\nç©ºInterfaceçš„å®šç¾©å’Œä½¿ç”¨ // å®šç¾©ä¸€å€‹ç©ºInterface type EmptyInterface Interface{} func main() { // ç©ºInterfaceå¯ä»¥å­˜å„²ä»»ä½•å‹åˆ¥çš„å€¼ var val1 EmptyInterface = 42 var val2 EmptyInterface = \u0026#34;Hello, Go!\u0026#34; var val3 EmptyInterface = []int{1, 2, 3} fmt.Println(val1) // è¼¸å‡ºï¼š42 fmt.Println(val2) // è¼¸å‡ºï¼šHello, Go! fmt.Println(val3) // è¼¸å‡ºï¼š[1 2 3] } ç©ºInterfaceçš„é¡å‹æ–·è¨€ ç”±æ–¼ç©ºInterfaceå¯ä»¥å­˜å„²ä»»æ„å‹åˆ¥çš„å€¼ï¼Œæˆ‘å€‘åœ¨éœ€è¦ä½¿ç”¨é€™äº›å€¼æ™‚é€šå¸¸éœ€è¦é€²è¡Œé¡å‹æ–·è¨€ã€‚\nfunc PrintTypeAndValue(val EmptyInterface) { switch v := val.(type) { case int: fmt.Println(\u0026#34;Type: int, Value:\u0026#34;, v) case string: fmt.Println(\u0026#34;Type: string, Value:\u0026#34;, v) case []int: fmt.Println(\u0026#34;Type: []int, Value:\u0026#34;, v) default: fmt.Println(\u0026#34;Unknown Type\u0026#34;) } } func main() { val1 := 42 val2 := \u0026#34;Hello, Go!\u0026#34; val3 := []int{1, 2, 3} PrintTypeAndValue(val1) // è¼¸å‡ºï¼šType: int, Value: 42 PrintTypeAndValue(val2) // è¼¸å‡ºï¼šType: string, Value: Hello, Go! PrintTypeAndValue(val3) // è¼¸å‡ºï¼šType: []int, Value: [1 2 3] } åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸€å€‹å‡½å¼ PrintTypeAndValueï¼Œä¸¦ä¸”ä½¿ç”¨äº†é¡å‹æ–·è¨€ä¾†æª¢æŸ¥ç©ºInterfaceä¸­å­˜å„²çš„å€¼çš„å¯¦éš›å‹åˆ¥ï¼Œä¸¦æ ¹æ“šä¸åŒçš„å‹åˆ¥é€²è¡Œä¸åŒçš„è™•ç†ã€‚\nInterfaceçš„å…§åµŒèˆ‡çµ„åˆ åœ¨Goä¸­ï¼Œä½ å¯ä»¥å°‡ä¸€å€‹æˆ–å¤šå€‹Interfaceå…§åµŒåœ¨å¦ä¸€å€‹Interfaceä¸­ï¼Œé€™ç¨®æ–¹å¼å¯ä»¥å¯¦ç¾æ›´å¼·å¤§çš„Interfaceçµ„åˆã€‚\ntype ReadWrite Interface { Reader Writer } type Reader Interface { Read(data []byte) (int, error) } type Writer Interface { Write(data []byte) (int, error) } å¯¦éš›æ¡ˆä¾‹åˆ†æ é€éInterfaceï¼Œæˆ‘å€‘å¯ä»¥å¯¦ç¾ä¸åŒè³‡æ–™åº«é©…å‹•ï¼Œè®“ç¨‹å¼ç¢¼èƒ½å¤ é©æ‡‰ä¸åŒçš„è³‡æ–™åº«å¼•æ“ã€‚\ntype Database Interface { Connect() Query(query string) []byte Disconnect() } type MySQL struct { // ... } func (m MySQL) Connect() { // ... } func main() { db := MySQL{} db.Connect() defer db.Disconnect() data := db.Query(\u0026#34;SELECT * FROM users\u0026#34;) fmt.Println(\u0026#34;Data:\u0026#34;, string(data)) } Interfaceçš„ç‰¹æ€§èˆ‡æ‡‰ç”¨å ´æ™¯ Interfaceçš„ç‰¹æ€§ æ–¹æ³•é›†åˆï¼š Interfaceå®šç¾©äº†ä¸€çµ„æ–¹æ³•ï¼Œæè¿°äº†ç‰©ä»¶çš„æ“ä½œã€‚ éš±å¼å¯¦ç¾ï¼š ç¬¦åˆæ–¹æ³•é›†åˆçš„å‹åˆ¥è¢«è¦–ç‚ºè©²Interfaceçš„å¯¦ç¾ã€‚ å¤šé‡å¯¦ç¾ï¼š ä¸€å€‹å‹åˆ¥å¯ä»¥å¯¦ç¾å¤šå€‹Interfaceã€‚ é¡å‹è½‰æ›ï¼š å¯ä»¥å°‡å¯¦ç¾äº†Interfaceçš„å‹åˆ¥å­˜å„²åœ¨è©²Interfaceé¡å‹çš„è®Šæ•¸ä¸­ã€‚ å‹•æ…‹åˆ†æ´¾ï¼š ä½¿ç”¨å‹•æ…‹åˆ†æ´¾å¯¦ç¾å¤šæ…‹æ€§ã€‚ ç©ºInterfaceï¼š ç©ºInterface Interface{} å¯è¡¨ç¤ºä»»æ„å‹åˆ¥çš„å€¼ã€‚ å¯åµŒå…¥çš„Interfaceï¼š Interfaceå¯åµŒå…¥åœ¨å¦ä¸€å€‹Interfaceä¸­ï¼Œå¯¦ç¾æ–¹æ³•çš„åˆä½µã€‚ Interfaceçš„æ‡‰ç”¨å ´æ™¯ å¤šæ…‹æ€§æ“ä½œï¼š Interfaceå…è¨±ä¸åŒå‹åˆ¥å¯¦ç¾ç›¸åŒæ–¹æ³•ï¼Œå¾è€Œä»¥çµ±ä¸€çš„æ–¹å¼è™•ç†å¤šç¨®å‹åˆ¥çš„è³‡æ–™ã€‚ package main import ( \u0026#34;fmt\u0026#34; ) type Shape Interface { Area() float64 } type Circle struct { Radius float64 } func (c Circle) Area() float64 { return 3.14 * c.Radius * c.Radius } type Rectangle struct { Width, Height float64 } func (r Rectangle) Area() float64 { return r.Width * r.Height } func PrintArea(s Shape) { fmt.Println(\u0026#34;Area:\u0026#34;, s.Area()) } func main() { circle := Circle{Radius: 3} rectangle := Rectangle{Width: 4, Height: 5} PrintArea(circle) // è¼¸å‡ºï¼šArea: 28.26 PrintArea(rectangle) // è¼¸å‡ºï¼šArea: 20 } æŠ½è±¡å’Œæ¨¡çµ„åŒ–è¨­è¨ˆï¼š Interfaceå¯ä»¥å®šç¾©æ¨¡çµ„é–“çš„å¥‘ç´„ï¼Œå¯¦ç¾æ¨¡çµ„åŒ–å’Œè§£è€¦åˆçš„ç¨‹å¼è¨­è¨ˆã€‚ package main import ( \u0026#34;fmt\u0026#34; ) type PaymentGateway Interface { Pay(amount float64) bool } type CreditCard struct { CardNumber string Expiration string CVV string } func (c CreditCard) Pay(amount float64) bool { fmt.Println(\u0026#34;Paying with credit card:\u0026#34;, amount) return true } type PayPal struct { Username string Password string } func (p PayPal) Pay(amount float64) bool { fmt.Println(\u0026#34;Paying with PayPal:\u0026#34;, amount) return true } func ProcessPayment(pg PaymentGateway, amount float64) { pg.Pay(amount) } func main() { creditCard := CreditCard{} payPal := PayPal{} ProcessPayment(creditCard, 100.0) // ä½¿ç”¨ä¿¡ç”¨å¡æ”¯ä»˜ ProcessPayment(payPal, 50.0) // ä½¿ç”¨ PayPal æ”¯ä»˜ } æ¸¬è©¦å’Œæ¨¡æ“¬ï¼š ä½¿ç”¨Interfaceå¯ä»¥æ›´å®¹æ˜“é€²è¡Œæ¸¬è©¦ï¼Œå› ç‚ºå¯ä»¥å‰µå»ºæ¨¡æ“¬çš„å¯¦ç¾ä¾†æ¨¡æ“¬ä¸åŒçš„æƒ…æ³ã€‚é€™æœ‰åŠ©æ–¼å–®å…ƒæ¸¬è©¦å’Œé›†æˆæ¸¬è©¦ï¼Œå¾è€Œæé«˜ä»£ç¢¼çš„è³ªé‡ã€‚ package main import ( \u0026#34;fmt\u0026#34; ) type Database Interface { Query(query string) string } type MySQL struct { // ... } func (m MySQL) Query(query string) string { return \u0026#34;MySQL: \u0026#34; + query } type MockDatabase struct { Response string } func (m MockDatabase) Query(query string) string { return m.Response } func GetData(db Database, query string) string { return db.Query(query) } func main() { mysql := MySQL{} mockDB := MockDatabase{Response: \u0026#34;Mock Data\u0026#34;} fmt.Println(GetData(mysql, \u0026#34;SELECT * FROM table\u0026#34;)) // ä½¿ç”¨ MySQL å–å¾—è³‡æ–™ fmt.Println(GetData(mockDB, \u0026#34;SELECT * FROM table\u0026#34;)) // ä½¿ç”¨æ¨¡æ“¬è³‡æ–™å–å¾—è³‡æ–™ } å¸¸è¦‹éŒ¯èª¤èˆ‡ç–‘é›£æ’è§£ Interfaceæœªå¯¦ç¾çš„éŒ¯èª¤ï¼šç¢ºä¿æ‰€æœ‰Interfaceæ–¹æ³•éƒ½åœ¨çµæ§‹ä¸­å¾—åˆ°å¯¦ç¾ã€‚ å‹åˆ¥æ–·è¨€å°è‡´çš„åŸ·è¡Œæ™‚éŒ¯èª¤ï¼šä½¿ç”¨å‹åˆ¥æ–·è¨€å‰ï¼Œæ‡‰ç¢ºä¿é¡å‹åŒ¹é…ï¼Œå¯ä»¥ä½¿ç”¨å‹åˆ¥æ–·è¨€çš„ã€Œcomma, okã€æ…£ç”¨æ³•ã€‚ è¤‡é›œInterfaceçµæ§‹å¸¶ä¾†çš„å›°é›£èˆ‡è§£æ±ºç­–ç•¥ï¼šä¿æŒInterfaceçµæ§‹çš„ç°¡å–®æ€§ï¼Œé¿å…éåº¦è¤‡é›œçš„çµ„åˆã€‚ ğŸ“šReference A Tour of Go(Interface) Go by Example: Interfaces [Golang] Interfaces | PJCHENder æœªæ•´ç†ç­†è¨˜ Golang - æ·±å…¥ç†è§£ Interface å¸¸è¦‹ç”¨æ³• | Kenny\u0026rsquo;s Blog (kennycoder.io) ","permalink":"https://sz9751210.github.io/posts/go-interface/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨Goèªè¨€ä¸­ï¼ŒInterface æ˜¯ä¸€å€‹é‡è¦ä¸”å¼·å¤§çš„æ¦‚å¿µã€‚Interfaceæä¾›äº†ä¸€ç¨®æ–¹å¼ä¾†å®šç¾©å°è±¡ä¹‹é–“çš„å¥‘ç´„ï¼Œè®“ä½ å¯ä»¥è¨­è¨ˆæ›´å…·æœ‰éˆæ´»æ€§å’Œå¯æ“´å±•æ€§çš„ç¨‹å¼ç¢¼ã€‚ ä½ å¯ä»¥æŠŠInterfaceæƒ³åƒæˆæ˜¯ä¸€ç¨®ç´„å®šï¼Œè®“ä¸åŒçš„æ±è¥¿å½¼æ­¤æºé€šçš„æ–¹å¼è®Šå¾—ç‰¹åˆ¥éˆæ´»å’Œå¥½æ“´å……ï¼Œå‘Šè¨´ç¨‹å¼è£¡çš„å„å€‹å…ƒä»¶å½¼æ­¤è¦æ€éº¼åˆä½œã€‚\nä»€éº¼æ˜¯Interface åœ¨ Go èªè¨€ä¸­ï¼ŒInterfaceæ˜¯ä¸€ç¨®é—œéµçš„æ¦‚å¿µï¼Œç”¨æ–¼å®šç¾©æ–¹æ³•çš„å¥‘ç´„ï¼Œè€Œä¸é—œå¿ƒå…·é«”çš„å¯¦ç¾ã€‚å®ƒæ˜¯ä¸€ç¨®æŠ½è±¡çš„å‹åˆ¥ï¼Œæè¿°äº†ç‰©ä»¶æ‡‰è©²å…·å‚™çš„æ–¹æ³•ã€‚Interfaceåœ¨å¯¦ç¾å¤šæ…‹æ€§ã€æŠ½è±¡å’Œæ¨¡çµ„åŒ–è¨­è¨ˆç­‰æ–¹é¢æ‰®æ¼”è‘—é‡è¦è§’è‰²ã€‚\nInterfaceæ˜¯ä¸€ç¨®æŠ½è±¡çš„é¡å‹ï¼Œå®ƒå®šç¾©äº†ä¸€çµ„æ–¹æ³•ç°½åï¼ˆmethod signaturesï¼‰ï¼Œä½†ä¸åŒ…å«æ–¹æ³•çš„å¯¦éš›å¯¦ç¾ã€‚é€™äº›æ–¹æ³•ç°½åå®šç¾©äº†å°è±¡æ‡‰è©²æ”¯æ´çš„æ“ä½œï¼Œå¾è€Œå…è¨±ä¸åŒé¡å‹çš„å°è±¡å¯¦ç¾åŒä¸€å€‹Interfaceä¸¦é€²è¡Œäº¤äº’ã€‚\nä¸€è½å¯èƒ½æœ‰é»é«˜æ·±ï¼Œä½†å…¶å¯¦å®ƒå°±åƒæ˜¯ä¸€ä»½ç´„å®šï¼Œä¸ç®¡å¯¦éš›æ€éº¼åšï¼Œåªè¦èƒ½éµå¾ªé€™ä»½ç´„å®šå°±è¡Œã€‚\nå°±å¥½åƒä½ å’Œæœ‹å‹ç´„å¥½è¦å‡ºå»ç©ï¼Œä½ å€‘ç´„å®šå¥½ä¸€èµ·å‡ºé–€ã€ä¸€èµ·ç©ï¼Œä½†å…·é«”æ€éº¼ç©ï¼Œæ˜¯ä¸æ˜¯åƒç«é‹é‚„æ˜¯å»å”±æ­Œï¼Œé‚£å°±éš¨ä½ å€‘ã€‚é€™äº›ç´„å®šå°±æ˜¯ä½ å€‘çš„ã€ŒInterfaceã€ï¼Œå‘Šè¨´å¤§å®¶ã€Œæˆ‘å€‘ä¸€èµ·è¦åšé€™äº›äº‹æƒ…ï¼ã€ã€‚\nç•¶ç„¶ï¼Œé€™åœ¨ç¨‹å¼ç¢¼è£¡çš„ä½œç”¨æ›´å¤§ã€‚é€éé€™å€‹ã€ŒInterfaceã€ï¼Œä½ å¯ä»¥è®“ä¸åŒç¨®é¡çš„æ±è¥¿ï¼Œåƒæ˜¯è»Šã€ç‹—ã€é›»è…¦ï¼Œéƒ½èƒ½å¤ ç”¨ä¸€æ¨£çš„æ–¹å¼é€²è¡Œäº’å‹•ã€‚ä¸ç®¡æ˜¯è»Šã€ç‹—ã€é‚„æ˜¯é›»è…¦ï¼Œåªè¦ç¬¦åˆäº†é€™å€‹ã€ŒInterfaceã€ç´„å®šçš„æ–¹æ³•ï¼Œä½ å°±å¯ä»¥æ”¾å¿ƒåœ°æ‹¿ä¾†ç”¨äº†ã€‚\nInterfaceçš„åŸºæœ¬ä½¿ç”¨ é€éInterfaceï¼Œæˆ‘å€‘å¯ä»¥åœ¨ä¸é—œå¿ƒå…·é«”é¡å‹çš„æƒ…æ³ä¸‹ï¼Œå°å°è±¡é€²è¡Œæ“ä½œã€‚é€™ç¨®å¤šæ…‹æ€§çš„æ¦‚å¿µè®“ç¨‹å¼ç¢¼æ›´å…·å½ˆæ€§ï¼Œèƒ½å¤ é©æ‡‰ä¸åŒçš„å¯¦ç¾ã€‚\n// å®šç¾©ä¸€å€‹Interface Shapeï¼Œå®ƒå…·æœ‰ä¸€å€‹ Area æ–¹æ³• type Shape Interface { Area() float64 } // å®šç¾©ä¸€å€‹ Circle çµæ§‹é«”ï¼Œå¯¦ç¾äº† Shape Interfaceçš„ Area æ–¹æ³• type Circle struct { Radius float64 } func (c Circle) Area() float64 { return 3.14 * c.Radius * c.Radius } // å®šç¾©ä¸€å€‹ Rectangle çµæ§‹é«”ï¼Œå¯¦ç¾äº† Shape Interfaceçš„ Area æ–¹æ³• type Rectangle struct { Width, Height float64 } func (r Rectangle) Area() float64 { return r.","title":"Interfaceï¼šGo èªè¨€ä¸­çš„æŠ½è±¡é—œéµ"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ç¨‹å¼é–‹ç™¼çš„ä¸–ç•Œä¸­ï¼Œæˆ‘å€‘ç¶“å¸¸éœ€è¦è™•ç†å„å¼å„æ¨£çš„è³‡æ–™ï¼Œå¯èƒ½æ˜¯ä¸€å€‹äººçš„å€‹äººè³‡è¨Šï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€å€‹å•†å“çš„è©³ç´°è¨Šæ¯ã€‚ç•¶æˆ‘å€‘é¢å°é€™éº¼å¤šçš„è³‡æ–™æ™‚ï¼Œå¦‚ä½•å°‡å®ƒå€‘æœ‰ç³»çµ±åœ°æ•´ç†èµ·ä¾†ï¼Œè®“æˆ‘å€‘èƒ½å¤ è¼•é¬†åœ°æ‰¾åˆ°æ‰€éœ€ï¼Œä¾¿æˆäº†ä¸€å€‹é‡è¦çš„èª²é¡Œã€‚é€™æ™‚ï¼Œçµæ§‹é«”çš„æ¦‚å¿µå°±åƒæ˜¯ä¸€é“æ›™å…‰ï¼Œç‚ºæˆ‘å€‘æä¾›äº†ä¸€å€‹éå¸¸æœ‰åŠ›çš„å·¥å…·ã€‚\nçµæ§‹é«”åŸºç¤ çµæ§‹é«”ï¼Œå°±åƒæ˜¯ä¸€å¼µè¨­è¨ˆåœ–ï¼Œè®“æˆ‘å€‘ç•«ä¸‹æˆ‘å€‘è…¦è¢‹è£¡çš„æƒ³æ³•ï¼Œå°±åƒæ˜¯ä¸€å€‹å¤šåŠŸèƒ½çš„å·¥å…·ç®±ï¼Œçµæ§‹é«”è®“æˆ‘å€‘èƒ½å¤ ä»¥çµ„ç¹”åŒ–çš„æ–¹å¼ä¾†å„²å­˜å„ç¨®è³‡æ–™ç‰‡æ®µï¼Œå°±åƒæ˜¯å°‡è³‡æ–™æ‹¼æ¹Šæˆäº†ä¸€å€‹å€‹ç¨ç‰¹çš„æ‹¼åœ–ã€‚ä»Šå¤©ï¼Œæˆ‘å€‘å°‡æ·±å…¥æ¢è¨ Golang ä¸­çµæ§‹é«”çš„ç¥å¥‡ä¹‹è™•ï¼Œä»¥åŠå¦‚ä½•é€šéçµæ§‹é«”ä¾†æ›´æœ‰æ•ˆåœ°çµ„ç¹”å’Œè™•ç†è¤‡é›œè³‡æ–™ã€‚\né¦–å…ˆï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å¦‚ä½•å®šç¾©å’Œä½¿ç”¨çµæ§‹é«”ã€‚çµæ§‹é«”æ˜¯ä¸€å€‹è‡ªå®šç¾©çš„è³‡æ–™é¡å‹ï¼Œå®ƒå…è¨±æˆ‘å€‘çµ„ç¹”ä¸åŒé¡å‹çš„è³‡æ–™åœ¨ä¸€å€‹å–®ä¸€çš„å–®ä½ä¸­ã€‚\ntype Person struct { FirstName string LastName string Age int } ä»¥ä¸€å€‹äººçš„è³‡è¨Šç‚ºä¾‹ï¼Œæˆ‘å€‘å¯ä»¥å‰µå»ºä¸€å€‹åç‚º Person çš„çµæ§‹é«”ï¼Œå…¶ä¸­åŒ…å«äº† FirstNameã€LastName å’Œ Age é€™ä¸‰å€‹åŸºæœ¬è³‡æ–™ã€‚é€™äº›è³‡æ–™å¦‚åŒè¼‰é«”ï¼Œè®“æˆ‘å€‘èƒ½å¤ æ›´æ–¹ä¾¿åœ°ä¸€æ¬¡æ€§å„²å­˜å’Œè¨ªå•å®ƒå€‘ã€‚ ç¾åœ¨ï¼Œæˆ‘å€‘å¯ä»¥å‰µå»ºä¸€å€‹ Person çš„å¯¦ä¾‹ï¼Œä¸¦è¨ªå•å…¶å­—æ®µï¼š\nfunc main() { person := Person{ FirstName: \u0026#34;John\u0026#34;, LastName: \u0026#34;Doe\u0026#34;, Age: 30, } fmt.Println(\u0026#34;First Name:\u0026#34;, person.FirstName) fmt.Println(\u0026#34;Last Name:\u0026#34;, person.LastName) fmt.Println(\u0026#34;Age:\u0026#34;, person.Age) } è¤‡é›œè³‡æ–™çš„åµŒå¥—çµ„ç¹” ä½†æœ‰æ™‚å€™ï¼Œæˆ‘å€‘é‚„éœ€è¦æ›´è¤‡é›œçš„è³‡æ–™çµæ§‹ï¼Œä¾‹å¦‚ä½å€ã€‚é€™æ™‚ï¼Œçµæ§‹é«”çš„åµŒå¥—å°±æ´¾ä¸Šç”¨å ´äº†ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ Person çµæ§‹é«”ä¸­åµŒå¥—å¦ä¸€å€‹çµæ§‹é«”ï¼Œç”¨ä¾†è¡¨ç¤ºä½å€çš„ç›¸é—œè³‡è¨Šï¼Œå¦‚ Streetã€City å’Œ Countryã€‚\ntype Address struct { Street string City string Country string } type Person struct { FirstName string LastName string Age int Address Address } ä¹Ÿå¯ä»¥ç›´æ¥å¯«åœ¨è£¡é¢\ntype Person struct { FirstName string LastName string Age int Address struct { Street string City string Country string } } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸€å€‹ Address çµæ§‹é«”ï¼Œç„¶å¾Œåœ¨ Person çµæ§‹é«”ä¸­åµŒå¥—äº†ä¸€å€‹ Addressã€‚\nfunc main() { person := Person{ FirstName: \u0026#34;Jane\u0026#34;, LastName: \u0026#34;Smith\u0026#34;, Age: 25, Address: Address{ Street: \u0026#34;123 Main St\u0026#34;, City: \u0026#34;New York\u0026#34;, Country: \u0026#34;USA\u0026#34;, }, } fmt.Println(\u0026#34;First Name:\u0026#34;, person.FirstName) fmt.Println(\u0026#34;Address:\u0026#34;, person.Address) } é€™è®“æˆ‘å€‘å¯ä»¥æ›´æœ‰çµ„ç¹”åœ°å„²å­˜å’ŒæŸ¥çœ‹è¤‡é›œçš„è³‡æ–™ã€‚\nçµæ§‹é«”æ–¹æ³•çš„å„ªé›…è™•ç† çµæ§‹é«”ä¸åƒ…åƒ…å¯ä»¥å„²å­˜è³‡æ–™ï¼Œé‚„å¯ä»¥æœ‰é—œè¯çš„æ–¹æ³•ã€‚é€™äº›æ–¹æ³•å¯ä»¥åœ¨çµæ§‹é«”ä¸ŠåŸ·è¡Œæ“ä½œï¼Œå¾è€Œå¯¦ç¾æ›´å¥½çš„ç¨‹å¼çµ„ç¹”ã€‚è®“çµæ§‹é«”ä¸åƒ…åƒ…æ˜¯ä¸€å€‹å„²å­˜æ•¸æ“šçš„å®¹å™¨ï¼Œé‚„èƒ½å¤ å…·å‚™è™•ç†æ•¸æ“šçš„èƒ½åŠ›ã€‚ ä¾‹å¦‚ï¼Œæˆ‘å€‘å¯ä»¥ç‚º Circle çµæ§‹é«”æ·»åŠ ä¸€å€‹è¨ˆç®—é¢ç©çš„æ–¹æ³• Areaï¼Œè®“è¨ˆç®—è®Šå¾—æ›´åŠ å„ªé›…å’Œé›†ä¸­ã€‚\ntype Circle struct { Radius float64 } func (c Circle) Area() float64 { return math.Pi * c.Radius * c.Radius } é€™ç¨®æ–¹å¼ï¼Œå°±å¥½åƒæ˜¯éŠæˆ²çš„æŠ€èƒ½ï¼Œè®“å®ƒå€‘èƒ½å¤ æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œè€Œä¸åƒ…åƒ…åªæ˜¯ä¸€å€‹è§’è‰²ã€‚\nfunc main() { circle := Circle{Radius: 5} fmt.Println(\u0026#34;Circle Area:\u0026#34;, circle.Area()) } é€šéçµæ§‹é«”æ–¹æ³•ï¼Œæˆ‘å€‘å¯ä»¥æ›´åŠ å„ªé›…åœ°è™•ç†è³‡æ–™æ“ä½œï¼Œè®“ç¨‹å¼ç¢¼çœ‹èµ·ä¾†æ›´åŠ æ¸…æ™°ã€‚\nç¶­è­·å¯è®€æ€§ï¼šä½¿ç”¨å‘½åçµæ§‹é«” ç‚ºäº†æé«˜ç¨‹å¼çš„å¯è®€æ€§ï¼Œæˆ‘å€‘æ‡‰è©²çµ¦çµæ§‹é«”å’Œå­—æ®µå–æœ‰æ„ç¾©çš„åç¨±ã€‚\ntype Product struct { Name string Price float64 } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸€å€‹ Product çµæ§‹é«”ï¼Œå®ƒæœ‰å…©å€‹å­—æ®µï¼šName å’Œ Priceã€‚é€™æ¨£çš„å‘½åè®“ç¨‹å¼æ›´åŠ ç›´è§€ï¼Œæˆ‘å€‘ä¸€çœ¼å°±èƒ½ç†è§£é€™å€‹çµæ§‹é«”çš„ç”¨é€”ã€‚\nå»ºç«‹å‹•æ…‹è³‡æ–™çµæ§‹ï¼šä½¿ç”¨åˆ‡ç‰‡å’Œæ˜ å°„ ç•¶æˆ‘å€‘éœ€è¦è™•ç†ä¸€çµ„ç›¸é—œçš„çµæ§‹é«”æ™‚ï¼Œå¯ä»¥ä½¿ç”¨åˆ‡ç‰‡ä¾†å‰µå»ºå‹•æ…‹çš„è³‡æ–™çµæ§‹ã€‚\ntype Task struct { ID int Title string Status string } func main() { tasks := []Task{ {ID: 1, Title: \u0026#34;Read\u0026#34;, Status: \u0026#34;Pending\u0026#34;}, {ID: 2, Title: \u0026#34;Write article\u0026#34;, Status: \u0026#34;In Progress\u0026#34;}, } for _, task := range tasks { fmt.Println(\u0026#34;Task:\u0026#34;, task.Title, \u0026#34;| Status:\u0026#34;, task.Status) } } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨åˆ‡ç‰‡å‰µå»ºäº†å¤šå€‹ Task çµæ§‹é«”çš„å¯¦ä¾‹ï¼Œä¸¦éæ­·åˆ‡ç‰‡å°å‡ºä»»å‹™çš„æ¨™é¡Œå’Œç‹€æ…‹ã€‚\né‡ç”¨æ€§èˆ‡æ¨¡çµ„åŒ–ï¼šåŒ¿åçµæ§‹é«”å’Œçµæ§‹é«”åµŒå…¥ æœ‰æ™‚å€™ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨åŒ¿åçµæ§‹é«”ä¾†å¿«é€Ÿå‰µå»ºè‡¨æ™‚çš„è³‡æ–™çµæ§‹ã€‚\nfunc main() { data := struct { Name string Value int }{ Name: \u0026#34;example\u0026#34;, Value: 42, } fmt.Println(\u0026#34;Name:\u0026#34;, data.Name, \u0026#34;| Value:\u0026#34;, data.Value) } åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘ç›´æ¥åœ¨è®Šæ•¸åˆå§‹åŒ–æ™‚å‰µå»ºäº†ä¸€å€‹åŒ¿åçµæ§‹é«”ã€‚\né€²ä¸€æ­¥ä¾†èªªï¼Œçµæ§‹é«”åµŒå…¥å¯ä»¥å¹«åŠ©æˆ‘å€‘å¯¦ç¾ç¨‹å¼çš„é‡ç”¨ã€‚é€šéå°‡ä¸€å€‹çµæ§‹é«”åµŒå…¥åˆ°å¦ä¸€å€‹çµæ§‹é«”ä¸­ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ä¸ç ´å£ç¨‹å¼çš„æƒ…æ³ä¸‹æ“´å±•åŠŸèƒ½ã€‚\nçµè«– çµæ§‹é«”æ˜¯ Golang ä¸­ä¸€å€‹éå¸¸å¼·å¤§çš„ç‰¹æ€§ï¼Œå®ƒè®“æˆ‘å€‘èƒ½å¤ æ›´åŠ æœ‰æ•ˆåœ°è™•ç†è¤‡é›œçš„æ•¸æ“šæƒ…å¢ƒã€‚ ç„¡è«–æ˜¯å–®ç´”çš„æ•¸æ“šå„²å­˜ï¼Œé‚„æ˜¯å……æ»¿äº†é‚è¼¯çš„æ•¸æ“šæ“ä½œï¼Œçµæ§‹é«”éƒ½èƒ½å¹«åŠ©æˆ‘å€‘å®Œæˆä»»å‹™ï¼Œè®“æˆ‘å€‘çš„ç¨‹å¼ç¢¼æ›´æœ‰æ¢ç†ã€æ›´æ˜“è®€ï¼ŒåŒæ™‚ä¹Ÿæ›´å…·å¯æ“´å±•æ€§ã€‚\nğŸ“šReference Go by Example: Structs A Tour of Go(struct) [Golang] ç¨‹å¼è¨­è¨ˆæ•™å­¸ï¼šä½¿ç”¨çµæ§‹ (Struct) | é–‹æºæŠ€è¡“æ•™å­¸ç¶² (opensourcedoc.com) [Golang] Struct | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-struct/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ç¨‹å¼é–‹ç™¼çš„ä¸–ç•Œä¸­ï¼Œæˆ‘å€‘ç¶“å¸¸éœ€è¦è™•ç†å„å¼å„æ¨£çš„è³‡æ–™ï¼Œå¯èƒ½æ˜¯ä¸€å€‹äººçš„å€‹äººè³‡è¨Šï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€å€‹å•†å“çš„è©³ç´°è¨Šæ¯ã€‚ç•¶æˆ‘å€‘é¢å°é€™éº¼å¤šçš„è³‡æ–™æ™‚ï¼Œå¦‚ä½•å°‡å®ƒå€‘æœ‰ç³»çµ±åœ°æ•´ç†èµ·ä¾†ï¼Œè®“æˆ‘å€‘èƒ½å¤ è¼•é¬†åœ°æ‰¾åˆ°æ‰€éœ€ï¼Œä¾¿æˆäº†ä¸€å€‹é‡è¦çš„èª²é¡Œã€‚é€™æ™‚ï¼Œçµæ§‹é«”çš„æ¦‚å¿µå°±åƒæ˜¯ä¸€é“æ›™å…‰ï¼Œç‚ºæˆ‘å€‘æä¾›äº†ä¸€å€‹éå¸¸æœ‰åŠ›çš„å·¥å…·ã€‚\nçµæ§‹é«”åŸºç¤ çµæ§‹é«”ï¼Œå°±åƒæ˜¯ä¸€å¼µè¨­è¨ˆåœ–ï¼Œè®“æˆ‘å€‘ç•«ä¸‹æˆ‘å€‘è…¦è¢‹è£¡çš„æƒ³æ³•ï¼Œå°±åƒæ˜¯ä¸€å€‹å¤šåŠŸèƒ½çš„å·¥å…·ç®±ï¼Œçµæ§‹é«”è®“æˆ‘å€‘èƒ½å¤ ä»¥çµ„ç¹”åŒ–çš„æ–¹å¼ä¾†å„²å­˜å„ç¨®è³‡æ–™ç‰‡æ®µï¼Œå°±åƒæ˜¯å°‡è³‡æ–™æ‹¼æ¹Šæˆäº†ä¸€å€‹å€‹ç¨ç‰¹çš„æ‹¼åœ–ã€‚ä»Šå¤©ï¼Œæˆ‘å€‘å°‡æ·±å…¥æ¢è¨ Golang ä¸­çµæ§‹é«”çš„ç¥å¥‡ä¹‹è™•ï¼Œä»¥åŠå¦‚ä½•é€šéçµæ§‹é«”ä¾†æ›´æœ‰æ•ˆåœ°çµ„ç¹”å’Œè™•ç†è¤‡é›œè³‡æ–™ã€‚\né¦–å…ˆï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å¦‚ä½•å®šç¾©å’Œä½¿ç”¨çµæ§‹é«”ã€‚çµæ§‹é«”æ˜¯ä¸€å€‹è‡ªå®šç¾©çš„è³‡æ–™é¡å‹ï¼Œå®ƒå…è¨±æˆ‘å€‘çµ„ç¹”ä¸åŒé¡å‹çš„è³‡æ–™åœ¨ä¸€å€‹å–®ä¸€çš„å–®ä½ä¸­ã€‚\ntype Person struct { FirstName string LastName string Age int } ä»¥ä¸€å€‹äººçš„è³‡è¨Šç‚ºä¾‹ï¼Œæˆ‘å€‘å¯ä»¥å‰µå»ºä¸€å€‹åç‚º Person çš„çµæ§‹é«”ï¼Œå…¶ä¸­åŒ…å«äº† FirstNameã€LastName å’Œ Age é€™ä¸‰å€‹åŸºæœ¬è³‡æ–™ã€‚é€™äº›è³‡æ–™å¦‚åŒè¼‰é«”ï¼Œè®“æˆ‘å€‘èƒ½å¤ æ›´æ–¹ä¾¿åœ°ä¸€æ¬¡æ€§å„²å­˜å’Œè¨ªå•å®ƒå€‘ã€‚ ç¾åœ¨ï¼Œæˆ‘å€‘å¯ä»¥å‰µå»ºä¸€å€‹ Person çš„å¯¦ä¾‹ï¼Œä¸¦è¨ªå•å…¶å­—æ®µï¼š\nfunc main() { person := Person{ FirstName: \u0026#34;John\u0026#34;, LastName: \u0026#34;Doe\u0026#34;, Age: 30, } fmt.Println(\u0026#34;First Name:\u0026#34;, person.FirstName) fmt.Println(\u0026#34;Last Name:\u0026#34;, person.LastName) fmt.Println(\u0026#34;Age:\u0026#34;, person.Age) } è¤‡é›œè³‡æ–™çš„åµŒå¥—çµ„ç¹” ä½†æœ‰æ™‚å€™ï¼Œæˆ‘å€‘é‚„éœ€è¦æ›´è¤‡é›œçš„è³‡æ–™çµæ§‹ï¼Œä¾‹å¦‚ä½å€ã€‚é€™æ™‚ï¼Œçµæ§‹é«”çš„åµŒå¥—å°±æ´¾ä¸Šç”¨å ´äº†ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ Person çµæ§‹é«”ä¸­åµŒå¥—å¦ä¸€å€‹çµæ§‹é«”ï¼Œç”¨ä¾†è¡¨ç¤ºä½å€çš„ç›¸é—œè³‡è¨Šï¼Œå¦‚ Streetã€City å’Œ Countryã€‚\ntype Address struct { Street string City string Country string } type Person struct { FirstName string LastName string Age int Address Address } ä¹Ÿå¯ä»¥ç›´æ¥å¯«åœ¨è£¡é¢","title":"æ¢ç´¢ Golang ä¸­çš„çµæ§‹é«”ï¼šå¦‚ä½•æœ‰æ•ˆåœ°çµ„ç¹”è¤‡é›œè³‡æ–™"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œå‡½æ•¸ï¼ˆFunctionï¼‰æ˜¯ä¸€å€‹å¼·å¤§ä¸”é‡è¦çš„æ¦‚å¿µï¼Œå°±åƒé£Ÿè­œä¸€æ¨£ï¼Œå‘Šè¨´ä½ æ‡‰è©²å¦‚ä½•è™•ç†é£Ÿæï¼Œæœ€å¾Œå¾—åˆ°ä¸€é“ç¾å‘³çš„æ–™ç†ã€‚ç¶“éå“ªäº›ç¨‹åºè®“ç¨‹å¼æ›´æœ‰çµ„ç¹”æ€§å’Œå¯è®€æ€§ã€‚å‡½æ•¸å¯å¹«åŠ©ä½ å°‡ç¨‹å¼ç¢¼å€å¡Šçµ„ç¹”æˆå¯é‡è¤‡ä½¿ç”¨çš„å…ƒä»¶ï¼Œé€²è€ŒåŸ·è¡Œç‰¹å®šçš„ä»»å‹™ã€‚æœ¬æ–‡è¦å¸¶ä½ ä¸€æ¢ç©¶ç«Ÿï¼Œæ·±å…¥äº†è§£ Golang è£¡çš„å‡½æ•¸æœ‰å“ªäº›ä¸åŒçš„æ–¹é¢ã€‚å¾åŸºæœ¬çš„æ¦‚å¿µé–‹å§‹ï¼Œä¸€è·¯è¬›åˆ°æ›´é«˜ç´šçš„æŠ€å·§ï¼Œæˆ‘å€‘æœƒå‘Šè¨´ä½ æ€éº¼æ¨£ç”¨å‡½æ•¸ä¾†è™•ç†å„ç¨®ä¸åŒçš„æƒ…æ³ã€‚\nå‡½æ•¸åŸºæœ¬æ¦‚å¿µ å‡½æ•¸åœ¨ Golang ä¸­æ˜¯ä¸€çµ„ç¨‹å¼èªå¥çš„çµ„åˆï¼Œç”¨æ–¼åŸ·è¡Œç‰¹å®šçš„ä»»å‹™ã€‚å®ƒå€‘æ¥å—è¼¸å…¥ï¼ˆåƒæ•¸ï¼‰ä¸¦è¿”å›è¼¸å‡ºï¼ˆè¿”å›å€¼ï¼‰ï¼Œå¾é«˜å±¤æ¬¡ä¾†çœ‹ï¼Œå°±åƒæ˜¯é»‘ç›’å­ï¼Œä½ æä¾›è¼¸å…¥ï¼Œå®ƒäº¤ä»˜çµæœã€‚åœ¨æ¯å€‹ Golang ç¨‹å¼ä¸­ï¼Œæœ€å¸¸è¦‹çš„å‡½æ•¸æ˜¯ main()ï¼Œå®ƒæ˜¯ç¨‹å¼çš„å…¥å£é»ã€‚\nå‡½æ•¸åç¨±èˆ‡å‘½åè¦å‰‡ åœ¨ Golang ä¸­ï¼Œå‡½æ•¸åç¨±çš„å‘½åè¦å‰‡å¦‚ä¸‹ï¼š\nåç¨±å¿…é ˆä»¥å­—æ¯é–‹å§‹ï¼Œå¾Œé¢å¯ä»¥æ˜¯ä»»æ„æ•¸é‡çš„å­—æ¯å’Œæ•¸å­—ã€‚ å‡½æ•¸åç¨±ä¸èƒ½ä»¥æ•¸å­—é–‹é ­ã€‚ å‡½æ•¸åç¨±ä¸èƒ½åŒ…å«ç©ºæ ¼ã€‚ å¦‚æœå‡½æ•¸åç¨±ä»¥å¤§å¯«å­—æ¯é–‹é ­ï¼Œå‰‡å¯ä»¥è¢«å…¶ä»–å¥—ä»¶å¼•ç”¨ã€‚å¦‚æœä»¥å°å¯«å­—æ¯é–‹é ­ï¼Œå‰‡ä¸èƒ½è¢«å…¶ä»–å¥—ä»¶å¼•ç”¨ï¼Œä½†å¯ä»¥åœ¨åŒä¸€å¥—ä»¶å…§éƒ¨ä½¿ç”¨ã€‚ å¦‚æœåç¨±ç”±å¤šå€‹å–®è©çµ„æˆï¼Œå¾ç¬¬äºŒå€‹å–®è©é–‹å§‹çš„æ¯å€‹å–®è©é¦–å­—æ¯æ‡‰å¤§å¯«ï¼Œä¾‹å¦‚ empNameã€EmpAddress ç­‰ã€‚ å‡½æ•¸åç¨±å€åˆ†å¤§å°å¯«ï¼Œå³ carã€Car å’Œ CAR æ˜¯ä¸‰å€‹ä¸åŒçš„è®Šæ•¸ã€‚ å‰µå»ºå‡½æ•¸ åœ¨ Golang ä¸­ï¼Œå‰µå»ºå‡½æ•¸çš„åŸºæœ¬èªæ³•å¦‚ä¸‹ï¼š\nfunc å‡½æ•¸åç¨±(åƒæ•¸1 å‹åˆ¥1, åƒæ•¸2 å‹åˆ¥2, ...) è¿”å›å‹åˆ¥ { // å‡½æ•¸ç¨‹å¼ç¢¼ return è¿”å›å€¼ } é¦–å…ˆï¼Œç”¨ func é—œéµå­—é–‹å§‹å‡½æ•¸å®£å‘Šï¼Œç„¶å¾Œæ˜¯ä½ æƒ³è¦çµ¦å‡½æ•¸çš„åç¨±ï¼Œä¸€å°æ‹¬è™Ÿ ()ï¼Œç„¶å¾Œæ˜¯ä¸€å€‹åŒ…å«å‡½æ•¸ç¨‹å¼ç¢¼çš„å€å¡Šã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œå®ƒä¸æ¥å—ä»»ä½•åƒæ•¸ï¼Œä¹Ÿä¸è¿”å›ä»»ä½•å€¼ã€‚\npackage main import \u0026#34;fmt\u0026#34; // SimpleFunction å°å‡ºä¸€å€‹è¨Šæ¯ func SimpleFunction() { fmt.Println(\u0026#34;Hello World\u0026#34;) } func main() { SimpleFunction() // å‘¼å« SimpleFunction å‡½æ•¸ } æ¥å—åƒæ•¸çš„å‡½æ•¸ å¦‚æœè¦å°‡è³‡è¨Šå‚³éçµ¦å‡½æ•¸ï¼Œå¯ä»¥é€šéåƒæ•¸ä¾†å¯¦ç¾ã€‚åƒæ•¸å°±åƒè®Šæ•¸ä¸€æ¨£ã€‚\nåœ¨å‡½æ•¸åç¨±å¾Œé¢çš„æ‹¬è™Ÿå…§æŒ‡å®šåƒæ•¸ã€‚ä½ å¯ä»¥æ·»åŠ ä»»æ„å¤šçš„åƒæ•¸ï¼Œåªéœ€ç”¨é€—è™Ÿåˆ†éš”ã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹å¸¶æœ‰å…©å€‹æ•´æ•¸åƒæ•¸çš„ç¯„ä¾‹ã€‚ç•¶å‘¼å« add() å‡½æ•¸æ™‚ï¼Œæˆ‘å€‘å‚³éäº†å…©å€‹æ•´æ•¸å€¼ï¼ˆä¾‹å¦‚ 20 å’Œ 30ï¼‰ã€‚\npackage main import \u0026#34;fmt\u0026#34; // æ¥å—åƒæ•¸çš„å‡½æ•¸ func add(x int, y int) { total := 0 total = x + y fmt.Println(total) } func main() { // å‚³éåƒæ•¸ add(20, 30) } åœ¨ Golang ä¸­ï¼Œå‡½æ•¸åç¨±é¦–å­—æ¯å¤§å¯«çš„è©±ï¼Œå¯ä»¥è¢«å…¶ä»–å¥—ä»¶å¼•ç”¨ï¼ˆexportï¼‰ä½¿ç”¨ã€‚å¦‚æœå‡½æ•¸åç¨±é¦–å­—æ¯å°å¯«ï¼Œå‰‡ä¸èƒ½è¢«å…¶ä»–å¥—ä»¶å¼•ç”¨ï¼Œä½†åœ¨åŒä¸€å¥—ä»¶å…§éƒ¨å¯ä»¥å‘¼å«è©²å‡½æ•¸ã€‚\nè¿”å›å€¼çš„å‡½æ•¸ å¦‚æœè¦åœ¨å‡½æ•¸ä¸­è¿”å›å€¼ï¼Œå¯ä»¥åœ¨å‡½æ•¸ä¸­æŒ‡å®šè¿”å›é¡å‹ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹è¨ˆç®—å…©å€‹æ•´æ•¸ä¹‹å’Œä¸¦è¿”å›çµæœçš„ç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; // å‡½æ•¸è¿”å› int å‹åˆ¥çš„å€¼ func add(x int, y int) int { total := x + y return total } func main() { // æ¥æ”¶è¿”å›å€¼ä¸¦å­˜å…¥è®Šæ•¸ sum := add(20, 30) fmt.Println(sum) } å‘½åè¿”å›å€¼çš„å‡½æ•¸ åœ¨ Golang ä¸­ï¼Œå‡½æ•¸çš„è¿”å›å€¼å¯ä»¥å‘½åã€‚é€™æ„å‘³è‘—ä½ å¯ä»¥åœ¨å‡½æ•¸ä¸­æŒ‡å®šè¿”å›å€¼çš„åç¨±ï¼Œä¸¦åœ¨å‡½æ•¸å…§éƒ¨ç›´æ¥ä½¿ç”¨é€™äº›åç¨±ã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹è¨ˆç®—çŸ©å½¢é¢ç©å’Œå‘¨é•·çš„ç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; func rectangle(l int, b int) (area int) { parameter := 2 * (l + b) fmt.Println(\u0026#34;å‘¨é•·ï¼š\u0026#34;, parameter) area = l * b return// çœç•¥è¿”å›å€¼è®Šæ•¸ï¼Œä½¿ç”¨å‘½åçš„è¿”å› } func main() { fmt.Println(\u0026#34;é¢ç©ï¼š\u0026#34;, rectangle(20, 30)) } è¿”å›å¤šå€‹å€¼çš„å‡½æ•¸ å‡½æ•¸é‚„å¯ä»¥è¿”å›å¤šå€‹å€¼ï¼Œé€™åœ¨è™•ç†å¤šå€‹ç›¸é—œçš„å€¼æ™‚éå¸¸æ–¹ä¾¿ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹è¿”å›çŸ©å½¢é¢ç©å’Œå‘¨é•·çš„ç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; // rectangle æ˜¯ä¸€å€‹è¨ˆç®—çŸ©å½¢é¢ç©å’Œå‘¨é•·çš„å‡½æ•¸ï¼Œè¿”å›å…©å€‹å€¼ func rectangle(length int, breadth int) (area int, perimeter int) { perimeter = 2 * (length + breadth) area = length * breadth return // çœç•¥è¿”å›å€¼è®Šæ•¸ï¼Œä½¿ç”¨å‘½åçš„è¿”å› } func main() { a, p := rectangle(10, 5) // å‘¼å« rectangle å‡½æ•¸ä¸¦æ¥æ”¶è¿”å›å€¼ fmt.Println(\u0026#34;é¢ç©ï¼š\u0026#34;, a) fmt.Println(\u0026#34;å‘¨é•·ï¼š\u0026#34;, p) } å°‡ä½å€å‚³éçµ¦å‡½æ•¸é€²è¡Œå€¼æ›´æ–° åœ¨ Golang ä¸­ï¼Œä½ é‚„å¯ä»¥å°‡è®Šæ•¸çš„ä½å€å‚³éçµ¦å‡½æ•¸ï¼Œä¸¦ä¸”åœ¨å‡½æ•¸å…§éƒ¨é€éè§£å¼•ç”¨çš„æ–¹å¼ä¾†ä¿®æ”¹è®Šæ•¸çš„å€¼ã€‚ä»¥ä¸‹ç¯„ä¾‹å°‡å±•ç¤ºé€™ç¨®é€šéä½å€æ›´æ–°è®Šæ•¸å€¼çš„æƒ…å¢ƒï¼š\npackage main import \u0026#34;fmt\u0026#34; func update(a *int, t *string) { *a = *a + 5 // é€éè§£å¼•ç”¨ä½å€ä¿®æ”¹è®Šæ•¸å€¼ *t = *t + \u0026#34; Doe\u0026#34; // é€éè§£å¼•ç”¨ä½å€ä¿®æ”¹è®Šæ•¸å€¼ return } func main() { var age = 20 var text = \u0026#34;John\u0026#34; fmt.Println(\u0026#34;ä¿®æ”¹å‰ï¼š\u0026#34;, text, age) update(\u0026amp;age, \u0026amp;text) fmt.Println(\u0026#34;ä¿®æ”¹å¾Œï¼š\u0026#34;, text, age) } åŒ¿åå‡½æ•¸ï¼šæ›´éˆæ´»çš„è™•ç† åœ¨ Golang ä¸­ï¼Œé‚„å¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•¸ã€‚åŒ¿åå‡½æ•¸æ˜¯ä¸€ç¨®ç„¡éœ€å‘½åè­˜åˆ¥ç¬¦å³å¯å®£å‘Šçš„å‡½æ•¸ã€‚åŒ¿åå‡½æ•¸å¯ä»¥æ¥å—è¼¸å…¥ä¸¦è¿”å›è¼¸å‡ºï¼Œå°±åƒæ™®é€šå‡½æ•¸ä¸€æ¨£ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹å°‡å‡½æ•¸æŒ‡æ´¾çµ¦è®Šæ•¸ä¸¦ä½¿ç”¨åŒ¿åå‡½æ•¸ï¼š\npackage main import \u0026#34;fmt\u0026#34; var ( area = func(l int, b int) int { return l * b } ) func main() { fmt.Println(area(20, 30)) } ä½ é‚„å¯ä»¥å°‡åƒæ•¸å‚³éçµ¦åŒ¿åå‡½æ•¸ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { func(l int, b int) { fmt.Println(l * b) }(20, 30) } åŒ¿åå‡½æ•¸ä¹Ÿå¯ä»¥æ¥å—åƒæ•¸ä¸¦è¿”å›å€¼ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { fmt.Printf( \u0026#34;100 (Â°F) = %.2f (Â°C)\\n\u0026#34;, func(f float64) float64 { return (f - 32.0) * (5.0 / 9.0) }(100), ) } é–‰åŒ…ï¼šæ•ç²å¤–éƒ¨è®Šæ•¸ åœ¨ Golang ä¸­ï¼Œé–‰åŒ…æ˜¯åŒ¿åå‡½æ•¸çš„ä¸€ç¨®ç‰¹æ®Šæƒ…å½¢ã€‚é–‰åŒ…æ˜¯å¯ä»¥å­˜å–åœ¨å‡½æ•¸å¤–éƒ¨å®šç¾©çš„è®Šæ•¸çš„åŒ¿åå‡½æ•¸ã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹ä½¿ç”¨é–‰åŒ…çš„ç¯„ä¾‹ï¼Œå…¶ä¸­åŒ¿åå‡½æ•¸å¯ä»¥è¨ªå•åœ¨å‡½æ•¸å¤–éƒ¨å®šç¾©çš„è®Šæ•¸ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { l := 20 b := 30 func() { var area int area = l * b fmt.Println(area) }() } å¦ä¸€å€‹ç¯„ä¾‹æ˜¯ï¼Œåœ¨å‡½æ•¸å…§çš„è¿´åœˆè¿­ä»£éç¨‹ä¸­ï¼ŒåŒ¿åå‡½æ•¸å¯ä»¥è¨ªå•è®Šæ•¸çš„å€¼ï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { for i := 10.0; i \u0026lt; 100; i += 10.0 { rad := func() float64 { return i * 39.370 }() fmt.Printf(\u0026#34;%.2f å…¬å°º = %.2f è‹±å‹\\n\u0026#34;, i, rad) } } é«˜éšå‡½æ•¸ï¼šå‡½æ•¸ä½œç‚ºåƒæ•¸å’Œè¿”å›å€¼ åœ¨ Golang ä¸­ï¼Œå‡½æ•¸å¯ä»¥ä½œç‚ºåƒæ•¸å‚³éçµ¦å…¶ä»–å‡½æ•¸ï¼Œä¹Ÿå¯ä»¥ä½œç‚ºå‡½æ•¸çš„è¿”å›å€¼ã€‚é€™ç¨®åŠŸèƒ½ç¨±ç‚ºé«˜éšå‡½æ•¸ï¼ˆHigher-Order Functionsï¼‰ï¼Œèƒ½å¤ æä¾›æ›´éˆæ´»ä¸”æ¨¡çµ„åŒ–çš„ç¨‹å¼è¨­è¨ˆæ–¹å¼ã€‚ä»¥ä¸‹ç¯„ä¾‹æ¼”ç¤ºå¦‚ä½•å‰µå»ºä¸€å€‹é«˜éšå‡½æ•¸ï¼Œå°‡ä¸€å€‹å‡½æ•¸å¥—ç”¨åˆ°åˆ‡ç‰‡çš„æ¯å€‹å…ƒç´ ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) // mapString å°‡ f å‡½æ•¸å¥—ç”¨åˆ°æ¯å€‹å­—ä¸²å…ƒç´ ä¸¦è¿”å›æ–°çš„åˆ‡ç‰‡ func mapString(arr []string, f func(string) string) []string { result := make([]string, len(arr)) for i, v := range arr { result[i] = f(v) } return result } func main() { words := []string{\u0026#34;apple\u0026#34;, \u0026#34;banana\u0026#34;, \u0026#34;cherry\u0026#34;} toUpper := func(s string) string { return strings.ToUpper(s) } upperWords := mapString(words, toUpper) fmt.Println(upperWords) // è¼¸å‡ºï¼š[APPLE BANANA CHERRY] } å‡½æ•¸ä½œç‚ºåƒæ•¸å‚³éçµ¦å…¶ä»–å‡½æ•¸ ä»¥ä¸‹æ˜¯ä¸€å€‹å°‡å‡½æ•¸ä½œç‚ºåƒæ•¸å‚³éçµ¦é«˜éšå‡½æ•¸çš„ç¯„ä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; func sum(x, y int) int { return x + y } func partialSum(x int) func(int) int { return func(y int) int { return sum(x, y) } } func main() { partial := partialSum(3) fmt.Println(partial(7)) } å°‡å‡½æ•¸ä½œç‚ºçµæœè¿”å›çš„é«˜éšå‡½æ•¸ ä½ é‚„å¯ä»¥å°‡å‡½æ•¸ä½œç‚ºçµæœè¿”å›ï¼Œé€™è¢«ç¨±ç‚ºè¿”å›å‡½æ•¸çš„é«˜éšå‡½æ•¸ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ç¯„ä¾‹ï¼Œè©²ç¯„ä¾‹è¿”å›ä¸€å€‹å‡½æ•¸ï¼Œè©²å‡½æ•¸åœ¨å…¶å…§éƒ¨ä½¿ç”¨åµŒå¥—çš„åŒ¿åå‡½æ•¸ï¼š\npackage main import \u0026#34;fmt\u0026#34; func squareSum(x int) func(int) func(int) int { return func(y int) func(int) int { return func(z int) int { return x*x + y*y + z*z } } } func main() { resultFunc := squareSum(5) // è¿”å›ä¸€å€‹å‡½æ•¸ subResultFunc := resultFunc(6) // è¿”å›ä¸€å€‹åµŒå¥—å‡½æ•¸ finalResult := subResultFunc(7) // å‘¼å«æœ€å…§å±¤çš„å‡½æ•¸ç²å–çµæœ fmt.Println(finalResult) // å°å‡ºæœ€çµ‚è¨ˆç®—çµæœ fmt.Println(squareSum(5)(6)(7)) } è‡ªå®šç¾©å‡½æ•¸é¡å‹ åœ¨ Golang ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ type é—œéµå­—å®šç¾©è‡ªå·±çš„å‡½æ•¸é¡å‹ã€‚é€™å°±åƒæ˜¯ç‚ºå‡½æ•¸å‰µå»ºäº†ä¸€å€‹åˆ¥åï¼Œä½¿å¾—è©²å‡½æ•¸é¡å‹èƒ½å¤ è¢«ç”¨ä½œè®Šæ•¸çš„å‹åˆ¥ã€‚è‡ªå®šç¾©å‡½æ•¸é¡å‹èƒ½å¤ è®“ä½ æ›´å¥½åœ°çµ„ç¹”ç¨‹å¼ç¢¼ï¼Œä»¥åŠåœ¨ç‰¹å®šæƒ…å¢ƒä¸‹ä½¿ä»£ç¢¼æ›´å…·è¡¨é”æ€§ã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹ä½¿ç”¨è‡ªå®šç¾©å‡½æ•¸é¡å‹çš„ç¯„ä¾‹ï¼Œæˆ‘å€‘å°‡å‰µå»ºä¸€å€‹å‡½æ•¸é¡å‹ Firstï¼Œä¸¦é€²ä¸€æ­¥ä½¿ç”¨ Second å‡½æ•¸é¡å‹ã€‚é€™äº›è‡ªå®šç¾©çš„å‡½æ•¸é¡å‹å¯ä»¥ç”¨æ–¼å‰µå»ºä¸€å€‹åŸ·è¡Œç‰¹å®šè¨ˆç®—çš„å‡½æ•¸ï¼š\npackage main import \u0026#34;fmt\u0026#34; // å®šç¾© First å‡½æ•¸é¡å‹ type First func(int) int // å®šç¾© Second å‡½æ•¸é¡å‹ type Second func(int) First // squareSum è¿”å›ä¸€å€‹ Second å‡½æ•¸ func squareSum(x int) Second { return func(y int) First { return func(z int) int { return x*x + y*y + z*z } } } func main() { // ä½¿ç”¨è‡ªå®šç¾©å‡½æ•¸é¡å‹çš„ç¯„ä¾‹ result := squareSum(5)(6)(7) fmt.Println(\u0026#34;è¨ˆç®—çµæœï¼š\u0026#34;, result) // è¼¸å‡ºï¼š110 } å‡½æ•¸çš„ç‰¹æ€§ã€é™åˆ¶èˆ‡ä½¿ç”¨å ´æ™¯ å‡½æ•¸æ˜¯ç¨‹å¼è¨­è¨ˆä¸­çš„é‡è¦çµ„æˆéƒ¨åˆ†ï¼Œå®ƒå€‘èƒ½å¤ å°‡ç¨‹å¼ç¢¼æ¨¡çµ„åŒ–ã€é‡è¤‡ä½¿ç”¨ï¼Œä½¿ç¨‹å¼æ›´å…·å¯è®€æ€§å’Œå¯ç¶­è­·æ€§ã€‚ç„¶è€Œï¼Œå‡½æ•¸ä¹Ÿæœ‰å…¶ç‰¹æ€§ã€é™åˆ¶ä»¥åŠé©ç”¨çš„ä½¿ç”¨å ´æ™¯ï¼Œè®“æˆ‘å€‘ä¾†ä¸€èµ·æ·±å…¥äº†è§£ã€‚\nå‡½æ•¸çš„ç‰¹æ€§ æ¨¡çµ„åŒ–ï¼š å‡½æ•¸èƒ½å¤ å°‡ç¨‹å¼ç¢¼åˆ†æˆå°çš„æ¨¡çµ„ï¼Œä½¿å¾—ç¨‹å¼é‚è¼¯æ›´åŠ æ¸…æ™°ï¼Œä¹Ÿæ›´å®¹æ˜“é€²è¡Œæ¸¬è©¦å’Œä¿®æ”¹ã€‚\né‡è¤‡ä½¿ç”¨ï¼š å®šç¾©ä¸€æ¬¡å‡½æ•¸å¾Œï¼Œä½ å¯ä»¥åœ¨ç¨‹å¼ä¸­å¤šæ¬¡èª¿ç”¨å®ƒï¼Œé¿å…äº†é‡è¤‡ç·¨å¯«ç›¸åŒçš„ç¨‹å¼ç¢¼ã€‚\nåƒæ•¸å’Œè¿”å›å€¼ï¼š å‡½æ•¸å¯ä»¥æ¥å—åƒæ•¸ï¼Œé€™äº›åƒæ•¸æä¾›äº†åŸ·è¡Œå‡½æ•¸æ‰€éœ€çš„è³‡è¨Šã€‚åŒæ™‚ï¼Œå‡½æ•¸å¯ä»¥è¿”å›å€¼ï¼Œä½¿å¾—çµæœèƒ½å¤ è¢«å…¶ä»–ç¨‹å¼ç¢¼ä½¿ç”¨ã€‚\nå°è£ï¼š å‡½æ•¸èƒ½å¤ å°è£å¯¦ç¾ç´°ç¯€ï¼Œéš±è—ç¨‹å¼ç¢¼çš„è¤‡é›œæ€§ï¼Œä½¿å¾—å¤–éƒ¨ä½¿ç”¨è€…åªéœ€é—œå¿ƒå‡½æ•¸çš„åŠŸèƒ½ã€‚\néè¿´ï¼š å‡½æ•¸å¯ä»¥å‘¼å«è‡ªå·±ï¼Œé€™ç¨®ç¨±ç‚ºéè¿´çš„ç‰¹æ€§åœ¨è™•ç†æŸäº›å•é¡Œæ™‚éå¸¸æœ‰ç”¨ã€‚\nå‡½æ•¸çš„é™åˆ¶ å¯è®€æ€§ï¼š éå¤šçš„å‡½æ•¸èª¿ç”¨å¯èƒ½å°è‡´ç¨‹å¼é›£ä»¥é–±è®€å’Œç†è§£ï¼Œå› æ­¤éœ€è¦é©ç•¶çš„æ‹†åˆ†å’Œå‘½åå‡½æ•¸ã€‚\næ•ˆèƒ½è€ƒæ…®ï¼š éæ–¼é »ç¹çš„å‡½æ•¸èª¿ç”¨å¯èƒ½æœƒå½±éŸ¿ç¨‹å¼çš„æ•ˆèƒ½ï¼Œå› ç‚ºæ¯æ¬¡å‡½æ•¸å‘¼å«éƒ½æœƒæœ‰ä¸€å®šçš„é–‹éŠ·ã€‚\nè¨˜æ†¶é«”ä½¿ç”¨ï¼š å‡½æ•¸çš„å‘¼å«éœ€è¦ä¿ç•™å †ç–Šå¸§ç­‰ç›¸é—œè³‡è¨Šï¼Œé€™å¯èƒ½æœƒä½”ç”¨ä¸€äº›è¨˜æ†¶é«”ç©ºé–“ã€‚\nå¯è®Šæ€§ï¼š åœ¨æŸäº›ç¨‹å¼èªè¨€ä¸­ï¼Œå‡½æ•¸å¯èƒ½æœƒæ›´æ”¹å…¶å¤–éƒ¨ç¯„ç–‡çš„è®Šæ•¸ï¼Œé€™å¯èƒ½å°è‡´ç¨‹å¼é›£ä»¥ç†è§£å’Œèª¿è©¦ã€‚\nå‡½æ•¸çš„ä½¿ç”¨å ´æ™¯ ç¨‹å¼æ¨¡çµ„åŒ–ï¼š å°‡ç›¸é—œçš„ç¨‹å¼ç¢¼å°è£ç‚ºå‡½æ•¸ï¼Œå¯ä»¥ä½¿ç¨‹å¼æ›´å…·çµæ§‹ï¼Œæ›´å®¹æ˜“ç¶­è­·ã€‚\nä»£ç¢¼é‡ç”¨ï¼š å¦‚æœä½ åœ¨å¤šå€‹åœ°æ–¹éœ€è¦åŸ·è¡Œç›¸åŒæˆ–é¡ä¼¼çš„æ“ä½œï¼Œå¯ä»¥å°‡é€™äº›æ“ä½œå°è£æˆå‡½æ•¸ï¼Œæ–¹ä¾¿é‡è¤‡ä½¿ç”¨ã€‚\næŠ½è±¡åŒ–ï¼š å‡½æ•¸å¯ä»¥å°‡è¤‡é›œçš„å¯¦ç¾ç´°ç¯€éš±è—èµ·ä¾†ï¼Œåªæš´éœ²å¿…è¦çš„ä»‹é¢ï¼Œä½¿å¤–éƒ¨ç¨‹å¼ç¢¼æ›´æ˜“æ–¼ç†è§£ã€‚\néè¿´å•é¡Œï¼š æŸäº›å•é¡Œçš„è§£æ±ºæ–¹æ¡ˆé©åˆä½¿ç”¨éè¿´ï¼Œä¾‹å¦‚æ•¸å­¸ä¸­çš„éè¿´å®šç¾©å’Œåˆ†æ²»ç®—æ³•ã€‚\näº‹ä»¶è™•ç†ï¼š åœ¨äº‹ä»¶é©…å‹•çš„ç¨‹å¼ä¸­ï¼Œå‡½æ•¸å¯ä»¥ç”¨æ–¼è™•ç†ä¸åŒçš„äº‹ä»¶é¡å‹ï¼Œä½¿ç¨‹å¼å…·æœ‰å½ˆæ€§ã€‚\nè³‡æ–™è½‰æ›ï¼š å‡½æ•¸å¯ä»¥ç”¨æ–¼å°‡ä¸€ç¨®è³‡æ–™é¡å‹è½‰æ›ç‚ºå¦ä¸€ç¨®ï¼Œä¾‹å¦‚æ—¥æœŸæ ¼å¼è½‰æ›ã€å–®ä½è½‰æ›ç­‰ã€‚\nè™•ç†æ¥­å‹™é‚è¼¯ï¼š åœ¨è»Ÿé«”æ‡‰ç”¨ä¸­ï¼Œå‡½æ•¸å¯ä»¥ç”¨æ–¼å¯¦ç¾æ¥­å‹™é‚è¼¯ï¼Œå¦‚è™•ç†è¨‚å–®ã€ç”¨æˆ¶é©—è­‰ç­‰ã€‚\næ¼”ç®—æ³•å¯¦ç¾ï¼š å‡½æ•¸æ˜¯å¯¦ç¾æ¼”ç®—æ³•çš„åŸºæœ¬å…ƒç´ ï¼Œèƒ½å¤ å°‡è¤‡é›œçš„æ¼”ç®—æ³•åˆ†è§£æˆå¯ç®¡ç†çš„éƒ¨åˆ†ã€‚\nå‡½æ•¸çš„å¸¸è¦‹ç”¨æ³• 1. è¨ˆç®—æ•¸å€¼çš„å¹³æ–¹å’Œ package main import \u0026#34;fmt\u0026#34; func squareSum(numbers ...int) int { sum := 0 for _, num := range numbers { sum += num * num } return sum } func main() { result := squareSum(2, 3, 4) fmt.Println(\u0026#34;å¹³æ–¹å’Œ:\u0026#34;, result) } 2. æ‰¾å‡ºåˆ‡ç‰‡ä¸­çš„æœ€å¤§å€¼ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;math\u0026#34; ) func findMax(numbers ...float64) float64 { max := math.Inf(-1) for _, num := range numbers { if num \u0026gt; max { max = num } } return max } func main() { result := findMax(2.3, 5.7, 1.2, 9.8) fmt.Println(\u0026#34;æœ€å¤§å€¼:\u0026#34;, result) } 3. æª¢æŸ¥å­—ä¸²æ˜¯å¦ç‚ºå›æ–‡ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func isPalindrome(s string) bool { s = strings.ToLower(s) for i := 0; i \u0026lt; len(s)/2; i++ { if s[i] != s[len(s)-1-i] { return false } } return true } func main() { result := isPalindrome(\u0026#34;racecar\u0026#34;) fmt.Println(\u0026#34;æ˜¯å¦ç‚ºå›æ–‡:\u0026#34;, result) } 4. è¨ˆç®— Fibonacci æ•¸åˆ— package main import \u0026#34;fmt\u0026#34; func fibonacci(n int) int { if n \u0026lt;= 0 { return 0 } else if n == 1 { return 1 } return fibonacci(n-1) + fibonacci(n-2) } func main() { result := fibonacci(6) fmt.Println(\u0026#34;ç¬¬ 6 å€‹ Fibonacci æ•¸:\u0026#34;, result) } 5. åˆ¤æ–·æ˜¯å¦ç‚ºè³ªæ•¸ package main import \u0026#34;fmt\u0026#34; func isPrime(n int) bool { if n \u0026lt;= 1 { return false } for i := 2; i*i \u0026lt;= n; i++ { if n%i == 0 { return false } } return true } func main() { result := isPrime(17) fmt.Println(\u0026#34;17 æ˜¯å¦ç‚ºè³ªæ•¸:\u0026#34;, result) } å°çµ å‡½æ•¸æ˜¯ Golang ç¨‹å¼è¨­è¨ˆçš„åŸºçŸ³ä¹‹ä¸€ï¼Œè®“ä½ èƒ½å¤ çµ„ç¹”ç¨‹å¼ç¢¼ã€æé«˜é‡ç”¨æ€§ï¼Œä¸¦ä»¥æ›´æ¨¡çµ„åŒ–çš„æ–¹å¼è™•ç†ä¸åŒæƒ…å¢ƒçš„éœ€æ±‚ã€‚ç„¡è«–æ˜¯å‰µå»ºç°¡å–®çš„å‡½æ•¸ã€ä½¿ç”¨é–‰åŒ…æ•ç²è®Šæ•¸ï¼Œé‚„æ˜¯é‹ç”¨é«˜éšå‡½æ•¸é€²è¡Œæ¨¡çµ„åŒ–è¨­è¨ˆï¼Œå‡½æ•¸éƒ½åœ¨ Golang ä¸­æ‰®æ¼”è‘—é—œéµè§’è‰²ã€‚\nğŸ“šReference A Tour of Go - Function types The Go Programming Language Specification - Function types ","permalink":"https://sz9751210.github.io/posts/go-func/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œå‡½æ•¸ï¼ˆFunctionï¼‰æ˜¯ä¸€å€‹å¼·å¤§ä¸”é‡è¦çš„æ¦‚å¿µï¼Œå°±åƒé£Ÿè­œä¸€æ¨£ï¼Œå‘Šè¨´ä½ æ‡‰è©²å¦‚ä½•è™•ç†é£Ÿæï¼Œæœ€å¾Œå¾—åˆ°ä¸€é“ç¾å‘³çš„æ–™ç†ã€‚ç¶“éå“ªäº›ç¨‹åºè®“ç¨‹å¼æ›´æœ‰çµ„ç¹”æ€§å’Œå¯è®€æ€§ã€‚å‡½æ•¸å¯å¹«åŠ©ä½ å°‡ç¨‹å¼ç¢¼å€å¡Šçµ„ç¹”æˆå¯é‡è¤‡ä½¿ç”¨çš„å…ƒä»¶ï¼Œé€²è€ŒåŸ·è¡Œç‰¹å®šçš„ä»»å‹™ã€‚æœ¬æ–‡è¦å¸¶ä½ ä¸€æ¢ç©¶ç«Ÿï¼Œæ·±å…¥äº†è§£ Golang è£¡çš„å‡½æ•¸æœ‰å“ªäº›ä¸åŒçš„æ–¹é¢ã€‚å¾åŸºæœ¬çš„æ¦‚å¿µé–‹å§‹ï¼Œä¸€è·¯è¬›åˆ°æ›´é«˜ç´šçš„æŠ€å·§ï¼Œæˆ‘å€‘æœƒå‘Šè¨´ä½ æ€éº¼æ¨£ç”¨å‡½æ•¸ä¾†è™•ç†å„ç¨®ä¸åŒçš„æƒ…æ³ã€‚\nå‡½æ•¸åŸºæœ¬æ¦‚å¿µ å‡½æ•¸åœ¨ Golang ä¸­æ˜¯ä¸€çµ„ç¨‹å¼èªå¥çš„çµ„åˆï¼Œç”¨æ–¼åŸ·è¡Œç‰¹å®šçš„ä»»å‹™ã€‚å®ƒå€‘æ¥å—è¼¸å…¥ï¼ˆåƒæ•¸ï¼‰ä¸¦è¿”å›è¼¸å‡ºï¼ˆè¿”å›å€¼ï¼‰ï¼Œå¾é«˜å±¤æ¬¡ä¾†çœ‹ï¼Œå°±åƒæ˜¯é»‘ç›’å­ï¼Œä½ æä¾›è¼¸å…¥ï¼Œå®ƒäº¤ä»˜çµæœã€‚åœ¨æ¯å€‹ Golang ç¨‹å¼ä¸­ï¼Œæœ€å¸¸è¦‹çš„å‡½æ•¸æ˜¯ main()ï¼Œå®ƒæ˜¯ç¨‹å¼çš„å…¥å£é»ã€‚\nå‡½æ•¸åç¨±èˆ‡å‘½åè¦å‰‡ åœ¨ Golang ä¸­ï¼Œå‡½æ•¸åç¨±çš„å‘½åè¦å‰‡å¦‚ä¸‹ï¼š\nåç¨±å¿…é ˆä»¥å­—æ¯é–‹å§‹ï¼Œå¾Œé¢å¯ä»¥æ˜¯ä»»æ„æ•¸é‡çš„å­—æ¯å’Œæ•¸å­—ã€‚ å‡½æ•¸åç¨±ä¸èƒ½ä»¥æ•¸å­—é–‹é ­ã€‚ å‡½æ•¸åç¨±ä¸èƒ½åŒ…å«ç©ºæ ¼ã€‚ å¦‚æœå‡½æ•¸åç¨±ä»¥å¤§å¯«å­—æ¯é–‹é ­ï¼Œå‰‡å¯ä»¥è¢«å…¶ä»–å¥—ä»¶å¼•ç”¨ã€‚å¦‚æœä»¥å°å¯«å­—æ¯é–‹é ­ï¼Œå‰‡ä¸èƒ½è¢«å…¶ä»–å¥—ä»¶å¼•ç”¨ï¼Œä½†å¯ä»¥åœ¨åŒä¸€å¥—ä»¶å…§éƒ¨ä½¿ç”¨ã€‚ å¦‚æœåç¨±ç”±å¤šå€‹å–®è©çµ„æˆï¼Œå¾ç¬¬äºŒå€‹å–®è©é–‹å§‹çš„æ¯å€‹å–®è©é¦–å­—æ¯æ‡‰å¤§å¯«ï¼Œä¾‹å¦‚ empNameã€EmpAddress ç­‰ã€‚ å‡½æ•¸åç¨±å€åˆ†å¤§å°å¯«ï¼Œå³ carã€Car å’Œ CAR æ˜¯ä¸‰å€‹ä¸åŒçš„è®Šæ•¸ã€‚ å‰µå»ºå‡½æ•¸ åœ¨ Golang ä¸­ï¼Œå‰µå»ºå‡½æ•¸çš„åŸºæœ¬èªæ³•å¦‚ä¸‹ï¼š\nfunc å‡½æ•¸åç¨±(åƒæ•¸1 å‹åˆ¥1, åƒæ•¸2 å‹åˆ¥2, ...) è¿”å›å‹åˆ¥ { // å‡½æ•¸ç¨‹å¼ç¢¼ return è¿”å›å€¼ } é¦–å…ˆï¼Œç”¨ func é—œéµå­—é–‹å§‹å‡½æ•¸å®£å‘Šï¼Œç„¶å¾Œæ˜¯ä½ æƒ³è¦çµ¦å‡½æ•¸çš„åç¨±ï¼Œä¸€å°æ‹¬è™Ÿ ()ï¼Œç„¶å¾Œæ˜¯ä¸€å€‹åŒ…å«å‡½æ•¸ç¨‹å¼ç¢¼çš„å€å¡Šã€‚\nä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œå®ƒä¸æ¥å—ä»»ä½•åƒæ•¸ï¼Œä¹Ÿä¸è¿”å›ä»»ä½•å€¼ã€‚\npackage main import \u0026#34;fmt\u0026#34; // SimpleFunction å°å‡ºä¸€å€‹è¨Šæ¯ func SimpleFunction() { fmt.Println(\u0026#34;Hello World\u0026#34;) } func main() { SimpleFunction() // å‘¼å« SimpleFunction å‡½æ•¸ } æ¥å—åƒæ•¸çš„å‡½æ•¸ å¦‚æœè¦å°‡è³‡è¨Šå‚³éçµ¦å‡½æ•¸ï¼Œå¯ä»¥é€šéåƒæ•¸ä¾†å¯¦ç¾ã€‚åƒæ•¸å°±åƒè®Šæ•¸ä¸€æ¨£ã€‚","title":"ğŸš€ Golang å‡½æ•¸ï¼šå¾å…¥é–€åˆ°ç²¾é€š"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œæœ‰è‘—ä¸€å€‹å¼·å¤§åˆä¾¿æ·çš„å·¥å…·ï¼Œå¯ä»¥è®“ä½ ä»¥éµ-å€¼ï¼ˆKey-Valueï¼‰çš„å½¢å¼å„²å­˜å’ŒæŸ¥è©¢è³‡æ–™ï¼Œå®ƒå°±æ˜¯ã€ŒMapã€ã€‚Map åœ¨ Go èªè¨€ä¸­æ‰®æ¼”äº†é‡è¦çš„è§’è‰²ï¼Œç°¡åŒ–äº†è¨±å¤šè³‡æ–™è™•ç†çš„ä»»å‹™ï¼Œç¾åœ¨è®“æˆ‘å€‘ä¸€èµ·ä¾†æ·±å…¥äº†è§£é€™å€‹æœ‰è¶£çš„è³‡æ–™å‹åˆ¥ã€‚\nMapçš„åŸºæœ¬æ¦‚å¿µ Map æ˜¯ Go èªè¨€ä¸­çš„ä¸€ç¨®å…§å»ºè³‡æ–™å‹åˆ¥ï¼Œç”¨ä¾†å­˜å„²éµå€¼å°ã€‚ç°¡å–®ä¾†èªªï¼Œä½ å¯ä»¥å°‡ Map æƒ³åƒæˆä¸€å€‹ç„¡åºçš„é›†åˆï¼Œæ¯å€‹å…ƒç´ éƒ½æœ‰ä¸€å€‹å”¯ä¸€çš„éµå’Œç›¸æ‡‰çš„å€¼ã€‚é€™è®“ä½ å¯ä»¥æ ¹æ“šéµä¾†å¿«é€ŸæŸ¥è©¢å’Œå­˜å–å°æ‡‰çš„å€¼ï¼Œå°±åƒæ˜¯å­—å…¸ä¸€æ¨£ã€‚\nå®£å‘Šå’Œåˆå§‹åŒ– Map åœ¨ Go ä¸­ï¼Œå®£å‘Š Map å¯ä½¿ç”¨ä»¥ä¸‹èªæ³•ï¼š\nm1 := make(map[string]int) // å‰µå»ºä¸€å€‹å„²å­˜å­—ä¸²ç‚ºéµï¼Œæ•´æ•¸ç‚ºå€¼çš„ Map m2 := map[int]string{1: \u0026#34;A\u0026#34;, 2: \u0026#34;B\u0026#34;} // å‰µå»ºä¸€å€‹åŒ…å«éµå€¼å°çš„æ˜ å°„ var m3 map[string]int // å‰µå»ºä¸€å€‹éµç‚ºå­—ä¸²ã€å€¼ç‚ºæ•´æ•¸çš„ç©ºæ˜ å°„ è€Œå®£å‘Šæ™‚é †ä¾¿åˆå§‹åŒ–å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š\nmyMap := map[string]int{ \u0026#34;apple\u0026#34;: 3, \u0026#34;banana\u0026#34;: 5, } var myMap map[string]int myMap = map[string]int{ \u0026#34;apple\u0026#34;: 3, \u0026#34;banana\u0026#34;: 5, } Mapçš„åŸºæœ¬æ“ä½œ Map çš„æ“ä½œéå¸¸ç°¡å–®ç›´è§€ã€‚ä½ å¯ä»¥ä½¿ç”¨éµä¾†å­˜å–å°æ‡‰çš„å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨éµä¾†æ–°å¢ã€ä¿®æ”¹æˆ–åˆªé™¤å…ƒç´ ã€‚\næ–°å¢æˆ–ä¿®æ”¹å…ƒç´  myMap[\u0026#34;apple\u0026#34;] = 3 // æ–°å¢ä¸€å€‹å…ƒç´ ï¼Œéµæ˜¯ \u0026#34;apple\u0026#34;ï¼Œå€¼æ˜¯ 3 myMap[\u0026#34;banana\u0026#34;] = 5 // æ–°å¢ä¸€å€‹å…ƒç´ ï¼Œéµæ˜¯ \u0026#34;banana\u0026#34;ï¼Œå€¼æ˜¯ 5 myMap[\u0026#34;apple\u0026#34;] = 10 // ä¿®æ”¹éµç‚º \u0026#34;apple\u0026#34; çš„å…ƒç´ çš„å€¼ç‚º 10 æŸ¥è©¢å…ƒç´  value := myMap[\u0026#34;banana\u0026#34;] // æ ¹æ“šéµ \u0026#34;banana\u0026#34; æŸ¥è©¢å°æ‡‰çš„å€¼ åˆªé™¤å…ƒç´  delete(myMap, \u0026#34;apple\u0026#34;) // åˆªé™¤éµç‚º \u0026#34;apple\u0026#34; çš„å…ƒç´  éæ­· Map è¦éæ­·ä¸€å€‹ Map ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œé€šå¸¸æœƒä½¿ç”¨ for range è¿´åœˆï¼š\nfor key, value := range myMap { fmt.Println(\u0026#34;Key:\u0026#34;, key, \u0026#34;Value:\u0026#34;, value) } Map çš„ç‰¹æ€§ã€é™åˆ¶èˆ‡ä½¿ç”¨å ´æ™¯ Map çš„ç‰¹æ€§èˆ‡é™åˆ¶ é›–ç„¶ Map æ˜¯æ¥µå…¶æ–¹ä¾¿çš„è³‡æ–™çµæ§‹ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š\nç„¡åºæ€§ï¼š Map ä¸­çš„å…ƒç´ æ˜¯ç„¡åºçš„ï¼Œä¸åƒé™£åˆ—æˆ–åˆ‡ç‰‡é‚£æ¨£æœ‰æ˜ç¢ºçš„é †åºã€‚ éµçš„å”¯ä¸€æ€§ï¼š æ¯å€‹éµåœ¨ Map ä¸­åªèƒ½å‡ºç¾ä¸€æ¬¡ï¼Œé€™ç¢ºä¿äº†æ¯å€‹éµéƒ½å°æ‡‰å”¯ä¸€çš„å€¼ã€‚ é›¶å€¼è¿”å›ï¼š è‹¥æŸ¥è©¢ä¸å­˜åœ¨çš„éµï¼Œæœƒè¿”å›å€¼å‹åˆ¥çš„é›¶å€¼ï¼Œä¾‹å¦‚æ•´æ•¸å‹åˆ¥è¿”å› 0ï¼Œå­—ä¸²å‹åˆ¥è¿”å›ç©ºå­—ä¸²ã€‚ å…§å­˜æ¶ˆè€—ï¼š Map æ˜¯å¼•ç”¨å‹åˆ¥ï¼Œå­˜å„²çš„æ˜¯æŒ‡å‘å¯¦éš›æ•¸æ“šçš„æŒ‡é‡ï¼Œé€™å¯èƒ½å°è‡´å…§å­˜æ¶ˆè€—å¢åŠ ã€‚ ä¸¦ç™¼å®‰å…¨ï¼š Map åœ¨å¤šåŸ·è¡Œç·’ç’°å¢ƒä¸‹éœ€è¦ç‰¹æ®Šè™•ç†ï¼Œå¯ä»¥ä½¿ç”¨ sync åŒ…ä¸­çš„ç›¸é—œå‡½å¼é€²è¡Œå®‰å…¨æ“ä½œã€‚ Map çš„ä½¿ç”¨å ´æ™¯ Map åœ¨å¾ˆå¤šå ´æ™¯ä¸­éƒ½éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼š\nå­—å…¸ï¼š æƒ³åƒä¸€ä¸‹ä½ æœ‰ä¸€æœ¬å­—å…¸ï¼Œä½ æŸ¥æ‰¾ä¸€å€‹å–®è©æ™‚ï¼Œä½ æœƒæ‰¾åˆ°å®ƒçš„è§£é‡‹ã€‚åœ¨ç¨‹å¼è£¡ï¼Œä½ å¯ä»¥ç”¨ Map ä¾†å»ºç«‹é€™ç¨®é—œè¯ï¼Œæ¯å€‹å–®è©å°æ‡‰åˆ°å®ƒçš„è§£é‡‹ã€‚\nè¨ˆæ•¸å™¨ï¼š å¦‚æœä½ æƒ³çŸ¥é“ä¸€æ®µæ–‡å­—ä¸­æ¯å€‹å–®è©å‡ºç¾çš„æ¬¡æ•¸ï¼Œä½ å¯ä»¥ä½¿ç”¨ Mapã€‚ä½ å¾æ–‡å­—ä¸­æŠ“å–æ¯å€‹å–®è©ï¼Œç„¶å¾Œåœ¨ Map ä¸­è¨˜éŒ„å®ƒå‡ºç¾çš„æ¬¡æ•¸ã€‚\nå¿«é€ŸæŸ¥è©¢ï¼š æƒ³åƒä½ æœ‰ä¸€å¼µè¡¨æ ¼ï¼Œè£¡é¢å¯«è‘—æ¯å€‹ç”¨æˆ¶çš„å§“åå’Œä»–å€‘çš„è¯ç¹«æ–¹å¼ã€‚ä½ æƒ³é€šéå§“åä¾†æ‰¾åˆ°è¯ç¹«æ–¹å¼ï¼Œé€™å°±åƒåœ¨ç¨‹å¼ä¸­ä½¿ç”¨ Mapï¼Œé€éç”¨æˆ¶åæ‰¾åˆ°ç›¸å°æ‡‰çš„è³‡è¨Šã€‚\nç´€éŒ„ç‹€æ…‹ï¼š èˆ‰å€‹ä¾‹å­ï¼Œä½ åœ¨ä¸€å€‹éŠæˆ²ä¸­ï¼Œæƒ³è¦è¨˜éŒ„æ¯å€‹ç©å®¶çš„ç”Ÿå‘½å€¼ã€‚ä½ å¯ä»¥ä½¿ç”¨ Map ä¾†å°‡æ¯å€‹ç©å®¶çš„åå­—å°æ‡‰åˆ°ä»–å€‘çš„ç”Ÿå‘½å€¼ã€‚\næš«å­˜è³‡æ–™ï¼š æƒ³åƒä½ åšäº†ä¸€å€‹è¤‡é›œçš„è¨ˆç®—ï¼Œä½†ä½ ä¸æƒ³æ¯æ¬¡éƒ½é‡æ–°è¨ˆç®—ã€‚ä½ å¯ä»¥ä½¿ç”¨ Map æŠŠè¨ˆç®—çµæœå„²å­˜åœ¨è£¡é¢ï¼Œä»¥å¾Œéœ€è¦æ™‚ç›´æ¥å–å‡ºã€‚\nè¨­å®šç®¡ç†ï¼š å¦‚æœä½ çš„ç¨‹å¼éœ€è¦ä¸€äº›è¨­å®šï¼Œåƒæ˜¯éŠæˆ²çš„é›£åº¦æˆ–ç¶²ç«™çš„å¤–è§€ï¼Œä½ å¯ä»¥ä½¿ç”¨ Map å„²å­˜é€™äº›è¨­å®šï¼Œæ–¹ä¾¿ç®¡ç†å’Œèª¿æ•´ã€‚\né—œè¯æ•¸æ“šï¼š æƒ³åƒä½ æœ‰ä¸€å€‹æ‡‰ç”¨ç¨‹å¼ï¼Œéœ€è¦å„²å­˜æ¯ä½ç”¨æˆ¶çš„å€‹äººè³‡æ–™ã€‚ä½¿ç”¨ Map å¯ä»¥å°‡æ¯å€‹ç”¨æˆ¶çš„IDå°æ‡‰åˆ°ä»–å€‘çš„è³‡æ–™ï¼Œå°±åƒæ˜¯åœ¨è™›æ“¬çš„è¡¨æ ¼ä¸­ã€‚\näº‹ä»¶ç®¡ç†ï¼š å¦‚æœä½ æœ‰å¾ˆå¤šä¸åŒçš„äº‹ä»¶ï¼Œæ¯å€‹äº‹ä»¶éƒ½éœ€è¦ä¸åŒçš„è™•ç†æ–¹å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ Map æŠŠäº‹ä»¶é¡å‹èˆ‡å°æ‡‰çš„è™•ç†æ–¹æ³•é—œè¯èµ·ä¾†ã€‚\nè§’è‰²æ¬Šé™ï¼š åœ¨ä¸€å€‹æ‡‰ç”¨ç¨‹å¼ä¸­ï¼Œä¸åŒçš„ç”¨æˆ¶å¯èƒ½æœ‰ä¸åŒçš„æ¬Šé™ã€‚ä½ å¯ä»¥ä½¿ç”¨ Map æŠŠæ¯å€‹ç”¨æˆ¶çš„è§’è‰²å°æ‡‰åˆ°ä»–å€‘çš„æ¬Šé™ï¼Œä»¥ä¾¿é€²è¡Œè¨ªå•æ§åˆ¶ã€‚\nå¸¸è¦‹ç”¨æ³• å­—å…¸å»ºç«‹ï¼š å‰µå»ºä¸€å€‹å­—å…¸ï¼Œå°‡å–®å­—å°æ‡‰åˆ°å®ƒå€‘çš„è§£é‡‹ã€‚ package main import \u0026#34;fmt\u0026#34; func main() { dictionary := map[string]string{ \u0026#34;apple\u0026#34;: \u0026#34;a fruit\u0026#34;, \u0026#34;banana\u0026#34;: \u0026#34;a yellow fruit\u0026#34;, \u0026#34;cherry\u0026#34;: \u0026#34;a red fruit\u0026#34;, } fmt.Println(dictionary[\u0026#34;apple\u0026#34;]) fmt.Println(dictionary[\u0026#34;banana\u0026#34;]) fmt.Println(dictionary[\u0026#34;cherry\u0026#34;]) } è¨ˆæ•¸å™¨ï¼š çµ±è¨ˆæ–‡å­—ä¸­æ¯å€‹å–®å­—çš„å‡ºç¾æ¬¡æ•¸ã€‚ package main import ( \u0026#34;fmt\u0026#34; \u0026#34;strings\u0026#34; ) func main() { text := \u0026#34;apple banana apple cherry banana apple\u0026#34; words := strings.Fields(text) wordCount := make(map[string]int) for _, word := range words { wordCount[word]++ } fmt.Println(wordCount) } å¿«é€ŸæŸ¥è©¢ï¼š å„²å­˜ç”¨æˆ¶åå°æ‡‰çš„ç”¨æˆ¶è³‡è¨Šã€‚ package main import \u0026#34;fmt\u0026#34; func main() { userMap := map[string]string{ \u0026#34;alice\u0026#34;: \u0026#34;Alice Johnson\u0026#34;, \u0026#34;bob\u0026#34;: \u0026#34;Bob Smith\u0026#34;, \u0026#34;charlie\u0026#34;: \u0026#34;Charlie Brown\u0026#34;, } fmt.Println(userMap[\u0026#34;alice\u0026#34;]) fmt.Println(userMap[\u0026#34;bob\u0026#34;]) } ç‹€æ…‹å­˜å„²ï¼š å„²å­˜ç©å®¶åå­—å’Œå°æ‡‰çš„ç”Ÿå‘½å€¼ã€‚ package main import \u0026#34;fmt\u0026#34; func main() { playerStatus := map[string]int{ \u0026#34;alice\u0026#34;: 100, \u0026#34;bob\u0026#34;: 75, \u0026#34;charlie\u0026#34;: 90, } fmt.Println(playerStatus[\u0026#34;alice\u0026#34;]) fmt.Println(playerStatus[\u0026#34;bob\u0026#34;]) } å°çµ Map æ˜¯ä¸€ç¨®è®“ä½ èƒ½å¤ ä»¥éµ-å€¼å°çš„æ–¹å¼ä¾†çµ„ç¹”å’Œå­˜å„²è³‡æ–™çš„æ–¹å¼ï¼Œå®ƒåœ¨ Go èªè¨€ä¸­æ‰®æ¼”è‘—é‡è¦çš„è§’è‰²ã€‚è¨˜ä½ Map çš„åŸºæœ¬æ¦‚å¿µã€æ“ä½œæ–¹æ³•å’Œé™åˆ¶ï¼Œé€™å°‡æœ‰åŠ©æ–¼ä½ åœ¨å¯«ç¨‹å¼æ™‚é¸æ“‡é©åˆçš„è³‡æ–™çµæ§‹ã€‚\nğŸ“šReference Effective Go - The Go Programming Language [Golang] maps | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-map/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œæœ‰è‘—ä¸€å€‹å¼·å¤§åˆä¾¿æ·çš„å·¥å…·ï¼Œå¯ä»¥è®“ä½ ä»¥éµ-å€¼ï¼ˆKey-Valueï¼‰çš„å½¢å¼å„²å­˜å’ŒæŸ¥è©¢è³‡æ–™ï¼Œå®ƒå°±æ˜¯ã€ŒMapã€ã€‚Map åœ¨ Go èªè¨€ä¸­æ‰®æ¼”äº†é‡è¦çš„è§’è‰²ï¼Œç°¡åŒ–äº†è¨±å¤šè³‡æ–™è™•ç†çš„ä»»å‹™ï¼Œç¾åœ¨è®“æˆ‘å€‘ä¸€èµ·ä¾†æ·±å…¥äº†è§£é€™å€‹æœ‰è¶£çš„è³‡æ–™å‹åˆ¥ã€‚\nMapçš„åŸºæœ¬æ¦‚å¿µ Map æ˜¯ Go èªè¨€ä¸­çš„ä¸€ç¨®å…§å»ºè³‡æ–™å‹åˆ¥ï¼Œç”¨ä¾†å­˜å„²éµå€¼å°ã€‚ç°¡å–®ä¾†èªªï¼Œä½ å¯ä»¥å°‡ Map æƒ³åƒæˆä¸€å€‹ç„¡åºçš„é›†åˆï¼Œæ¯å€‹å…ƒç´ éƒ½æœ‰ä¸€å€‹å”¯ä¸€çš„éµå’Œç›¸æ‡‰çš„å€¼ã€‚é€™è®“ä½ å¯ä»¥æ ¹æ“šéµä¾†å¿«é€ŸæŸ¥è©¢å’Œå­˜å–å°æ‡‰çš„å€¼ï¼Œå°±åƒæ˜¯å­—å…¸ä¸€æ¨£ã€‚\nå®£å‘Šå’Œåˆå§‹åŒ– Map åœ¨ Go ä¸­ï¼Œå®£å‘Š Map å¯ä½¿ç”¨ä»¥ä¸‹èªæ³•ï¼š\nm1 := make(map[string]int) // å‰µå»ºä¸€å€‹å„²å­˜å­—ä¸²ç‚ºéµï¼Œæ•´æ•¸ç‚ºå€¼çš„ Map m2 := map[int]string{1: \u0026#34;A\u0026#34;, 2: \u0026#34;B\u0026#34;} // å‰µå»ºä¸€å€‹åŒ…å«éµå€¼å°çš„æ˜ å°„ var m3 map[string]int // å‰µå»ºä¸€å€‹éµç‚ºå­—ä¸²ã€å€¼ç‚ºæ•´æ•¸çš„ç©ºæ˜ å°„ è€Œå®£å‘Šæ™‚é †ä¾¿åˆå§‹åŒ–å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š\nmyMap := map[string]int{ \u0026#34;apple\u0026#34;: 3, \u0026#34;banana\u0026#34;: 5, } var myMap map[string]int myMap = map[string]int{ \u0026#34;apple\u0026#34;: 3, \u0026#34;banana\u0026#34;: 5, } Mapçš„åŸºæœ¬æ“ä½œ Map çš„æ“ä½œéå¸¸ç°¡å–®ç›´è§€ã€‚ä½ å¯ä»¥ä½¿ç”¨éµä¾†å­˜å–å°æ‡‰çš„å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨éµä¾†æ–°å¢ã€ä¿®æ”¹æˆ–åˆªé™¤å…ƒç´ ã€‚\næ–°å¢æˆ–ä¿®æ”¹å…ƒç´  myMap[\u0026#34;apple\u0026#34;] = 3 // æ–°å¢ä¸€å€‹å…ƒç´ ï¼Œéµæ˜¯ \u0026#34;apple\u0026#34;ï¼Œå€¼æ˜¯ 3 myMap[\u0026#34;banana\u0026#34;] = 5 // æ–°å¢ä¸€å€‹å…ƒç´ ï¼Œéµæ˜¯ \u0026#34;banana\u0026#34;ï¼Œå€¼æ˜¯ 5 myMap[\u0026#34;apple\u0026#34;] = 10 // ä¿®æ”¹éµç‚º \u0026#34;apple\u0026#34; çš„å…ƒç´ çš„å€¼ç‚º 10 æŸ¥è©¢å…ƒç´  value := myMap[\u0026#34;banana\u0026#34;] // æ ¹æ“šéµ \u0026#34;banana\u0026#34; æŸ¥è©¢å°æ‡‰çš„å€¼ åˆªé™¤å…ƒç´  delete(myMap, \u0026#34;apple\u0026#34;) // åˆªé™¤éµç‚º \u0026#34;apple\u0026#34; çš„å…ƒç´  éæ­· Map è¦éæ­·ä¸€å€‹ Map ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œé€šå¸¸æœƒä½¿ç”¨ for range è¿´åœˆï¼š","title":"æ·ºè«‡ Go èªè¨€ä¸­çš„ Map - å¿«é€ŸæŸ¥è©¢èˆ‡ç‹€æ…‹å„²å­˜çš„åˆ©å™¨"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œåˆ‡ç‰‡ï¼ˆSliceï¼‰æ˜¯ä¸€ç¨®å‹•æ…‹åºåˆ—çš„è³‡æ–™çµæ§‹ï¼Œèƒ½å¤ æ–¹ä¾¿åœ°å­˜å„²å’Œæ“ä½œå¤šå€‹ç›¸åŒé¡å‹çš„å…ƒç´ ã€‚åˆ‡ç‰‡ç›¸æ¯”æ–¼é™£åˆ—ï¼Œæ›´å…·æœ‰å½ˆæ€§ï¼Œå› ç‚ºå®ƒçš„å¤§å°æ˜¯å¯è®Šçš„ï¼Œå¯ä»¥æ ¹æ“šéœ€è¦å‹•æ…‹å¢é•·æˆ–ç¸®å°ã€‚åˆ‡ç‰‡åœ¨è™•ç†é›†åˆå‹è³‡æ–™æ™‚éå¸¸å¯¦ç”¨ï¼Œè®“ä½ èƒ½å¤ è¼•é¬†åœ°æ–°å¢ã€åˆªé™¤ã€ä¿®æ”¹å’Œæ“ä½œå…ƒç´ ï¼ŒåŒæ™‚é¿å…äº†å›ºå®šå¤§å°çš„é™åˆ¶ã€‚\nåˆ‡ç‰‡çš„åŸºæœ¬æ¦‚å¿µ åˆ‡ç‰‡æ˜¯ç”±ä¸€å€‹æŒ‡å‘é™£åˆ—çš„æŒ‡é‡ã€åˆ‡ç‰‡é•·åº¦å’Œåˆ‡ç‰‡å®¹é‡çµ„æˆçš„ã€‚åˆ‡ç‰‡çš„é•·åº¦æŒ‡çš„æ˜¯åˆ‡ç‰‡ä¸­å¯¦éš›åŒ…å«çš„å…ƒç´ å€‹æ•¸ï¼Œè€Œåˆ‡ç‰‡çš„å®¹é‡å‰‡æ˜¯å¾åˆ‡ç‰‡é–‹å§‹çš„åº•å±¤é™£åˆ—ä¸­èƒ½å¤ è¨ªå•çš„å…ƒç´ å€‹æ•¸ã€‚åˆ‡ç‰‡çš„å®¹é‡å¯ä»¥å¤§æ–¼æˆ–ç­‰æ–¼åˆ‡ç‰‡çš„é•·åº¦ã€‚\nå®£å‘Šå’Œåˆå§‹åŒ–åˆ‡ç‰‡ åœ¨ Go ä¸­ï¼Œå®£å‘Šå’Œåˆå§‹åŒ–åˆ‡ç‰‡å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„èªæ³•ï¼š\nvar slice1 []int // å‰µå»ºä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼Œå¤§å°å’Œå®¹é‡éƒ½æ˜¯ 0 slice2 := []string{\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;, \u0026#34;C\u0026#34;} // å‰µå»ºä¸€å€‹åŒ…å«ä¸‰å€‹å­—ä¸²å…ƒç´ çš„åˆ‡ç‰‡ slice3 := make([]int, 5) // å‰µå»ºä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼Œå¤§å°ç‚º 5ï¼Œå®¹é‡ä¹Ÿç‚º 5 slice4 := make([]int, 3, 5) // å‰µå»ºä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼Œå¤§å°ç‚º 3ï¼Œå®¹é‡ç‚º 5 åˆ‡ç‰‡çš„åŸºæœ¬æ“ä½œ æ–°å¢å…ƒç´ åˆ°åˆ‡ç‰‡ Goèªè¨€ä¸­æœ‰å€‹å…§ä»¶å‡½å¼append()ï¼Œå¯ä»¥ç”¨ä¾†æ–°å¢å…ƒç´ åˆ°åˆ‡ç‰‡ä¸­ï¼Œé€™ä½¿å¾—åˆ‡ç‰‡èƒ½å¤ æ ¹æ“šéœ€æ±‚å‹•æ…‹å¢é•·ã€‚\nnumbers := []int{10, 20, 30} numbers = append(numbers, 40, 50) // æ–°å¢å…©å€‹å…ƒç´ åˆ°åˆ‡ç‰‡ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåˆ‡ç‰‡çš„å®¹é‡ä¸è¶³ä»¥å®¹ç´æ–°å¢çš„å…ƒç´ ï¼Œappend() å‡½å¼æœƒå‰µå»ºä¸€å€‹æ–°çš„åˆ‡ç‰‡ï¼Œä¸¦å°‡èˆŠçš„å…ƒç´ å’Œæ–°çš„å…ƒç´ ä¸€åŒè¤‡è£½åˆ°æ–°çš„åˆ‡ç‰‡ä¸­ã€‚\næŸ¥è©¢å’Œä¿®æ”¹åˆ‡ç‰‡å…ƒç´  åˆ‡ç‰‡çš„å…ƒç´ å¯ä»¥é€šéç´¢å¼•ä¾†å­˜å–ï¼Œç´¢å¼•å¾ 0 é–‹å§‹è¨ˆæ•¸ã€‚\nnumbers := []int{10, 20, 30, 40, 50} firstNumber := numbers[0] // å­˜å–ç¬¬ä¸€å€‹å…ƒç´ ï¼Œå€¼ç‚º 10 secondNumber := numbers[1] // å­˜å–ç¬¬äºŒå€‹å…ƒç´ ï¼Œå€¼ç‚º 20 numbers[2] = 35 // ä¿®æ”¹åˆ‡ç‰‡ä¸­çš„å…ƒç´ ï¼Œå°‡ç¬¬ä¸‰å€‹å…ƒç´ æ”¹ç‚º 35 åˆ‡å‰²å’Œéæ­·åˆ‡ç‰‡ å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡çš„åˆ‡å‰²æ“ä½œä¾†ç²å–éƒ¨åˆ†åˆ‡ç‰‡ï¼Œé€™å¯ä»¥é€šéæŒ‡å®šåˆ‡ç‰‡çš„èµ·å§‹ç´¢å¼•å’ŒçµæŸç´¢å¼•ä¾†å¯¦ç¾ï¼š\nnumbers := []int{10, 20, 30, 40, 50} subSlice := numbers[1:4] // å¾ç¬¬äºŒå€‹å…ƒç´ åˆ°ç¬¬å››å€‹å…ƒç´ çš„å­åˆ‡ç‰‡ï¼Œå€¼ç‚º [20 30 40] [:]ï¼šä½¿ç”¨ [:] èªæ³•å¯ä»¥ç²å¾—å®Œæ•´çš„åˆ‡ç‰‡ï¼Œå³åŒ…å«æ‰€æœ‰å…ƒç´ çš„åˆ‡ç‰‡ã€‚ [x:]ï¼šé€™ç¨®èªæ³•è¡¨ç¤ºå¾ç´¢å¼• x é–‹å§‹ï¼Œæå–æ‰€æœ‰ç›´åˆ°åˆ‡ç‰‡çµå°¾çš„å…ƒç´ ã€‚ [:x]ï¼šé€™ç¨®èªæ³•è¡¨ç¤ºæå–å¾é–‹é ­åˆ°ç´¢å¼• x-1 çš„å…ƒç´ ï¼Œä¸åŒ…å«ç´¢å¼• x çš„å…ƒç´ ã€‚ åˆ‡ç‰‡çš„éæ­·å¯ä»¥ä½¿ç”¨å‚³çµ±çš„ç´¢å¼•æ–¹å¼ï¼Œæˆ–è€…ä½¿ç”¨ range ä¾†ç°¡åŒ–éæ­·éç¨‹ã€‚\nnumbers := []int{10, 20, 30, 40, 50} // ä½¿ç”¨å‚³çµ±çš„ç´¢å¼•æ–¹å¼éæ­·åˆ‡ç‰‡ for i := 0; i \u0026lt; len(numbers); i++ { fmt.Println(numbers[i]) } // ä½¿ç”¨ range éæ­·åˆ‡ç‰‡ for index, value := range numbers { fmt.Printf(\u0026#34;ç´¢å¼•ï¼š%dï¼Œå€¼ï¼š%d\\n\u0026#34;, index, value) } for i := range numbers { fmt.Println(numbers[i]) } åˆªé™¤åˆ‡ç‰‡å…ƒç´  é›–ç„¶åˆ‡ç‰‡æ²’æœ‰å…§å»ºçš„åˆªé™¤æ–¹æ³•ï¼Œä¸éå¯ä»¥ä½¿ç”¨åˆ‡ç‰‡çš„åˆ‡å‰²æ“ä½œï¼Œå°‡ä¸éœ€è¦çš„å…ƒç´ æ’é™¤åœ¨å¤–ã€‚\nslice := []int{10, 20, 30, 40, 50} indexToDelete := 2 slice = append(slice[:indexToDelete], slice[indexToDelete+1:]...) // åˆªé™¤ç´¢å¼• 2 çš„å…ƒç´  åˆ‡ç‰‡çš„å®¹é‡ åˆ‡ç‰‡çš„å®¹é‡å°±æ˜¯æŒ‡ï¼Œä½ å¾åˆ‡ç‰‡é–‹å§‹çš„ä½ç½®èƒ½å¤ å¾€å¾Œè¨ªå•åˆ°çš„å…ƒç´ æ•¸é‡ã€‚ç•¶ä½ åœ¨åˆ‡ç‰‡ä¸Šé€²è¡Œæ–°å¢å…ƒç´ çš„æ“ä½œæ™‚ï¼Œå¦‚æœæ–°åŠ é€²ä¾†çš„å…ƒç´ æ•¸é‡è¶…éäº†åˆ‡ç‰‡ç›®å‰çš„å®¹é‡ï¼ŒGo èªè¨€æœƒåšä¸€äº›äº‹æƒ…ï¼šå®ƒæœƒé‡æ–°æä¸€å€‹æ›´å¤§çš„é™£åˆ—ï¼Œç„¶å¾ŒæŠŠèˆŠçš„å…ƒç´ éƒ½è¤‡è£½åˆ°é€™å€‹æ–°é™£åˆ—ä¸­ã€‚é€™å€‹éç¨‹æœƒèŠ±ä¸€äº›æ™‚é–“ï¼Œä¹Ÿå°±æ˜¯æ‰€è¬‚çš„æ€§èƒ½é–‹éŠ·ã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { numbers := []int{1, 2, 3} fmt.Println(\u0026#34;é•·åº¦ï¼š\u0026#34;, len(numbers)) // è¼¸å‡ºï¼šé•·åº¦ï¼š3 fmt.Println(\u0026#34;å®¹é‡ï¼š\u0026#34;, cap(numbers)) // è¼¸å‡ºï¼šå®¹é‡ï¼š3 slice := numbers[1:2] fmt.Println(\u0026#34;åˆ‡ç‰‡ï¼š\u0026#34;, slice) // è¼¸å‡ºï¼šåˆ‡ç‰‡ï¼š[2] fmt.Println(\u0026#34;åˆ‡ç‰‡é•·åº¦ï¼š\u0026#34;, len(slice)) // è¼¸å‡ºï¼šåˆ‡ç‰‡é•·åº¦ï¼š1 fmt.Println(\u0026#34;åˆ‡ç‰‡å®¹é‡ï¼š\u0026#34;, cap(slice)) // è¼¸å‡ºï¼šåˆ‡ç‰‡å®¹é‡ï¼š2 // åˆ‡ç‰‡çš„å®¹é‡æ˜¯å¾åˆ‡ç‰‡çš„èµ·å§‹ç´¢å¼•é–‹å§‹è¨ˆç®—ï¼Œä¸€ç›´åˆ°åº•å±¤é™£åˆ—çš„æœ«å°¾ç´¢å¼•ã€‚å› æ­¤å®¹é‡ç‚º2 // æ–°å¢å…ƒç´ è¶…éåˆ‡ç‰‡å®¹é‡æ™‚ï¼Œæœƒè‡ªå‹•æ“´å®¹ä¸¦åˆ†é…æ›´å¤§çš„åº•å±¤é™£åˆ— slice = append(numbers, 4) // æ–°åˆ‡ç‰‡ç‚º [1, 2, 3, 4] fmt.Println(\u0026#34;åˆ‡ç‰‡ï¼š\u0026#34;, slice) // è¼¸å‡ºï¼šåˆ‡ç‰‡ï¼š[1 2 3 4] fmt.Println(\u0026#34;åˆ‡ç‰‡é•·åº¦ï¼š\u0026#34;, len(slice)) // è¼¸å‡ºï¼šåˆ‡ç‰‡é•·åº¦ï¼š4 fmt.Println(\u0026#34;åˆ‡ç‰‡å®¹é‡ï¼š\u0026#34;, cap(slice)) // è¼¸å‡ºï¼šåˆ‡ç‰‡å®¹é‡ï¼š6 } åˆ‡ç‰‡çš„ç‰¹æ€§ã€é™åˆ¶èˆ‡ä½¿ç”¨å ´æ™¯ åˆ‡ç‰‡çš„ç‰¹æ€§ åˆ‡ç‰‡çš„å¤§å°æ˜¯å‹•æ…‹çš„ï¼Œå¯ä»¥éš¨æ™‚é€²è¡Œå¢é•·æˆ–ç¸®å°ã€‚ åˆ‡ç‰‡å¯ä»¥æ–¹ä¾¿åœ°å¾ç¾æœ‰çš„é™£åˆ—æˆ–åˆ‡ç‰‡ä¸­å‰µå»ºï¼Œä¸éœ€è¦é¡¯å¼åœ°æŒ‡å®šå®¹é‡ã€‚ åˆ‡ç‰‡çš„æ–°å¢ã€åˆªé™¤ã€ä¿®æ”¹æ“ä½œéƒ½éå¸¸æ–¹ä¾¿ï¼Œè®“ä½ èƒ½å¤ è¼•é¬†åœ°æ“ä½œé›†åˆå‹è³‡æ–™ã€‚ åˆ‡ç‰‡çš„èƒŒå¾Œé€šå¸¸ä½¿ç”¨å‹•æ…‹é™£åˆ—ä¾†å¯¦ç¾ï¼Œå› æ­¤åœ¨å…§å­˜ä½ˆå±€ä¸Šæ›´å…·å½ˆæ€§ï¼Œä¸å—å›ºå®šå¤§å°çš„é™åˆ¶ã€‚ åˆ‡ç‰‡æ˜¯å¼•ç”¨é¡å‹ï¼Œé€™æ„å‘³è‘—å®ƒå€‘å¼•ç”¨åº•å±¤çš„é™£åˆ—ï¼Œè€Œä¸æ˜¯è¤‡è£½æ•¸æ“šã€‚ç•¶ä½ å°‡ä¸€å€‹åˆ‡ç‰‡è³¦å€¼çµ¦å¦ä¸€å€‹åˆ‡ç‰‡ï¼Œå®ƒå€‘å¯¦éš›ä¸Šå…±äº«åŒä¸€ä»½æ•¸æ“šã€‚å› æ­¤ï¼Œå°å…¶ä¸­ä¸€å€‹åˆ‡ç‰‡æ‰€åšçš„ä¿®æ”¹å°‡å½±éŸ¿åˆ°å¦ä¸€å€‹åˆ‡ç‰‡ã€‚ ä»¥ä¸‹æ˜¯ä¸€å€‹å¯¦éš›æ¡ˆä¾‹ï¼š slice1 := []int{1, 2, 3} slice2 := slice1 slice2[0] = 3 fmt.Println(slice1, slice2) // è¼¸å‡ºï¼š[3 2 3] [3 2 3] åœ¨é€™è£¡ï¼Œä¿®æ”¹ slice2 çš„å€¼åŒæ¨£å½±éŸ¿äº† slice1ï¼Œå› ç‚ºå®ƒå€‘å¼•ç”¨åŒä¸€ä»½åº•å±¤æ•¸æ“šã€‚é€™æ˜¯åˆ‡ç‰‡å’Œé™£åˆ—ä¹‹é–“çš„ä¸€å€‹é‡è¦å€åˆ¥ã€‚\nåˆ‡ç‰‡çš„é™åˆ¶ è¨˜æ†¶é«”é…ç½®ï¼š åˆ‡ç‰‡çš„å…§éƒ¨å¯¦ç¾ä¸­ä½¿ç”¨äº†åº•å±¤çš„é™£åˆ—ï¼Œå› æ­¤åˆ‡ç‰‡æ‰€ä½”ç”¨çš„è¨˜æ†¶é«”ç©ºé–“å¯èƒ½æ¯”å¯¦éš›æ‰€éœ€å¤§ã€‚ç•¶åˆ‡ç‰‡çš„å…ƒç´ æ•¸é‡å¢åŠ æ™‚ï¼ŒGo èªè¨€å¯èƒ½æœƒé‡æ–°é…ç½®æ›´å¤§çš„é™£åˆ—ï¼Œå°è‡´ä¸€äº›æ€§èƒ½é–‹éŠ·ã€‚ ä¸é©ç”¨æ–¼å¤§å‹è³‡æ–™ï¼š å°æ–¼å¤§å‹è³‡æ–™é›†åˆï¼Œåˆ‡ç‰‡å¯èƒ½ä¸æ˜¯æœ€ä½³é¸æ“‡ã€‚å¤§å‹åˆ‡ç‰‡å¯èƒ½å°è‡´è¨˜æ†¶é«”å ç”¨éå¤šï¼Œå½±éŸ¿ç¨‹å¼çš„æ•ˆèƒ½ã€‚ ä¸æ”¯æ´å¤šç¶­åˆ‡ç‰‡ï¼š åˆ‡ç‰‡åƒ…æ”¯æ´ä¸€ç¶­çµæ§‹ï¼Œå¦‚æœéœ€è¦è™•ç†å¤šç¶­è³‡æ–™ï¼Œå¯èƒ½éœ€è¦è‡ªè¡Œå¯¦ç¾å¤šç¶­åˆ‡ç‰‡çš„æ¦‚å¿µã€‚ ä½¿ç”¨å ´æ™¯ å‹•æ…‹è³‡æ–™é›†åˆï¼š åˆ‡ç‰‡çš„å¤§å°æ˜¯å¯è®Šçš„ï¼Œä½¿å…¶éå¸¸é©ç”¨æ–¼è™•ç†å‹•æ…‹è³‡æ–™é›†åˆï¼Œç„¡éœ€äº‹å…ˆçŸ¥é“é›†åˆçš„å¤§å°ã€‚ API è«‹æ±‚å’Œå›æ‡‰ï¼š åœ¨è™•ç† API è«‹æ±‚å’Œå›æ‡‰æ™‚ï¼Œåˆ‡ç‰‡å¯ç”¨æ–¼å„²å­˜å’Œè§£æä¸ç¢ºå®šæ•¸é‡çš„è«‹æ±‚åƒæ•¸æˆ–å›æ‡‰è³‡æ–™ã€‚ è³‡æ–™éæ¿¾å’Œè½‰æ›ï¼š ä½¿ç”¨ range éæ­·åˆ‡ç‰‡ï¼Œå¯ä»¥è¼•é¬†åœ°éæ¿¾æˆ–è½‰æ›åˆ‡ç‰‡ä¸­çš„å…ƒç´ ï¼Œé€²è¡Œè™•ç†å’Œè¨ˆç®—ã€‚ å‚³éå‡½å¼åƒæ•¸ï¼š åˆ‡ç‰‡çš„å¼•ç”¨é¡å‹ç‰¹æ€§ä½¿å…¶é©ç”¨æ–¼å‚³éå‡½å¼åƒæ•¸ï¼Œé¿å…ä¸å¿…è¦çš„è³‡æ–™è¤‡è£½ã€‚ æª”æ¡ˆè®€å¯«ï¼š åˆ‡ç‰‡å¯ç”¨æ–¼è®€å–å¤§é‡æ•¸æ“šï¼Œé€²è¡Œè™•ç†å¾Œå†å¯«å›æª”æ¡ˆã€‚ å¯¦ç¾å †ç–Šå’Œä½‡åˆ—ï¼š ä½¿ç”¨åˆ‡ç‰‡å¯ä»¥å¯¦ç¾ç°¡å–®çš„å †ç–Šï¼ˆå¾Œé€²å…ˆå‡ºï¼‰å’Œä½‡åˆ—ï¼ˆå…ˆé€²å…ˆå‡ºï¼‰çµæ§‹ã€‚ æ’åºå’Œæœå°‹ï¼š åˆ‡ç‰‡åœ¨æ’åºå’Œæœå°‹è³‡æ–™æ™‚éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥åˆ©ç”¨ sort å¥—ä»¶é€²è¡Œæ’åºï¼Œä¸¦ä½¿ç”¨äºŒåˆ†æœå°‹ç­‰æŠ€è¡“é€²è¡Œæœå°‹ã€‚ å¸¸è¦‹ç”¨æ³• è³‡æ–™éæ¿¾å’Œè½‰æ› // å°‡åˆ‡ç‰‡ä¸­çš„æ‰€æœ‰å…ƒç´ ä¹˜ä»¥ 2 numbers := []int{1, 2, 3, 4, 5} for i := range numbers { numbers[i] *= 2 } // éæ¿¾å‡ºå¤§æ–¼ 3 çš„å…ƒç´  filteredNumbers := []int{} for _, num := range numbers { if num \u0026gt; 3 { filteredNumbers = append(filteredNumbers, num) } } å‚³éå‡½å¼åƒæ•¸ func modifySlice(slice []int) { slice[0] = 100 } numbers := []int{1, 2, 3} modifySlice(numbers) å°çµ åˆ‡ç‰‡æ˜¯ Go èªè¨€ä¸­éå¸¸å¯¦ç”¨çš„è³‡æ–™çµæ§‹ï¼Œå®ƒè§£æ±ºäº†é™£åˆ—å¤§å°å›ºå®šçš„é™åˆ¶ï¼Œè®“ä½ èƒ½å¤ è¼•é¬†åœ°è™•ç†å‹•æ…‹å¤§å°çš„é›†åˆå‹è³‡æ–™ã€‚åˆ‡ç‰‡çš„æ“ä½œåŒ…æ‹¬å–å¾—ã€ä¿®æ”¹ã€æ–°å¢ã€åˆªé™¤ç­‰ï¼Œè®“ä½ å¯ä»¥éˆæ´»åœ°è™•ç†è³‡æ–™é›†åˆã€‚\nåœ¨éæ­·åˆ‡ç‰‡æ™‚ï¼Œrange å¾ˆæ–¹ä¾¿åœ°æä¾›äº†ç´¢å¼•å’Œå€¼ï¼Œè®“ä½ èƒ½å¤ è¼•é¬†åœ°è¨ªå•åˆ‡ç‰‡ä¸­çš„å…ƒç´ ã€‚åˆ‡ç‰‡çš„ç‰¹æ€§å’Œå„ªå‹¢ä½¿å¾—å®ƒåœ¨è™•ç†å‹•æ…‹æ•¸æ“šé›†åˆæ™‚æˆç‚º Go ç¨‹å¼è¨­è¨ˆä¸­çš„ä¸€å€‹é‡è¦å·¥å…·ã€‚\nğŸ“šReference A Tour of Go(slice) [Golang] Slice and Array | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-slice/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Go èªè¨€ä¸­ï¼Œåˆ‡ç‰‡ï¼ˆSliceï¼‰æ˜¯ä¸€ç¨®å‹•æ…‹åºåˆ—çš„è³‡æ–™çµæ§‹ï¼Œèƒ½å¤ æ–¹ä¾¿åœ°å­˜å„²å’Œæ“ä½œå¤šå€‹ç›¸åŒé¡å‹çš„å…ƒç´ ã€‚åˆ‡ç‰‡ç›¸æ¯”æ–¼é™£åˆ—ï¼Œæ›´å…·æœ‰å½ˆæ€§ï¼Œå› ç‚ºå®ƒçš„å¤§å°æ˜¯å¯è®Šçš„ï¼Œå¯ä»¥æ ¹æ“šéœ€è¦å‹•æ…‹å¢é•·æˆ–ç¸®å°ã€‚åˆ‡ç‰‡åœ¨è™•ç†é›†åˆå‹è³‡æ–™æ™‚éå¸¸å¯¦ç”¨ï¼Œè®“ä½ èƒ½å¤ è¼•é¬†åœ°æ–°å¢ã€åˆªé™¤ã€ä¿®æ”¹å’Œæ“ä½œå…ƒç´ ï¼ŒåŒæ™‚é¿å…äº†å›ºå®šå¤§å°çš„é™åˆ¶ã€‚\nåˆ‡ç‰‡çš„åŸºæœ¬æ¦‚å¿µ åˆ‡ç‰‡æ˜¯ç”±ä¸€å€‹æŒ‡å‘é™£åˆ—çš„æŒ‡é‡ã€åˆ‡ç‰‡é•·åº¦å’Œåˆ‡ç‰‡å®¹é‡çµ„æˆçš„ã€‚åˆ‡ç‰‡çš„é•·åº¦æŒ‡çš„æ˜¯åˆ‡ç‰‡ä¸­å¯¦éš›åŒ…å«çš„å…ƒç´ å€‹æ•¸ï¼Œè€Œåˆ‡ç‰‡çš„å®¹é‡å‰‡æ˜¯å¾åˆ‡ç‰‡é–‹å§‹çš„åº•å±¤é™£åˆ—ä¸­èƒ½å¤ è¨ªå•çš„å…ƒç´ å€‹æ•¸ã€‚åˆ‡ç‰‡çš„å®¹é‡å¯ä»¥å¤§æ–¼æˆ–ç­‰æ–¼åˆ‡ç‰‡çš„é•·åº¦ã€‚\nå®£å‘Šå’Œåˆå§‹åŒ–åˆ‡ç‰‡ åœ¨ Go ä¸­ï¼Œå®£å‘Šå’Œåˆå§‹åŒ–åˆ‡ç‰‡å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„èªæ³•ï¼š\nvar slice1 []int // å‰µå»ºä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼Œå¤§å°å’Œå®¹é‡éƒ½æ˜¯ 0 slice2 := []string{\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;, \u0026#34;C\u0026#34;} // å‰µå»ºä¸€å€‹åŒ…å«ä¸‰å€‹å­—ä¸²å…ƒç´ çš„åˆ‡ç‰‡ slice3 := make([]int, 5) // å‰µå»ºä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼Œå¤§å°ç‚º 5ï¼Œå®¹é‡ä¹Ÿç‚º 5 slice4 := make([]int, 3, 5) // å‰µå»ºä¸€å€‹æ•´æ•¸åˆ‡ç‰‡ï¼Œå¤§å°ç‚º 3ï¼Œå®¹é‡ç‚º 5 åˆ‡ç‰‡çš„åŸºæœ¬æ“ä½œ æ–°å¢å…ƒç´ åˆ°åˆ‡ç‰‡ Goèªè¨€ä¸­æœ‰å€‹å…§ä»¶å‡½å¼append()ï¼Œå¯ä»¥ç”¨ä¾†æ–°å¢å…ƒç´ åˆ°åˆ‡ç‰‡ä¸­ï¼Œé€™ä½¿å¾—åˆ‡ç‰‡èƒ½å¤ æ ¹æ“šéœ€æ±‚å‹•æ…‹å¢é•·ã€‚\nnumbers := []int{10, 20, 30} numbers = append(numbers, 40, 50) // æ–°å¢å…©å€‹å…ƒç´ åˆ°åˆ‡ç‰‡ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåˆ‡ç‰‡çš„å®¹é‡ä¸è¶³ä»¥å®¹ç´æ–°å¢çš„å…ƒç´ ï¼Œappend() å‡½å¼æœƒå‰µå»ºä¸€å€‹æ–°çš„åˆ‡ç‰‡ï¼Œä¸¦å°‡èˆŠçš„å…ƒç´ å’Œæ–°çš„å…ƒç´ ä¸€åŒè¤‡è£½åˆ°æ–°çš„åˆ‡ç‰‡ä¸­ã€‚\næŸ¥è©¢å’Œä¿®æ”¹åˆ‡ç‰‡å…ƒç´  åˆ‡ç‰‡çš„å…ƒç´ å¯ä»¥é€šéç´¢å¼•ä¾†å­˜å–ï¼Œç´¢å¼•å¾ 0 é–‹å§‹è¨ˆæ•¸ã€‚\nnumbers := []int{10, 20, 30, 40, 50} firstNumber := numbers[0] // å­˜å–ç¬¬ä¸€å€‹å…ƒç´ ï¼Œå€¼ç‚º 10 secondNumber := numbers[1] // å­˜å–ç¬¬äºŒå€‹å…ƒç´ ï¼Œå€¼ç‚º 20 numbers[2] = 35 // ä¿®æ”¹åˆ‡ç‰‡ä¸­çš„å…ƒç´ ï¼Œå°‡ç¬¬ä¸‰å€‹å…ƒç´ æ”¹ç‚º 35 åˆ‡å‰²å’Œéæ­·åˆ‡ç‰‡ å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡çš„åˆ‡å‰²æ“ä½œä¾†ç²å–éƒ¨åˆ†åˆ‡ç‰‡ï¼Œé€™å¯ä»¥é€šéæŒ‡å®šåˆ‡ç‰‡çš„èµ·å§‹ç´¢å¼•å’ŒçµæŸç´¢å¼•ä¾†å¯¦ç¾ï¼š","title":"Go èªè¨€ä¸­çš„å‹•æ…‹é™£åˆ—ï¼šæ·±å…¥è§£æåˆ‡ç‰‡"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ é™£åˆ—å°±åƒæ˜¯ä¸€å€‹å„²å­˜ç›¸åŒé¡å‹è³‡æ–™çš„å®¹å™¨ï¼Œä½ å¯ä»¥æƒ³åƒæˆè£æ»¿äº†ä¸€æ¨£æ±è¥¿çš„ç›’å­ï¼Œæ¯å€‹æ±è¥¿éƒ½å«åšé™£åˆ—å…ƒç´ ã€‚é€™ç¨®é¡å‹å¯ä»¥æ˜¯åŸºæœ¬çš„ï¼Œåƒæ˜¯æ•´æ•¸æˆ–å­—ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä½ è‡ªå·±å®šç¾©çš„å‹åˆ¥ã€‚ä¸éé™£åˆ—æœ‰å€‹é™åˆ¶ï¼Œå°±æ˜¯å¤§å°ä¸€æ—¦ç¢ºå®šå°±ç„¡æ³•æ”¹è®Šã€‚åœ¨Goèªè¨€è£¡ï¼Œé™£åˆ—çš„é•·åº¦ä¹Ÿæ˜¯å‹åˆ¥çš„ä¸€éƒ¨åˆ†ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œ[5]intå’Œ[10]intå°±æ˜¯ä¸åŒçš„å‹åˆ¥ã€‚é›–ç„¶å®ƒå€‘éƒ½æ˜¯æ•´æ•¸é™£åˆ—ï¼Œä½†å› ç‚ºé•·åº¦ä¸åŒï¼Œæ‰€ä»¥è¦–ç‚ºä¸åŒçš„è³‡æ–™å‹åˆ¥ï¼Œä¸èƒ½ç›´æ¥äº’ç›¸çµ¦å€¼æˆ–æ“ä½œã€‚é€™éº¼åšæ˜¯ç‚ºäº†åœ¨é•·åº¦ä¸Šæ›´åŠ åš´è¬¹ï¼Œä¸æœƒæ··æ·†ä¸åŒå¤§å°çš„é™£åˆ—ï¼Œå¢åŠ äº†è³‡æ–™çš„å®‰å…¨æ€§ã€‚\nå¦ä¸€å€‹é¡ä¼¼çš„æ±è¥¿æ˜¯åˆ‡ç‰‡ï¼ˆSliceï¼‰ï¼Œé€™æ±è¥¿å¯ä»¥æƒ³åƒæˆå‹•æ…‹çš„åºåˆ—ï¼Œå¯ä»¥æ ¹æ“šéœ€è¦è‡ªç”±åœ°å¢åŠ æˆ–æ¸›å°‘ã€‚ä¸éï¼Œç‚ºäº†æ›´å¥½åœ°ç†è§£åˆ‡ç‰‡ï¼Œæˆ‘å€‘å…ˆå­¸å­¸é™£åˆ—çš„ä½¿ç”¨ã€‚\né™£åˆ—çš„åŸºæœ¬æ¦‚å¿µ é™£åˆ—æ˜¯ç”±ä¸€çµ„å…ƒç´ æ‰€çµ„æˆçš„å›ºå®šå¤§å°çš„è³‡æ–™çµæ§‹ï¼Œæ¯å€‹å…ƒç´ éƒ½æœ‰ä¸€å€‹ç›¸æ‡‰çš„ç´¢å¼•ã€‚é™£åˆ—çš„å¤§å°åœ¨å®£å‘Šæ™‚å°±éœ€è¦ç¢ºå®šï¼Œä¸¦ä¸”åœ¨å¾ŒçºŒæ“ä½œä¸­ç„¡æ³•æ”¹è®Šã€‚\nå®£å‘Šå’Œåˆå§‹åŒ–é™£åˆ— åœ¨ Go ä¸­ï¼Œå®£å‘Šå’Œåˆå§‹åŒ–é™£åˆ—å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„èªæ³•ï¼š\nvar arr1 [3]int // å‰µå»ºä¸€å€‹æ•´æ•¸é™£åˆ—ï¼Œå¤§å°ç‚º 3 arr2 := [4]string{\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;} // å‰µå»ºä¸€å€‹åŒ…å« 4 å€‹å­—ä¸²å…ƒç´ çš„é™£åˆ— arr3 := [...]int{1, 2, 3} // è‡ªå‹•æ¨æ–·é™£åˆ—å¤§å°ç‚º 3 ä½ ä¹Ÿå¯ä»¥åœ¨å®£å‘Šé™£åˆ—çš„åŒæ™‚ï¼Œä½¿ç”¨æŒ‡å®šç´¢å¼•çš„æ–¹å¼ä¾†åˆå§‹åŒ–é™£åˆ—ï¼š\narr := [...]int{1: 10, 3: 30} // é™£åˆ—çš„å€¼ç‚º [0 10 0 30] é™£åˆ—çš„åŸºæœ¬æ“ä½œ å–å¾—é™£åˆ—å…ƒç´  é™£åˆ—çš„å…ƒç´ å¯ä»¥é€šéç´¢å¼•ä¾†å­˜å–ï¼Œç´¢å¼•å¾ 0 é–‹å§‹è¨ˆæ•¸ã€‚\nnumbers := [5]int{10, 20, 30, 40, 50} firstNumber := numbers[0] // å­˜å–ç¬¬ä¸€å€‹å…ƒç´ ï¼Œå€¼ç‚º 10 secondNumber := numbers[1] // å­˜å–ç¬¬äºŒå€‹å…ƒç´ ï¼Œå€¼ç‚º 20 å‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹é™£åˆ— arr := [5]int{1, 2, 3, 4, 5}ã€‚\narr[:] è¡¨ç¤ºæ•´å€‹é™£åˆ—ï¼š arr := [5]int{1, 2, 3, 4, 5} arr_new := arr[:] fmt.Println(arr_new) // è¼¸å‡ºï¼š[1 2 3 4 5] arr[i:] è¡¨ç¤ºå¾ç´¢å¼• i åˆ°é™£åˆ—æœ«å°¾çš„é™£åˆ—ï¼š arr := [5]int{1, 2, 3, 4, 5} startIndex := 2 arr_new := arr[startIndex:] fmt.Println(arr_new) // è¼¸å‡ºï¼š[3 4 5] arr[:i] è¡¨ç¤ºå¾é™£åˆ—é–‹é ­åˆ°ç´¢å¼• i-1 çš„åˆ‡ç‰‡ï¼š arr := [5]int{1, 2, 3, 4, 5} endIndex := 3 arr_new := arr[:endIndex] fmt.Println(arr_new) // è¼¸å‡ºï¼š[1 2 3] ä¿®æ”¹é™£åˆ—å…ƒç´  æˆ‘å€‘å¯ä»¥ä¿®æ”¹é™£åˆ—ä¸­çš„å…ƒç´ ï¼Œä¾‹å¦‚ï¼š\nvar arr = [...]int{1, 2, 3} arr[0] = 5 fmt.Println(arr) // è¼¸å‡ºï¼š[5 2 3] éæ­·é™£åˆ— å¯ä»¥ä½¿ç”¨å‚³çµ±çš„ç´¢å¼•æ–¹å¼æˆ– range ä¾†éæ­·é™£åˆ—ä¸­çš„å…ƒç´ ï¼š\nnumbers := [5]int{10, 20, 30, 40, 50} // ä½¿ç”¨å‚³çµ±çš„ç´¢å¼•æ–¹å¼éæ­·é™£åˆ— for i := 0; i \u0026lt; len(numbers); i++ { fmt.Println(numbers[i]) } // ä½¿ç”¨ range éæ­·é™£åˆ— for _, num := range numbers { fmt.Println(num) } for i := range numbers { fmt.Println(numbers[i]) } range æ˜¯ä¸€å€‹å…§å»ºå‡½å¼ï¼Œç”¨æ–¼éæ­·é™£åˆ—ã€åˆ‡ç‰‡ã€æ˜ å°„ç­‰é›†åˆå‹è³‡æ–™ã€‚åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨ range ä¾†éæ­· numbers é™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œä¸¦å°‡æ¯å€‹å…ƒç´ çš„å€¼è³¦å€¼çµ¦ num è®Šæ•¸ã€‚\né™£åˆ—çš„ç‰¹æ€§ã€é™åˆ¶èˆ‡ä½¿ç”¨å ´æ™¯ é™£åˆ—çš„ç‰¹æ€§ å›ºå®šå¤§å°ï¼š é™£åˆ—åœ¨å®£å‘Šæ™‚éœ€è¦ç¢ºå®šå¤§å°ï¼Œä¸”å¤§å°ä¸å¯æ”¹è®Šã€‚é€™æ„å‘³è‘—ä¸€æ—¦é™£åˆ—è¢«å‰µå»ºï¼Œå…¶å¤§å°å°‡ä¿æŒä¸è®Šã€‚ ç›¸åŒé¡å‹å…ƒç´ ï¼š é™£åˆ—å…§çš„å…ƒç´ å¿…é ˆæ˜¯ç›¸åŒçš„é¡å‹ï¼Œå¯ä»¥æ˜¯å…§å»ºçš„åŸºæœ¬æ•¸æ“šé¡å‹ï¼ˆå¦‚æ•´æ•¸ã€æµ®é»æ•¸ï¼‰æˆ–è‡ªå®šç¾©çš„çµæ§‹é«”ã€‚ é€£çºŒå„²å­˜ï¼š é™£åˆ—ä¸­çš„å…ƒç´ åœ¨è¨˜æ†¶é«”ä¸­æ˜¯é€£çºŒå„²å­˜çš„ï¼Œé€™æœ‰åŠ©æ–¼æé«˜å­˜å–æ•ˆç‡ï¼Œå› ç‚º CPU å¯ä»¥é å–æ¥ä¸‹ä¾†çš„å…ƒç´ ã€‚ å€¼é¡å‹ï¼š é™£åˆ—æ˜¯å€¼é¡å‹ï¼Œç•¶é™£åˆ—è¢«è³¦å€¼çµ¦å¦ä¸€å€‹é™£åˆ—æ™‚ï¼Œå¯¦éš›ä¸Šæ˜¯å°æ•¸æ“šçš„è¤‡è£½ï¼Œè€Œä¸æ˜¯å¼•ç”¨ã€‚ é™£åˆ—æ˜¯å€¼é¡å‹ï¼Œé€™æ„å‘³è‘—ç•¶ä½ è³¦å€¼æˆ–å‚³éé™£åˆ—æ™‚ï¼Œå¯¦éš›ä¸Šæ˜¯è¤‡è£½æ•´å€‹é™£åˆ—çš„å…§å®¹ã€‚å› æ­¤ï¼Œå°å‰¯æœ¬çš„ä¿®æ”¹ä¸æœƒå½±éŸ¿åŸå§‹é™£åˆ—çš„å€¼ï¼š\nvar array1 = [...]int{1, 2, 3} array2 := array1 array2[0] = 3 fmt.Println(array1, array2) // è¼¸å‡ºï¼š[1 2 3] [3 2 3] é€™ä¸Šé¢çš„ä»£ç¢¼å±•ç¤ºäº†é™£åˆ—çš„å€¼é¡å‹ç‰¹æ€§ã€‚æ”¹è®Šarray2çš„å€¼ä¸¦ä¸æœƒå½±éŸ¿array1çš„å€¼ã€‚\né™£åˆ—çš„é™åˆ¶ å›ºå®šå¤§å°ï¼š é™£åˆ—åœ¨å®£å‘Šæ™‚éœ€è¦æŒ‡å®šå›ºå®šçš„å¤§å°ï¼Œä¸”ç„¡æ³•åœ¨é‹è¡Œæ™‚å‹•æ…‹æ”¹è®Šã€‚é€™æ„å‘³è‘—é™£åˆ—çš„å®¹é‡æ˜¯å›ºå®šçš„ï¼Œå¯èƒ½æœƒé™åˆ¶è³‡æ–™é›†åˆçš„å½ˆæ€§ã€‚ è³‡æºæµªè²»ï¼š å¦‚æœåˆ†é…äº†æ¯”å¯¦éš›ä½¿ç”¨æ›´å¤§çš„é™£åˆ—ï¼Œå¯èƒ½æœƒæµªè²»è¨˜æ†¶é«”ã€‚è€Œè‹¥åˆ†é…æ¯”éœ€æ±‚å°çš„é™£åˆ—ï¼Œå¯èƒ½æœƒé™åˆ¶æ•¸æ“šçš„å­˜å„²ã€‚ ä¸é©åˆå‹•æ…‹è³‡æ–™ï¼š ç”±æ–¼å›ºå®šå¤§å°ï¼Œé™£åˆ—ä¸å¤ªé©åˆå„²å­˜å‹•æ…‹å¢æ¸›çš„è³‡æ–™é›†åˆï¼Œé€™æ–¹é¢åˆ‡ç‰‡ï¼ˆSliceï¼‰æ›´é©åˆã€‚ ä½¿ç”¨å ´æ™¯ å›ºå®šå¤§å°éœ€æ±‚ï¼š ç•¶ä½ ç¢ºå®šè³‡æ–™é›†åˆçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œä¸”ä¸æœƒè®Šå‹•æ™‚ï¼Œé™£åˆ—æ˜¯ä¸€å€‹ä¸éŒ¯çš„é¸æ“‡ï¼Œå¦‚ä¸€é€±çš„å¤©æ•¸ã€ä¸€å€‹æœˆçš„å¤©æ•¸ç­‰ã€‚ ç°¡å–®çš„è³‡æ–™å„²å­˜ï¼š å¦‚æœä½ åƒ…éœ€è¦å„²å­˜ä¸€äº›æ•¸å€¼ï¼Œä¸”ä¸éœ€è¦å‹•æ…‹èª¿æ•´å¤§å°ï¼Œé™£åˆ—å¯ä»¥å¾ˆå¥½åœ°æ»¿è¶³éœ€æ±‚ã€‚ è¨˜æ†¶é«”æ•ˆèƒ½è¦æ±‚ï¼š é™£åˆ—åœ¨è¨˜æ†¶é«”ä¸­æ˜¯é€£çºŒå„²å­˜çš„ï¼Œé€™å¯ä»¥æä¾›æ›´å¥½çš„å­˜å–æ•ˆèƒ½ï¼Œç‰¹åˆ¥æ˜¯ç•¶è³‡æ–™é‡è¼ƒå°æ™‚ã€‚ å¤šç¶­è³‡æ–™ï¼š é™£åˆ—å¯ä»¥ç”¨æ–¼å»ºç«‹å¤šç¶­è³‡æ–™çµæ§‹ï¼Œä¾‹å¦‚çŸ©é™£ï¼Œå¦‚æœè³‡æ–™çš„çµæ§‹ç›¸å°å›ºå®šï¼Œé™£åˆ—æ˜¯ä¸€å€‹ä¸éŒ¯çš„é¸æ“‡ã€‚ è³‡æ–™å®‰å…¨æ€§ï¼š é™£åˆ—çš„å¤§å°å›ºå®šï¼Œé€™å¯ä»¥é˜²æ­¢æ„å¤–çš„è³‡æ–™æº¢ä½ï¼Œæœ‰åŠ©æ–¼ç¶­è­·è³‡æ–™çš„å®‰å…¨æ€§ã€‚ å¸¸è¦‹ç”¨æ³• å–å¾—é™£åˆ—é•·åº¦ ä½¿ç”¨å…§å»ºå‡½å¼len()å³å¯å–å¾—é™£åˆ—é•·åº¦ var a[10]int fmt.Println(len(a)) è¨ˆç®—é™£åˆ—å…ƒç´ ç¸½å’Œ numbers := [5]int{10, 20, 30, 40, 50} var sum int for _, num := range numbers { sum += num } fmt.Println(\u0026#34;ç¸½å’Œï¼š\u0026#34;, sum) // è¼¸å‡ºç¸½å’Œï¼š150 è¨ˆç®—é™£åˆ—å…ƒç´ å¹³å‡å€¼ numbers := [5]float64{98, 93, 77, 82, 83} var sum float64 for _, num := range numbers { sum += num } average := sum / float64(len(numbers)) fmt.Printf(\u0026#34;å¹³å‡å€¼ï¼š%.2f\\n\u0026#34;, average) // è¼¸å‡ºå¹³å‡å€¼ï¼š86.60 å°‹æ‰¾æœ€å¤§å’Œæœ€å°å€¼ numbers := [5]int{10, 20, 30, 40, 50} max := numbers[0] min := numbers[0] for _, num := range numbers { if num \u0026gt; max { max = num } if num \u0026lt; min { min = num } } fmt.Println(\u0026#34;æœ€å¤§å€¼ï¼š\u0026#34;, max) // è¼¸å‡ºæœ€å¤§å€¼ï¼š50 fmt.Println(\u0026#34;æœ€å°å€¼ï¼š\u0026#34;, min) // è¼¸å‡ºæœ€å°å€¼ï¼š10 é™£åˆ—åè½‰ numbers := [5]int{10, 20, 30, 40, 50} reversedNumbers := [5]int{} for i, j := 0, len(numbers)-1; i \u0026lt; len(numbers); i, j = i+1, j-1 { reversedNumbers[j] = numbers[i] } fmt.Println(\u0026#34;åè½‰é™£åˆ—ï¼š\u0026#34;, reversedNumbers) // è¼¸å‡ºåè½‰é™£åˆ—ï¼š[50 40 30 20 10] å°çµ é™£åˆ—åœ¨Goèªè¨€ä¸­æ˜¯ä¸€å€‹åŸºæœ¬çš„è³‡æ–™çµæ§‹ï¼Œç”¨ä¾†å›ºå®šå„²å­˜ç›¸åŒé¡å‹çš„å…ƒç´ ã€‚é›–ç„¶ä½¿ç”¨å—é™ï¼Œä½†åœ¨éœ€è¦ä¿æŒé †åºå’Œå›ºå®šå¤§å°çš„è³‡æ–™é›†åˆæ™‚éå¸¸å¯¦ç”¨ã€‚å®ƒåœ¨å„²å­˜è³‡æ–™ã€è¨ˆç®—ç¸½å’Œã€å¹³å‡å€¼ç­‰æ–¹é¢æ‰®æ¼”é‡è¦è§’è‰²ã€‚é™£åˆ—èƒ½é€éç´¢å¼•åˆå§‹åŒ–ï¼Œç‰¹å®šä½ç½®è³¦å€¼ï¼Œå…¶ä»–ä½ç½®ä¿ç•™é è¨­å€¼ã€‚ç„¡è«–ä½¿ç”¨ç´¢å¼•æˆ–rangeï¼Œéƒ½èƒ½è¼•é¬†è¿­ä»£é™£åˆ—å…ƒç´ ï¼Œé€²è¡Œå„ç¨®æ“ä½œã€‚é™£åˆ—å€¼éœ€ç›¸åŒé¡å‹ï¼Œä¸”åœ¨è¨˜æ†¶é«”ä¸­é€£çºŒå„²å­˜ï¼Œå­˜å–æ•ˆç‡é«˜ã€‚ä½†è¨˜ä½ï¼Œé™£åˆ—å¤§å°å›ºå®šï¼Œå„²å­˜å¯è®Šæ•¸é‡å…ƒç´ å¯è€ƒæ…®ä½¿ç”¨åˆ‡ç‰‡ã€‚\nğŸ“šReference Effective Go - The Go Programming Language [Golang] Slice and Array | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-array/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ é™£åˆ—å°±åƒæ˜¯ä¸€å€‹å„²å­˜ç›¸åŒé¡å‹è³‡æ–™çš„å®¹å™¨ï¼Œä½ å¯ä»¥æƒ³åƒæˆè£æ»¿äº†ä¸€æ¨£æ±è¥¿çš„ç›’å­ï¼Œæ¯å€‹æ±è¥¿éƒ½å«åšé™£åˆ—å…ƒç´ ã€‚é€™ç¨®é¡å‹å¯ä»¥æ˜¯åŸºæœ¬çš„ï¼Œåƒæ˜¯æ•´æ•¸æˆ–å­—ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä½ è‡ªå·±å®šç¾©çš„å‹åˆ¥ã€‚ä¸éé™£åˆ—æœ‰å€‹é™åˆ¶ï¼Œå°±æ˜¯å¤§å°ä¸€æ—¦ç¢ºå®šå°±ç„¡æ³•æ”¹è®Šã€‚åœ¨Goèªè¨€è£¡ï¼Œé™£åˆ—çš„é•·åº¦ä¹Ÿæ˜¯å‹åˆ¥çš„ä¸€éƒ¨åˆ†ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œ[5]intå’Œ[10]intå°±æ˜¯ä¸åŒçš„å‹åˆ¥ã€‚é›–ç„¶å®ƒå€‘éƒ½æ˜¯æ•´æ•¸é™£åˆ—ï¼Œä½†å› ç‚ºé•·åº¦ä¸åŒï¼Œæ‰€ä»¥è¦–ç‚ºä¸åŒçš„è³‡æ–™å‹åˆ¥ï¼Œä¸èƒ½ç›´æ¥äº’ç›¸çµ¦å€¼æˆ–æ“ä½œã€‚é€™éº¼åšæ˜¯ç‚ºäº†åœ¨é•·åº¦ä¸Šæ›´åŠ åš´è¬¹ï¼Œä¸æœƒæ··æ·†ä¸åŒå¤§å°çš„é™£åˆ—ï¼Œå¢åŠ äº†è³‡æ–™çš„å®‰å…¨æ€§ã€‚\nå¦ä¸€å€‹é¡ä¼¼çš„æ±è¥¿æ˜¯åˆ‡ç‰‡ï¼ˆSliceï¼‰ï¼Œé€™æ±è¥¿å¯ä»¥æƒ³åƒæˆå‹•æ…‹çš„åºåˆ—ï¼Œå¯ä»¥æ ¹æ“šéœ€è¦è‡ªç”±åœ°å¢åŠ æˆ–æ¸›å°‘ã€‚ä¸éï¼Œç‚ºäº†æ›´å¥½åœ°ç†è§£åˆ‡ç‰‡ï¼Œæˆ‘å€‘å…ˆå­¸å­¸é™£åˆ—çš„ä½¿ç”¨ã€‚\né™£åˆ—çš„åŸºæœ¬æ¦‚å¿µ é™£åˆ—æ˜¯ç”±ä¸€çµ„å…ƒç´ æ‰€çµ„æˆçš„å›ºå®šå¤§å°çš„è³‡æ–™çµæ§‹ï¼Œæ¯å€‹å…ƒç´ éƒ½æœ‰ä¸€å€‹ç›¸æ‡‰çš„ç´¢å¼•ã€‚é™£åˆ—çš„å¤§å°åœ¨å®£å‘Šæ™‚å°±éœ€è¦ç¢ºå®šï¼Œä¸¦ä¸”åœ¨å¾ŒçºŒæ“ä½œä¸­ç„¡æ³•æ”¹è®Šã€‚\nå®£å‘Šå’Œåˆå§‹åŒ–é™£åˆ— åœ¨ Go ä¸­ï¼Œå®£å‘Šå’Œåˆå§‹åŒ–é™£åˆ—å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„èªæ³•ï¼š\nvar arr1 [3]int // å‰µå»ºä¸€å€‹æ•´æ•¸é™£åˆ—ï¼Œå¤§å°ç‚º 3 arr2 := [4]string{\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;} // å‰µå»ºä¸€å€‹åŒ…å« 4 å€‹å­—ä¸²å…ƒç´ çš„é™£åˆ— arr3 := [...]int{1, 2, 3} // è‡ªå‹•æ¨æ–·é™£åˆ—å¤§å°ç‚º 3 ä½ ä¹Ÿå¯ä»¥åœ¨å®£å‘Šé™£åˆ—çš„åŒæ™‚ï¼Œä½¿ç”¨æŒ‡å®šç´¢å¼•çš„æ–¹å¼ä¾†åˆå§‹åŒ–é™£åˆ—ï¼š\narr := [...]int{1: 10, 3: 30} // é™£åˆ—çš„å€¼ç‚º [0 10 0 30] é™£åˆ—çš„åŸºæœ¬æ“ä½œ å–å¾—é™£åˆ—å…ƒç´  é™£åˆ—çš„å…ƒç´ å¯ä»¥é€šéç´¢å¼•ä¾†å­˜å–ï¼Œç´¢å¼•å¾ 0 é–‹å§‹è¨ˆæ•¸ã€‚\nnumbers := [5]int{10, 20, 30, 40, 50} firstNumber := numbers[0] // å­˜å–ç¬¬ä¸€å€‹å…ƒç´ ï¼Œå€¼ç‚º 10 secondNumber := numbers[1] // å­˜å–ç¬¬äºŒå€‹å…ƒç´ ï¼Œå€¼ç‚º 20 å‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹é™£åˆ— arr := [5]int{1, 2, 3, 4, 5}ã€‚","title":"é™£åˆ—ï¼šGoèªè¨€ä¸­çš„æ•¸æ“šå°å€‰åº«"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æœ¬æ–‡ç°¡å–®ä»‹ç´¹äº† Go èªè¨€çš„æµç¨‹æ§åˆ¶æ¦‚å¿µï¼Œæ¶µè“‹äº†å¾æ¢ä»¶èªå¥åˆ°è¿´åœˆï¼Œå†åˆ° range éæ­·æ•¸æ“šçµæ§‹ï¼Œä»¥åŠ goto èˆ‡æ¨™ç±¤ label çš„æ‡‰ç”¨ã€‚ä¸»è¦çŸ¥è­˜é»ç‚ºå¦‚ä½•ä½¿ç”¨ if èªå¥é€²è¡Œæ¢ä»¶åˆ¤æ–·ï¼Œä»¥åŠåœ¨ä¸åŒæƒ…æ³ä¸‹é‹ç”¨ switch èªå¥ã€‚æ­¤å¤–ï¼Œé‚„æ¢è¨äº† for è¿´åœˆå’Œ range çš„é‹ç”¨ï¼Œä»¥åŠåœ¨ç‰¹å®šæƒ…å¢ƒä¸‹ä½¿ç”¨ goto èˆ‡ labelã€‚\næ¢ä»¶èªå¥ åœ¨ Go èªè¨€ä¸­ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨æ¢ä»¶èªå¥ä¾†æ ¹æ“šä¸åŒçš„æ¢ä»¶åŸ·è¡Œä¸åŒçš„ç¨‹å¼ç¢¼å¡Šã€‚å¸¸è¦‹çš„æ¢ä»¶èªå¥åŒ…æ‹¬ï¼š\nif èªå¥ if èªå¥ç”¨ä¾†æª¢æŸ¥ä¸€å€‹æ¢ä»¶æ˜¯å¦æˆç«‹ï¼Œå¦‚æœæ¢ä»¶ç‚ºçœŸï¼Œå°±åŸ·è¡Œç›¸é—œçš„ç¨‹å¼ç¢¼å¡Šã€‚ä¾‹å¦‚ï¼š\nage := 18 if age \u0026gt;= 18 { fmt.Println(\u0026#34;ä½ å·²æˆå¹´\u0026#34;) } else { fmt.Println(\u0026#34;ä½ é‚„æœªæˆå¹´\u0026#34;) } æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ else if åˆ†æ”¯è™•ç†å¤šç¨®æƒ…æ³ï¼š\nage := 25 if age \u0026lt; 18 { fmt.Println(\u0026#34;ä½ é‚„æœªæˆå¹´\u0026#34;) } else if age \u0026gt;= 18 \u0026amp;\u0026amp; age \u0026lt; 60 { fmt.Println(\u0026#34;ä½ å·²æˆå¹´ï¼Œä½†å°šæœªé€€ä¼‘\u0026#34;) } else { fmt.Println(\u0026#34;ä½ å·²é€€ä¼‘\u0026#34;) } æˆ‘å€‘ç”šè‡³å¯ä»¥åœ¨ if èªå¥ä¸­å®£å‘Šä¸¦åˆå§‹åŒ–ä¸€å€‹è®Šæ•¸ï¼Œç„¶å¾Œæ ¹æ“šæ¢ä»¶é€²è¡Œåˆ¤æ–·ï¼š\nif num2 := 10; num2 \u0026gt;= 10 { fmt.Println(\u0026#34;è®Šæ•¸ num2 å¤§æ–¼ç­‰æ–¼ 10\u0026#34;) } switch èªå¥ switch èªå¥ç”¨ä¾†æ ¹æ“šä¸åŒçš„å€¼é€²è¡Œä¸åŒçš„è™•ç†ã€‚æˆ‘å€‘å¯ä»¥ä½¿ç”¨ switch ä¾†é¿å…å¤šå€‹ if åˆ¤æ–·ã€‚ä¾‹å¦‚ï¼š\nday := \u0026#34;Sunday\u0026#34; switch day { case \u0026#34;Monday\u0026#34;: fmt.Println(\u0026#34;æ˜ŸæœŸä¸€\u0026#34;) case \u0026#34;Tuesday\u0026#34;: fmt.Println(\u0026#34;æ˜ŸæœŸäºŒ\u0026#34;) case \u0026#34;Sunday\u0026#34;: fmt.Println(\u0026#34;æ˜ŸæœŸå¤©\u0026#34;) default: fmt.Println(\u0026#34;å…¶ä»–å¤©\u0026#34;) } æˆ‘å€‘ä¹Ÿå¯ä»¥åœ¨ switch èªå¥ä¸­å®£å‘Šä¸¦åˆå§‹åŒ–ä¸€å€‹è®Šæ•¸ï¼Œç„¶å¾Œæ ¹æ“šå…¶å€¼é€²è¡Œåˆ¤æ–·ï¼š\nswitch day := \u0026#34;Sunday\u0026#34;; day { case \u0026#34;Monday\u0026#34;: fmt.Println(\u0026#34;æ˜ŸæœŸä¸€\u0026#34;) case \u0026#34;Tuesday\u0026#34;: fmt.Println(\u0026#34;æ˜ŸæœŸäºŒ\u0026#34;) case \u0026#34;Sunday\u0026#34;: fmt.Println(\u0026#34;æ˜ŸæœŸå¤©\u0026#34;) default: fmt.Println(\u0026#34;å…¶ä»–å¤©\u0026#34;) } æˆ‘å€‘ç”šè‡³å¯ä»¥åœ¨ case ä¸­è™•ç†å¤šå€‹å€¼ï¼Œå…±ç”¨ç›¸åŒçš„ç¨‹å¼ç¢¼å¡Šï¼Œä¾‹å¦‚ï¼š\nday := \u0026#34;Saturday\u0026#34; switch day { case \u0026#34;Monday\u0026#34;, \u0026#34;Tuesday\u0026#34;, \u0026#34;Wednesday\u0026#34;, \u0026#34;Thursday\u0026#34;, \u0026#34;Friday\u0026#34;: fmt.Println(\u0026#34;å·¥ä½œæ—¥\u0026#34;) case \u0026#34;Saturday\u0026#34;, \u0026#34;Sunday\u0026#34;: fmt.Println(\u0026#34;é€±æœ«\u0026#34;) default: fmt.Println(\u0026#34;å…¶ä»–\u0026#34;) } è¿´åœˆ è¿´åœˆæ˜¯ä¸€ç¨®é‡è¤‡åŸ·è¡Œç¨‹å¼ç¢¼å¡Šçš„çµæ§‹ã€‚Go èªè¨€æä¾›äº†å¹¾ç¨®è¿´åœˆæ–¹å¼ï¼š\nfor è¿´åœˆ for è¿´åœˆç”¨ä¾†é‡è¤‡åŸ·è¡Œä¸€æ®µç¨‹å¼ç¢¼å¡Šï¼Œå¯ä»¥æŒ‡å®šåˆå§‹å€¼ã€æ¢ä»¶å’Œéå¢æ–¹å¼ã€‚ä¾‹å¦‚ï¼š\nfor i := 0; i \u0026lt; 5; i++ { fmt.Println(i) } while è¿´åœˆ Go èªè¨€ä¸­æ²’æœ‰ while é—œéµå­—ï¼Œä½†æˆ‘å€‘å¯ä»¥ä½¿ç”¨ for è¿´åœˆä¾†å¯¦ç¾é¡ä¼¼çš„åŠŸèƒ½ï¼š\nnum := 0 for num \u0026lt; 5 { fmt.Println(num) num++ } ç„¡é™è¿´åœˆ æˆ‘å€‘å¯ä»¥ä½¿ç”¨ for è¿´åœˆä¾†å‰µå»ºç„¡é™è¿´åœˆï¼Œä¾‹å¦‚ï¼š\nfor { fmt.Println(\u0026#34;ç„¡é™è¿´åœˆ\u0026#34;) } ä½¿ç”¨ range éæ­·æ•¸æ“šçµæ§‹ é™¤äº†ä¸Šè¿°çš„è¿´åœˆæ–¹å¼å¤–ï¼Œæˆ‘å€‘é‚„å¯ä»¥ä½¿ç”¨ range é—œéµå­—ä¾†éæ­·æ•¸çµ„ã€åˆ‡ç‰‡ã€å­—ä¸²ã€æ˜ å°„ç­‰æ•¸æ“šçµæ§‹ã€‚ä¾‹å¦‚ï¼š\nnumbers := []int{1, 2, 3, 4, 5} for index, value := range numbers { fmt.Printf(\u0026#34;ç´¢å¼• %d çš„å€¼ç‚º %d\\n\u0026#34;, index, value) } word := \u0026#34;Hello\u0026#34; for index, char := range word { fmt.Printf(\u0026#34;ç´¢å¼• %d çš„å­—ç¬¦ç‚º %c\\n\u0026#34;, index, char) } è·³å‡ºèˆ‡ç¹¼çºŒ åœ¨è¿´åœˆä¸­ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ break ä¾†æå‰çµæŸè¿´åœˆï¼Œä½¿ç”¨ continue ä¾†è·³éæœ¬æ¬¡è¿­ä»£ï¼Œç¹¼çºŒä¸‹ä¸€æ¬¡è¿­ä»£ã€‚\nfor i := 0; i \u0026lt; 5; i++ { if i == 2 { continue // è·³éæœ¬æ¬¡è¿­ä»£ï¼Œç¹¼çºŒä¸‹ä¸€æ¬¡è¿­ä»£ } if i == 4 { break // æå‰çµæŸè¿´åœˆ } fmt.Println(i) } è·³è½‰èªå¥ goto åœ¨æŸäº›æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦ä½¿ç”¨ goto ä¾†ç›´æ¥è·³è½‰åˆ°ç¨‹å¼ç¢¼ä¸­çš„æŒ‡å®šæ¨™ç±¤ä½ç½®ã€‚ç„¶è€Œï¼Œgoto å¾€å¾€æœƒè®“ç¨‹å¼ç¢¼è®Šå¾—è¤‡é›œä¸”é›£ä»¥ç†è§£ï¼Œå› æ­¤åœ¨å¯¦éš›é–‹ç™¼ä¸­æ‡‰è¬¹æ…ä½¿ç”¨ã€‚\nfunc main() { i := 0 Loop: fmt.Println(i) i++ if i \u0026lt; 5 { goto Loop } } æ¨™ç±¤ label label æ˜¯ä¸€ç¨®ç”¨æ–¼æ¨™è¨˜ç¨‹å¼ç¢¼ä½ç½®çš„æ–¹å¼ï¼Œé€šå¸¸èˆ‡ goto ä¸€èµ·ä½¿ç”¨ã€‚è¼ƒå°‘ä½¿ç”¨ label å’Œ goto çš„ç¨‹å¼ç¢¼æ›´å®¹æ˜“é–±è®€å’Œç¶­è­·ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ä½¿ç”¨ label å’Œ goto çš„ç¯„ä¾‹ï¼š\nfunc main() { outer := 0 LoopOuter: for outer \u0026lt; 3 { inner := 0 LoopInner: for inner \u0026lt; 3 { fmt.Printf(\u0026#34;å¤–éƒ¨è¿´åœˆï¼š%dï¼Œå…§éƒ¨è¿´åœˆï¼š%d\\n\u0026#34;, outer, inner) inner++ goto LoopInner } outer++ goto LoopOuter } } æ³¨æ„äº‹é … åœ¨ä½¿ç”¨æ¢ä»¶èªå¥æ™‚ï¼Œç¢ºä¿æ¸…æ¥šåœ°ç†è§£ä¸åŒåˆ†æ”¯çš„åŸ·è¡Œæƒ…æ³ï¼Œé¿å…é‚è¼¯éŒ¯èª¤ã€‚ åœ¨ä½¿ç”¨è¿´åœˆæ™‚ï¼Œè¬¹è¨˜è¨­å®šé©ç•¶çš„çµ‚æ­¢æ¢ä»¶ï¼Œä»¥å…é™·å…¥ç„¡é™è¿´åœˆã€‚ ğŸ“šReference Effective Go - The Go Programming Language [Golang] æµç¨‹æ§åˆ¶ Control Flow | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/go-control-flow/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æœ¬æ–‡ç°¡å–®ä»‹ç´¹äº† Go èªè¨€çš„æµç¨‹æ§åˆ¶æ¦‚å¿µï¼Œæ¶µè“‹äº†å¾æ¢ä»¶èªå¥åˆ°è¿´åœˆï¼Œå†åˆ° range éæ­·æ•¸æ“šçµæ§‹ï¼Œä»¥åŠ goto èˆ‡æ¨™ç±¤ label çš„æ‡‰ç”¨ã€‚ä¸»è¦çŸ¥è­˜é»ç‚ºå¦‚ä½•ä½¿ç”¨ if èªå¥é€²è¡Œæ¢ä»¶åˆ¤æ–·ï¼Œä»¥åŠåœ¨ä¸åŒæƒ…æ³ä¸‹é‹ç”¨ switch èªå¥ã€‚æ­¤å¤–ï¼Œé‚„æ¢è¨äº† for è¿´åœˆå’Œ range çš„é‹ç”¨ï¼Œä»¥åŠåœ¨ç‰¹å®šæƒ…å¢ƒä¸‹ä½¿ç”¨ goto èˆ‡ labelã€‚\næ¢ä»¶èªå¥ åœ¨ Go èªè¨€ä¸­ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨æ¢ä»¶èªå¥ä¾†æ ¹æ“šä¸åŒçš„æ¢ä»¶åŸ·è¡Œä¸åŒçš„ç¨‹å¼ç¢¼å¡Šã€‚å¸¸è¦‹çš„æ¢ä»¶èªå¥åŒ…æ‹¬ï¼š\nif èªå¥ if èªå¥ç”¨ä¾†æª¢æŸ¥ä¸€å€‹æ¢ä»¶æ˜¯å¦æˆç«‹ï¼Œå¦‚æœæ¢ä»¶ç‚ºçœŸï¼Œå°±åŸ·è¡Œç›¸é—œçš„ç¨‹å¼ç¢¼å¡Šã€‚ä¾‹å¦‚ï¼š\nage := 18 if age \u0026gt;= 18 { fmt.Println(\u0026#34;ä½ å·²æˆå¹´\u0026#34;) } else { fmt.Println(\u0026#34;ä½ é‚„æœªæˆå¹´\u0026#34;) } æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ else if åˆ†æ”¯è™•ç†å¤šç¨®æƒ…æ³ï¼š\nage := 25 if age \u0026lt; 18 { fmt.Println(\u0026#34;ä½ é‚„æœªæˆå¹´\u0026#34;) } else if age \u0026gt;= 18 \u0026amp;\u0026amp; age \u0026lt; 60 { fmt.Println(\u0026#34;ä½ å·²æˆå¹´ï¼Œä½†å°šæœªé€€ä¼‘\u0026#34;) } else { fmt.","title":"æ¢ç´¢ Go èªè¨€çš„æµç¨‹æ§åˆ¶"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æœ¬æ–‡å¿«é€Ÿä»‹ç´¹äº† Go èªè¨€ä¸­çš„å„ç¨®é‹ç®—ç¬¦ï¼Œå¾æ•¸å­¸è¨ˆç®—åˆ°é‚è¼¯åˆ¤æ–·ï¼ŒåŒ…æ‹¬è‡ªå¢è‡ªæ¸›ã€è³¦å€¼ã€æ¯”è¼ƒå’Œä½é‹ç®—ã€‚é€éå¯¦ä¾‹å’Œæ¸…æ™°çš„è§£é‡‹ï¼Œå¿«é€ŸæŒæ¡å¦‚ä½•åœ¨ç¨‹å¼ä¸­é‹ç”¨é€™äº›é‹ç®—ç¬¦ã€‚\nç®—è¡“é‹ç®—ç¬¦ åœ¨ Go èªè¨€ä¸­ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨å„ç¨®ç®—è¡“é‹ç®—ç¬¦ä¾†åŸ·è¡ŒåŸºæœ¬çš„æ•¸å­¸é‹ç®—ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„ç®—è¡“é‹ç®—ç¬¦ï¼š\n+ï¼šåŠ æ³•é‹ç®—ï¼Œç”¨ä¾†å°‡å…©å€‹æ•¸ç›¸åŠ ã€‚ -ï¼šæ¸›æ³•é‹ç®—ï¼Œç”¨ä¾†å¾ä¸€å€‹æ•¸ä¸­æ¸›å»å¦ä¸€å€‹æ•¸ã€‚ *ï¼šä¹˜æ³•é‹ç®—ï¼Œç”¨ä¾†å°‡å…©å€‹æ•¸ç›¸ä¹˜ã€‚ /ï¼šé™¤æ³•é‹ç®—ï¼Œç”¨ä¾†å°‡ä¸€å€‹æ•¸é™¤ä»¥å¦ä¸€å€‹æ•¸ã€‚ %ï¼šæ±‚é¤˜é‹ç®—ï¼Œç”¨ä¾†å¾—åˆ°å…©å€‹æ•¸ç›¸é™¤çš„é¤˜æ•¸ã€‚ ä¾‹å¦‚ï¼š\na := 5 b := 3 c := a + b // c çš„å€¼æ˜¯ 8 d := a * b // d çš„å€¼æ˜¯ 15 æ­¤å¤–ï¼Œæˆ‘å€‘é‚„æœ‰è‡ªå¢å’Œè‡ªæ¸›é‹ç®—ç¬¦ï¼Œå®ƒå€‘ç”¨ä¾†è®“è®Šæ•¸çš„å€¼å¢åŠ æˆ–æ¸›å°‘ 1ï¼š\n++ï¼šè‡ªå¢é‹ç®—ç¬¦ï¼Œå°‡è®Šæ•¸çš„å€¼å¢åŠ  1ã€‚ --ï¼šè‡ªæ¸›é‹ç®—ç¬¦ï¼Œå°‡è®Šæ•¸çš„å€¼æ¸›å°‘ 1ã€‚ èˆ‰å€‹ä¾‹å­ï¼š\nx := 10 x++ // x çš„å€¼è®Šæˆäº† 11 y := 5 y-- // y çš„å€¼è®Šæˆäº† 4 è³¦å€¼é‹ç®—ç¬¦ è³¦å€¼é‹ç®—ç¬¦ç”¨ä¾†å°‡ä¸€å€‹å€¼è³¦çµ¦ä¸€å€‹è®Šæ•¸ã€‚æˆ‘å€‘å¸¸è¦‹çš„è³¦å€¼é‹ç®—ç¬¦æœ‰ï¼š\n=ï¼šå°‡å³é‚Šçš„å€¼è³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ +=ï¼šå…ˆå°‡å³é‚Šçš„å€¼åŠ åˆ°å·¦é‚Šçš„è®Šæ•¸ä¸Šï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ -=ï¼šå…ˆå¾å·¦é‚Šçš„è®Šæ•¸ä¸­æ¸›å»å³é‚Šçš„å€¼ï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ *=ï¼šå…ˆå°‡å·¦é‚Šçš„è®Šæ•¸ä¹˜ä»¥å³é‚Šçš„å€¼ï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ /=ï¼šå…ˆå°‡å·¦é‚Šçš„è®Šæ•¸é™¤ä»¥å³é‚Šçš„å€¼ï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ %=ï¼šå…ˆå°‡å·¦é‚Šçš„è®Šæ•¸é™¤ä»¥å³é‚Šçš„å€¼å–é¤˜æ•¸ï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ ç°¡å–®ç¯„ä¾‹å¦‚ä¸‹ï¼š\na := 10 b := 5 // = a = 20 // a çš„å€¼è®Šæˆäº† 20 // += a += b // ç­‰åŒæ–¼ a = a + bï¼Œæ‰€ä»¥ a çš„å€¼è®Šæˆäº† 25 // -= a -= b // ç­‰åŒæ–¼ a = a - bï¼Œæ‰€ä»¥ a çš„å€¼è®Šæˆäº† 20 // *= a *= b // ç­‰åŒæ–¼ a = a * bï¼Œæ‰€ä»¥ a çš„å€¼è®Šæˆäº† 100 // /= a /= b // ç­‰åŒæ–¼ a = a / bï¼Œæ‰€ä»¥ a çš„å€¼è®Šæˆäº† 20 // %= a %= b // ç­‰åŒæ–¼ a = a % bï¼Œæ‰€ä»¥ a çš„å€¼è®Šæˆäº† 0 æ¯”è¼ƒé‹ç®—ç¬¦ æ¯”è¼ƒé‹ç®—ç¬¦ç”¨ä¾†æ¯”è¼ƒå…©å€‹å€¼çš„å¤§å°æˆ–è€…æ˜¯å¦ç›¸ç­‰ã€‚æˆ‘å€‘å¸¸ç”¨çš„æ¯”è¼ƒé‹ç®—ç¬¦æœ‰ï¼š\n==ï¼šåˆ¤æ–·å…©å€‹å€¼æ˜¯å¦ç›¸ç­‰ã€‚ !=ï¼šåˆ¤æ–·å…©å€‹å€¼æ˜¯å¦ä¸ç›¸ç­‰ã€‚ \u0026lt;ï¼šåˆ¤æ–·å·¦é‚Šçš„å€¼æ˜¯å¦å°æ–¼å³é‚Šçš„å€¼ã€‚ \u0026gt;ï¼šåˆ¤æ–·å·¦é‚Šçš„å€¼æ˜¯å¦å¤§æ–¼å³é‚Šçš„å€¼ã€‚ \u0026lt;=ï¼šåˆ¤æ–·å·¦é‚Šçš„å€¼æ˜¯å¦å°æ–¼ç­‰æ–¼å³é‚Šçš„å€¼ã€‚ \u0026gt;=ï¼šåˆ¤æ–·å·¦é‚Šçš„å€¼æ˜¯å¦å¤§æ–¼ç­‰æ–¼å³é‚Šçš„å€¼ã€‚ ä»¥ä¸‹ç‚ºä½¿ç”¨ç¯„ä¾‹ï¼š\nx := 10 y := 5 isEqual := x == y // falseï¼Œå› ç‚º x ä¸ç­‰æ–¼ y isNotEqual := x != y // trueï¼Œå› ç‚º x ä¸ç­‰æ–¼ y isLess := x \u0026lt; y // falseï¼Œå› ç‚º x ä¸å°æ–¼ y isGreater := x \u0026gt; y // trueï¼Œå› ç‚º x å¤§æ–¼ y isLessOrEqual := x \u0026lt;= y // falseï¼Œå› ç‚º x ä¸å°æ–¼ç­‰æ–¼ y isGreaterOrEqual := x \u0026gt;= y // trueï¼Œå› ç‚º x å¤§æ–¼ç­‰æ–¼ y é‚è¼¯é‹ç®—ç¬¦ é‚è¼¯é‹ç®—ç¬¦ç”¨ä¾†åŸ·è¡Œé‚è¼¯æ“ä½œã€‚æˆ‘å€‘å¸¸ç”¨çš„é‚è¼¯é‹ç®—ç¬¦æœ‰ï¼š\n\u0026amp;\u0026amp;ï¼šé‚è¼¯èˆ‡ï¼Œç”¨ä¾†åˆ¤æ–·å¤šå€‹æ¢ä»¶æ˜¯å¦åŒæ™‚æ»¿è¶³ã€‚ ||ï¼šé‚è¼¯æˆ–ï¼Œç”¨ä¾†åˆ¤æ–·å¤šå€‹æ¢ä»¶æ˜¯å¦è‡³å°‘æœ‰ä¸€å€‹æ»¿è¶³ã€‚ !ï¼šé‚è¼¯éï¼Œç”¨ä¾†å–åä¸€å€‹æ¢ä»¶çš„çµæœã€‚ ä»¥ä¸‹ç‚ºä½¿ç”¨ç¯„ä¾‹ï¼š\np := true q := false andResult := p \u0026amp;\u0026amp; q // falseï¼Œå› ç‚º p å’Œ q ä¸éƒ½ç‚º true orResult := p || q // trueï¼Œå› ç‚º p æˆ– q è‡³å°‘æœ‰ä¸€å€‹ç‚º true notResult := !p // falseï¼Œå› ç‚º p ç‚º trueï¼Œå–åå¾Œç‚º false ä½é‹ç®—ç¬¦ ä½é‹ç®—ç¬¦ç”¨ä¾†åœ¨äºŒé€²åˆ¶ä½ç´šåˆ¥åŸ·è¡Œæ“ä½œã€‚æˆ‘å€‘å¸¸ç”¨çš„ä½é‹ç®—ç¬¦æœ‰ï¼š\n\u0026amp;ï¼šæŒ‰ä½èˆ‡ï¼Œå°æ¯ä¸€ä½é€²è¡Œèˆ‡æ“ä½œã€‚ |ï¼šæŒ‰ä½æˆ–ï¼Œå°æ¯ä¸€ä½é€²è¡Œæˆ–æ“ä½œã€‚ ^ï¼šæŒ‰ä½ç•°æˆ–ï¼Œå°æ¯ä¸€ä½é€²è¡Œç•°æˆ–æ“ä½œã€‚ \u0026lt;\u0026lt;ï¼šå·¦ç§»ï¼Œå°‡äºŒé€²åˆ¶ä½å‘å·¦ç§»å‹•æŒ‡å®šçš„ä½æ•¸ã€‚ \u0026gt;\u0026gt;ï¼šå³ç§»ï¼Œå°‡äºŒé€²åˆ¶ä½å‘å³ç§»å‹•æŒ‡å®šçš„ä½æ•¸ã€‚ ä»¥ä¸‹ç‚ºä½¿ç”¨ç¯„ä¾‹ï¼š\na := 5 // äºŒé€²åˆ¶è¡¨ç¤ºï¼š0101 b := 3 // äºŒé€²åˆ¶è¡¨ç¤ºï¼š0011 andResult := a \u0026amp; b // äºŒé€²åˆ¶è¡¨ç¤ºï¼š0001ï¼Œåé€²åˆ¶è¡¨ç¤ºï¼š1 orResult := a | b // äºŒé€²åˆ¶è¡¨ç¤ºï¼š0111ï¼Œåé€²åˆ¶è¡¨ç¤ºï¼š7 xorResult := a ^ b // äºŒé€²åˆ¶è¡¨ç¤ºï¼š0110ï¼Œåé€²åˆ¶è¡¨ç¤ºï¼š6 leftShiftResult := a \u0026lt;\u0026lt; 1 // äºŒé€²åˆ¶è¡¨ç¤ºï¼š1010ï¼Œåé€²åˆ¶è¡¨ç¤ºï¼š10 rightShiftResult := a \u0026gt;\u0026gt; 1 // äºŒé€²åˆ¶è¡¨ç¤ºï¼š0010ï¼Œåé€²åˆ¶è¡¨ç¤ºï¼š2 å…¶ä»–é‹ç®—ç¬¦ å…¶ä»–é‹ç®—ç¬¦ç”¨ä¾†åŸ·è¡Œä¸€äº›ç‰¹å®šçš„æ“ä½œã€‚æˆ‘å€‘å¸¸ç”¨çš„å…¶ä»–é‹ç®—ç¬¦æœ‰ï¼š\n\u0026amp;ï¼šå–åœ°å€ï¼Œç”¨ä¾†ç²å–è®Šæ•¸çš„å…§å­˜åœ°å€ã€‚ *ï¼šæŒ‡é‡ï¼Œç”¨ä¾†è²æ˜æŒ‡é‡è®Šæ•¸ã€‚ \u0026lt;-ï¼šé€šé“æ“ä½œç¬¦ï¼Œç”¨ä¾†ç™¼é€å’Œæ¥æ”¶é€šé“æ¶ˆæ¯ã€‚ ä»¥ä¸‹ç‚ºä½¿ç”¨ç¯„ä¾‹ï¼š\nvar num int = 42 ptr := \u0026amp;num // ptr ç¾åœ¨åŒ…å« num çš„å…§å­˜åœ°å€ var value int = *ptr // value ç¾åœ¨åŒ…å« ptr æ‰€æŒ‡å‘çš„å…§å­˜ä¸­çš„å€¼ ch := make(chan int) // å‰µå»ºä¸€å€‹æ•´æ•¸é€šé“ ch \u0026lt;- 10 // å°‡å€¼ 10 ç™¼é€åˆ°é€šé“ ch ä¸­ receivedValue := \u0026lt;-ch // å¾é€šé“ ch æ¥æ”¶å€¼ä¸¦å­˜å„²åœ¨ receivedValue ä¸­ ğŸ“šReference The Go Programming Language Specification - The Go Programming Language Go Operators - GeeksforGeeks ","permalink":"https://sz9751210.github.io/posts/go-operator/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æœ¬æ–‡å¿«é€Ÿä»‹ç´¹äº† Go èªè¨€ä¸­çš„å„ç¨®é‹ç®—ç¬¦ï¼Œå¾æ•¸å­¸è¨ˆç®—åˆ°é‚è¼¯åˆ¤æ–·ï¼ŒåŒ…æ‹¬è‡ªå¢è‡ªæ¸›ã€è³¦å€¼ã€æ¯”è¼ƒå’Œä½é‹ç®—ã€‚é€éå¯¦ä¾‹å’Œæ¸…æ™°çš„è§£é‡‹ï¼Œå¿«é€ŸæŒæ¡å¦‚ä½•åœ¨ç¨‹å¼ä¸­é‹ç”¨é€™äº›é‹ç®—ç¬¦ã€‚\nç®—è¡“é‹ç®—ç¬¦ åœ¨ Go èªè¨€ä¸­ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨å„ç¨®ç®—è¡“é‹ç®—ç¬¦ä¾†åŸ·è¡ŒåŸºæœ¬çš„æ•¸å­¸é‹ç®—ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„ç®—è¡“é‹ç®—ç¬¦ï¼š\n+ï¼šåŠ æ³•é‹ç®—ï¼Œç”¨ä¾†å°‡å…©å€‹æ•¸ç›¸åŠ ã€‚ -ï¼šæ¸›æ³•é‹ç®—ï¼Œç”¨ä¾†å¾ä¸€å€‹æ•¸ä¸­æ¸›å»å¦ä¸€å€‹æ•¸ã€‚ *ï¼šä¹˜æ³•é‹ç®—ï¼Œç”¨ä¾†å°‡å…©å€‹æ•¸ç›¸ä¹˜ã€‚ /ï¼šé™¤æ³•é‹ç®—ï¼Œç”¨ä¾†å°‡ä¸€å€‹æ•¸é™¤ä»¥å¦ä¸€å€‹æ•¸ã€‚ %ï¼šæ±‚é¤˜é‹ç®—ï¼Œç”¨ä¾†å¾—åˆ°å…©å€‹æ•¸ç›¸é™¤çš„é¤˜æ•¸ã€‚ ä¾‹å¦‚ï¼š\na := 5 b := 3 c := a + b // c çš„å€¼æ˜¯ 8 d := a * b // d çš„å€¼æ˜¯ 15 æ­¤å¤–ï¼Œæˆ‘å€‘é‚„æœ‰è‡ªå¢å’Œè‡ªæ¸›é‹ç®—ç¬¦ï¼Œå®ƒå€‘ç”¨ä¾†è®“è®Šæ•¸çš„å€¼å¢åŠ æˆ–æ¸›å°‘ 1ï¼š\n++ï¼šè‡ªå¢é‹ç®—ç¬¦ï¼Œå°‡è®Šæ•¸çš„å€¼å¢åŠ  1ã€‚ --ï¼šè‡ªæ¸›é‹ç®—ç¬¦ï¼Œå°‡è®Šæ•¸çš„å€¼æ¸›å°‘ 1ã€‚ èˆ‰å€‹ä¾‹å­ï¼š\nx := 10 x++ // x çš„å€¼è®Šæˆäº† 11 y := 5 y-- // y çš„å€¼è®Šæˆäº† 4 è³¦å€¼é‹ç®—ç¬¦ è³¦å€¼é‹ç®—ç¬¦ç”¨ä¾†å°‡ä¸€å€‹å€¼è³¦çµ¦ä¸€å€‹è®Šæ•¸ã€‚æˆ‘å€‘å¸¸è¦‹çš„è³¦å€¼é‹ç®—ç¬¦æœ‰ï¼š\n=ï¼šå°‡å³é‚Šçš„å€¼è³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ +=ï¼šå…ˆå°‡å³é‚Šçš„å€¼åŠ åˆ°å·¦é‚Šçš„è®Šæ•¸ä¸Šï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ -=ï¼šå…ˆå¾å·¦é‚Šçš„è®Šæ•¸ä¸­æ¸›å»å³é‚Šçš„å€¼ï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ *=ï¼šå…ˆå°‡å·¦é‚Šçš„è®Šæ•¸ä¹˜ä»¥å³é‚Šçš„å€¼ï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ /=ï¼šå…ˆå°‡å·¦é‚Šçš„è®Šæ•¸é™¤ä»¥å³é‚Šçš„å€¼ï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ %=ï¼šå…ˆå°‡å·¦é‚Šçš„è®Šæ•¸é™¤ä»¥å³é‚Šçš„å€¼å–é¤˜æ•¸ï¼Œç„¶å¾Œå†å°‡çµæœè³¦çµ¦å·¦é‚Šçš„è®Šæ•¸ã€‚ ç°¡å–®ç¯„ä¾‹å¦‚ä¸‹ï¼š","title":"Go èªè¨€çš„å„ç¨®é‹ç®—ç¬¦"},{"content":"ç”šéº¼æ˜¯secret åœ¨ Kubernetes è£¡ï¼ŒSecret å°±åƒæ˜¯ä¸€å€‹ä¿éšªç®±ï¼Œå¯ä»¥æ”¾ä½ ä»»ä½•ä¸æƒ³å…¬é–‹çš„æ±è¥¿ã€‚æ¯”å¦‚èªªå¯†ç¢¼ã€API é‡‘é‘°ã€æ†‘è­‰ç­‰ï¼Œé€™æ¨£çš„è³‡æ–™å¯èƒ½æœƒè¢«æ”¾åœ¨ Pod è£¡ï¼Œä½†ä½ å¯ä»¥ç”¨ Secret ä¾†é¿å…ç›´æ¥åœ¨æ‡‰ç”¨ç¨‹å¼çš„ç¨‹å¼ç¢¼ä¸­æš´éœ²é€™äº›æ©Ÿå¯†è³‡æ–™ã€‚ å¯ä»¥èªª Secret å°±åƒæ˜¯ ConfigMap çš„ä¸€å€‹å¥½æœ‹å‹ï¼Œä½†æ›´å°ˆé–€ç”¨ä¾†ä¿è­·æ©Ÿå¯†è³‡æ–™çš„åœ°æ–¹ã€‚\nç‚ºç”šéº¼éœ€è¦secret æœ€ä¸»è¦çš„ç”¨æ„æ˜¯ä¿è­·ä½ çš„æ•æ„Ÿè³‡è¨Šï¼Œä¸è®“å®ƒå€‘åœ¨ Pod æˆ–å®¹å™¨ä¸­ä»¥æ˜æ–‡æµå‚³ã€‚é€™æ¨£å¯ä»¥è®“æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼è®Šå¾—æ›´å®‰å…¨ï¼Œæ¸›å°‘æ©Ÿå¯†è³‡è¨Šå¤–æ´©çš„é¢¨éšªã€‚é‚„èƒ½è®“ä½ çš„ç§˜å¯†è³‡æ–™åœ¨ä¸åŒ Pod ä¹‹é–“åˆ†äº«ï¼Œä¸¦ä¸”ä¿æœ‰å®‰å…¨æ€§ã€‚\nä½•æ™‚ä½¿ç”¨secret ä¿å­˜å¿…è¦æ‡‰ç”¨ç¨‹å¼çš„æ†‘è­‰ï¼Œå¦‚ TLS è­‰æ›¸ï¼Œä»¥ç¢ºä¿å®‰å…¨é€šä¿¡ã€‚ å„²å­˜æ‡‰ç”¨ç¨‹å¼æ‰€éœ€çš„é‡‘é‘°ï¼ŒåŒ…æ‹¬å¤–éƒ¨æœå‹™çš„ API é‡‘é‘°ï¼Œç¢ºä¿å®‰å…¨é€£æ¥ã€‚ ä¿ç®¡æ•æ„Ÿçš„ç’°å¢ƒè®Šæ•¸ï¼Œå¦‚è³‡æ–™åº«å¯†ç¢¼ç­‰æ©Ÿå¯†é©—è­‰è³‡è¨Šï¼Œç¶­è­·æ‡‰ç”¨ç¨‹å¼å®‰å…¨æ€§ã€‚ å®‰å…¨å„²å­˜é©—è­‰è³‡è¨Šï¼Œå¦‚ OAuth ä»¤ç‰Œï¼Œç”¨æ–¼èˆ‡å…¶ä»–æ‡‰ç”¨ç¨‹å¼é€²è¡Œå®‰å…¨äº¤äº’ã€‚ ç¶­æŒéš±ç§çš„é…ç½®è¨­å®šï¼Œå¦‚è¨­å®šæ–‡ä»¶ã€é‡‘é‘°è·¯å¾‘ç­‰ï¼Œç¢ºä¿æ•æ„Ÿè³‡è¨Šä¸å¤–æ´©ã€‚ secretçš„é¡å‹æœ‰å“ªäº› å…§å»ºé¡å‹ ç”¨é€” Opaque ä½¿ç”¨è€…å®šç¾©çš„ä»»æ„è³‡æ–™ kubernetes.io/service-account-token æœå‹™å¸³æˆ¶ä»¤ç‰Œ kubernetes.io/dockercfg ~/.dockercfg æª”æ¡ˆçš„åºåˆ—åŒ–å½¢å¼ kubernetes.io/dockerconfigjson ~/.docker/config.json æª”æ¡ˆçš„åºåˆ—åŒ–å½¢å¼ kubernetes.io/basic-auth ç”¨æ–¼åŸºæœ¬èº«ä»½é©—è­‰çš„æ†‘è­‰ kubernetes.io/ssh-auth ç”¨æ–¼ SSH èº«ä»½é©—è­‰çš„æ†‘è­‰ kubernetes.io/tls ç”¨æ–¼ TLS å®¢æˆ¶ç«¯æˆ–ä¼ºæœå™¨ç«¯çš„è³‡æ–™ bootstrap.kubernetes.io/token å•Ÿå‹•å¼•å°ä»¤ç‰Œè³‡æ–™ å¦‚ä½•æ’°å¯«ä½¿ç”¨secret å»ºç«‹secret è²æ˜å¼ apiVersion: v1 kind: Secret metadata: name: my-secret data: username: YWRtaW4= # Base64 ç·¨ç¢¼çš„ \u0026#34;admin\u0026#34; password: c2VjcmV0cGFzc3dvcmQ= # Base64 ç·¨ç¢¼çš„ \u0026#34;secretpassword\u0026#34; å®£å‘Šå¼ å¾å‘½ä»¤è¡Œå‚³éè³‡è¨Šå»ºç«‹secret kubectl create secret generic my-secret --from-literal=username=admin --from-literal=password=secretpassword å¾æª”æ¡ˆå»ºç«‹secret kubectl create secret generic my-secret --from-file=path/to/username.txt --from-file=path/to/password.txt ä½¿ç”¨secret æˆ‘å€‘å¯ä»¥ç”¨å‰›å‰›å‰µå»ºçš„ my-secret ä¾†åšä»¥ä¸‹çš„ç¯„ä¾‹\nsecretä½œç‚ºç’°å¢ƒè®Šæ•¸ apiVersion: v1 kind: Pod metadata: name: secret-env-demo-pod spec: containers: - name: demo-container image: busybox command: [\u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;echo Username: $USERNAME \u0026amp;\u0026amp; echo Password: $PASSWORD\u0026#34;] env: - name: USERNAME valueFrom: secretKeyRef: name: my-secret key: username - name: PASSWORD valueFrom: secretKeyRef: name: my-secret key: password restartPolicy: Never é€ékubectl logs secret-env-demo-podæŸ¥çœ‹log\nUsername: admin Password: secretpassword å°‡secretæ›è¼‰åˆ°ä¸€å€‹æˆ–å¤šå€‹å®¹å™¨ apiVersion: v1 kind: Pod metadata: name: secret-volume-demo-pod spec: containers: - name: first-container image: busybox command: [\u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;cat /etc/secret/username\u0026#34;] volumeMounts: - name: secret-volume mountPath: /etc/secret - name: second-container image: busybox command: [\u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;cat /etc/secret/password\u0026#34;] volumeMounts: - name: secret-volume mountPath: /etc/secret volumes: - name: secret-volume secret: secretName: my-secret ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æª¢æŸ¥è¼¸å‡º\nkubectl logs secret-volume-demo-pod -c first-container kubectl logs secret-volume-demo-pod -c second-container output\n## first-container admin ## second-container secretpassword secretä½œç‚ºæ‹‰å–private registry imageæ™‚ä½¿ç”¨ apiVersion: v1 kind: Pod metadata: name: secret-imagepull-demo-pod spec: containers: - name: demo-container image: \u0026lt;private_registry_image\u0026gt; imagePullSecrets: - name: my-secret secretæœ‰å“ªäº›ç‰¹é» å¼·å¤§çš„è³‡æ–™åŠ å¯†ï¼šSecret çš„ä¸€å¤§å„ªé»åœ¨æ–¼å®ƒå¯ä»¥å°æ•æ„Ÿè³‡æ–™é€²è¡Œå¼·å¤§çš„åŠ å¯†ä¿è­·ã€‚é€™ä¿éšœäº†ç§˜å¯†è³‡è¨Šä¸æœƒè¼•æ˜“è¢«æœªæˆæ¬Šçš„äººçœ‹åˆ°ï¼Œå¤§å¹…æ¸›ä½äº†è³‡è¨Šå¤–æ´©çš„é¢¨éšªã€‚ Base64 ç·¨ç¢¼çš„è½‰æ›ï¼šSecret åœ¨å„²å­˜è³‡æ–™æ™‚æœƒä½¿ç”¨ Base64 ç·¨ç¢¼ï¼Œä½†æ˜¯è«‹æ³¨æ„é€™ä¸¦éæœ€é«˜ç­‰ç´šçš„å®‰å…¨æ¨™æº–ï¼Œå®ƒä¸èƒ½å–ä»£çœŸæ­£çš„åŠ å¯†æ–¹æ³•ã€‚é€™æ¨£çš„ç·¨ç¢¼èƒ½å¤ ä¿è­·è³‡æ–™ï¼Œä½†éœ€è¦åœ¨æ“ä½œæ™‚è¬¹æ…ä»¥ä¿éšœè³‡è¨Šå®‰å…¨ã€‚ ç°¡ä¾¿çš„æ•´åˆï¼šé€é Secretï¼Œæˆ‘å€‘èƒ½å¤ è¼•é¬†åœ°å°‡æ•æ„Ÿè³‡æ–™æ•´åˆåˆ°æ‡‰ç”¨ç¨‹å¼ä¸­ï¼Œä¾‹å¦‚é€éç’°å¢ƒè®Šæ•¸ã€æ›è¼‰è³‡æ–™å¤¾ç­‰æ–¹å¼ï¼Œè®“ Pod å¯ä»¥ç„¡ç¸«åœ°ä½¿ç”¨é€™äº›æ•æ„Ÿè³‡æ–™ã€‚ å®‰å…¨çš„è³‡è¨Šåˆ†äº«ï¼šSecret ä¹Ÿæä¾›äº†ä¸€ç¨®å®‰å…¨çš„æ–¹å¼ï¼Œè®“ä¸åŒçš„ Pod æˆ–å…¶ä»– Kubernetes è³‡æºå¯ä»¥å…±ç”¨æ•æ„Ÿè³‡è¨Šï¼ŒåŒæ™‚ä¿æŒè³‡æ–™çš„ä¿å¯†æ€§ã€‚é€™è®“ä¸åŒéƒ¨åˆ†çš„æ‡‰ç”¨èƒ½å¤ äº’ç›¸å”ä½œï¼ŒåŒæ™‚ä¸æœƒå¨è„…è³‡è¨Šå®‰å…¨ã€‚ Reference Secret | Kubernetes ","permalink":"https://sz9751210.github.io/posts/k8s-secret/","summary":"ç”šéº¼æ˜¯secret åœ¨ Kubernetes è£¡ï¼ŒSecret å°±åƒæ˜¯ä¸€å€‹ä¿éšªç®±ï¼Œå¯ä»¥æ”¾ä½ ä»»ä½•ä¸æƒ³å…¬é–‹çš„æ±è¥¿ã€‚æ¯”å¦‚èªªå¯†ç¢¼ã€API é‡‘é‘°ã€æ†‘è­‰ç­‰ï¼Œé€™æ¨£çš„è³‡æ–™å¯èƒ½æœƒè¢«æ”¾åœ¨ Pod è£¡ï¼Œä½†ä½ å¯ä»¥ç”¨ Secret ä¾†é¿å…ç›´æ¥åœ¨æ‡‰ç”¨ç¨‹å¼çš„ç¨‹å¼ç¢¼ä¸­æš´éœ²é€™äº›æ©Ÿå¯†è³‡æ–™ã€‚ å¯ä»¥èªª Secret å°±åƒæ˜¯ ConfigMap çš„ä¸€å€‹å¥½æœ‹å‹ï¼Œä½†æ›´å°ˆé–€ç”¨ä¾†ä¿è­·æ©Ÿå¯†è³‡æ–™çš„åœ°æ–¹ã€‚\nç‚ºç”šéº¼éœ€è¦secret æœ€ä¸»è¦çš„ç”¨æ„æ˜¯ä¿è­·ä½ çš„æ•æ„Ÿè³‡è¨Šï¼Œä¸è®“å®ƒå€‘åœ¨ Pod æˆ–å®¹å™¨ä¸­ä»¥æ˜æ–‡æµå‚³ã€‚é€™æ¨£å¯ä»¥è®“æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼è®Šå¾—æ›´å®‰å…¨ï¼Œæ¸›å°‘æ©Ÿå¯†è³‡è¨Šå¤–æ´©çš„é¢¨éšªã€‚é‚„èƒ½è®“ä½ çš„ç§˜å¯†è³‡æ–™åœ¨ä¸åŒ Pod ä¹‹é–“åˆ†äº«ï¼Œä¸¦ä¸”ä¿æœ‰å®‰å…¨æ€§ã€‚\nä½•æ™‚ä½¿ç”¨secret ä¿å­˜å¿…è¦æ‡‰ç”¨ç¨‹å¼çš„æ†‘è­‰ï¼Œå¦‚ TLS è­‰æ›¸ï¼Œä»¥ç¢ºä¿å®‰å…¨é€šä¿¡ã€‚ å„²å­˜æ‡‰ç”¨ç¨‹å¼æ‰€éœ€çš„é‡‘é‘°ï¼ŒåŒ…æ‹¬å¤–éƒ¨æœå‹™çš„ API é‡‘é‘°ï¼Œç¢ºä¿å®‰å…¨é€£æ¥ã€‚ ä¿ç®¡æ•æ„Ÿçš„ç’°å¢ƒè®Šæ•¸ï¼Œå¦‚è³‡æ–™åº«å¯†ç¢¼ç­‰æ©Ÿå¯†é©—è­‰è³‡è¨Šï¼Œç¶­è­·æ‡‰ç”¨ç¨‹å¼å®‰å…¨æ€§ã€‚ å®‰å…¨å„²å­˜é©—è­‰è³‡è¨Šï¼Œå¦‚ OAuth ä»¤ç‰Œï¼Œç”¨æ–¼èˆ‡å…¶ä»–æ‡‰ç”¨ç¨‹å¼é€²è¡Œå®‰å…¨äº¤äº’ã€‚ ç¶­æŒéš±ç§çš„é…ç½®è¨­å®šï¼Œå¦‚è¨­å®šæ–‡ä»¶ã€é‡‘é‘°è·¯å¾‘ç­‰ï¼Œç¢ºä¿æ•æ„Ÿè³‡è¨Šä¸å¤–æ´©ã€‚ secretçš„é¡å‹æœ‰å“ªäº› å…§å»ºé¡å‹ ç”¨é€” Opaque ä½¿ç”¨è€…å®šç¾©çš„ä»»æ„è³‡æ–™ kubernetes.io/service-account-token æœå‹™å¸³æˆ¶ä»¤ç‰Œ kubernetes.io/dockercfg ~/.dockercfg æª”æ¡ˆçš„åºåˆ—åŒ–å½¢å¼ kubernetes.io/dockerconfigjson ~/.docker/config.json æª”æ¡ˆçš„åºåˆ—åŒ–å½¢å¼ kubernetes.io/basic-auth ç”¨æ–¼åŸºæœ¬èº«ä»½é©—è­‰çš„æ†‘è­‰ kubernetes.io/ssh-auth ç”¨æ–¼ SSH èº«ä»½é©—è­‰çš„æ†‘è­‰ kubernetes.io/tls ç”¨æ–¼ TLS å®¢æˆ¶ç«¯æˆ–ä¼ºæœå™¨ç«¯çš„è³‡æ–™ bootstrap.kubernetes.io/token å•Ÿå‹•å¼•å°ä»¤ç‰Œè³‡æ–™ å¦‚ä½•æ’°å¯«ä½¿ç”¨secret å»ºç«‹secret è²æ˜å¼ apiVersion: v1 kind: Secret metadata: name: my-secret data: username: YWRtaW4= # Base64 ç·¨ç¢¼çš„ \u0026#34;admin\u0026#34; password: c2VjcmV0cGFzc3dvcmQ= # Base64 ç·¨ç¢¼çš„ \u0026#34;secretpassword\u0026#34; å®£å‘Šå¼ å¾å‘½ä»¤è¡Œå‚³éè³‡è¨Šå»ºç«‹secret kubectl create secret generic my-secret --from-literal=username=admin --from-literal=password=secretpassword å¾æª”æ¡ˆå»ºç«‹secret kubectl create secret generic my-secret --from-file=path/to/username.","title":"Kubernetes Secret"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ Go èªè¨€æœ‰å„ç¨®è³‡æ–™å‹åˆ¥ï¼Œåˆ†ç‚ºåŸºæœ¬å‹åˆ¥å’Œè¤‡åˆå‹åˆ¥ã€‚åŸºæœ¬å‹åˆ¥åŒ…æ‹¬ï¼š\næ•´æ•¸ã€æµ®é»æ•¸ã€å¸ƒæ—å€¼ã€å­—ä¸² è¤‡åˆå‹åˆ¥åŒ…æ‹¬ï¼š\né™£åˆ—ã€ç‰‡æ®µã€çµæ§‹ã€å‡½å¼ã€å°æ˜ ã€é€šé“ã€ä»‹é¢ ç­‰ã€‚ æ•´æ•¸å‹åˆ¥ æ•´æ•¸å‹åˆ¥æœ‰è¨±å¤šç¨®ï¼Œåƒæ˜¯ int8ã€int16ã€int32ã€int64ã€‚æˆ‘å€‘å¯ä»¥ä¾æ“šå¯¦éš›éœ€æ±‚é¸æ“‡ã€‚\nä½ ç”šè‡³å¯ä»¥ä½¿ç”¨ int é—œéµå­—ï¼Œå®ƒæœƒä¾æ“šä¸åŒä½œæ¥­ç³»çµ±è‡ªå‹•é¸æ“‡å¤§å°ï¼š\nåœ¨ 32 ä½ä½œæ¥­ç³»çµ±ï¼šint æœƒè®Šæˆ int32 åœ¨ 64 ä½ä½œæ¥­ç³»çµ±ï¼šint æœƒè®Šæˆ int64 ä½†æ˜¯ï¼Œåˆ¥å¿˜äº†ï¼Œæ•¸å­—å‹åˆ¥é‚„æœ‰å…¶ç¯„åœå’Œç‰¹é»ã€‚\nå‹åˆ¥ ä½å…ƒçµ„æ•¸ æœ€å°å€¼ æœ€å¤§å€¼ æ¬¡æ–¹ç¯„åœ int8 1 -128 127 -2^7 è‡³ 2^7-1 int16 2 -32,768 32,767 -2^15 è‡³ 2^15-1 int32 4 -2,147,483,648 2,147,483,647 -2^31 è‡³ 2^31-1 int64 8 -9,223,372,036,854,775,808 9,223,372,036,854,775,807 -2^63 è‡³ 2^63-1 uint8 1 0 255 0 è‡³ 2^8-1 uint16 2 0 65,535 0 è‡³ 2^16-1 uint32 4 0 4,294,967,295 0 è‡³ 2^32-1 uint64 8 0 18,446,744,073,709,551,615 0 è‡³ 2^64-1 å¯ä»¥é€šé unsafe.Sizeof ä¾†æŸ¥çœ‹ä¸åŒé•·åº¦çš„æ•´æ•¸ï¼Œåœ¨è¨˜æ†¶é«”ä¸­çš„å„²å­˜ç©ºé–“ã€‚\nvar num2 = 12 fmt.Println(unsafe.Sizeof(num2)) è½‰æ›å‹åˆ¥ è¦é€²è¡Œå‹åˆ¥è½‰æ›ï¼Œåªéœ€åœ¨è®Šæ•¸å‰é¢æŒ‡å®šç›®æ¨™å‹åˆ¥å³å¯ã€‚\nvar a1 int16 = 10 var a2 int32 = 12 var a3 = int32(a1) + a2 fmt.Println(a3) ä½†ç•¶é«˜ä½è½‰ä½ä½æ™‚ï¼Œå¯èƒ½æœƒæœ‰ç²¾åº¦æå¤±ã€‚ä¾‹å¦‚ï¼Œå¾ 16 ä½è½‰ç‚º 8 ä½ï¼Œå¯èƒ½æœƒæœ‰æ•¸æ“šä¸Ÿå¤±ã€‚\nvar n1 int16 = 130 fmt.Println(int8(n1)) // è®Šæˆ -126 æ•¸å€¼å­—é¢é‡(literal) è‡ª Go 1.13 ç‰ˆæœ¬èµ·ï¼Œä½ å¯ä»¥ä½¿ç”¨æ•¸å€¼å­—é¢é‡èªæ³•ï¼Œä»¥äºŒé€²åˆ¶ã€å…«é€²åˆ¶æˆ–åå…­é€²åˆ¶æ ¼å¼ä¾†å®šç¾©æ•¸å­—ï¼š\nv := 0b00101101 // ä»£è¡¨äºŒé€²åˆ¶çš„101101 v := 0o377 // ä»£è¡¨å…«é€²åˆ¶çš„377 é€²åˆ¶è½‰æ› ä½ å¯ä»¥é€éä¸åŒé€²åˆ¶ä¾†è¡¨ç¤ºæ•¸å­—ï¼Œä¾‹å¦‚ï¼š\nvar number = 17 fmt.Printf(\u0026#34;åŸæ¨£è¼¸å‡ºï¼š%v\\n\u0026#34;, number) fmt.Printf(\u0026#34;åé€²åˆ¶è¼¸å‡ºï¼š%d\\n\u0026#34;, number) fmt.Printf(\u0026#34;å…«é€²åˆ¶è¼¸å‡ºï¼š%o\\n\u0026#34;, number) fmt.Printf(\u0026#34;äºŒé€²åˆ¶è¼¸å‡ºï¼š%b\\n\u0026#34;, number) fmt.Printf(\u0026#34;åå…­é€²åˆ¶è¼¸å‡ºï¼š%x\\n\u0026#34;, number) æµ®é»æ•¸å‹åˆ¥ Go èªè¨€æ”¯æ´å…©ç¨®æµ®é»æ•¸å‹åˆ¥ï¼šfloat32 å’Œ float64ã€‚é€™å…©ç¨®æµ®é»æ•¸éµå¾ª IEEE754 æ¨™æº–ï¼š\nfloat32 çš„æœ€å¤§ç¯„åœç´„ç‚º 3.4e38ï¼Œä½ å¯ä»¥ä½¿ç”¨å¸¸æ•¸ math.MaxFloat32 ä¾†è¡¨ç¤ºã€‚ float64 çš„æœ€å¤§ç¯„åœç´„ç‚º 1.8e308ï¼Œä½ å¯ä»¥ä½¿ç”¨å¸¸æ•¸ math.MaxFloat64 ä¾†è¡¨ç¤ºã€‚ æ‰“å°æµ®é»æ•¸æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ fmt å¥—ä»¶çš„ %f ä¾†æ§åˆ¶å°æ•¸é»ä½æ•¸ï¼š\nvar pi = math.Pi fmt.Printf(\u0026#34;é è¨­å°æ•¸é»å¾Œ6ä½ï¼š%f\\n\u0026#34;, pi) fmt.Printf(\u0026#34;å°æ•¸é»å¾Œä¿ç•™2ä½ï¼š%.2f\\n\u0026#34;, pi) æµ®é»æ•¸ç²¾åº¦å•é¡Œ å¹¾ä¹æ‰€æœ‰ç¨‹å¼èªè¨€éƒ½æœƒæœ‰ç²¾åº¦æå¤±çš„å•é¡Œï¼Œé€™åœ¨è¨ˆç®—æ©Ÿç§‘å­¸ä¸­æ˜¯å¸¸è¦‹çš„å•é¡Œã€‚ä¾‹å¦‚ï¼š\nd := 1129.6 fmt.Println(d * 100) // è¼¸å‡º 112959.99999999 å¦‚æœéœ€è¦é«˜ç²¾åº¦è¨ˆç®—ï¼Œå¯ä»¥è€ƒæ…®ä½¿ç”¨ç¬¬ä¸‰æ–¹å¥—ä»¶ä¾†è§£æ±ºï¼Œä¾‹å¦‚ï¼š\nshopspring/decimal: åœ¨ Go ä¸­å¯¦ç¾çš„ä»»æ„ç²¾åº¦å›ºå®šå°æ•¸é»æ•¸å­— (github.com)\nå¸ƒæ—å‹åˆ¥ å®šç¾©å¸ƒæ—å‹åˆ¥å¾ˆç°¡å–®ï¼š\nvar fl = false if fl { fmt.Println(\u0026#34;true\u0026#34;) } else { fmt.Println(\u0026#34;false\u0026#34;) } å­—ä¸²å‹åˆ¥ åœ¨ Go èªè¨€ä¸­ï¼Œå­—ä¸²æ˜¯åŸç”Ÿè³‡æ–™å‹åˆ¥ï¼Œèˆ‡å…¶ä»–å‹åˆ¥ä¸€æ¨£ä½¿ç”¨ã€‚Go èªè¨€å…§éƒ¨ä½¿ç”¨ UTF-8 ç·¨ç¢¼ä¾†è¡¨ç¤ºå­—ä¸²ã€‚ä½ å¯ä»¥åœ¨é›™å¼•è™Ÿï¼ˆ\u0026quot;ï¼‰ä¸­æ”¾ç½®å…§å®¹ä¾†è¡¨ç¤ºå­—ä¸²ï¼Œç”šè‡³å¯ä»¥åœ¨ç¨‹å¼ç¢¼ä¸­æ·»åŠ é ASCII å­—å…ƒã€‚\ns1 := \u0026#34;hello\u0026#34; s2 := \u0026#34;ä½ å¥½\u0026#34; å¦‚æœæƒ³è¦å®šç¾©å¤šè¡Œå­—ä¸²ï¼Œå¯ä»¥ä½¿ç”¨åå¼•è™Ÿï¼š\nvar str = `é€™æ˜¯ç¬¬ä¸€è¡Œ é€™æ˜¯ç¬¬äºŒè¡Œ` fmt.Println(str) å­—ä¸²é‚„æ”¯æ´è¨±å¤šå¸¸è¦‹çš„æ“ä½œï¼Œä¾‹å¦‚è¨ˆç®—é•·åº¦ã€ä¸²æ¥ã€åˆ†å‰²ã€åˆ¤æ–·æ˜¯å¦åŒ…å«ã€å‰ç¶´å’Œå¾Œç¶´åˆ¤æ–·ã€å°‹æ‰¾å­å­—ä¸²ä½ç½®ç­‰ã€‚\nå­—ä¸²å¸¸è¦‹æ“ä½œ len(str)ï¼šè¨ˆç®—é•·åº¦ + æˆ– fmt.Sprintfï¼šä¸²æ¥å­—ä¸² strings.Splitï¼šåˆ†å‰²å­—ä¸² strings.Containsï¼šåˆ¤æ–·æ˜¯å¦åŒ…å« strings.HasPrefixï¼Œstrings.HasSuffixï¼šå‰ç¶´/å¾Œç¶´åˆ¤æ–· strings.Index()ï¼Œstrings.LastIndex()ï¼šå­å­—ä¸²å‡ºç¾çš„ä½ç½® strings.Join()ï¼šåˆä½µæ“ä½œ strings.Index()ï¼šåˆ¤æ–·åœ¨å­—ä¸²ä¸­çš„ä½ç½® byte å’Œ rune å‹åˆ¥ æ§‹æˆæ¯å€‹å­—ä¸²çš„å…ƒç´ ç¨±ç‚ºã€Œå­—ç¬¦ã€ï¼Œå¯ä»¥é€šééæ­·å­—ä¸²å…ƒç´ ç²å–å­—ç¬¦ã€‚å­—ç¬¦ä½¿ç”¨å–®å¼•è™Ÿ \u0026rsquo;\u0026rsquo; åŒ…è£¹èµ·ä¾†ã€‚\nGoèªè¨€ä¸­çš„å­—ç¬¦æœ‰ä»¥ä¸‹å…©ç¨®å‹åˆ¥ï¼š\nuint8å‹åˆ¥ï¼šä¹Ÿå«byteå‹ï¼Œä»£è¡¨äº†ACIIç¢¼çš„ä¸€å€‹å­—ç¬¦ runeå‹åˆ¥ï¼šä»£è¡¨ä¸€å€‹UTF-8å­—ç¬¦ ç•¶éœ€è¦è™•ç†ä¸­æ–‡ã€æ—¥æ–‡æˆ–å…¶ä»–è¤‡åˆå­—ç¬¦æ™‚ï¼Œå°±éœ€è¦ä½¿ç”¨runeå‹åˆ¥ã€‚runeå‹åˆ¥å¯¦éš›ä¸Šæ˜¯ä¸€å€‹int32ã€‚\nGoä½¿ç”¨äº†ç‰¹æ®Šçš„runeå‹åˆ¥ä¾†è™•ç†Unicodeï¼Œè®“åŸºæ–¼Unicodeçš„æ–‡æœ¬è™•ç†æ›´åŠ æ–¹ä¾¿ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨byteå‹é€²è¡Œé»˜èªå­—ä¸²è™•ç†ï¼Œæ€§èƒ½å’Œæ“´å±•æ€§éƒ½å¾—åˆ°è€ƒæ…®ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨Goèªè¨€ä¸­ï¼Œä¸€å€‹æ¼¢å­—ä½”ç”¨3å€‹ä½å…ƒçµ„ï¼ˆUTF-8ç·¨ç¢¼ï¼‰ï¼Œä¸€å€‹å­—æ¯ä½”ç”¨1å€‹ä½å…ƒçµ„ã€‚\npackage main import \u0026#34;fmt\u0026#34; func main() { var a byte = \u0026#39;a\u0026#39; fmt.Println(a) // è¼¸å‡ºASCIIç¢¼å€¼ï¼Œç›´æ¥è¼¸å‡ºbyteï¼ˆå­—ç¬¦ï¼‰æ™‚ï¼Œé¡¯ç¤ºå­—ç¬¦å°æ‡‰çš„ç¢¼å€¼ fmt.Printf(\u0026#34;%c\u0026#34;, a) // è¼¸å‡ºå­—ç¬¦ \u0026#39;a\u0026#39; s := \u0026#34;ä½ å¥½ golang\u0026#34; for i := 0; i \u0026lt; len(s); i++ { fmt.Printf(\u0026#34;%v(%c)\\t\u0026#34;, s[i], s[i]) // ä½¿ç”¨ len å¾ªç’°è¼¸å‡º ASCII ç¢¼ } for index, v := range s { fmt.Println(index, v) // é€šéruneæ‰“å°UTF-8å­—ç¬¦ } } ä¿®æ”¹å­—ä¸² è¦ä¿®æ”¹å­—ä¸²ï¼Œéœ€è¦å…ˆå°‡å…¶è½‰æ›æˆ[]rune æˆ– []byteå‹åˆ¥ï¼Œå®Œæˆå¾Œå†è½‰æ›æˆstringå‹åˆ¥ã€‚ç„¡è«–å“ªç¨®è½‰æ›éƒ½æœƒé‡æ–°åˆ†é…å…§å­˜ï¼Œä¸¦è¤‡è£½ä½å…ƒçµ„é™£åˆ—ã€‚\nè½‰æ›ç‚º[]byteå‹åˆ¥\ns1 := \u0026#34;big\u0026#34; byteS1 := []byte(s1) byteS1[0] = \u0026#39;p\u0026#39; fmt.Println(string(byteS1)) è½‰æ›ç‚ºruneå‹åˆ¥\ns2 := \u0026#34;ä½ å¥½golang\u0026#34; byteS2 := []rune(s2) byteS2[0] = \u0026#39;æˆ‘\u0026#39; fmt.Println(string(byteS2)) åŸºæœ¬å‹åˆ¥è½‰æ› æ•¸å€¼å‹åˆ¥è½‰æ› // æ•´æ•¸å’Œæµ®é»æ•¸ä¹‹é–“çš„è½‰æ› var aa int8 = 20 var bb int16 = 40 fmt.Println(int16(aa) + bb) // å»ºè­°å¾æ•´æ•¸è½‰æ›ç‚ºæµ®é»æ•¸ var cc int8 = 20 var dd float32 = 40 fmt.Println(float32(cc) + dd) å»ºè­°å¾ä½ä½è½‰æ›ç‚ºé«˜ä½ï¼Œé€™æ¨£å¯ä»¥é¿å…ä¸Ÿå¤±ç²¾åº¦ã€‚\nè½‰æ›ç‚ºå­—ä¸²å‹åˆ¥ è½‰æ›ç‚ºå­—ä¸²å‹åˆ¥æœ‰å…©ç¨®æ–¹æ³•ï¼Œä¸€æ˜¯ä½¿ç”¨ fmt.Sprintf()ï¼ŒäºŒæ˜¯ä½¿ç”¨ strconv å¥—ä»¶çš„å‡½å¼ã€‚\nä½¿ç”¨ fmt.Sprintf()ï¼š\n// å­—ä¸²å‹åˆ¥è½‰æ› var i int = 20 var f float64 = 12.456 var t bool = true var b byte = \u0026#39;a\u0026#39; str1 := fmt.Sprintf(\u0026#34;%d\u0026#34;, i) fmt.Printf(\u0026#34;é¡å‹ï¼š%v-%T \\n\u0026#34;, str1, str1) str2 := fmt.Sprintf(\u0026#34;%f\u0026#34;, f) fmt.Printf(\u0026#34;é¡å‹ï¼š%v-%T \\n\u0026#34;, str2, str2) str3 := fmt.Sprintf(\u0026#34;%t\u0026#34;, t) fmt.Printf(\u0026#34;é¡å‹ï¼š%v-%T \\n\u0026#34;, str3, str3) str4 := fmt.Sprintf(\u0026#34;%c\u0026#34;, b) fmt.Printf(\u0026#34;é¡å‹ï¼š%v-%T \\n\u0026#34;, str4, str4) ä½¿ç”¨ strconv å¥—ä»¶çš„å‡½å¼ï¼š\n// å°‡intå‹åˆ¥è½‰æ›ç‚ºstrå‹åˆ¥ var num1 int64 = 20 s1 := strconv.FormatInt(num1, 10) fmt.Printf(\u0026#34;è½‰æ›ï¼š%v - %T\u0026#34;, s1, s1) // å°‡floatå‹åˆ¥è½‰æ›ç‚ºstringå‹åˆ¥ var num2 float64 = 3.1415926 /* åƒæ•¸1ï¼šè¦è½‰æ›çš„å€¼ åƒæ•¸2ï¼šæ ¼å¼åŒ–å‹åˆ¥ \u0026#39;f\u0026#39;è¡¨ç¤ºfloatï¼Œ\u0026#39;b\u0026#39;è¡¨ç¤ºäºŒé€²åˆ¶ï¼Œâ€˜eâ€™è¡¨ç¤ºåé€²åˆ¶ åƒæ•¸3ï¼šè¡¨ç¤ºä¿ç•™çš„å°æ•¸é»ï¼Œ-1è¡¨ç¤ºä¸æ ¼å¼åŒ–å°æ•¸é» åƒæ•¸4ï¼šæ ¼å¼åŒ–çš„å‹åˆ¥ï¼Œå‚³å…¥64ä½æˆ–32ä½ */ s2 := strconv.FormatFloat(num2, \u0026#39;f\u0026#39;, -1, 64) fmt.Printf(\u0026#34;è½‰æ›ï¼š%v-%T\u0026#34;, s2, s2) å­—ä¸²è½‰æ›ç‚ºæ•¸å€¼å‹åˆ¥ å°‡å­—ä¸²è½‰æ›ç‚ºæ•¸å€¼å‹åˆ¥ä¹Ÿå¾ˆå®¹æ˜“ï¼Œä½¿ç”¨ strconv å¥—ä»¶å³å¯ï¼š\nstr := \u0026#34;10\u0026#34; // ç¬¬ä¸€å€‹åƒæ•¸ï¼šéœ€è¦è½‰æ›çš„æ•¸å€¼ï¼Œç¬¬äºŒå€‹åƒæ•¸ï¼šé€²åˆ¶ï¼Œåƒæ•¸ä¸‰ï¼š32ä½æˆ–64ä½ num,_ = strconv.ParseInt(str, 10, 64) // è½‰æ›ç‚ºfloatå‹åˆ¥ str2 := \u0026#34;3.141592654\u0026#34; num,_ = strconv.ParseFloat(str2, 10) è¨˜å¾—æª¢æŸ¥è½‰æ›éŒ¯èª¤ï¼ˆä¾‹å¦‚ç„¡æ•ˆçš„å­—ä¸²æ ¼å¼ï¼‰ï¼Œé€™å°±æ˜¯ _ çš„ä½œç”¨ã€‚\nğŸ“šReference\nGo Data Types (w3schools.com) Data Types in Go - GeeksforGeeks [Golang] è³‡æ–™å‹åˆ¥ Data Types | PJCHENder æœªæ•´ç†ç­†è¨˜ ","permalink":"https://sz9751210.github.io/posts/golang-datatype/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ Go èªè¨€æœ‰å„ç¨®è³‡æ–™å‹åˆ¥ï¼Œåˆ†ç‚ºåŸºæœ¬å‹åˆ¥å’Œè¤‡åˆå‹åˆ¥ã€‚åŸºæœ¬å‹åˆ¥åŒ…æ‹¬ï¼š\næ•´æ•¸ã€æµ®é»æ•¸ã€å¸ƒæ—å€¼ã€å­—ä¸² è¤‡åˆå‹åˆ¥åŒ…æ‹¬ï¼š\né™£åˆ—ã€ç‰‡æ®µã€çµæ§‹ã€å‡½å¼ã€å°æ˜ ã€é€šé“ã€ä»‹é¢ ç­‰ã€‚ æ•´æ•¸å‹åˆ¥ æ•´æ•¸å‹åˆ¥æœ‰è¨±å¤šç¨®ï¼Œåƒæ˜¯ int8ã€int16ã€int32ã€int64ã€‚æˆ‘å€‘å¯ä»¥ä¾æ“šå¯¦éš›éœ€æ±‚é¸æ“‡ã€‚\nä½ ç”šè‡³å¯ä»¥ä½¿ç”¨ int é—œéµå­—ï¼Œå®ƒæœƒä¾æ“šä¸åŒä½œæ¥­ç³»çµ±è‡ªå‹•é¸æ“‡å¤§å°ï¼š\nåœ¨ 32 ä½ä½œæ¥­ç³»çµ±ï¼šint æœƒè®Šæˆ int32 åœ¨ 64 ä½ä½œæ¥­ç³»çµ±ï¼šint æœƒè®Šæˆ int64 ä½†æ˜¯ï¼Œåˆ¥å¿˜äº†ï¼Œæ•¸å­—å‹åˆ¥é‚„æœ‰å…¶ç¯„åœå’Œç‰¹é»ã€‚\nå‹åˆ¥ ä½å…ƒçµ„æ•¸ æœ€å°å€¼ æœ€å¤§å€¼ æ¬¡æ–¹ç¯„åœ int8 1 -128 127 -2^7 è‡³ 2^7-1 int16 2 -32,768 32,767 -2^15 è‡³ 2^15-1 int32 4 -2,147,483,648 2,147,483,647 -2^31 è‡³ 2^31-1 int64 8 -9,223,372,036,854,775,808 9,223,372,036,854,775,807 -2^63 è‡³ 2^63-1 uint8 1 0 255 0 è‡³ 2^8-1 uint16 2 0 65,535 0 è‡³ 2^16-1 uint32 4 0 4,294,967,295 0 è‡³ 2^32-1 uint64 8 0 18,446,744,073,709,551,615 0 è‡³ 2^64-1 å¯ä»¥é€šé unsafe.","title":"Golang çš„è³‡æ–™å‹åˆ¥ä¸€è¦½"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Golang ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–¹å¼ä¾†å®£å‘Šè®Šæ•¸å’Œå¸¸æ•¸ã€‚å®£å‘Šè®Šæ•¸æ™‚ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šå€¼ï¼Œæˆ–è€…ä½¿ç”¨å‹åˆ¥æ¨å°ï¼Œæ›´ç°¡å–®åœ°ç”¨ := ä¾†å®£å‘Šå±€éƒ¨è®Šæ•¸ã€‚å¦å¤–ï¼Œé‚„å¯ä»¥ä¸€æ¬¡å®£å‘Šå¤šå€‹è®Šæ•¸ï¼Œç›¸åŒå‹åˆ¥çš„è®Šæ•¸å¯ä»¥ä¸€èµ·å®£å‘Šï¼Œæˆ–è€…ä½¿ç”¨æ‹¬è™Ÿå®£å‘Šä¸åŒå‹åˆ¥çš„è®Šæ•¸ã€‚å¸¸æ•¸å‰‡ä½¿ç”¨ const é—œéµå­—å®£å‘Šï¼Œç¢ºä¿å€¼ä¸è®Šï¼Œæœ‰åŠ©æ–¼æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œç©©å®šæ€§ã€‚\nè®Šæ•¸çš„è²æ˜ åœ¨ Golang è£¡ï¼Œè®Šæ•¸æ˜¯ç¨‹å¼ä¸­ä¿å­˜è³‡æ–™çš„å®¹å™¨ã€‚è®Šæ•¸åç¨±ç”±å­—æ¯ã€æ•¸å­—ã€åº•ç·šçµ„æˆï¼Œä½†é¦–å€‹å­—ç¬¦ä¸èƒ½æ˜¯æ•¸å­—ã€‚Golang çš„é—œéµå­—å’Œä¿ç•™å­—éƒ½ä¸èƒ½ç”¨ä½œè®Šæ•¸åç¨±ã€‚\nè®Šæ•¸çš„å®£å‘Šå’Œåˆå§‹åŒ–æ–¹å¼å¤šç¨®å¤šæ¨£ï¼Œåœ¨ä½¿ç”¨è®Šæ•¸ä¹‹å‰ï¼Œéœ€è¦å…ˆè²æ˜è®Šæ•¸ã€‚åœ¨åŒä¸€ç¯„åœå…§ï¼Œä¸å…è¨±é‡è¤‡è²æ˜ç›¸åŒçš„è®Šæ•¸ã€‚è€Œä¸”ï¼Œä¸€æ—¦è²æ˜è®Šæ•¸ï¼Œå°±å¿…é ˆåœ¨ä¹‹å¾Œçš„ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨å®ƒã€‚\nå¦‚æœè®Šæ•¸åœ¨è²æ˜å¾Œæ²’æœ‰é€²è¡Œåˆå§‹åŒ–ï¼Œå‰‡æ‰“å°å‡ºä¾†çš„å€¼å°‡æ˜¯ç©ºçš„ã€‚\nå¦‚ä½•å®šç¾©è®Šæ•¸ å–®è®Šæ•¸å®£å‘Š æ™®é€šè²æ˜(variable declaration) ä½¿ç”¨ var é—œéµå­—é€²è¡Œæ™®é€šè²æ˜ï¼Œç„¶å¾ŒæŒ‡å®šè®Šæ•¸åç¨±å’Œé¡å‹ï¼Œå†è³¦äºˆåˆå§‹å€¼ã€‚ var name string name = \u0026#34;Alan\u0026#34; å¸¶åˆå§‹åŒ–çš„è²æ˜(direct define)ï¼š å¯ä»¥ç›´æ¥æŒ‡å®šè®Šæ•¸çš„é¡å‹å’Œåˆå§‹å€¼ã€‚ var age int = 25 ä¹Ÿå¯ä»¥çœç•¥é¡å‹ï¼Œè®“è®Šæ•¸é¡å‹æ ¹æ“šåˆå§‹å€¼è‡ªå‹•æ¨æ–·ã€‚\nvar age = 25 ç°¡çŸ­è®Šæ•¸è²æ˜(short declaration) åœ¨å‡½å¼å…§éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨ç°¡åŒ–çš„ := èªæ³•åŒæ™‚å®£å‘Šä¸¦åˆå§‹åŒ–è®Šæ•¸ã€‚ æ³¨æ„ï¼šç°¡çŸ­è®Šæ•¸è²æ˜åªèƒ½ç”¨æ–¼å±€éƒ¨è®Šæ•¸ï¼Œä¸èƒ½ç”¨æ–¼å…¨å±€è®Šæ•¸çš„è²æ˜ã€‚\nfoo := \u0026#34;hello\u0026#34; bar := 100 å¤šè®Šæ•¸å®£å‘Š æ™®é€šè²æ˜ æ‚¨å¯ä»¥åŒæ™‚å®£å‘Šå¤šå€‹ç›¸åŒé¡å‹çš„è®Šæ•¸ã€‚ var a, b int a = 10 b = 20 å¸¶åˆå§‹åŒ–çš„è²æ˜(direct define)ï¼š å¯ä»¥ç›´æ¥æŒ‡å®šå¤šå€‹è®Šæ•¸çš„é¡å‹å’Œåˆå§‹å€¼ã€‚ var x, y int = 5, 8 ä¹Ÿå¯ä»¥çœç•¥é¡å‹ï¼Œè®“è®Šæ•¸é¡å‹æ ¹æ“šåˆå§‹å€¼è‡ªå‹•æ¨æ–·ã€‚\nvar x, y = 5, 8 ä½¿ç”¨ç°¡çŸ­è®Šæ•¸è²æ˜ï¼š åŒæ¨£ä¹Ÿå¯ä»¥ä½¿ç”¨ç°¡åŒ–çš„ := èªæ³•åŒæ™‚å®£å‘Šå¤šå€‹è®Šæ•¸ã€‚ x, y := 5, 8 ä½¿ç”¨æ‹¬è™Ÿçš„å¹³è¡Œè³¦å€¼ ä½¿ç”¨æ‹¬è™Ÿ () å¯ä»¥åŒæ™‚å®£å‘Šå¤šå€‹ä¸åŒé¡å‹çš„è®Šæ•¸ä¸¦è³¦äºˆåˆå§‹å€¼ã€‚ var( foo string bar int ) var ( foo = 5 bar = \u0026#34;abc\u0026#34; ) var ( name string = \u0026#34;Alice\u0026#34; age int = 25 country string = \u0026#34;USA\u0026#34; ) åŒ¿åè®Šæ•¸ ä½¿ç”¨ _ ç¬¦è™Ÿè¡¨ç¤ºåŒ¿åè®Šæ•¸ï¼Œé©ç”¨æ–¼ä¸éœ€è¦ä½¿ç”¨çš„è®Šæ•¸ã€‚\n_, result := calculateSomething() å¸¸æ•¸çš„å®šç¾©èˆ‡ä½¿ç”¨ å¸¸æ•¸æ˜¯ä¸æœƒè®Šå‹•çš„å€¼ï¼Œå¯ç”¨æ–¼å®šç¾©ç¨‹å¼é‹è¡ŒæœŸé–“ä¸æœƒæ”¹è®Šçš„æ•¸å€¼ã€‚ä½¿ç”¨ const é—œéµå­—å®£å‘Šå¸¸æ•¸ï¼Œç¢ºä¿å€¼ä¸è®Šï¼Œå¢å¼·ç¨‹å¼ç¢¼å¯è®€æ€§å’Œç©©å®šæ€§ã€‚\nå¸¸æ•¸çš„è²æ˜èˆ‡è®Šæ•¸çš„è²æ˜éå¸¸ç›¸ä¼¼ï¼Œåªéœ€å°‡ var æ”¹æˆ constï¼Œä¸¦åœ¨è²æ˜æ™‚å¿…é ˆè³¦å€¼ã€‚\n// å®šç¾©å¸¸æ•¸ piï¼Œå¯ä»¥åœ¨ç¨‹å¼çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ const pi = 3.14 // åŒæ™‚å®£å‘Šå…©å€‹å¸¸æ•¸ const( A = \u0026#34;A\u0026#34; B = \u0026#34;B\u0026#34; ) // åŒæ™‚å®£å‘Šå¤šå€‹å¸¸æ•¸ï¼Œçœç•¥å€¼å‰‡èˆ‡ä¸Šä¸€è¡Œç›¸åŒ const( A = \u0026#34;A\u0026#34; B C ) ä½¿ç”¨ iota çš„ Const å¸¸æ•¸ iota æ˜¯ Golang çš„å¸¸æ•¸è¨ˆæ•¸å™¨ï¼Œåƒ…èƒ½åœ¨å¸¸æ•¸è¡¨é”å¼ä¸­ä½¿ç”¨ã€‚iota åœ¨æ¯æ¬¡å‡ºç¾ const é—œéµå­—æ™‚ï¼Œéƒ½æœƒé‡ç½®ç‚º 0ï¼ˆä½æ–¼ const å€å¡Šçš„ç¬¬ä¸€è¡Œä¹‹å‰ï¼‰ã€‚æ¯æ–°å¢ä¸€è¡Œå¸¸æ•¸è²æ˜ï¼Œiota è¨ˆæ•¸ä¸€æ¬¡ã€‚\nconst a = iota // a = 0 const ( b = iota // b = 0 c // c = 1 d // d = 2 ) // å¯åœ¨ä¸€é–‹å§‹å³æ±ºå®šåˆå§‹å€¼ const ( b = iota+1 // b = 1 c // c = 2 d // d = 3 ) // ä½¿ç”¨ _ è·³éæŸäº›å€¼ const ( b = iota // b = 0 _ d // d = 2 ) ğŸ“šReference Effective Go - The Go Programming Language A Tour of Go(variable) A Tour of Go(const) ","permalink":"https://sz9751210.github.io/posts/go-variable-and-const/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ Golang ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–¹å¼ä¾†å®£å‘Šè®Šæ•¸å’Œå¸¸æ•¸ã€‚å®£å‘Šè®Šæ•¸æ™‚ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šå€¼ï¼Œæˆ–è€…ä½¿ç”¨å‹åˆ¥æ¨å°ï¼Œæ›´ç°¡å–®åœ°ç”¨ := ä¾†å®£å‘Šå±€éƒ¨è®Šæ•¸ã€‚å¦å¤–ï¼Œé‚„å¯ä»¥ä¸€æ¬¡å®£å‘Šå¤šå€‹è®Šæ•¸ï¼Œç›¸åŒå‹åˆ¥çš„è®Šæ•¸å¯ä»¥ä¸€èµ·å®£å‘Šï¼Œæˆ–è€…ä½¿ç”¨æ‹¬è™Ÿå®£å‘Šä¸åŒå‹åˆ¥çš„è®Šæ•¸ã€‚å¸¸æ•¸å‰‡ä½¿ç”¨ const é—œéµå­—å®£å‘Šï¼Œç¢ºä¿å€¼ä¸è®Šï¼Œæœ‰åŠ©æ–¼æé«˜ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œç©©å®šæ€§ã€‚\nè®Šæ•¸çš„è²æ˜ åœ¨ Golang è£¡ï¼Œè®Šæ•¸æ˜¯ç¨‹å¼ä¸­ä¿å­˜è³‡æ–™çš„å®¹å™¨ã€‚è®Šæ•¸åç¨±ç”±å­—æ¯ã€æ•¸å­—ã€åº•ç·šçµ„æˆï¼Œä½†é¦–å€‹å­—ç¬¦ä¸èƒ½æ˜¯æ•¸å­—ã€‚Golang çš„é—œéµå­—å’Œä¿ç•™å­—éƒ½ä¸èƒ½ç”¨ä½œè®Šæ•¸åç¨±ã€‚\nè®Šæ•¸çš„å®£å‘Šå’Œåˆå§‹åŒ–æ–¹å¼å¤šç¨®å¤šæ¨£ï¼Œåœ¨ä½¿ç”¨è®Šæ•¸ä¹‹å‰ï¼Œéœ€è¦å…ˆè²æ˜è®Šæ•¸ã€‚åœ¨åŒä¸€ç¯„åœå…§ï¼Œä¸å…è¨±é‡è¤‡è²æ˜ç›¸åŒçš„è®Šæ•¸ã€‚è€Œä¸”ï¼Œä¸€æ—¦è²æ˜è®Šæ•¸ï¼Œå°±å¿…é ˆåœ¨ä¹‹å¾Œçš„ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨å®ƒã€‚\nå¦‚æœè®Šæ•¸åœ¨è²æ˜å¾Œæ²’æœ‰é€²è¡Œåˆå§‹åŒ–ï¼Œå‰‡æ‰“å°å‡ºä¾†çš„å€¼å°‡æ˜¯ç©ºçš„ã€‚\nå¦‚ä½•å®šç¾©è®Šæ•¸ å–®è®Šæ•¸å®£å‘Š æ™®é€šè²æ˜(variable declaration) ä½¿ç”¨ var é—œéµå­—é€²è¡Œæ™®é€šè²æ˜ï¼Œç„¶å¾ŒæŒ‡å®šè®Šæ•¸åç¨±å’Œé¡å‹ï¼Œå†è³¦äºˆåˆå§‹å€¼ã€‚ var name string name = \u0026#34;Alan\u0026#34; å¸¶åˆå§‹åŒ–çš„è²æ˜(direct define)ï¼š å¯ä»¥ç›´æ¥æŒ‡å®šè®Šæ•¸çš„é¡å‹å’Œåˆå§‹å€¼ã€‚ var age int = 25 ä¹Ÿå¯ä»¥çœç•¥é¡å‹ï¼Œè®“è®Šæ•¸é¡å‹æ ¹æ“šåˆå§‹å€¼è‡ªå‹•æ¨æ–·ã€‚\nvar age = 25 ç°¡çŸ­è®Šæ•¸è²æ˜(short declaration) åœ¨å‡½å¼å…§éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨ç°¡åŒ–çš„ := èªæ³•åŒæ™‚å®£å‘Šä¸¦åˆå§‹åŒ–è®Šæ•¸ã€‚ æ³¨æ„ï¼šç°¡çŸ­è®Šæ•¸è²æ˜åªèƒ½ç”¨æ–¼å±€éƒ¨è®Šæ•¸ï¼Œä¸èƒ½ç”¨æ–¼å…¨å±€è®Šæ•¸çš„è²æ˜ã€‚\nfoo := \u0026#34;hello\u0026#34; bar := 100 å¤šè®Šæ•¸å®£å‘Š æ™®é€šè²æ˜ æ‚¨å¯ä»¥åŒæ™‚å®£å‘Šå¤šå€‹ç›¸åŒé¡å‹çš„è®Šæ•¸ã€‚ var a, b int a = 10 b = 20 å¸¶åˆå§‹åŒ–çš„è²æ˜(direct define)ï¼š å¯ä»¥ç›´æ¥æŒ‡å®šå¤šå€‹è®Šæ•¸çš„é¡å‹å’Œåˆå§‹å€¼ã€‚ var x, y int = 5, 8 ä¹Ÿå¯ä»¥çœç•¥é¡å‹ï¼Œè®“è®Šæ•¸é¡å‹æ ¹æ“šåˆå§‹å€¼è‡ªå‹•æ¨æ–·ã€‚","title":"æ·ºè«‡ Golang è®Šæ•¸èˆ‡å¸¸æ•¸ï¼šå®£å‘Šã€åˆå§‹åŒ–èˆ‡ä½¿ç”¨"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨é€™ç¯‡æ–‡ç« è£¡ï¼Œæœƒç°¡å–®ä»‹ç´¹å¹¾å€‹é—œéµçš„åŸºæœ¬æ¦‚å¿µå’Œèªæ³•çµæ§‹ï¼ŒåŠ å¿«ä¸Šæ‰‹é€™é–€ç¨‹å¼èªè¨€ã€‚ æ–‡ä»¶çµ„æˆ\nğŸ“¦æ–‡ä»¶çµ„æˆ ä¸€å€‹å…¸å‹çš„ Go èªè¨€ç¨‹å¼ç”±ä»¥ä¸‹å¹¾å€‹éƒ¨åˆ†æ§‹æˆï¼Œè®“æˆ‘å€‘é€ä¸€ä¾†çœ‹ï¼š\nPackage å®£å‘Š ç¨‹å¼çš„ä¸€é–‹å§‹æœƒæœ‰ä¸€å€‹ package å®£å‘Šï¼Œç”¨ä»¥æŒ‡å®šç›®å‰çš„æª”æ¡ˆéš¸å±¬æ–¼å“ªå€‹ç¨‹å¼å¥—ä»¶ï¼ˆpackageï¼‰ã€‚\npackage main åŒ¯å…¥å¥—ä»¶ æˆ‘å€‘å¯ä»¥é€é import é—œéµå­—å¼•å…¥æ‰€éœ€çš„å¥—ä»¶ï¼ˆpackagesï¼‰ã€‚é€™äº›å¥—ä»¶æä¾›å„å¼åŠŸèƒ½ï¼Œå”åŠ©æˆ‘å€‘è¼•é¬†é€²è¡Œé–‹ç™¼ã€‚\nimport ( \u0026#34;fmt\u0026#34; ) å‡½å¼å®šç¾© åœ¨ Go èªè¨€ä¸­ï¼Œç¨‹å¼é‚è¼¯ä¸»è¦ç”±å‡½å¼ï¼ˆfunctionsï¼‰æ‰€çµ„æˆã€‚ä»¥ä¸‹æ˜¯ä¸»è¦å‡½å¼ main çš„å®šç¾©ï¼Œå®ƒæ˜¯æ¯å€‹ Go ç¨‹å¼çš„èµ·é»ã€‚\nfunc main() { fmt.Println(\u0026#34;Hello World!\u0026#34;) } ğŸ“èªæ³•è¦é» åœ¨ç·¨å¯« Go ç¨‹å¼æ™‚ï¼Œæœ‰å¹¾å€‹èªæ³•ä¸Šçš„é‡è¦è¦é»éœ€è¦æ³¨æ„ï¼š\nèªå¥å¯ä»¥é€éæ›è¡Œæˆ–åˆ†è™Ÿï¼ˆ;ï¼‰ä¾†åˆ†éš”ã€‚ å·¦å¤§æ‹¬è™Ÿ { ä¸æ‡‰è©²å–®ç¨å‡ºç¾åœ¨ä¸€è¡Œçš„é–‹é ­ï¼Œæ‡‰è©²èˆ‡å…¶ä»–èªå¥æ”¾åœ¨åŒä¸€è¡Œã€‚ ğŸ”è¨»è§£çš„ç”¨æ³• åœ¨ç¨‹å¼ç¢¼ä¸­ï¼Œè¨»è§£å¯ä»¥ç‚ºç¨‹å¼é‚è¼¯æä¾›è§£é‡‹å’Œèªªæ˜ã€‚Go èªè¨€æ”¯æ´å…©ç¨®è¨»è§£æ ¼å¼ï¼š\nå–®è¡Œè¨»è§£ï¼š\n// é€™æ˜¯å–®è¡Œè¨»è§£çš„ç¯„ä¾‹ å¤šè¡Œè¨»è§£ï¼ˆC é¢¨æ ¼ï¼‰ï¼š\n/* é€™æ˜¯å¤šè¡Œè¨»è§£çš„ç¯„ä¾‹ï¼Œ å¯ä»¥è·¨è¶Šå¤šè¡Œä¸¦æä¾›æ›´å¤šç´°ç¯€èªªæ˜ã€‚ */ ğŸ“šåƒè€ƒè³‡æ–™ Go Syntax (w3schools.com) ","permalink":"https://sz9751210.github.io/posts/go-syntax/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨é€™ç¯‡æ–‡ç« è£¡ï¼Œæœƒç°¡å–®ä»‹ç´¹å¹¾å€‹é—œéµçš„åŸºæœ¬æ¦‚å¿µå’Œèªæ³•çµæ§‹ï¼ŒåŠ å¿«ä¸Šæ‰‹é€™é–€ç¨‹å¼èªè¨€ã€‚ æ–‡ä»¶çµ„æˆ\nğŸ“¦æ–‡ä»¶çµ„æˆ ä¸€å€‹å…¸å‹çš„ Go èªè¨€ç¨‹å¼ç”±ä»¥ä¸‹å¹¾å€‹éƒ¨åˆ†æ§‹æˆï¼Œè®“æˆ‘å€‘é€ä¸€ä¾†çœ‹ï¼š\nPackage å®£å‘Š ç¨‹å¼çš„ä¸€é–‹å§‹æœƒæœ‰ä¸€å€‹ package å®£å‘Šï¼Œç”¨ä»¥æŒ‡å®šç›®å‰çš„æª”æ¡ˆéš¸å±¬æ–¼å“ªå€‹ç¨‹å¼å¥—ä»¶ï¼ˆpackageï¼‰ã€‚\npackage main åŒ¯å…¥å¥—ä»¶ æˆ‘å€‘å¯ä»¥é€é import é—œéµå­—å¼•å…¥æ‰€éœ€çš„å¥—ä»¶ï¼ˆpackagesï¼‰ã€‚é€™äº›å¥—ä»¶æä¾›å„å¼åŠŸèƒ½ï¼Œå”åŠ©æˆ‘å€‘è¼•é¬†é€²è¡Œé–‹ç™¼ã€‚\nimport ( \u0026#34;fmt\u0026#34; ) å‡½å¼å®šç¾© åœ¨ Go èªè¨€ä¸­ï¼Œç¨‹å¼é‚è¼¯ä¸»è¦ç”±å‡½å¼ï¼ˆfunctionsï¼‰æ‰€çµ„æˆã€‚ä»¥ä¸‹æ˜¯ä¸»è¦å‡½å¼ main çš„å®šç¾©ï¼Œå®ƒæ˜¯æ¯å€‹ Go ç¨‹å¼çš„èµ·é»ã€‚\nfunc main() { fmt.Println(\u0026#34;Hello World!\u0026#34;) } ğŸ“èªæ³•è¦é» åœ¨ç·¨å¯« Go ç¨‹å¼æ™‚ï¼Œæœ‰å¹¾å€‹èªæ³•ä¸Šçš„é‡è¦è¦é»éœ€è¦æ³¨æ„ï¼š\nèªå¥å¯ä»¥é€éæ›è¡Œæˆ–åˆ†è™Ÿï¼ˆ;ï¼‰ä¾†åˆ†éš”ã€‚ å·¦å¤§æ‹¬è™Ÿ { ä¸æ‡‰è©²å–®ç¨å‡ºç¾åœ¨ä¸€è¡Œçš„é–‹é ­ï¼Œæ‡‰è©²èˆ‡å…¶ä»–èªå¥æ”¾åœ¨åŒä¸€è¡Œã€‚ ğŸ”è¨»è§£çš„ç”¨æ³• åœ¨ç¨‹å¼ç¢¼ä¸­ï¼Œè¨»è§£å¯ä»¥ç‚ºç¨‹å¼é‚è¼¯æä¾›è§£é‡‹å’Œèªªæ˜ã€‚Go èªè¨€æ”¯æ´å…©ç¨®è¨»è§£æ ¼å¼ï¼š\nå–®è¡Œè¨»è§£ï¼š\n// é€™æ˜¯å–®è¡Œè¨»è§£çš„ç¯„ä¾‹ å¤šè¡Œè¨»è§£ï¼ˆC é¢¨æ ¼ï¼‰ï¼š\n/* é€™æ˜¯å¤šè¡Œè¨»è§£çš„ç¯„ä¾‹ï¼Œ å¯ä»¥è·¨è¶Šå¤šè¡Œä¸¦æä¾›æ›´å¤šç´°ç¯€èªªæ˜ã€‚ */ ğŸ“šåƒè€ƒè³‡æ–™ Go Syntax (w3schools.com) ","title":"ğŸš€å…¥é–€ Go èªè¨€ï¼šé—œéµæ¦‚å¿µã€èªæ³•çµæ§‹èˆ‡å¯¦ç”¨æŠ€å·§âœ¨"},{"content":"ğŸ‘¨â€ğŸ’»å¦‚ä½•åœ¨goä¸­é©—è­‰SSLæ†‘è­‰ å› ä¹‹å‰ç©éç›£æ§è­‰æ›¸ï¼Œæœ€è¿‘åœ¨æ¥è§¸golangå› æ­¤ä¾†çœ‹çœ‹æœ‰ç”šéº¼æ–¹æ³•èƒ½å¤ å–å¾—æ†‘è­‰åˆ°æœŸæ—¥ï¼Œæœ€å¾Œç™¼ç¾æœ‰crypto/tlsé€™å€‹moduleå¯ä»¥ç”¨ï¼Œé©—è­‰æ­¥é©Ÿç°¡å–®ä¸‰æ­¥å¦‚ä¸‹\n1. ç¢ºèªç¶²ç«™æ˜¯å¦æœ‰SSLè­‰æ›¸ package main import ( \u0026#34;crypto/tls\u0026#34; ) func main() { conn, err := tls.Dial(\u0026#34;tcp\u0026#34;, \u0026#34;example.com:80\u0026#34;, nil) if err != nil { panic(\u0026#34;Server doesn\u0026#39;t support SSL certificate err: \u0026#34; + err.Error()) } } ä¸Šè¿°ç¨‹å¼ç¢¼é¦–å…ˆä½¿ç”¨ tls.Dial å»ºç«‹TLSé€£ç·šï¼Œèªæ³•è¦å‰‡ç‚º\ntls.Dial(protocol, website, tls config) é€£ç·šæˆåŠŸå‰‡è¿”å›ä¸€å€‹tls.Conn\nåŸ·è¡Œå¾Œæœƒå™´ä»¥ä¸‹éŒ¯èª¤\npanic: Server doesn\u0026#39;t support SSL certificate err: tls: first record does not look like a TLS handshake goroutine 1 [running]: æ¥è‘—å°‡ç¶²ç«™æ”¹ç‚ºgoogleé‡æ–°åŸ·è¡Œä¸€æ¬¡ç¨‹å¼ç¢¼ï¼Œæ²’æœ‰ä»»ä½•è¼¸å‡ºè¡¨ç¤ºæ­£å¸¸ï¼Œä¹Ÿä»£è¡¨ç¶²ç«™æœ‰å•Ÿç”¨SSL\npackage main import ( \u0026#34;crypto/tls\u0026#34; ) func main() { conn, err := tls.Dial(\u0026#34;tcp\u0026#34;, \u0026#34;www.google.com:443\u0026#34;, nil) if err != nil { panic(\u0026#34;Server doesn\u0026#39;t support SSL certificate err: \u0026#34; + err.Error()) } } 2. ç¢ºèªSSLæ†‘è­‰å’Œç¶²ç«™hostnameæ˜¯å¦å»åˆ å¯ä½¿ç”¨conn.VerifyHostnameé©—è­‰serverçš„æ†‘è­‰èˆ‡hostnameæ˜¯å¦å»åˆ\npackage main import ( \u0026#34;crypto/tls\u0026#34; ) func main() { conn, err := tls.Dial(\u0026#34;tcp\u0026#34;, \u0026#34;www.google.com:443\u0026#34;, nil) if err != nil { panic(\u0026#34;Server doesn\u0026#39;t support SSL certificate err: \u0026#34; + err.Error()) } err = conn.VerifyHostname(\u0026#34;www.google.com\u0026#34;) if err != nil { panic(\u0026#34;Hostname doesn\u0026#39;t match with certificate: \u0026#34; + err.Error()) } } 3. é©—è­‰SSLæ†‘è­‰çš„åˆ°æœŸæ—¥ æˆ‘å€‘å¯ä»¥é€éconn.ConnectionState().PeerCertificatesä¾†å–å¾—æ†‘è­‰ï¼Œç„¶å¾Œé€éNotAfterä¾†å–å¾—æ†‘è­‰åˆ°æœŸæ—¥\npackage main import ( \u0026#34;crypto/tls\u0026#34; \u0026#34;fmt\u0026#34; ) func main() { conn, err := tls.Dial(\u0026#34;tcp\u0026#34;, \u0026#34;www.google.com:443\u0026#34;, nil) if err != nil { panic(\u0026#34;Server doesn\u0026#39;t support SSL certificate err: \u0026#34; + err.Error()) } err = conn.VerifyHostname(\u0026#34;www.google.com\u0026#34;) if err != nil { panic(\u0026#34;Hostname doesn\u0026#39;t match with certificate: \u0026#34; + err.Error()) } expiry := conn.ConnectionState().PeerCertificates[0] fmt.Printf(\u0026#34;Issuer Name: %s\\n\u0026#34;, expiry.Issuer) fmt.Printf(\u0026#34;Expiry: %s \\n\u0026#34;, expiry.NotAfter.Format(\u0026#34;2006-01-02\u0026#34;)) fmt.Printf(\u0026#34;Common Name: %s \\n\u0026#34;, expiry.Issuer.CommonName) } ğŸ“šReference How to Validate SSL Certificates in Go (freecodecamp.org) go - Get remote ssl certificate in golang - Stack Overflow ","permalink":"https://sz9751210.github.io/posts/how-to-validate-ssl-certificates-in-go/","summary":"ğŸ‘¨â€ğŸ’»å¦‚ä½•åœ¨goä¸­é©—è­‰SSLæ†‘è­‰ å› ä¹‹å‰ç©éç›£æ§è­‰æ›¸ï¼Œæœ€è¿‘åœ¨æ¥è§¸golangå› æ­¤ä¾†çœ‹çœ‹æœ‰ç”šéº¼æ–¹æ³•èƒ½å¤ å–å¾—æ†‘è­‰åˆ°æœŸæ—¥ï¼Œæœ€å¾Œç™¼ç¾æœ‰crypto/tlsé€™å€‹moduleå¯ä»¥ç”¨ï¼Œé©—è­‰æ­¥é©Ÿç°¡å–®ä¸‰æ­¥å¦‚ä¸‹\n1. ç¢ºèªç¶²ç«™æ˜¯å¦æœ‰SSLè­‰æ›¸ package main import ( \u0026#34;crypto/tls\u0026#34; ) func main() { conn, err := tls.Dial(\u0026#34;tcp\u0026#34;, \u0026#34;example.com:80\u0026#34;, nil) if err != nil { panic(\u0026#34;Server doesn\u0026#39;t support SSL certificate err: \u0026#34; + err.Error()) } } ä¸Šè¿°ç¨‹å¼ç¢¼é¦–å…ˆä½¿ç”¨ tls.Dial å»ºç«‹TLSé€£ç·šï¼Œèªæ³•è¦å‰‡ç‚º\ntls.Dial(protocol, website, tls config) é€£ç·šæˆåŠŸå‰‡è¿”å›ä¸€å€‹tls.Conn\nåŸ·è¡Œå¾Œæœƒå™´ä»¥ä¸‹éŒ¯èª¤\npanic: Server doesn\u0026#39;t support SSL certificate err: tls: first record does not look like a TLS handshake goroutine 1 [running]: æ¥è‘—å°‡ç¶²ç«™æ”¹ç‚ºgoogleé‡æ–°åŸ·è¡Œä¸€æ¬¡ç¨‹å¼ç¢¼ï¼Œæ²’æœ‰ä»»ä½•è¼¸å‡ºè¡¨ç¤ºæ­£å¸¸ï¼Œä¹Ÿä»£è¡¨ç¶²ç«™æœ‰å•Ÿç”¨SSL\npackage main import ( \u0026#34;crypto/tls\u0026#34; ) func main() { conn, err := tls.","title":"å¦‚ä½•åœ¨goä¸­é©—è­‰SSLæ†‘è­‰"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ä»Šå¤©æ—©ä¸Šåœ¨ä¸‹kubectl get podsæ™‚ï¼Œçªç„¶è·³å‡ºäº†ä»¥ä¸‹éŒ¯èª¤\nwarning Unable to connect to the server: x509: certificate has expired or is not yet valid ä¸‹äº†kubeadm alpha certs check-expirationä¹‹å¾Œæ‰ç™¼ç¾åŸä¾†æ˜¯æ†‘è­‰éæœŸ å› æ­¤ç´€éŒ„ä¸€ä¸‹è§£æ±ºéç¨‹\nInformation environment NAME=\u0026#34;CentOS Linux\u0026#34; VERSION=\u0026#34;7 (Core)\u0026#34; ID=\u0026#34;centos\u0026#34; ID_LIKE=\u0026#34;rhel fedora\u0026#34; VERSION_ID=\u0026#34;7\u0026#34; PRETTY_NAME=\u0026#34;CentOS Linux 7 (Core)\u0026#34; ANSI_COLOR=\u0026#34;0;31\u0026#34; CPE_NAME=\u0026#34;cpe:/o:centos:centos:7\u0026#34; HOME_URL=\u0026#34;https://www.centos.org/\u0026#34; BUG_REPORT_URL=\u0026#34;https://bugs.centos.org/\u0026#34; CENTOS_MANTISBT_PROJECT=\u0026#34;CentOS-7\u0026#34; CENTOS_MANTISBT_PROJECT_VERSION=\u0026#34;7\u0026#34; REDHAT_SUPPORT_PRODUCT=\u0026#34;centos\u0026#34; REDHAT_SUPPORT_PRODUCT_VERSION=\u0026#34;7\u0026#34; docker version Client: Version: 1.13.1 API version: 1.26 Package version: docker-1.13.1-162.git64e9980.el7.centos.x86_64 Go version: go1.10.3 Git commit: 64e9980/1.13.1 Built: Wed Jul 1 14:56:42 2020 OS/Arch: linux/amd64 Server: Version: 1.13.1 API version: 1.26 (minimum version 1.12) Package version: docker-1.13.1-162.git64e9980.el7.centos.x86_64 Go version: go1.10.3 Git commit: 64e9980/1.13.1 Built: Wed Jul 1 14:56:42 2020 OS/Arch: linux/amd64 Experimental: false kubeadm version kubeadm version: \u0026amp;version.Info{Major:\u0026#34;1\u0026#34;, Minor:\u0026#34;18\u0026#34;, GitVersion:\u0026#34;v1.18.6\u0026#34;, GitCommit:\u0026#34;dff82dc0de47299ab66c83c626e08b245ab19037\u0026#34;, GitTreeState:\u0026#34;clean\u0026#34;, BuildDate:\u0026#34;2020-07-15T16:56:34Z\u0026#34;, GoVersion:\u0026#34;go1.13.9\u0026#34;, Compiler:\u0026#34;gc\u0026#34;, Platform:\u0026#34;linux/amd64\u0026#34;} k8s version Client Version: version.Info{Major:\u0026#34;1\u0026#34;, Minor:\u0026#34;18\u0026#34;, GitVersion:\u0026#34;v1.18.6\u0026#34;, GitCommit:\u0026#34;dff82dc0de47299ab66c83c626e08b245ab19037\u0026#34;, GitTreeState:\u0026#34;clean\u0026#34;, BuildDate:\u0026#34;2020-07-15T16:58:53Z\u0026#34;, GoVersion:\u0026#34;go1.13.9\u0026#34;, Compiler:\u0026#34;gc\u0026#34;, Platform:\u0026#34;linux/amd64\u0026#34;} Server Version: version.Info{Major:\u0026#34;1\u0026#34;, Minor:\u0026#34;18\u0026#34;, GitVersion:\u0026#34;v1.18.6\u0026#34;, GitCommit:\u0026#34;dff82dc0de47299ab66c83c626e08b245ab19037\u0026#34;, GitTreeState:\u0026#34;clean\u0026#34;, BuildDate:\u0026#34;2020-07-15T16:51:04Z\u0026#34;, GoVersion:\u0026#34;go1.13.9\u0026#34;, Compiler:\u0026#34;gc\u0026#34;, Platform:\u0026#34;linux/amd64\u0026#34;} ğŸ’¡è§£æ±ºæ­¥é©Ÿ 1. æ›´æ–°æ†‘è­‰ åŸ·è¡Œä»¥ä¸‹å‘½ä»¤å‚™ä»½ç¾æœ‰k8s æ†‘è­‰ $ mkdir -p $HOME/k8s-old-certs/pki $ /bin/cp -p /etc/kubernetes/pki/*.* $HOME/k8s-old-certs/pki $ ls -l $HOME/k8s-old-certs/pki/ è¼¸å‡ºé¡ä¼¼ä»¥ä¸‹å…§å®¹:\ntotal 56 -rw-r--r-- 1 root root 1090 Jul 27 2022 apiserver-etcd-client.crt -rw------- 1 root root 1679 Jul 27 2022 apiserver-etcd-client.key -rw-r--r-- 1 root root 1099 Jul 27 2022 apiserver-kubelet-client.crt -rw------- 1 root root 1679 Jul 27 2022 apiserver-kubelet-client.key -rw-r--r-- 1 root root 1229 Jul 27 2022 apiserver.crt -rw------- 1 root root 1675 Jul 27 2022 apiserver.key -rw-r--r-- 1 root root 1025 Jul 25 2020 ca.crt -rw------- 1 root root 1675 Jul 25 2020 ca.key -rw-r--r-- 1 root root 1038 Jul 27 2022 front-proxy-ca.crt -rw------- 1 root root 1675 Jul 27 2022 front-proxy-ca.key -rw-r--r-- 1 root root 1058 Jul 27 2022 front-proxy-client.crt -rw------- 1 root root 1679 Jul 27 2022 front-proxy-client.key -rw------- 1 root root 1679 Jul 25 2020 sa.key -rw------- 1 root root 451 Jul 25 2020 sa.pub åŸ·è¡Œä»¥ä¸‹å‘½ä»¤å‚™ä»½ç¾æœ‰k8sè¨­å®šæª” /bin/cp -p /etc/kubernetes/*.conf $HOME/k8s-old-certs ls -ltr $HOME/k8s-old-certs è¼¸å‡ºé¡ä¼¼ä»¥ä¸‹å…§å®¹:\ntotal 36 -rw------- 1 root root 5506 Jul 27 2022 kubelet.conf -rw------- 1 root root 5453 Jul 27 2022 admin.conf -rw------- 1 root root 5489 Jul 27 2022 controller-manager.conf -rw------- 1 root root 5437 Jul 27 2022 scheduler.conf drwxrwxr-x 2 root root 4096 Jul 27 12:05 pki åŸ·è¡Œä»¥ä¸‹å‘½ä»¤å‚™ä»½å®¶ç›®éŒ„è¨­å®š: mkdir -p $HOME/k8s-old-certs/.kube /bin/cp -p ~/.kube/config $HOME/k8s-old-certs/.kube/. ls -l $HOME/k8s-old-certs/.kube/. è¼¸å‡ºé¡ä¼¼ä»¥ä¸‹å…§å®¹:\ntotal 8 -rw------- 1 root root 5454 Jul 27 2022 config åŸ·è¡Œä»¥ä¸‹å‘½ä»¤æ›´æ–°æ‰€æœ‰k8sæ†‘è­‰ kubeadm alpha certs renew all è¼¸å‡ºé¡ä¼¼ä»¥ä¸‹å…§å®¹:\n[renew] Reading configuration from the cluster... [renew] FYI: You can look at this config file with \u0026#39;kubectl -n kube-system get cm kubeadm-config -oyaml\u0026#39; certificate embedded in the kubeconfig file for the admin to use and for kubeadm itself renewed certificate for serving the Kubernetes API renewed certificate the apiserver uses to access etcd renewed certificate for the API server to connect to kubelet renewed certificate embedded in the kubeconfig file for the controller manager to use renewed certificate for liveness probes to healthcheck etcd renewed certificate for etcd nodes to communicate with each other renewed certificate for serving etcd renewed certificate for the front proxy client renewed certificate embedded in the kubeconfig file for the scheduler manager to use renewed åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ç¢ºèªæ†‘è­‰æ˜¯å¦æ›´æ–°ä¸¦é¡¯ç¤º364å¤©å¾ŒéæœŸ: kubeadm alpha certs check-expiration è¼¸å‡ºé¡ä¼¼ä»¥ä¸‹å…§å®¹:\n[check-expiration] Reading configuration from the cluster... [check-expiration] FYI: You can look at this config file with \u0026#39;kubectl -n kube-system get cm kubeadm-config -oyaml\u0026#39; CERTIFICATE EXPIRES RESIDUAL TIME CERTIFICATE AUTHORITY EXTERNALLY MANAGED admin.conf Jul 26, 2024 04:14 UTC 364d no apiserver Jul 26, 2024 04:15 UTC 364d ca no apiserver-etcd-client Jul 26, 2024 04:15 UTC 364d etcd-ca no apiserver-kubelet-client Jul 26, 2024 04:15 UTC 364d ca no controller-manager.conf Jul 26, 2024 04:15 UTC 364d no etcd-healthcheck-client Jul 26, 2024 04:15 UTC 364d etcd-ca no etcd-peer Jul 26, 2024 04:15 UTC 364d etcd-ca no etcd-server Jul 26, 2024 04:15 UTC 364d etcd-ca no front-proxy-client Jul 26, 2024 04:15 UTC 364d front-proxy-ca no scheduler.conf Jul 26, 2024 04:16 UTC 364d no CERTIFICATE AUTHORITY EXPIRES RESIDUAL TIME EXTERNALLY MANAGED ca Jul 23, 2030 03:21 UTC 6y no etcd-ca Jul 23, 2030 03:21 UTC 6y no front-proxy-ca Jul 24, 2032 03:09 UTC 8y no 2. ç¢ºèªkubeletè¨­å®š é€™æ™‚å€™ä¸‹ kubectl get podså¯èƒ½æœƒå™´ä»¥ä¸‹éŒ¯èª¤ warning error: You must be logged in to the server (Unauthorized) æ­¤æ™‚å¯ä»¥ä½¿ç”¨æŒ‡ä»¤æ¯”å°ä¸€ä¸‹å®¶ç›®éŒ„çš„è¨­å®šæª”æ˜¯å¦æ›´æ–°\ndiff $HOME/.kube/config/ /etc/kubernetes/admin.conf å¦‚æœæ²’é¡¯ç¤ºä»»ä½•è¼¸å‡ºï¼ŒåŸå› æ˜¯å®¶ç›®éŒ„çš„è¨­å®šæª”æ²’æ›´æ–°ï¼Œå› æ­¤å¿…é ˆè¤‡è£½ä¸€ä»½æ–°çš„è¨­å®šæª”åˆ°å®¶ç›®éŒ„\ncp -i /etc/kubernetes/admin.conf $HOME/.kube/config æ¥è‘—éœ€è¦é‡èµ·kubeletä»¥åŠç›¸é—œçš„dockeræœå‹™(masterèˆ‡nodeéƒ½è¦é‡å•Ÿ)\nsystemctl restart docker systemctl restart kubelet å¦‚æœä»¥ä¸ŠæŒ‡ä»¤æ²’æœ‰è¼¸å‡ºè¡¨ç¤ºæˆåŠŸï¼Œæœ€å¾Œç¢ºèªæ˜¯å¦æ–°çš„è¨­å®šæª”æˆåŠŸ\nkubectl get node NAME STATUS ROLES AGE VERSION master Ready \u0026lt;none\u0026gt; 3y2d v1.18.6 worker1 Ready \u0026lt;none\u0026gt; 3y2d v1.18.6 worker2 Ready \u0026lt;none\u0026gt; 3y2d v1.18.6 ä»¥ä¸Šå°±æ˜¯é€™æ¬¡æ›´æ–°æ†‘è­‰çš„éç¨‹ã€‚\nğŸ“šReference Certificate Management with kubeadm | Kubernetes Kubernetes â€œx509: certificate has expired or is not yet validâ€ error | by Guilherme Pereira | Medium K8S: Unable To Connect To The Server: X509: Certificate Has Expired Or Is Not Yet Valid | IvoNet k8sè‡ªç­¾è¯ä¹¦è¿‡æœŸx509: certificate has expired or is not yet validæŠ¥é”™ - cerberus43 - åšå®¢å›­ (cnblogs.com) ","permalink":"https://sz9751210.github.io/posts/k8s-certificate-expired/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ä»Šå¤©æ—©ä¸Šåœ¨ä¸‹kubectl get podsæ™‚ï¼Œçªç„¶è·³å‡ºäº†ä»¥ä¸‹éŒ¯èª¤\nwarning Unable to connect to the server: x509: certificate has expired or is not yet valid ä¸‹äº†kubeadm alpha certs check-expirationä¹‹å¾Œæ‰ç™¼ç¾åŸä¾†æ˜¯æ†‘è­‰éæœŸ å› æ­¤ç´€éŒ„ä¸€ä¸‹è§£æ±ºéç¨‹\nInformation environment NAME=\u0026#34;CentOS Linux\u0026#34; VERSION=\u0026#34;7 (Core)\u0026#34; ID=\u0026#34;centos\u0026#34; ID_LIKE=\u0026#34;rhel fedora\u0026#34; VERSION_ID=\u0026#34;7\u0026#34; PRETTY_NAME=\u0026#34;CentOS Linux 7 (Core)\u0026#34; ANSI_COLOR=\u0026#34;0;31\u0026#34; CPE_NAME=\u0026#34;cpe:/o:centos:centos:7\u0026#34; HOME_URL=\u0026#34;https://www.centos.org/\u0026#34; BUG_REPORT_URL=\u0026#34;https://bugs.centos.org/\u0026#34; CENTOS_MANTISBT_PROJECT=\u0026#34;CentOS-7\u0026#34; CENTOS_MANTISBT_PROJECT_VERSION=\u0026#34;7\u0026#34; REDHAT_SUPPORT_PRODUCT=\u0026#34;centos\u0026#34; REDHAT_SUPPORT_PRODUCT_VERSION=\u0026#34;7\u0026#34; docker version Client: Version: 1.13.1 API version: 1.26 Package version: docker-1.13.1-162.git64e9980.el7.centos.x86_64 Go version: go1.10.3 Git commit: 64e9980/1.13.1 Built: Wed Jul 1 14:56:42 2020 OS/Arch: linux/amd64 Server: Version: 1.","title":"Kubernetesæ†‘è­‰éæœŸï¼šUnable To Connect To The Server: X509: Certificate Has Expired Or Is Not Yet Valid"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ å› åœ¨wslç’°å¢ƒä¸‹ä½¿ç”¨websocketé€šè¨Šå”è­°ï¼Œä¸¦åœ¨windowsä½¿ç”¨postmanç™¼ç”Ÿé€£ç·šè¢«æ‹’ å˜—è©¦äº†localhostèˆ‡127.0.0.1éƒ½ç„¡æ•ˆï¼Œçˆ¬æ–‡å¾Œæ‰¾åˆ°äº†ä¸€äº›è§£æ±ºè¾¦æ³•ï¼Œé€™é‚Šç°¡å–®ç´€éŒ„ä¸€ä¸‹\nä½¿ç”¨wslçš„vm ip å»ºç«‹ä¸€çµ„æ–°çš„wsl ip æ“ä½œç³»çµ±(Operating System) Windows/WSL2\nPostman ç‰ˆæœ¬ 10.16\nğŸ’¡è§£æ±ºè¾¦æ³• 1. ä½¿ç”¨WSLçš„VM IP å¯é€éä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹IPä½å€\nip add | grep \u0026quot;eth0\u0026quot; wsl hostname -I 2. å»ºç«‹ä¸€çµ„æ–°çš„WSL VM IP åœ¨wslå»ºç«‹ä¸€çµ„æ–°çš„ipï¼Œåœ¨wsl terminalåŸ·è¡Œ sudo ip addr add 192.168.99.2/24 broadcast 192.168.99.255 dev eth0 label eth0:1 é€™è¡ŒæŒ‡ä»¤å°‡æœƒå‰µå»ºä¸€çµ„æ–°çš„ip 192.168.99.2 çµ¦wslã€‚\nåœ¨windowså»ºç«‹ä¸€çµ„æ–°çš„interfaceï¼Œå¯åœ¨windows command prompt æˆ– powershellåŸ·è¡Œ netsh interface ip add address \u0026#34;vEthernet (WSL)\u0026#34; 192.168.99.1 255.255.255.0 é€™è¡ŒæŒ‡ä»¤å°‡æœƒå‰µå»ºä¸€çµ„æ–°çš„interfaceå«vEthernet (WSL)ä¸¦åˆ†é…åˆ°ipç‚º192.168.99.1ï¼Œå¯é€énetsh interface ip show addressesæŸ¥çœ‹æ˜¯å¦å»ºç«‹æˆåŠŸã€‚\nğŸ“šReference Cannot connect to websocket server running on WSL via \u0026ldquo;localhost\u0026rdquo; Â· Issue #11204 Â· postmanlabs/postman-app-support (github.com) ","permalink":"https://sz9751210.github.io/posts/wsl-websocket/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ å› åœ¨wslç’°å¢ƒä¸‹ä½¿ç”¨websocketé€šè¨Šå”è­°ï¼Œä¸¦åœ¨windowsä½¿ç”¨postmanç™¼ç”Ÿé€£ç·šè¢«æ‹’ å˜—è©¦äº†localhostèˆ‡127.0.0.1éƒ½ç„¡æ•ˆï¼Œçˆ¬æ–‡å¾Œæ‰¾åˆ°äº†ä¸€äº›è§£æ±ºè¾¦æ³•ï¼Œé€™é‚Šç°¡å–®ç´€éŒ„ä¸€ä¸‹\nä½¿ç”¨wslçš„vm ip å»ºç«‹ä¸€çµ„æ–°çš„wsl ip æ“ä½œç³»çµ±(Operating System) Windows/WSL2\nPostman ç‰ˆæœ¬ 10.16\nğŸ’¡è§£æ±ºè¾¦æ³• 1. ä½¿ç”¨WSLçš„VM IP å¯é€éä»¥ä¸‹æŒ‡ä»¤æŸ¥çœ‹IPä½å€\nip add | grep \u0026quot;eth0\u0026quot; wsl hostname -I 2. å»ºç«‹ä¸€çµ„æ–°çš„WSL VM IP åœ¨wslå»ºç«‹ä¸€çµ„æ–°çš„ipï¼Œåœ¨wsl terminalåŸ·è¡Œ sudo ip addr add 192.168.99.2/24 broadcast 192.168.99.255 dev eth0 label eth0:1 é€™è¡ŒæŒ‡ä»¤å°‡æœƒå‰µå»ºä¸€çµ„æ–°çš„ip 192.168.99.2 çµ¦wslã€‚\nåœ¨windowså»ºç«‹ä¸€çµ„æ–°çš„interfaceï¼Œå¯åœ¨windows command prompt æˆ– powershellåŸ·è¡Œ netsh interface ip add address \u0026#34;vEthernet (WSL)\u0026#34; 192.168.99.1 255.255.255.0 é€™è¡ŒæŒ‡ä»¤å°‡æœƒå‰µå»ºä¸€çµ„æ–°çš„interfaceå«vEthernet (WSL)ä¸¦åˆ†é…åˆ°ipç‚º192.168.99.1ï¼Œå¯é€énetsh interface ip show addressesæŸ¥çœ‹æ˜¯å¦å»ºç«‹æˆåŠŸã€‚\nğŸ“šReference Cannot connect to websocket server running on WSL via \u0026ldquo;localhost\u0026rdquo; Â· Issue #11204 Â· postmanlabs/postman-app-support (github.","title":"WSLç’°å¢ƒä¸‹ä½¿ç”¨websocketé€£ç·šè¢«æ‹’"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ã€Š Zeabur - éƒ¨ç½²æœå‹™ å¾æœªå¦‚æ­¤ç°¡å–®ã€‹\nå¾ä¾†æ²’æƒ³ééƒ¨ç½²å¯ä»¥å¦‚æ­¤çš„æ–¹ä¾¿å¿«é€Ÿï¼Œç¬¬ä¸€æ¬¡æ¥è§¸åˆ°Zeaburçš„æ™‚å€™è¦ºå¾—ä»–è·Ÿä¸€èˆ¬çš„é›²ç«¯æœå‹™å•†å·®ä¸å¤šï¼Œæ¶è¨­ç¶²ç«™ç”¨å€‹vmä¹‹é¡çš„ï¼Œä½†ä»”ç´°å»æ‘¸ç´¢å¾Œæ‰ç™¼ç¾ä»–æ˜¯å€‹æƒ³è®“é–‹ç™¼äººå“¡å°ˆæ³¨åœ¨å¯«æ‰£é€™ä»¶äº‹ä¸Šï¼Œä¸éœ€å»ç®¡ä»»ä½•infraç›¸é—œäº‹é …çš„ä¸€å€‹æœå‹™ï¼Œåƒæ˜¯æ¶è¨­wordpresséœ€è¦sqlï¼Œå°±ç°¡å–®çš„é»å…©ä¸‹å³å¯å®Œæˆï¼Œ\næˆ–æ˜¯è‡ªå·±å»ºç«‹åœ¨githubçš„éƒ¨è½æ ¼ï¼Œä¹Ÿæ˜¯ä¸€éµé»æ“Šä¸‹å»å»ºç«‹ï¼Œä¸¦ä¸”å²å®³çš„æ˜¯èƒ½è‡ªå‹•è­˜åˆ¥githubéƒ¨è½æ ¼çš„é¡å‹ï¼Œä¸»æµçš„hexoã€hugoéƒ½èƒ½è‡ªå‹•è¾¨è­˜ã€‚\nåœ¨ä»‹é¢ä¸Šå‰‡æ˜¯å°‡ä¸€å€‹å°ˆæ¡ˆç”¨åˆ°çš„æœå‹™é›†ä¸­å¼çš„ç®¡ç†ï¼ŒZeaburèƒ½å¤ å…¨éƒ¨éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä¸éœ€å»è™•ç†é€£ç·šçš„å•é¡Œï¼Œåœ¨ä¸€å€‹å–®ä¸€çš„çµ„æ…‹æª”æ¡ˆä¸­ä¾†ç®¡ç†æœå‹™æ‰€éœ€çš„æ‰€æœ‰è®Šæ•¸ï¼Œä¸éœ€è¦ä½¿ç”¨.envä¸‹å»åšè¨­å®šï¼Œè®“ä½¿ç”¨è€…æœ‰é–‹ç®±å³ç”¨çš„ä¸€æµé«”é©—ã€‚\nä»Šå¤©å°±ç”¨Zeaburä¾†å¿«é€Ÿå»ºç«‹wordpressï¼Œè®“å¤§å®¶çœ‹çœ‹Zeaburçš„ä½¿ç”¨æ–¹å¼ã€‚\nğŸ”°åŸºç¤ä»‹ç´¹ Zeabur ç°¡ä»‹ Zeabur æ˜¯ä¸€å€‹ä¸»æ‰“ã€Œä¸€éµéƒ¨ç½²ã€çš„ PaaS å¹³å°ï¼Œé¡ä¼¼çš„ç”¢å“å°ç£çš„é–‹ç™¼è€…ä¸€èˆ¬æ¯”è¼ƒæµè¡Œä½¿ç”¨ GitHub Pagesï¼ˆå‰ç«¯ï¼‰ä»¥åŠ Renderã€Flyioï¼ˆå¾Œç«¯ï¼‰ï¼ŒZeabur ç›¸æ¯”æ–¼é€™äº›ç«¶çˆ­å°æ‰‹ï¼Œæœ€å¤§çš„ç‰¹é»åœ¨æ–¼ï¼š\nå®˜æ–¹æ–‡ä»¶ã€æŠ€è¡“æ”¯æ´éƒ½æœ‰ä¸­æ–‡ ï¼Œä¸”ä¸»æ©Ÿä½æ–¼ GCP å°ç£æ©Ÿæˆ¿ æ“ä½œæ›´ç°¡å–®ï¼ŒæŠŠ GitHub ä¸Šé¢çš„ç¨‹å¼éƒ¨ç½²ä¸Šç·šçœŸçš„åªéœ€è¦ã€Œä¸€éµã€ ä¸€å€‹å°ˆæ¡ˆå¾€å¾€æœƒæœ‰å‰ç«¯ã€å¾Œç«¯ã€è³‡æ–™åº« \u0026hellip; å„ç¨®æœå‹™ï¼ŒZeabur èƒ½å¤ å…¨éƒ¨éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿ç®¡ç† ğŸ¯setup 1. å»ºç«‹project ç™»å…¥å®˜ç¶²å¾Œå…ˆé»é¸Create Projectä¾†å»ºç«‹ä¸€å€‹å°ˆæ¡ˆï¼Œæ¥è‘—è¼¸å…¥å°ˆæ¡ˆåç¨±ä¸¦é»é¸create å»ºç«‹æˆåŠŸå°±æœƒåœ¨ä¸»æ§å°çœ‹åˆ°å‰›å‰›å»ºç«‹çš„å°ˆæ¡ˆäº†ï¼Œæˆ‘å€‘é»é¸å‰›å‰›å»ºç«‹çš„å°ˆæ¡ˆä¾†ç¹¼çºŒå»ºç«‹æˆ‘å€‘éœ€è¦çš„æœå‹™ 2. å»ºç«‹service é»é¸Add Service 2.1 æ–°å¢mysql service å› ç‚ºwordpresséœ€è¦é€£æ¥mysqlï¼Œå› æ­¤æˆ‘å€‘å…ˆå»ºç«‹mysqlæœå‹™ é»ä¸‹å»ç­‰å€‹å¹¾ç§’mysqlå°±å»ºç«‹å¥½äº†ï¼Œå°±æ˜¯é€™éº¼çš„æ–¹ä¾¿å¿«é€Ÿ\n2.2 æ–°å¢wordpress database æ¥è‘—æˆ‘å€‘é»é¸Connecté€éterminalé€£æ¥åˆ°mysqlå»å»ºç«‹è³‡æ–™åº« å»ºç«‹å®Œæˆå¾Œæ¥è‘—å›åˆ°å°ˆæ¡ˆåº•ä¸‹ä¾†ç¹¼çºŒæ–°å¢æˆ‘å€‘çš„wordpressæœå‹™\n2.3 æ–°å¢wordpress service åˆ°é€™ä¸€æ­¥wordpresså·²å®Œæˆå»ºç«‹\n2.4 å»ºç«‹wordpress domain å»ºç«‹å®Œæˆå¾Œä¾†æ¥è‘—å»ºç«‹domain é»é¸æˆ‘å€‘å‰›å‰›å»ºç«‹æˆåŠŸçš„domainä¾†è¨ªå•æˆ‘å€‘çš„wordpressï¼Œé»é–‹å¾Œå°±æœƒé¡¯ç¤ºwordpressçš„ç›¸é—œè¨­å®š\n2.5 è¨­å®šwordpresså¾Œå° çœ‹åˆ°é€™å€‹ç•«é¢å°±ä»£è¡¨æˆ‘å€‘çš„wordpresså·²ç¶“è¨­å®šå®Œæˆäº† ç™»å…¥å¾Œå³å¯é€²å…¥åˆ°wordpressçš„å¾Œå° é»é¸å·¦ä¸Šè§’å³å¯è¨ªå•æˆ‘å€‘çš„ç¶²ç«™ ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨zeaburä¾†æ¶è¨­wordpressçš„è¨­å®šéç¨‹ï¼Œçµ±æ•´ä¸‹ä¾†çœŸçš„éƒ½æ˜¯é é»é¸ä¾†å»ºç«‹æ‰€éœ€çš„æœå‹™ï¼Œä¸¦ä¸”æœå‹™æ˜¯é›†ä¸­å¼çš„ç®¡ç†ï¼Œä¹Ÿå› ç‚ºæ¶è¨­çš„ä¸»æ©Ÿæ˜¯åœ¨GCPçš„å°ç£æ©Ÿæˆ¿ï¼Œå› æ­¤é€Ÿåº¦é«”é©—ä¸Šä¹Ÿæ˜¯æ²’ä»€éº¼å•é¡Œï¼Œä¸¦ä¸”å®˜æ–¹æœ‰æä¾›å…è²»æ–¹æ¡ˆå¯ä»¥æä¾›ä½¿ç”¨è€…é€²è¡Œå…è²»è©¦ç”¨ï¼Œæœ‰èˆˆè¶£çš„äººå¯ä»¥å»åšé®®é«”é©—çœ‹çœ‹ä¸€å»ºéƒ¨ç½²çš„å¼·å¤§å¨åŠ›ğŸ¤“\nğŸ“šReference ğŸ”—å®˜æ–¹ç¶²ç«™ -\u0026gt; Zeabur - Deploying your service with one click ğŸ”—Github -\u0026gt; Zeabur (github.com) ","permalink":"https://sz9751210.github.io/posts/zeabur/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ã€Š Zeabur - éƒ¨ç½²æœå‹™ å¾æœªå¦‚æ­¤ç°¡å–®ã€‹\nå¾ä¾†æ²’æƒ³ééƒ¨ç½²å¯ä»¥å¦‚æ­¤çš„æ–¹ä¾¿å¿«é€Ÿï¼Œç¬¬ä¸€æ¬¡æ¥è§¸åˆ°Zeaburçš„æ™‚å€™è¦ºå¾—ä»–è·Ÿä¸€èˆ¬çš„é›²ç«¯æœå‹™å•†å·®ä¸å¤šï¼Œæ¶è¨­ç¶²ç«™ç”¨å€‹vmä¹‹é¡çš„ï¼Œä½†ä»”ç´°å»æ‘¸ç´¢å¾Œæ‰ç™¼ç¾ä»–æ˜¯å€‹æƒ³è®“é–‹ç™¼äººå“¡å°ˆæ³¨åœ¨å¯«æ‰£é€™ä»¶äº‹ä¸Šï¼Œä¸éœ€å»ç®¡ä»»ä½•infraç›¸é—œäº‹é …çš„ä¸€å€‹æœå‹™ï¼Œåƒæ˜¯æ¶è¨­wordpresséœ€è¦sqlï¼Œå°±ç°¡å–®çš„é»å…©ä¸‹å³å¯å®Œæˆï¼Œ\næˆ–æ˜¯è‡ªå·±å»ºç«‹åœ¨githubçš„éƒ¨è½æ ¼ï¼Œä¹Ÿæ˜¯ä¸€éµé»æ“Šä¸‹å»å»ºç«‹ï¼Œä¸¦ä¸”å²å®³çš„æ˜¯èƒ½è‡ªå‹•è­˜åˆ¥githubéƒ¨è½æ ¼çš„é¡å‹ï¼Œä¸»æµçš„hexoã€hugoéƒ½èƒ½è‡ªå‹•è¾¨è­˜ã€‚\nåœ¨ä»‹é¢ä¸Šå‰‡æ˜¯å°‡ä¸€å€‹å°ˆæ¡ˆç”¨åˆ°çš„æœå‹™é›†ä¸­å¼çš„ç®¡ç†ï¼ŒZeaburèƒ½å¤ å…¨éƒ¨éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä¸éœ€å»è™•ç†é€£ç·šçš„å•é¡Œï¼Œåœ¨ä¸€å€‹å–®ä¸€çš„çµ„æ…‹æª”æ¡ˆä¸­ä¾†ç®¡ç†æœå‹™æ‰€éœ€çš„æ‰€æœ‰è®Šæ•¸ï¼Œä¸éœ€è¦ä½¿ç”¨.envä¸‹å»åšè¨­å®šï¼Œè®“ä½¿ç”¨è€…æœ‰é–‹ç®±å³ç”¨çš„ä¸€æµé«”é©—ã€‚\nä»Šå¤©å°±ç”¨Zeaburä¾†å¿«é€Ÿå»ºç«‹wordpressï¼Œè®“å¤§å®¶çœ‹çœ‹Zeaburçš„ä½¿ç”¨æ–¹å¼ã€‚\nğŸ”°åŸºç¤ä»‹ç´¹ Zeabur ç°¡ä»‹ Zeabur æ˜¯ä¸€å€‹ä¸»æ‰“ã€Œä¸€éµéƒ¨ç½²ã€çš„ PaaS å¹³å°ï¼Œé¡ä¼¼çš„ç”¢å“å°ç£çš„é–‹ç™¼è€…ä¸€èˆ¬æ¯”è¼ƒæµè¡Œä½¿ç”¨ GitHub Pagesï¼ˆå‰ç«¯ï¼‰ä»¥åŠ Renderã€Flyioï¼ˆå¾Œç«¯ï¼‰ï¼ŒZeabur ç›¸æ¯”æ–¼é€™äº›ç«¶çˆ­å°æ‰‹ï¼Œæœ€å¤§çš„ç‰¹é»åœ¨æ–¼ï¼š\nå®˜æ–¹æ–‡ä»¶ã€æŠ€è¡“æ”¯æ´éƒ½æœ‰ä¸­æ–‡ ï¼Œä¸”ä¸»æ©Ÿä½æ–¼ GCP å°ç£æ©Ÿæˆ¿ æ“ä½œæ›´ç°¡å–®ï¼ŒæŠŠ GitHub ä¸Šé¢çš„ç¨‹å¼éƒ¨ç½²ä¸Šç·šçœŸçš„åªéœ€è¦ã€Œä¸€éµã€ ä¸€å€‹å°ˆæ¡ˆå¾€å¾€æœƒæœ‰å‰ç«¯ã€å¾Œç«¯ã€è³‡æ–™åº« \u0026hellip; å„ç¨®æœå‹™ï¼ŒZeabur èƒ½å¤ å…¨éƒ¨éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿ç®¡ç† ğŸ¯setup 1. å»ºç«‹project ç™»å…¥å®˜ç¶²å¾Œå…ˆé»é¸Create Projectä¾†å»ºç«‹ä¸€å€‹å°ˆæ¡ˆï¼Œæ¥è‘—è¼¸å…¥å°ˆæ¡ˆåç¨±ä¸¦é»é¸create å»ºç«‹æˆåŠŸå°±æœƒåœ¨ä¸»æ§å°çœ‹åˆ°å‰›å‰›å»ºç«‹çš„å°ˆæ¡ˆäº†ï¼Œæˆ‘å€‘é»é¸å‰›å‰›å»ºç«‹çš„å°ˆæ¡ˆä¾†ç¹¼çºŒå»ºç«‹æˆ‘å€‘éœ€è¦çš„æœå‹™ 2. å»ºç«‹service é»é¸Add Service 2.1 æ–°å¢mysql service å› ç‚ºwordpresséœ€è¦é€£æ¥mysqlï¼Œå› æ­¤æˆ‘å€‘å…ˆå»ºç«‹mysqlæœå‹™ é»ä¸‹å»ç­‰å€‹å¹¾ç§’mysqlå°±å»ºç«‹å¥½äº†ï¼Œå°±æ˜¯é€™éº¼çš„æ–¹ä¾¿å¿«é€Ÿ\n2.2 æ–°å¢wordpress database æ¥è‘—æˆ‘å€‘é»é¸Connecté€éterminalé€£æ¥åˆ°mysqlå»å»ºç«‹è³‡æ–™åº« å»ºç«‹å®Œæˆå¾Œæ¥è‘—å›åˆ°å°ˆæ¡ˆåº•ä¸‹ä¾†ç¹¼çºŒæ–°å¢æˆ‘å€‘çš„wordpressæœå‹™\n2.3 æ–°å¢wordpress service åˆ°é€™ä¸€æ­¥wordpresså·²å®Œæˆå»ºç«‹\n2.4 å»ºç«‹wordpress domain å»ºç«‹å®Œæˆå¾Œä¾†æ¥è‘—å»ºç«‹domain é»é¸æˆ‘å€‘å‰›å‰›å»ºç«‹æˆåŠŸçš„domainä¾†è¨ªå•æˆ‘å€‘çš„wordpressï¼Œé»é–‹å¾Œå°±æœƒé¡¯ç¤ºwordpressçš„ç›¸é—œè¨­å®š\n2.5 è¨­å®šwordpresså¾Œå° çœ‹åˆ°é€™å€‹ç•«é¢å°±ä»£è¡¨æˆ‘å€‘çš„wordpresså·²ç¶“è¨­å®šå®Œæˆäº† ç™»å…¥å¾Œå³å¯é€²å…¥åˆ°wordpressçš„å¾Œå° é»é¸å·¦ä¸Šè§’å³å¯è¨ªå•æˆ‘å€‘çš„ç¶²ç«™ ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨zeaburä¾†æ¶è¨­wordpressçš„è¨­å®šéç¨‹ï¼Œçµ±æ•´ä¸‹ä¾†çœŸçš„éƒ½æ˜¯é é»é¸ä¾†å»ºç«‹æ‰€éœ€çš„æœå‹™ï¼Œä¸¦ä¸”æœå‹™æ˜¯é›†ä¸­å¼çš„ç®¡ç†ï¼Œä¹Ÿå› ç‚ºæ¶è¨­çš„ä¸»æ©Ÿæ˜¯åœ¨GCPçš„å°ç£æ©Ÿæˆ¿ï¼Œå› æ­¤é€Ÿåº¦é«”é©—ä¸Šä¹Ÿæ˜¯æ²’ä»€éº¼å•é¡Œï¼Œä¸¦ä¸”å®˜æ–¹æœ‰æä¾›å…è²»æ–¹æ¡ˆå¯ä»¥æä¾›ä½¿ç”¨è€…é€²è¡Œå…è²»è©¦ç”¨ï¼Œæœ‰èˆˆè¶£çš„äººå¯ä»¥å»åšé®®é«”é©—çœ‹çœ‹ä¸€å»ºéƒ¨ç½²çš„å¼·å¤§å¨åŠ›ğŸ¤“\nğŸ“šReference ğŸ”—å®˜æ–¹ç¶²ç«™ -\u0026gt; Zeabur - Deploying your service with one click ğŸ”—Github -\u0026gt; Zeabur (github.","title":"Zeabur - éƒ¨ç½²æœå‹™ å¾æœªå¦‚æ­¤ç°¡å–®"},{"content":"ç”šéº¼æ˜¯Kubernetes ConfigMap ConfigMapä¸»è¦åŠŸç”¨æ˜¯å„²å­˜æˆ‘å€‘æœå‹™çš„è¨­å®šï¼Œé€™ä½¿å¾—æˆ‘å€‘å¯ä»¥å°‡æˆ‘å€‘çš„æ‡‰ç”¨æœå‹™å…·å‚™å¯ç§»æ¤æ€§ï¼Œç•¶éœ€è¦ç›¸å°æ‡‰çš„ç’°å¢ƒåƒæ•¸æ™‚ï¼Œåªéœ€è¦ä¿®æ”¹ConfigMapï¼Œè€Œä¸éœ€è¦å»æ›´å‹•åˆ°imageå³å¯æ›´æ›æˆæ–°çš„éƒ¨å±¬ç’°å¢ƒã€‚\nç‚ºç”šéº¼éœ€è¦ConfigMap æœ€ä¸»è¦çš„ç”¨æ„æ˜¯å…±äº«ç›¸åŒè¨­å®šã€‚åœ¨åˆæœŸé–‹ç™¼æ™‚å¯èƒ½åªæœ‰å¹¾å€‹æœå‹™è€Œç›´æ¥æŠŠè¨­å®šæª”å¯«æ­»ï¼Œå¦‚æœåœ¨å¾ŒæœŸè®Šæˆå¾®æœå‹™çš„æ¶æ§‹ä¸‹ï¼Œä¸Šç™¾å€‹æœå‹™éƒ½æœ‰è‡ªå·±çš„è¨­å®šæª”åœ¨æ—¥å¾Œç¶­è­·ä¸‹æœƒé¡¯å¾—éº»ç…©ï¼Œå› æ­¤æœ‰äº†ConfigMapçš„å‡ºç¾ï¼Œå¹«åŠ©æˆ‘å€‘å°‡ç’°å¢ƒè®Šæ•¸èˆ‡å®¹å™¨é¡åƒè§£è—•ï¼Œä¾¿æ–¼ä¿®æ”¹æ‡‰ç”¨è¨­å®šï¼Œæ¸›å°‘ç¶­è­·æˆæœ¬\nä½•æ™‚ä½¿ç”¨ConfigMapï¼ŒConfigMapä½¿ç”¨å ´æ™¯ ConfigMapé€šå¸¸å„²å­˜æœå‹™çš„ç’°å¢ƒè®Šæ•¸ã€å‘½ä»¤è¡Œåƒæ•¸ã€é…ç½®æ–‡ä»¶ç­‰éæ©Ÿå¯†è³‡æ–™ï¼Œä½¿ç”¨å ´æ™¯æœ‰è¨­å®šæª”èˆ‡å®¹å™¨é¡åƒåˆ†é›¢ã€å¤šç’°å¢ƒæ”¯æŒã€å…±äº«è¨­å®šã€å‹•æ…‹è¨­å®šæ›´æ–°ç­‰ç­‰\nConfigMapæœ‰å“ªäº›ç‰¹é» è§£è—•é…ç½® -\u0026gt; å°‡æœå‹™çš„è¨­å®šæª”èˆ‡å®¹å™¨é¡åƒåˆ†é›¢ï¼Œä½¿æœå‹™åœ¨ä¸é‡æ–°å»ºç½®æ–°çš„å®¹å™¨é¡åƒå¯ä¿®æ”¹å’Œç®¡ç†è¨­å®šæª”ï¼Œæé«˜å®¹å™¨é¡åƒçš„é€šç”¨æ€§å’Œéˆæ´»æ€§ éˆæ´»æ€§ -\u0026gt; ConfigMapæ”¯æ´å¤šç¨®æ ¼å¼ï¼Œä¸¦ä¸”éœ€è¦æ™‚å¯å‹•æ…‹æ›´æ–°è¨­å®šï¼Œç„¡é ˆé‡å•Ÿæœå‹™æˆ–é‡æ–°ä½ˆç½²å®¹å™¨ å…±äº«è¨­å®š -\u0026gt; ConfigMapå…è¨±å¤šå€‹Podå…±äº«åŒä¸€ä»½è¨­å®šæª”ï¼Œç¢ºä¿äº†ä½¿ç”¨ç›¸åŒè¨­å®šæª”çš„Podçš„ä¸€è‡´æ€§ï¼Œæé«˜è¨­å®šçš„å¯ç¶­è­·æ€§å’Œä¸€è‡´æ€§ é›†ä¸­ç®¡ç† -\u0026gt; ConfigMapåœ¨K8sé›†ç¾¤ä¸­å¯ä»¥é›†ä¸­ç®¡ç†æ‰€æœ‰çš„ConfigMapï¼Œä¸éœ€è¦é€å€‹ä¿®æ”¹Podçš„è¨­å®š å¦‚ä½•æ’°å¯«ä½¿ç”¨ConfigMap å‰µå»ºConfigMap Imperative(å‘½ä»¤å¼) --from-literal kubectl create configMap myconfig --from-literal=k1=v1 --from-literal=k2=v2 --from-file kubectl create configMap myconfigfromkey --from-file=fromfilekey=from-key Declarative(è²æ˜å¼) apiVersion: v1 kind: ConfigMap metadata: name: special-config namespace: default data: special.how: very ä½¿ç”¨ConfigMap ä½¿ç”¨ConfigMapå®šç¾©å®¹å™¨ç’°å¢ƒè®Šé‡ å¾å–®ä¸€ConfigMapå®šç¾©å®¹å™¨ç’°å¢ƒè®Šé‡ ConfigMap ## create configmap kubectl create configmap special-config --from-literal=special.how=very Pod apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: registry.k8s.io/busybox command: [ \u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;env\u0026#34; ] env: # å®šç¾©ç’°å¢ƒè®Šé‡ - name: SPECIAL_LEVEL_KEY valueFrom: ConfigMapKeyRef: # ConfigMap å«æœ‰ä½ æƒ³è¦æŒ‡æ´¾çµ¦ SPECIAL_LEVEL_KEY çš„å€¼ name: special-config # æŒ‡å®šæƒ³è¦æŒ‡æ´¾çš„ value çš„ key key: special.how restartPolicy: Never ## create pod kubectl create -f https://kubernetes.io/examples/pods/pod-single-configmap-env-variable.yaml ## Please use the following command to check the output kubectl logs dapi-test-pod ## output KUBERNETES_SERVICE_PORT=443 KUBERNETES_PORT=tcp://10.96.0.1:443 HOSTNAME=dapi-test-pod SHLVL=1 HOME=/root KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_PROTO=tcp SPECIAL_LEVEL_KEY=very KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443 KUBERNETES_SERVICE_PORT_HTTPS=443 PWD=/ KUBERNETES_SERVICE_HOST=10.96.0.1 å¾ä¸Šè¿°è¼¸å‡ºå¯ä»¥çœ‹åˆ°ç’°å¢ƒè®Šé‡æœ‰SPECIAL_LEVEL_KEY=very\nå¾å¤šå€‹ConfigMapå®šç¾©å®¹å™¨ç’°å¢ƒè®Šé‡ ConfigMap apiVersion: v1 kind: ConfigMap metadata: name: special-config namespace: default data: special.how: very --- apiVersion: v1 kind: ConfigMap metadata: name: env-config namespace: default data: log_level: INFO ## create configmap kubectl create -f https://kubernetes.io/examples/ConfigMap/configmap.yaml Pod apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: registry.k8s.io/busybox command: [ \u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;env\u0026#34; ] env: - name: SPECIAL_LEVEL_KEY valueFrom: ConfigMapKeyRef: name: special-config key: special.how - name: LOG_LEVEL valueFrom: ConfigMapKeyRef: name: env-config key: log_level restartPolicy: Never ## create pod kubectl create -f https://kubernetes.io/examples/pods/pod-multiple-configmap-env-variable.yaml ## Please use the following command to check the output kubectl logs dapi-test-pod ## output KUBERNETES_PORT=tcp://10.96.0.1:443 KUBERNETES_SERVICE_PORT=443 LOG_LEVEL=INFO HOSTNAME=dapi-test-pod SHLVL=1 HOME=/root KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_PROTO=tcp SPECIAL_LEVEL_KEY=very KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443 KUBERNETES_SERVICE_PORT_HTTPS=443 PWD=/ KUBERNETES_SERVICE_HOST=10.96.0.1 å¾ä¸Šè¿°è¼¸å‡ºå¯ä»¥çœ‹åˆ°ç’°å¢ƒè®Šé‡æœ‰LOG_LEVEL=INFOå’ŒSPECIAL_LEVEL_KEY=very\nåœ¨ConfigMapè¨­å®škey-value pairså®šç¾©å®¹å™¨ç’°å¢ƒè®Šé‡ ConfigMap apiVersion: v1 kind: ConfigMap metadata: name: special-config namespace: default data: SPECIAL_LEVEL: very SPECIAL_TYPE: charm ## create configmap kubectl create -f https://kubernetes.io/examples/configmap/configmap-multikeys.yaml Pod apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: registry.k8s.io/busybox command: [ \u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;env\u0026#34; ] envFrom: - ConfigMapRef: name: special-config restartPolicy: Never ## create pod kubectl create -f https://kubernetes.io/examples/pods/pod-configmap-envFrom.yaml æˆ‘å€‘ä½¿ç”¨äº†Â envFromÂ ä¾†å°‡ ConfigMap ä¸­çš„æ‰€æœ‰ data éƒ½å®šç¾©æˆå®¹å™¨ç’°å¢ƒè®Šé‡ã€‚\n## Please use the following command to check the output kubectl logs dapi-test-pod ## output KUBERNETES_PORT=tcp://10.96.0.1:443 KUBERNETES_SERVICE_PORT=443 HOSTNAME=dapi-test-pod SHLVL=1 HOME=/root SPECIAL_LEVEL=very KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443 KUBERNETES_SERVICE_PORT_HTTPS=443 PWD=/ KUBERNETES_SERVICE_HOST=10.96.0.1 SPECIAL_TYPE=charm å¾ä¸Šè¿°è¼¸å‡ºå¯ä»¥çœ‹åˆ°ç’°å¢ƒè®Šé‡æœ‰SPECIAL_LEVEL=veryå’ŒSPECIAL_TYPE=charmã€‚\nåœ¨Pod commandsä½¿ç”¨ConfigMapå®šç¾©çš„ç’°å¢ƒè®Šé‡ ConfigMap apiVersion: v1 kind: ConfigMap metadata: name: special-config namespace: default data: SPECIAL_LEVEL: very SPECIAL_TYPE: charm ## create configmap kubectl create -f https://kubernetes.io/examples/configmap/configmap-multikeys.yaml Pod apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: registry.k8s.io/busybox command: [ \u0026#34;/bin/echo\u0026#34;, \u0026#34;$(SPECIAL_LEVEL_KEY) $(SPECIAL_TYPE_KEY)\u0026#34; ] env: - name: SPECIAL_LEVEL_KEY valueFrom: ConfigMapKeyRef: name: special-config key: SPECIAL_LEVEL - name: SPECIAL_TYPE_KEY valueFrom: ConfigMapKeyRef: name: special-config key: SPECIAL_TYPE restartPolicy: Never ## create pod kubectl create -f https://kubernetes.io/examples/pods/pod-configmap-env-var-valueFrom.yaml æˆ‘å€‘å¯ä»¥ä½¿ç”¨ConfigMapå®šç¾©å¥½çš„ç’°å¢ƒè®Šé‡åœ¨å®¹å™¨çš„commandå’Œargsï¼Œä½¿ç”¨èªæ³•ç‚º$(VAR_NAME)\n## Please use the following command to check the output kubectl logs dapi-test-pod ## output very charm å°‡ ConfigMap è³‡æ–™åŠ åˆ° Volume ç•¶æˆ‘å€‘å»ºç«‹ConfigMapä½¿ç”¨--from-fileï¼Œæª”åæœƒè®Šæˆdataå€å¡Šçš„keyï¼Œè€Œå…§å®¹å‰‡æœƒè®Šæˆè©²keyçš„value\nConfigMap apiVersion: v1 kind: ConfigMap metadata: name: special-config namespace: default data: SPECIAL_LEVEL: very SPECIAL_TYPE: charm ## create configmap kubectl create -f https://kubernetes.io/examples/configmap/configmap-multikeys.yaml Pod apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: registry.k8s.io/busybox command: [ \u0026#34;/bin/sh\u0026#34;, \u0026#34;-c\u0026#34;, \u0026#34;ls /etc/config/\u0026#34; ] volumeMounts: - name: config-volume mountPath: /etc/config volumes: - name: config-volume ConfigMap: # æä¾›containerè¦ä½¿ç”¨çš„configmap name name: special-config restartPolicy: Never ## create pod kubectl create -f https://kubernetes.io/examples/pods/pod-configmap-volume.yaml å°‡ConfigMap name æ·»åŠ åˆ°volumeså€å¡Šé€²è¡Œæ›è¼‰ï¼Œåœ¨æ­¤ç¯„ä¾‹ä¸­ï¼ŒmountPathæœƒæ˜¯/etc/config\n## Please use the following command to check the output kubectl logs dapi-test-pod ## output SPECIAL_LEVEL SPECIAL_TYPE æ­¤Podæœƒå»åŸ·è¡Œls /etc/configï¼Œå¦‚æœè©²ç›®éŒ„ä¸‹æœ‰å…¶ä»–æª”æ¡ˆæœƒè¢«åˆªé™¤ï¼Œå› ç‚ºä½¿ç”¨çš„æ›è¼‰æ–¹å¼æ˜¯mountPath\nå°‡ConfigMapè³‡æ–™åŠ åˆ°Volumeç‰¹å®šè·¯å¾‘ ConfigMap apiVersion: v1 kind: ConfigMap metadata: name: special-config namespace: default data: SPECIAL_LEVEL: very SPECIAL_TYPE: charm ## create configmap kubectl create -f https://kubernetes.io/examples/configmap/configmap-multikeys.yaml Pod apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: k8s.gcr.io/busybox command: [ \u0026#34;/bin/sh\u0026#34;,\u0026#34;-c\u0026#34;,\u0026#34;cat /etc/config/keys\u0026#34; ] volumeMounts: - name: config-volume mountPath: /etc/config volumes: - name: config-volume ConfigMap: name: special-config items: - key: SPECIAL_LEVEL path: keys restartPolicy: Never ## create pod kubectl create -f https://kubernetes.io/examples/pods/pod-configmap-volume-specific-key.yaml ä½¿ç”¨Â pathÂ æ¬„ä½ä¾†æŒ‡å®šç‰¹å®š ConfigMap item åˆ°æƒ³è¦çš„æª”æ¡ˆè·¯å¾‘ã€‚ åœ¨æ­¤ç¯„ä¾‹ä¸­,Â SPECIAL_LEVELÂ item å°‡æœƒè¢«æ›è¼‰åˆ°Â config-volumeÂ volume ä¸­çš„Â /etc/config/keys\n## Please use the following command to check the output kubectl logs dapi-test-pod ## output very Reference ConfigMaps | Kubernetes ä¸€æ–‡å¼„æ‡‚ConfigMapåœ¨K8Sä¸­çš„å„ç§ç©æ³•ä»¥åŠåº”ç”¨åœºæ™¯ - æ˜é‡‘ (juejin.cn) Kubernetes â€” ConfigMap. ç°¡å–®ä¾†èªª, åœ¨æˆ‘å€‘çš„æ‡‰ç”¨ä¸­, ç•¶æˆ‘å€‘éœ€è¦å„²å­˜ä¸€äº›è¼ƒæ²’æœ‰æ•æ„Ÿæ€§çš„è¨­å®šæª”, åƒæ˜¯â€¦ | by Ray Lee | æå®—å¡ | Learn or Die | Medium Day 18 - ä½¿ç”¨ ConfigMaps - iT é‚¦å¹«å¿™::ä¸€èµ·å¹«å¿™è§£æ±ºé›£é¡Œï¼Œæ‹¯æ•‘ IT äººçš„ä¸€å¤© (ithome.com.tw) K8sä¹‹ConfigMap - Happy Coding, Happy Life (wldandan.github.io) ConfigMap_äº‘å®¹å™¨å¼•æ“ CCE_KubernetesåŸºç¡€çŸ¥è¯†_é…ç½®ç®¡ç†_åä¸ºäº‘ (huaweicloud.com) [Kubernetes / K8s] ConfigMap ç”¨æ–¼è®“ä¸åŒçš„å¾®æœå‹™å…±äº«é…ç½®| Configure a Pod to Use a ConfigMap | by KouWei.Lee | k8sç­†è¨˜ | Medium ","permalink":"https://sz9751210.github.io/posts/k8s-configmap/","summary":"ç”šéº¼æ˜¯Kubernetes ConfigMap ConfigMapä¸»è¦åŠŸç”¨æ˜¯å„²å­˜æˆ‘å€‘æœå‹™çš„è¨­å®šï¼Œé€™ä½¿å¾—æˆ‘å€‘å¯ä»¥å°‡æˆ‘å€‘çš„æ‡‰ç”¨æœå‹™å…·å‚™å¯ç§»æ¤æ€§ï¼Œç•¶éœ€è¦ç›¸å°æ‡‰çš„ç’°å¢ƒåƒæ•¸æ™‚ï¼Œåªéœ€è¦ä¿®æ”¹ConfigMapï¼Œè€Œä¸éœ€è¦å»æ›´å‹•åˆ°imageå³å¯æ›´æ›æˆæ–°çš„éƒ¨å±¬ç’°å¢ƒã€‚\nç‚ºç”šéº¼éœ€è¦ConfigMap æœ€ä¸»è¦çš„ç”¨æ„æ˜¯å…±äº«ç›¸åŒè¨­å®šã€‚åœ¨åˆæœŸé–‹ç™¼æ™‚å¯èƒ½åªæœ‰å¹¾å€‹æœå‹™è€Œç›´æ¥æŠŠè¨­å®šæª”å¯«æ­»ï¼Œå¦‚æœåœ¨å¾ŒæœŸè®Šæˆå¾®æœå‹™çš„æ¶æ§‹ä¸‹ï¼Œä¸Šç™¾å€‹æœå‹™éƒ½æœ‰è‡ªå·±çš„è¨­å®šæª”åœ¨æ—¥å¾Œç¶­è­·ä¸‹æœƒé¡¯å¾—éº»ç…©ï¼Œå› æ­¤æœ‰äº†ConfigMapçš„å‡ºç¾ï¼Œå¹«åŠ©æˆ‘å€‘å°‡ç’°å¢ƒè®Šæ•¸èˆ‡å®¹å™¨é¡åƒè§£è—•ï¼Œä¾¿æ–¼ä¿®æ”¹æ‡‰ç”¨è¨­å®šï¼Œæ¸›å°‘ç¶­è­·æˆæœ¬\nä½•æ™‚ä½¿ç”¨ConfigMapï¼ŒConfigMapä½¿ç”¨å ´æ™¯ ConfigMapé€šå¸¸å„²å­˜æœå‹™çš„ç’°å¢ƒè®Šæ•¸ã€å‘½ä»¤è¡Œåƒæ•¸ã€é…ç½®æ–‡ä»¶ç­‰éæ©Ÿå¯†è³‡æ–™ï¼Œä½¿ç”¨å ´æ™¯æœ‰è¨­å®šæª”èˆ‡å®¹å™¨é¡åƒåˆ†é›¢ã€å¤šç’°å¢ƒæ”¯æŒã€å…±äº«è¨­å®šã€å‹•æ…‹è¨­å®šæ›´æ–°ç­‰ç­‰\nConfigMapæœ‰å“ªäº›ç‰¹é» è§£è—•é…ç½® -\u0026gt; å°‡æœå‹™çš„è¨­å®šæª”èˆ‡å®¹å™¨é¡åƒåˆ†é›¢ï¼Œä½¿æœå‹™åœ¨ä¸é‡æ–°å»ºç½®æ–°çš„å®¹å™¨é¡åƒå¯ä¿®æ”¹å’Œç®¡ç†è¨­å®šæª”ï¼Œæé«˜å®¹å™¨é¡åƒçš„é€šç”¨æ€§å’Œéˆæ´»æ€§ éˆæ´»æ€§ -\u0026gt; ConfigMapæ”¯æ´å¤šç¨®æ ¼å¼ï¼Œä¸¦ä¸”éœ€è¦æ™‚å¯å‹•æ…‹æ›´æ–°è¨­å®šï¼Œç„¡é ˆé‡å•Ÿæœå‹™æˆ–é‡æ–°ä½ˆç½²å®¹å™¨ å…±äº«è¨­å®š -\u0026gt; ConfigMapå…è¨±å¤šå€‹Podå…±äº«åŒä¸€ä»½è¨­å®šæª”ï¼Œç¢ºä¿äº†ä½¿ç”¨ç›¸åŒè¨­å®šæª”çš„Podçš„ä¸€è‡´æ€§ï¼Œæé«˜è¨­å®šçš„å¯ç¶­è­·æ€§å’Œä¸€è‡´æ€§ é›†ä¸­ç®¡ç† -\u0026gt; ConfigMapåœ¨K8sé›†ç¾¤ä¸­å¯ä»¥é›†ä¸­ç®¡ç†æ‰€æœ‰çš„ConfigMapï¼Œä¸éœ€è¦é€å€‹ä¿®æ”¹Podçš„è¨­å®š å¦‚ä½•æ’°å¯«ä½¿ç”¨ConfigMap å‰µå»ºConfigMap Imperative(å‘½ä»¤å¼) --from-literal kubectl create configMap myconfig --from-literal=k1=v1 --from-literal=k2=v2 --from-file kubectl create configMap myconfigfromkey --from-file=fromfilekey=from-key Declarative(è²æ˜å¼) apiVersion: v1 kind: ConfigMap metadata: name: special-config namespace: default data: special.how: very ä½¿ç”¨ConfigMap ä½¿ç”¨ConfigMapå®šç¾©å®¹å™¨ç’°å¢ƒè®Šé‡ å¾å–®ä¸€ConfigMapå®šç¾©å®¹å™¨ç’°å¢ƒè®Šé‡ ConfigMap ## create configmap kubectl create configmap special-config --from-literal=special.how=very Pod apiVersion: v1 kind: Pod metadata: name: dapi-test-pod spec: containers: - name: test-container image: registry.","title":"Kubernetes ConfigMap"},{"content":"ä»€éº¼æ˜¯ Kubernetes Deployment? ä¸€æ¨£å…ˆä¾†å€‹å®˜ç¶²è§£èªª\nAÂ DeploymentÂ provides declarative updates forÂ PodsÂ andÂ ReplicaSets.\nYou describe aÂ desired stateÂ in a Deployment, and the DeploymentÂ ControllerÂ changes the actual state to the desired state at a controlled rate. You can define Deployments to create new ReplicaSets, or to remove existing Deployments and adopt all their resources with new Deployments.\nè·ŸReplicaSetä¸åŒï¼ŒDeploymentçš„å·¥ä½œä¸»è¦æ˜¯ç‚º pod \u0026amp; replicaset æä¾›äº†ä¸€å€‹å®£å‘Šå¼çš„è¨­å®š \u0026amp; æ›´æ–°æ–¹å¼ï¼Œé€éå®šç¾© desired statusï¼ŒDeployment controller æœƒåœ¨æ‰€è¬‚çš„Â controlled rateÂ ä¸‹é”åˆ°ä½¿ç”¨è€…æ‰€æœŸæœ›çš„ç‹€æ…‹ï¼Œé€™äº›æ©Ÿåˆ¶æ˜¯ç”± k8s è‡ªå‹•åŒ–å®Œæˆï¼Œå› æ­¤å®˜æ–¹å»ºè­°æ‡‰è©²é€é Deployment ä¾†ä½ˆç½² pod \u0026amp; replicasetã€‚\nç‚ºä»€éº¼éœ€è¦Deployment å› ç‚ºPodç„¡æ³•å¯¦ç¾è‡ªæˆ‘æ›´æ–°ï¼Œå¿…é ˆç æ‰é‡å»ºå¾Œæ‰æœƒæ˜¯æ–°çš„å…§å®¹ï¼Œé€™æ¨£æœƒå°è‡´æœå‹™ä¸­æ–·ï¼Œæœ‰äº†Deploymentçš„å‡ºç¾ï¼Œå°Podé€²è¡Œç®¡ç†èˆ‡ç‰ˆæœ¬æ§åˆ¶ï¼Œè€Œåœ¨Deploymentçš„èƒŒå¾Œä½¿ç”¨Replicasetä¾†ç¢ºä¿æŒ‡å®šæ•¸é‡çš„Podé‹è¡Œï¼Œåœ¨æ›´æ–°æ–¹é¢ï¼Œå¯æ ¹æ“šæŒ‡å®šçš„æ›´æ–°ç­–ç•¥ä¾†æ§åˆ¶ç‰ˆæœ¬æ›´æ–°ã€‚\nDeploymentæ˜¯å¦‚ä½•é‹ä½œçš„ åœ¨k8sä¸­ï¼ŒPodæ˜¯æœ€å°çš„è³‡æºå–®ä½ï¼ŒPodçš„å‰¯æœ¬ç®¡ç†æ˜¯é€éReplicasetå¯¦ç¾ï¼Œè€ŒDeploymentå‰‡æ˜¯æ§åˆ¶Replicasetï¼Œä¸¦ä¸æ˜¯ç›´æ¥å°Podé€²è¡Œç®¡ç†ã€‚\nç”šéº¼æ™‚å€™ä½¿ç”¨Deployment Deployment åœ¨ä»¥ä¸‹æƒ…æ³ä¸‹é©åˆä½¿ç”¨ï¼š\næ‡‰ç”¨ç¨‹å¼çš„éƒ¨ç½²å’Œç®¡ç†ï¼šDeployment æä¾›äº†ä¸€å€‹æ–¹ä¾¿ä¸”å¯é çš„æ–¹å¼ä¾†éƒ¨ç½²å’Œç®¡ç†æ‡‰ç”¨ç¨‹å¼ã€‚å®ƒå…è¨±æ‚¨å®šç¾©æ‡‰ç”¨ç¨‹å¼çš„é…ç½®ï¼ŒåŒ…æ‹¬å®¹å™¨æ˜ åƒã€è³‡æºéœ€æ±‚ã€ç’°å¢ƒè®Šæ•¸ç­‰ï¼Œä¸¦ç¢ºä¿æŒ‡å®šæ•¸é‡çš„ Pod åœ¨é‹è¡Œã€‚\næ»¾å‹•æ›´æ–°å’Œå›æ»¾ï¼šç•¶éœ€è¦å°æ‡‰ç”¨ç¨‹å¼é€²è¡Œæ›´æ–°æ™‚ï¼ŒDeployment æä¾›äº†æ»¾å‹•æ›´æ–°çš„èƒ½åŠ›ã€‚å®ƒå¯ä»¥é€æ­¥éƒ¨ç½²æ–°ç‰ˆæœ¬çš„æ‡‰ç”¨ç¨‹å¼ï¼ŒåŒæ™‚ç¢ºä¿èˆŠç‰ˆæœ¬çš„ Pod åœ¨æ–°ç‰ˆæœ¬å®Œå…¨é‹è¡Œä¹‹å‰æŒçºŒæä¾›æœå‹™ã€‚å¦‚æœæ–°ç‰ˆæœ¬å‡ºç¾å•é¡Œï¼ŒDeployment é‚„å…è¨±å›æ»¾åˆ°å…ˆå‰çš„ç‰ˆæœ¬ã€‚\næ‡‰ç”¨ç¨‹å¼çš„æ“´å±•æ€§å’Œè² è¼‰å‡è¡¡ï¼šDeployment å…è¨±æŒ‡å®šæ‡‰ç”¨ç¨‹å¼çš„å‰¯æœ¬æ•¸ï¼Œä»¥æ ¹æ“šéœ€æ±‚è‡ªå‹•æ“´å±•æˆ–æ”¶ç¸®æ‡‰ç”¨ç¨‹å¼çš„å‰¯æœ¬æ•¸ã€‚é€™ä½¿å¾—æ‡‰ç”¨ç¨‹å¼èƒ½å¤ å½ˆæ€§åœ°æ‡‰å°æµé‡çš„è®ŠåŒ–ï¼Œç¢ºä¿é«˜æ•ˆçš„è³‡æºåˆ©ç”¨å’Œè‰¯å¥½çš„ç”¨æˆ¶é«”é©—ã€‚\né«˜å¯ç”¨æ€§å’Œå®¹éŒ¯èƒ½åŠ›ï¼šDeployment é€šéç®¡ç†å¤šå€‹ Pod çš„é‹è¡Œï¼Œæä¾›äº†é«˜å¯ç”¨æ€§å’Œå®¹éŒ¯èƒ½åŠ›ã€‚å¦‚æœæŸå€‹ Pod ç™¼ç”Ÿæ•…éšœæˆ–éœ€è¦é€²è¡Œç¶­è­·ï¼ŒDeployment æœƒè‡ªå‹•æ›¿æ›å®ƒï¼Œç¢ºä¿æ‡‰ç”¨ç¨‹å¼æŒçºŒé‹è¡Œä¸¦æä¾›ç„¡ä¸­æ–·çš„æœå‹™ã€‚\nå¤šç’°å¢ƒéƒ¨ç½²ï¼šå¦‚æœéœ€è¦åœ¨ä¸åŒçš„ç’°å¢ƒä¸­éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ï¼ˆå¦‚é–‹ç™¼ã€æ¸¬è©¦ã€æ­£å¼ï¼‰ï¼ŒDeployment æä¾›äº†ä¸€è‡´çš„éƒ¨ç½²æ–¹å¼ï¼Œç¢ºä¿åœ¨ä¸åŒç’°å¢ƒä¸­çš„æ‡‰ç”¨ç¨‹å¼é…ç½®å’Œç‰ˆæœ¬çš„ä¸€è‡´æ€§ï¼Œç°¡åŒ–äº†éƒ¨ç½²å’Œç®¡ç†çš„æµç¨‹ã€‚\nDeploymentæœ‰å“ªäº›ç‰¹æ€§ ç”¢ç”Ÿä¸¦ç®¡ç† ReplicaSetï¼šDeployment å¯ä»¥è‡ªå‹•å‰µå»ºå’Œç®¡ç†èˆ‡å…¶é—œè¯çš„ ReplicaSet ç‰©ä»¶ã€‚ReplicaSet ç¢ºä¿æŒ‡å®šæ•¸é‡çš„ Pod å¯¦ä¾‹æ­£åœ¨é‹è¡Œï¼Œä¸¦æ ¹æ“š Deployment ç‰©ä»¶çš„é…ç½®ä¾†ç¶­è­·æ‰€éœ€çš„ Pod æ•¸é‡ã€‚\næ»¾å‹•æ›´æ–°å’Œå›æ»¾ï¼šDeployment æä¾›äº†æ»¾å‹•æ›´æ–°çš„èƒ½åŠ›ï¼Œä½¿æ‚¨èƒ½å¤ é€æ­¥å°‡æ–°ç‰ˆæœ¬çš„æ‡‰ç”¨ç¨‹å¼éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒä¸­ï¼ŒåŒæ™‚ç¢ºä¿èˆŠç‰ˆæœ¬çš„ Pod åœ¨æ–°ç‰ˆæœ¬å®Œå…¨é‹è¡Œä¹‹å‰æŒçºŒæä¾›æœå‹™ã€‚å¦‚æœæ–°ç‰ˆæœ¬å‡ºç¾å•é¡Œï¼ŒDeployment é‚„å…è¨±æ‚¨è¼•é¬†åœ°å›æ»¾åˆ°å…ˆå‰çš„ç‰ˆæœ¬ã€‚\nå¥åº·æª¢æŸ¥å’Œè‡ªæˆ‘ä¿®å¾©ï¼šDeployment å¯ä»¥å®šæœŸæª¢æŸ¥ Pod çš„å¥åº·ç‹€æ…‹ï¼Œä¸¦æ ¹æ“šå®šç¾©çš„å¥åº·æª¢æŸ¥æ¢ä»¶é€²è¡Œè‡ªæˆ‘ä¿®å¾©ã€‚å¦‚æœ Pod é‡åˆ°æ•…éšœæˆ–ä¸ç¬¦åˆå¥åº·æª¢æŸ¥æ¢ä»¶ï¼ŒDeployment æœƒè‡ªå‹•æ›¿æ›è©² Podï¼Œä»¥ç¢ºä¿æ‡‰ç”¨ç¨‹å¼çš„é«˜å¯ç”¨æ€§ã€‚\néƒ¨ç½²ç­–ç•¥ï¼šDeployment å…è¨±æ‚¨æŒ‡å®šéƒ¨ç½²ç­–ç•¥ï¼Œä¾‹å¦‚æœ€å¤§ä¸¦è¡Œéƒ¨ç½²æ•¸é‡ã€æœ€å¤§ä¸å¯ç”¨ Pod æ•¸é‡ç­‰ã€‚é€™äº›ç­–ç•¥å¯ç”¨æ–¼æ§åˆ¶éƒ¨ç½²çš„é€Ÿåº¦å’Œå¯é æ€§ï¼Œä¸¦æ¸›å°‘å°æ‡‰ç”¨ç¨‹å¼çš„å½±éŸ¿ã€‚\nç’°å¢ƒè®Šæ•¸å’Œè³‡æºé…ç½®ï¼šDeployment å…è¨±æ‚¨åœ¨é‹è¡Œä¸­çš„æ‡‰ç”¨ç¨‹å¼ä¸Šå‹•æ…‹é…ç½®ç’°å¢ƒè®Šæ•¸å’Œè³‡æºéœ€æ±‚ã€‚é€™ä½¿å¾—åœ¨ä¸ä¸­æ–·æœå‹™çš„æƒ…æ³ä¸‹ï¼Œå¯ä»¥èª¿æ•´æ‡‰ç”¨ç¨‹å¼çš„é…ç½®ï¼Œä¾‹å¦‚ä¿®æ”¹é€£æ¥å­—ä¸²ã€èª¿æ•´å…§å­˜å’ŒCPUçš„è³‡æºåˆ†é…ç­‰ã€‚\nå¤šç’°å¢ƒéƒ¨ç½²ï¼šDeployment å¯ä»¥ç”¨æ–¼åœ¨ä¸åŒç’°å¢ƒï¼ˆå¦‚é–‹ç™¼ã€æ¸¬è©¦ã€ç”Ÿç”¢ï¼‰ä¸­éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ï¼Œä¸¦æä¾›ä¸€è‡´çš„éƒ¨ç½²æ–¹å¼å’Œç®¡ç†èƒ½åŠ›ã€‚é€™ä½¿å¾—åœ¨ä¸åŒç’°å¢ƒä¸­ä¿æŒæ‡‰ç”¨ç¨‹å¼é…ç½®å’Œç‰ˆæœ¬çš„ä¸€è‡´æ€§è®Šå¾—æ›´å®¹æ˜“ã€‚\nå¦‚ä½•ä½¿ç”¨Deployment å‰µå»ºdeployment apiVersion: apps/v1 # å®šç¾©apiç‰ˆæœ¬ kind: Deployment # å®šç¾©è³‡æºé¡å‹ metadata: # å®šç¾©å…ƒæ•¸æ“š name: nginx-deployment labels: app: nginx spec: strategy: type: RollingUpdate # æ›´æ–°ç­–ç•¥ rollingUpdate: maxUnavailable: 25% # ç•¶æ›´æ–°æ™‚ï¼Œç„¡æ³•ä½¿ç”¨çš„Podä½”æ•´é«”Podæ•¸é‡çš„æ¯”ä¾‹ maxSurge: 25% # ç•¶æ›´æ–°æ™‚ï¼ŒPodå¯ä»¥è¶…édesired statusæ•¸é‡çš„æ¯”ä¾‹ progressDeadlineSeconds: 600 # éƒ¨å±¬çš„æœ€é•·ç­‰å¾…æ™‚é–“ï¼Œç•¶è¶…éå‰‡å›å ±\u0026#34;failed progressing\u0026#34; minReadySeconds: 0 # æœå‹™éƒ¨å±¬å¾Œæº–å‚™åˆ°å¯æ¥æ”¶æµé‡çš„æ™‚é–“ revisionHistoryLimit: 10 # å¯rollbackçš„ç‰ˆæœ¬æ•¸ replicas: 3 # å‰¯æœ¬æ•¸ selector: # å®šç¾©label selector matchLabels: app: nginx template: # pod template metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.14.2 ports: - containerPort: 80 resources: requests: cpu: 200m memory: 512Mi æŸ¥çœ‹Deployment \u0026gt; kubectl get deployments.apps NAME READY UP-TO-DATE AVAILABLE AGE nginx-deployment 3/3 3 3 24m \u0026gt; kubectl get deployments.apps -o wide NAME READY UP-TO-DATE AVAILABLE AGE CONTAINERS IMAGES SELECTOR nginx-deployment 3/3 3 3 24m nginx nginx:1.8 app=nginx æ›´æ–°Deployment æ›´æ–°imageç‰ˆæœ¬ \u0026gt; kubectl set image deployment nginx-deployment nginx=nginx:1.9 deployment.apps/nginx-deployment image updated \u0026gt; kubectl get deployments.apps -o wide NAME READY UP-TO-DATE AVAILABLE AGE CONTAINERS IMAGES SELECTOR nginx-deployment 3/3 1 3 37m nginx nginx:1.9 app=nginx æŸ¥çœ‹æ›´æ–°ç‹€æ…‹ \u0026gt; kubectl rollout status deployment nginx-deployment deployment \u0026#34;nginx-deployment\u0026#34; successfully rolled out ä¿®æ”¹pod template \u0026gt; kubectl edit deployment nginx-deployment å›é€€Deployment æª¢æŸ¥Deploymentçš„å‡ç´šæ­·å²ç´€éŒ„ \u0026gt; kubectl rollout history deployment nginx-deployment deployment.apps/nginx-deployment REVISION CHANGE-CAUSE 1 nginx:1.7.9 2 nginx:1.8 æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬çš„ç´€éŒ„ \u0026gt; kubectl rollout history deployment nginx-deployment --revision=2 deployment.apps/nginx-deployment with revision #2 Pod Template: Labels: app=nginx pod-template-hash=58f44756c Annotations: kubernetes.io/change-cause: nginx:1.8 Containers: nginx: Image: nginx:1.8 Port: 80/TCP Host Port: 0/TCP Environment: \u0026lt;none\u0026gt; Mounts: \u0026lt;none\u0026gt; Volumes: \u0026lt;none\u0026gt; å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬ \u0026gt; kubectl rollout undo deployment nginx-deployment --to-revision 1 deployment.apps/nginx-deployment rolled back æ“´ç¸®Deployment æŒ‡å®šæ•¸é‡ \u0026gt; kubectl scale deployment nginx-deployment --replicas 2 deployment.apps/nginx-deployment scaled æ°´å¹³è‡ªå‹•æ“´ç¸®ï¼Œæ ¹æ“šç•¶å‰Podçš„CPUåˆ©ç”¨ç‡ç•¶ä½œæ“´ç¸®ä¾æ“š kubectl autoscale deployment nginx-deployment --max 5 --min 3 --cpu-percent 70 å¦‚æœæ˜¯ä½¿ç”¨minikubeï¼Œå¾—å•Ÿç”¨metrics-serverçš„addon\nminikube addons list ## æŸ¥çœ‹minikubeçš„addon minikube addons enable metrics-server ## å•Ÿç”¨metrics-serverçš„addon\næš«åœå’Œæ¢å¾©Deployment \u0026gt; kubectl rollout pause deployment nginx-deployment deployment.apps/nginx-deployment paused \u0026gt; kubectl rollout resume deployment nginx-deployment deployment.apps/nginx-deployment resumed åœ¨æš«åœæœŸé–“ä»»æ„ä¿®æ”¹deploymentéƒ½ä¸æœƒæ›´æ–°ï¼Œæš«åœå‰çš„ç‹€æ…‹å°‡ç¹¼çºŒå®ƒçš„åŠŸèƒ½\nDeployment cheat sheet Reference Deployments | Kubernetes Deployment Â· Kubernetes ä¸­æ–‡æŒ‡å—â€”â€”äº‘åŸç”Ÿåº”ç”¨æ¶æ„å®æˆ˜æ‰‹å†Œ (jimmysong.io) Kubernetes é‚£äº›äº‹ â€” Deployment èˆ‡ ReplicaSetï¼ˆä¸€ï¼‰ | by Andy Chen | Andyçš„æŠ€è¡“åˆ†äº«blog | Medium ","permalink":"https://sz9751210.github.io/posts/k8s-deploy/","summary":"ä»€éº¼æ˜¯ Kubernetes Deployment? ä¸€æ¨£å…ˆä¾†å€‹å®˜ç¶²è§£èªª\nAÂ DeploymentÂ provides declarative updates forÂ PodsÂ andÂ ReplicaSets.\nYou describe aÂ desired stateÂ in a Deployment, and the DeploymentÂ ControllerÂ changes the actual state to the desired state at a controlled rate. You can define Deployments to create new ReplicaSets, or to remove existing Deployments and adopt all their resources with new Deployments.\nè·ŸReplicaSetä¸åŒï¼ŒDeploymentçš„å·¥ä½œä¸»è¦æ˜¯ç‚º pod \u0026amp; replicaset æä¾›äº†ä¸€å€‹å®£å‘Šå¼çš„è¨­å®š \u0026amp; æ›´æ–°æ–¹å¼ï¼Œé€éå®šç¾© desired statusï¼ŒDeployment controller æœƒåœ¨æ‰€è¬‚çš„Â controlled rateÂ ä¸‹é”åˆ°ä½¿ç”¨è€…æ‰€æœŸæœ›çš„ç‹€æ…‹ï¼Œé€™äº›æ©Ÿåˆ¶æ˜¯ç”± k8s è‡ªå‹•åŒ–å®Œæˆï¼Œå› æ­¤å®˜æ–¹å»ºè­°æ‡‰è©²é€é Deployment ä¾†ä½ˆç½² pod \u0026amp; replicasetã€‚","title":"Kubernetes Deploymentï¼šOverview"},{"content":"ğŸ‘¨â€ğŸ’»Intro ç‚ºäº†å¯¦ç¾vscodeåœ¨wslç’°å¢ƒä¸‹ä½¿ç”¨sshé€£æ¥åˆ°gceçš„éœ€æ±‚ï¼Œåœ¨çˆ¬æ–‡å¾Œæ‰¾åˆ°ä¸€ç¯‡è§£æ³•ï¼Œå› æ­¤è¨˜éŒ„ä¸‹ä¾†ï¼Œæ–¹ä¾¿æ—¥å¾ŒæŸ¥è©¢\nğŸ¯setup å»ºç«‹ssh.batæª”æ¡ˆï¼Œä¸¦æ”¾åœ¨windowsä¸‹ä»»æ„ä½ç½® C:\\Windows\\system32\\wsl.exe ssh %* vscodeè¨­å®šssh.batè·¯å¾‘ æ‰“é–‹vscodeçš„settings -\u0026gt; extensions -\u0026gt; Remote - SSH -\u0026gt; Remote.SSH.pathå°‡ssh.batæ‰€åœ¨è·¯å¾‘è²¼ä¸Š\né€éç®¡ç†å“¡èº«åˆ†æ‰“é–‹CMDå»ºç«‹é€£çµ\nC:\\Users\\User\u0026gt;mklink /D \u0026#34;C:\\Users\\User\\.ssh\u0026#34; \u0026#34;\\\\wsl$\\Ubuntu-20.04\\home\\alan\\.ssh\u0026#34; ## æˆåŠŸå¾Œæœƒé¡¯ç¤ºä»¥ä¸‹è¨Šæ¯ å·²å»ºç«‹ C:\\Users\\User\\.ssh çš„ç¬¦è™Ÿé€£çµ \u0026lt;\u0026lt;===\u0026gt;\u0026gt; \\\\wsl$\\Ubuntu-20.04\\home\\alan\\.ssh æŒ‡ä»¤ä»‹ç´¹ mklink mklink [option] Source Target mklinkï¼šå»ºç«‹é€£çµ\n/D ï¼šé€£çµé¡å‹ç‚ºè³‡æ–™å¤¾\nSourceï¼šwindowsé€£çµè·¯å¾‘\nTargetï¼šwslå®¶ç›®éŒ„çš„.sshè³‡æ–™å¤¾\nReference Can I SSH from WSL in Visual Studio Code? - Stack Overflow Using WSL for Remote-SSH in VS Code â€“ Zit Seng\u0026rsquo;s Blog Sync VSCodeâ€™s SSH with WSL2 â€“ Zit Seng\u0026rsquo;s Blog Mklink æŒ‡ä»¤å»ºç«‹ Symbolic Link | ShunNien\u0026rsquo;s Blog ","permalink":"https://sz9751210.github.io/posts/vscode-wsl-ssh/","summary":"ğŸ‘¨â€ğŸ’»Intro ç‚ºäº†å¯¦ç¾vscodeåœ¨wslç’°å¢ƒä¸‹ä½¿ç”¨sshé€£æ¥åˆ°gceçš„éœ€æ±‚ï¼Œåœ¨çˆ¬æ–‡å¾Œæ‰¾åˆ°ä¸€ç¯‡è§£æ³•ï¼Œå› æ­¤è¨˜éŒ„ä¸‹ä¾†ï¼Œæ–¹ä¾¿æ—¥å¾ŒæŸ¥è©¢\nğŸ¯setup å»ºç«‹ssh.batæª”æ¡ˆï¼Œä¸¦æ”¾åœ¨windowsä¸‹ä»»æ„ä½ç½® C:\\Windows\\system32\\wsl.exe ssh %* vscodeè¨­å®šssh.batè·¯å¾‘ æ‰“é–‹vscodeçš„settings -\u0026gt; extensions -\u0026gt; Remote - SSH -\u0026gt; Remote.SSH.pathå°‡ssh.batæ‰€åœ¨è·¯å¾‘è²¼ä¸Š\né€éç®¡ç†å“¡èº«åˆ†æ‰“é–‹CMDå»ºç«‹é€£çµ\nC:\\Users\\User\u0026gt;mklink /D \u0026#34;C:\\Users\\User\\.ssh\u0026#34; \u0026#34;\\\\wsl$\\Ubuntu-20.04\\home\\alan\\.ssh\u0026#34; ## æˆåŠŸå¾Œæœƒé¡¯ç¤ºä»¥ä¸‹è¨Šæ¯ å·²å»ºç«‹ C:\\Users\\User\\.ssh çš„ç¬¦è™Ÿé€£çµ \u0026lt;\u0026lt;===\u0026gt;\u0026gt; \\\\wsl$\\Ubuntu-20.04\\home\\alan\\.ssh æŒ‡ä»¤ä»‹ç´¹ mklink mklink [option] Source Target mklinkï¼šå»ºç«‹é€£çµ\n/D ï¼šé€£çµé¡å‹ç‚ºè³‡æ–™å¤¾\nSourceï¼šwindowsé€£çµè·¯å¾‘\nTargetï¼šwslå®¶ç›®éŒ„çš„.sshè³‡æ–™å¤¾\nReference Can I SSH from WSL in Visual Studio Code? - Stack Overflow Using WSL for Remote-SSH in VS Code â€“ Zit Seng\u0026rsquo;s Blog Sync VSCodeâ€™s SSH with WSL2 â€“ Zit Seng\u0026rsquo;s Blog Mklink æŒ‡ä»¤å»ºç«‹ Symbolic Link | ShunNien\u0026rsquo;s Blog ","title":"vscodeåœ¨wslç’°å¢ƒä¸‹é€£æ¥ssh"},{"content":"GitLabä¸åƒ…æ˜¯ä¸€å€‹æºä»£ç¢¼ç®¡ç†å·¥å…·ï¼Œå®ƒé‚„æä¾›äº†ä¸€å€‹çµ±ä¸€çš„å¹³å°ï¼Œå°‡é–‹ç™¼ã€é‹ç‡Ÿå’Œå®‰å…¨ç­‰æµç¨‹æ•´åˆåœ¨ä¸€èµ·ã€‚é€šéGitLabï¼Œå¯ä»¥åœ¨å–®ä¸€çš„æ‡‰ç”¨ç¨‹åºä¸­é€²è¡Œå°ˆæ¡ˆè¨ˆåŠƒã€æºä»£ç¢¼ç®¡ç†ã€åˆ†æ”¯æ§åˆ¶ã€CI/CDç­‰æ“ä½œã€‚ä¸è«–è§’è‰²ç‚ºä½•ï¼ŒGitLabæä¾›äº†ä¸€å€‹çµ±ä¸€çš„è³‡è¨Šä¾†æºï¼Œè®“ä½ è¼•é¬†åœ°ç®¡ç†å’Œè¿½è¹¤æ•´å€‹é–‹ç™¼æµç¨‹ã€‚å®ƒæ¶ˆé™¤äº†å·¥å…·éˆçš„è¤‡é›œæ€§ï¼Œæé«˜äº†ç«¯åˆ°ç«¯æµç¨‹çš„å¯è¦–æ€§ï¼Œå¾è€Œå¹«åŠ©çµ„ç¹”æ›´å¿«åœ°å¯¦ç¾è®Šé©ã€‚\næœ¬ç¯‡æ–‡ç« ä¸»è¦ç´€éŒ„ä½¿ç”¨dockerå»ºç«‹gitlabçš„æ•™å­¸\næº–å‚™ç’°å¢ƒ ç’°å¢ƒ OS Ubuntu 20.04 LTS Gitlab Gitlab-ce:15.8.0-ce.0 Docker Engine 23.0.5 å®‰è£gitlab åœ¨å®‰è£ä¹‹å‰ï¼Œå…ˆè¬›è§£ä¸€ä¸‹gitlabæœ‰å“ªäº›é‡è¦çš„è³‡æ–™éœ€è¦æ›è¼‰çš„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰å€‹è·¯å¾‘\n/var/opt/gitlab: é€™å€‹è·¯å¾‘ä¸»è¦å„²å­˜GitLabçš„è³‡æ–™ã€‚åŒ…æ‹¬Git repoã€ç”¨æˆ¶è³‡æ–™ã€é…ç½®æ–‡ä»¶ç­‰ã€‚æ›è¼‰åˆ°æœ¬åœ°å¾Œï¼Œå³ä½¿å®¹å™¨ç™¼ç”Ÿæ„å¤–è¢«åˆªé™¤æˆ–é‡æ–°å‰µå»ºï¼Œè³‡æ–™ä¹Ÿèƒ½å¤ å¾—åˆ°ä¿ç•™ï¼Œé”åˆ°æ•¸æ“šæŒä¹…åŒ–ã€‚\n./gitlab/logs:/var/log/gitlab: é€™å€‹è·¯å¾‘ä¸»è¦å„²å­˜GitLabçš„logã€‚logåŒ…å«GitLabçš„é‹è¡Œlogã€éŒ¯èª¤logç­‰é‡è¦è³‡è¨Šã€‚æ›è¼‰åˆ°æœ¬åœ°å¾Œï¼Œæ–¹ä¾¿æ—¥å¾ŒæŸ¥çœ‹å’Œç®¡ç†logï¼Œä¸¦é€²è¡Œæ•…éšœæ’é™¤å’Œç›£æ§ã€‚\n/etc/gitlab: é€™å€‹è·¯å¾‘ä¸»è¦å„²å­˜GitLabçš„è¨­å®šæª”ï¼ŒåŒ…å«ç³»çµ±è¨­å®šã€ç”¨æˆ¶æ¬Šé™ã€å¤–éƒ¨æ•´åˆç­‰è¨­å®šã€‚æ›è¼‰åˆ°æœ¬åœ°å¾Œï¼Œå¯æ ¹æ“šéœ€æ±‚é€²è¡Œè‡ªå®šç¾©èª¿æ•´ã€‚\nè¬›è§£å®Œä»¥ä¸Šé‡è¦çš„æ›è¼‰è·¯å¾‘å¾Œï¼Œæ¥ä¸‹ä¾†è¬›è§£ä½¿ç”¨dockerå»ºç«‹gitlab\ndockerç‰ˆ docker run -d \\ --name gitlab \\ --restart always \\ --privileged \\ -p 8080:80 \\ -p 443:443 \\ -p 22:22 \\ -v ./gitlab/data:/var/opt/gitlab \\ -v ./gitlab/logs:/var/log/gitlab \\ -v ./gitlab/config:/etc/gitlab \\ gitlab/gitlab-ce:15.8.0-ce.0 docker-composeç‰ˆ å…ˆå»ºç«‹docker-compose.yaml å°‡ä»¥ä¸‹å…§å®¹è²¼ä¸Š version: \u0026#34;3.6\u0026#34; services: gitlab: image: gitlab/gitlab-ce:15.8.0-ce.0 container_name: gitlab restart: always privileged: true hostname: \u0026#39;localhost\u0026#39; ports: - \u0026#39;8080:80\u0026#39; - \u0026#39;443:443\u0026#39; - \u0026#39;22:22\u0026#39; volumes: - \u0026#39;./gitlab/data:/var/opt/gitlab\u0026#39; - \u0026#39;./gitlab/logs:/var/log/gitlab\u0026#39; - \u0026#39;./gitlab/config:/etc/gitlab\u0026#39; åŸ·è¡Œdocker-compose up -dè®“gitlabåœ¨å¾Œå°é‹è¡Œ åŸ·è¡Œdocker-compose logs -fæª¢æŸ¥gitlab logæ˜¯å¦æœ‰ç•°å¸¸ ç™»å…¥gitlab æ‰“é–‹ç€è¦½å™¨è¼¸å…¥localhost:8080å°±æœƒçœ‹åˆ°ä»¥ä¸‹ç•«é¢ é è¨­å¯†ç¢¼å¯é€²åˆ°gitlabå®¹å™¨å…§ä¸‹cat /etc/initial_root_password\næˆåŠŸç™»å…¥å¾Œå°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç•«é¢ï¼Œåˆ°é€™ä¸€æ­¥å°±å·²ç¶“å®Œæˆgitlabçš„å»ºç«‹äº†\n","permalink":"https://sz9751210.github.io/posts/docker-install-gitlab/","summary":"GitLabä¸åƒ…æ˜¯ä¸€å€‹æºä»£ç¢¼ç®¡ç†å·¥å…·ï¼Œå®ƒé‚„æä¾›äº†ä¸€å€‹çµ±ä¸€çš„å¹³å°ï¼Œå°‡é–‹ç™¼ã€é‹ç‡Ÿå’Œå®‰å…¨ç­‰æµç¨‹æ•´åˆåœ¨ä¸€èµ·ã€‚é€šéGitLabï¼Œå¯ä»¥åœ¨å–®ä¸€çš„æ‡‰ç”¨ç¨‹åºä¸­é€²è¡Œå°ˆæ¡ˆè¨ˆåŠƒã€æºä»£ç¢¼ç®¡ç†ã€åˆ†æ”¯æ§åˆ¶ã€CI/CDç­‰æ“ä½œã€‚ä¸è«–è§’è‰²ç‚ºä½•ï¼ŒGitLabæä¾›äº†ä¸€å€‹çµ±ä¸€çš„è³‡è¨Šä¾†æºï¼Œè®“ä½ è¼•é¬†åœ°ç®¡ç†å’Œè¿½è¹¤æ•´å€‹é–‹ç™¼æµç¨‹ã€‚å®ƒæ¶ˆé™¤äº†å·¥å…·éˆçš„è¤‡é›œæ€§ï¼Œæé«˜äº†ç«¯åˆ°ç«¯æµç¨‹çš„å¯è¦–æ€§ï¼Œå¾è€Œå¹«åŠ©çµ„ç¹”æ›´å¿«åœ°å¯¦ç¾è®Šé©ã€‚\næœ¬ç¯‡æ–‡ç« ä¸»è¦ç´€éŒ„ä½¿ç”¨dockerå»ºç«‹gitlabçš„æ•™å­¸\næº–å‚™ç’°å¢ƒ ç’°å¢ƒ OS Ubuntu 20.04 LTS Gitlab Gitlab-ce:15.8.0-ce.0 Docker Engine 23.0.5 å®‰è£gitlab åœ¨å®‰è£ä¹‹å‰ï¼Œå…ˆè¬›è§£ä¸€ä¸‹gitlabæœ‰å“ªäº›é‡è¦çš„è³‡æ–™éœ€è¦æ›è¼‰çš„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰å€‹è·¯å¾‘\n/var/opt/gitlab: é€™å€‹è·¯å¾‘ä¸»è¦å„²å­˜GitLabçš„è³‡æ–™ã€‚åŒ…æ‹¬Git repoã€ç”¨æˆ¶è³‡æ–™ã€é…ç½®æ–‡ä»¶ç­‰ã€‚æ›è¼‰åˆ°æœ¬åœ°å¾Œï¼Œå³ä½¿å®¹å™¨ç™¼ç”Ÿæ„å¤–è¢«åˆªé™¤æˆ–é‡æ–°å‰µå»ºï¼Œè³‡æ–™ä¹Ÿèƒ½å¤ å¾—åˆ°ä¿ç•™ï¼Œé”åˆ°æ•¸æ“šæŒä¹…åŒ–ã€‚\n./gitlab/logs:/var/log/gitlab: é€™å€‹è·¯å¾‘ä¸»è¦å„²å­˜GitLabçš„logã€‚logåŒ…å«GitLabçš„é‹è¡Œlogã€éŒ¯èª¤logç­‰é‡è¦è³‡è¨Šã€‚æ›è¼‰åˆ°æœ¬åœ°å¾Œï¼Œæ–¹ä¾¿æ—¥å¾ŒæŸ¥çœ‹å’Œç®¡ç†logï¼Œä¸¦é€²è¡Œæ•…éšœæ’é™¤å’Œç›£æ§ã€‚\n/etc/gitlab: é€™å€‹è·¯å¾‘ä¸»è¦å„²å­˜GitLabçš„è¨­å®šæª”ï¼ŒåŒ…å«ç³»çµ±è¨­å®šã€ç”¨æˆ¶æ¬Šé™ã€å¤–éƒ¨æ•´åˆç­‰è¨­å®šã€‚æ›è¼‰åˆ°æœ¬åœ°å¾Œï¼Œå¯æ ¹æ“šéœ€æ±‚é€²è¡Œè‡ªå®šç¾©èª¿æ•´ã€‚\nè¬›è§£å®Œä»¥ä¸Šé‡è¦çš„æ›è¼‰è·¯å¾‘å¾Œï¼Œæ¥ä¸‹ä¾†è¬›è§£ä½¿ç”¨dockerå»ºç«‹gitlab\ndockerç‰ˆ docker run -d \\ --name gitlab \\ --restart always \\ --privileged \\ -p 8080:80 \\ -p 443:443 \\ -p 22:22 \\ -v ./gitlab/data:/var/opt/gitlab \\ -v ./gitlab/logs:/var/log/gitlab \\ -v ./gitlab/config:/etc/gitlab \\ gitlab/gitlab-ce:15.8.0-ce.0 docker-composeç‰ˆ å…ˆå»ºç«‹docker-compose.yaml å°‡ä»¥ä¸‹å…§å®¹è²¼ä¸Š version: \u0026#34;3.6\u0026#34; services: gitlab: image: gitlab/gitlab-ce:15.8.0-ce.0 container_name: gitlab restart: always privileged: true hostname: \u0026#39;localhost\u0026#39; ports: - \u0026#39;8080:80\u0026#39; - \u0026#39;443:443\u0026#39; - \u0026#39;22:22\u0026#39; volumes: - \u0026#39;.","title":"ä½¿ç”¨Dockerå®‰è£GitLab"},{"content":"æœå‹™ä¸Šé›²å¾Œæœ‰æ™‚æœƒéœ€è¦å›ºå®šä¸€çµ„IPä¸»å‹•å°å¤–ç™¼å‡ºé€£ç·šï¼Œé€™æ™‚è¦è€ƒæ…®å®‰å…¨æ€§èˆ‡ç¨ç«‹æ€§çš„å•é¡Œï¼Œåœ¨çˆ¬æ–‡å¾Œç™¼ç¾äº†GCPæ¨å‡ºçš„Cloud NATï¼Œæœ¬ç¯‡æ–‡ç« ç°¡å–®ä»‹ç´¹ä¸€ä¸‹é€™å€‹å·¥å…·çš„ä½¿ç”¨ã€‚\nä»€éº¼æ˜¯Cloud NAT GCP Cloud NATæ˜¯GCPä¸Šçš„ä¸€ç¨®æœå‹™ï¼Œå®ƒæä¾›äº†ä¸€å€‹ç®¡ç†å’Œéƒ¨ç½²Google Cloudä¸Šçš„NATï¼ˆNetwork Address Translationï¼‰çš„è§£æ±ºæ–¹æ¡ˆã€‚ GCP Cloud NATèƒ½å¤ è®“ä½¿ç”¨è€…åœ¨ä¸å…¬é–‹VMæˆ–GKEçš„å¤–ç¶²IPæƒ…æ³ä¸‹ï¼Œé€éå…±ç”¨ä¸€çµ„IPå°å¤–æºé€šï¼Œå¤–éƒ¨æœå‹™ç„¡æ³•ç›´æ¥å­˜å–Cloud NAT é–˜é“å¾Œçš„ä»»ä½•è³‡æºï¼Œç¢ºä¿äº†æœå‹™çš„å®‰å…¨æ€§ã€‚\nä»€éº¼æ™‚å€™ä½¿ç”¨Cloud NAT åœ¨éœ€è¦ä½¿ç”¨ç§æœ‰IPåœ°å€èˆ‡å¤–ç¶²é€£æ¥æ™‚ï¼Œå¯ä»¥ä½¿ç”¨Cloud NATã€‚ ä¾‹å¦‚ï¼šåœ¨Podè¨ªå•å¤–ç¶²æ™‚éœ€è¦å›ºå®šPublic IPçš„æƒ…å¢ƒä¸‹æœƒä½¿ç”¨åˆ°ã€‚\nå¦‚ä½•ä½¿ç”¨Cloud NAT æº–å‚™ç’°å¢ƒ è¨­å®šgcloudè‡³æ­£ç¢ºå°ˆæ¡ˆ gcloud config set project \u0026lt;PROJECT_ID\u0026gt; å»ºç«‹VPCç¶²è·¯èˆ‡å­ç¶²è·¯ å»ºç«‹ä¸€å°ç„¡å¤–ç¶²çš„vmï¼Œregioné¸asia-east1 ï¼Œzoneé¸asia-east1-bï¼Œç¶²è·¯é¸å‰›å‰›å»ºç«‹çš„nat-networkï¼Œå­ç¶²é¸nat-subnet-192 å»ºç«‹é˜²ç«ç‰†ä¸¦å…è¨±35.235.240.0/20ç¶²æ®µï¼Œå…è¨±tcp 22 portï¼Œç›®æ¨™ç‚ºç„¡å¤–ç¶²çš„vm åˆ°IAPé é¢ä¸¦é¸æ“‡SSHå’ŒTCPè³‡æºè¨­å®šæ¬Šé™ åˆ°å‰›å‰›å»ºç«‹çš„vm curl httpbin.org/ipï¼Œæ­¤æ™‚æ‡‰è©²æ˜¯ç„¡æ³•é€£ç·šåˆ°å¤–éƒ¨\nè¨­å®šNAT åˆ°Cloud NATå»ºç«‹NAT gatewayï¼Œä¸¦é¸æ“‡ç¨æ—©å‰µå»ºçš„VPCä»¥åŠå‰µå»ºRouter é€™æ™‚å€™åœ¨curlä¸€æ¬¡å°±æœƒæœ‰ä¸€çµ„å°å¤–ipäº†ï¼Œæ­¤ipå³ç‚ºnatè‡ªå‹•å¹«æˆ‘å€‘å‰µå»ºçš„å¤–éƒ¨ip æœ‰äº† Cloud NAT ï¼Œå¯ä»¥åœ¨ä¸ä½¿ç”¨å¤–éƒ¨ipçš„æƒ…æ³ä¸‹ï¼Œèˆ‡å¤–ç¶²é€£ç·šä¸”åŒæ™‚é˜»æ“‹äº†ç”±å¤–éƒ¨çš„å­˜å–ï¼Œå¢åŠ äº†ä¸å°‘å®‰å…¨æ€§ï¼Œé™ä½ä¸»æ©Ÿè¢«æ”»æ“Šçš„é¢¨éšªã€‚\nReference Cloud NAT overview |Â Google Cloud Set up Cloud NAT with Compute Engine |Â Google Cloud åˆ©ç”¨ Cloud NAT ç¶­æŒé›²ç«¯çš„ç¨ç«‹æ€§èˆ‡å®‰å…¨æ€§ - PeerOne Technology çš®å¶ç©äº’å‹•ç§‘æŠ€ - Medium ","permalink":"https://sz9751210.github.io/posts/gcp-cloud-nat/","summary":"æœå‹™ä¸Šé›²å¾Œæœ‰æ™‚æœƒéœ€è¦å›ºå®šä¸€çµ„IPä¸»å‹•å°å¤–ç™¼å‡ºé€£ç·šï¼Œé€™æ™‚è¦è€ƒæ…®å®‰å…¨æ€§èˆ‡ç¨ç«‹æ€§çš„å•é¡Œï¼Œåœ¨çˆ¬æ–‡å¾Œç™¼ç¾äº†GCPæ¨å‡ºçš„Cloud NATï¼Œæœ¬ç¯‡æ–‡ç« ç°¡å–®ä»‹ç´¹ä¸€ä¸‹é€™å€‹å·¥å…·çš„ä½¿ç”¨ã€‚\nä»€éº¼æ˜¯Cloud NAT GCP Cloud NATæ˜¯GCPä¸Šçš„ä¸€ç¨®æœå‹™ï¼Œå®ƒæä¾›äº†ä¸€å€‹ç®¡ç†å’Œéƒ¨ç½²Google Cloudä¸Šçš„NATï¼ˆNetwork Address Translationï¼‰çš„è§£æ±ºæ–¹æ¡ˆã€‚ GCP Cloud NATèƒ½å¤ è®“ä½¿ç”¨è€…åœ¨ä¸å…¬é–‹VMæˆ–GKEçš„å¤–ç¶²IPæƒ…æ³ä¸‹ï¼Œé€éå…±ç”¨ä¸€çµ„IPå°å¤–æºé€šï¼Œå¤–éƒ¨æœå‹™ç„¡æ³•ç›´æ¥å­˜å–Cloud NAT é–˜é“å¾Œçš„ä»»ä½•è³‡æºï¼Œç¢ºä¿äº†æœå‹™çš„å®‰å…¨æ€§ã€‚\nä»€éº¼æ™‚å€™ä½¿ç”¨Cloud NAT åœ¨éœ€è¦ä½¿ç”¨ç§æœ‰IPåœ°å€èˆ‡å¤–ç¶²é€£æ¥æ™‚ï¼Œå¯ä»¥ä½¿ç”¨Cloud NATã€‚ ä¾‹å¦‚ï¼šåœ¨Podè¨ªå•å¤–ç¶²æ™‚éœ€è¦å›ºå®šPublic IPçš„æƒ…å¢ƒä¸‹æœƒä½¿ç”¨åˆ°ã€‚\nå¦‚ä½•ä½¿ç”¨Cloud NAT æº–å‚™ç’°å¢ƒ è¨­å®šgcloudè‡³æ­£ç¢ºå°ˆæ¡ˆ gcloud config set project \u0026lt;PROJECT_ID\u0026gt; å»ºç«‹VPCç¶²è·¯èˆ‡å­ç¶²è·¯ å»ºç«‹ä¸€å°ç„¡å¤–ç¶²çš„vmï¼Œregioné¸asia-east1 ï¼Œzoneé¸asia-east1-bï¼Œç¶²è·¯é¸å‰›å‰›å»ºç«‹çš„nat-networkï¼Œå­ç¶²é¸nat-subnet-192 å»ºç«‹é˜²ç«ç‰†ä¸¦å…è¨±35.235.240.0/20ç¶²æ®µï¼Œå…è¨±tcp 22 portï¼Œç›®æ¨™ç‚ºç„¡å¤–ç¶²çš„vm åˆ°IAPé é¢ä¸¦é¸æ“‡SSHå’ŒTCPè³‡æºè¨­å®šæ¬Šé™ åˆ°å‰›å‰›å»ºç«‹çš„vm curl httpbin.org/ipï¼Œæ­¤æ™‚æ‡‰è©²æ˜¯ç„¡æ³•é€£ç·šåˆ°å¤–éƒ¨\nè¨­å®šNAT åˆ°Cloud NATå»ºç«‹NAT gatewayï¼Œä¸¦é¸æ“‡ç¨æ—©å‰µå»ºçš„VPCä»¥åŠå‰µå»ºRouter é€™æ™‚å€™åœ¨curlä¸€æ¬¡å°±æœƒæœ‰ä¸€çµ„å°å¤–ipäº†ï¼Œæ­¤ipå³ç‚ºnatè‡ªå‹•å¹«æˆ‘å€‘å‰µå»ºçš„å¤–éƒ¨ip æœ‰äº† Cloud NAT ï¼Œå¯ä»¥åœ¨ä¸ä½¿ç”¨å¤–éƒ¨ipçš„æƒ…æ³ä¸‹ï¼Œèˆ‡å¤–ç¶²é€£ç·šä¸”åŒæ™‚é˜»æ“‹äº†ç”±å¤–éƒ¨çš„å­˜å–ï¼Œå¢åŠ äº†ä¸å°‘å®‰å…¨æ€§ï¼Œé™ä½ä¸»æ©Ÿè¢«æ”»æ“Šçš„é¢¨éšªã€‚\nReference Cloud NAT overview |Â Google Cloud Set up Cloud NAT with Compute Engine |Â Google Cloud åˆ©ç”¨ Cloud NAT ç¶­æŒé›²ç«¯çš„ç¨ç«‹æ€§èˆ‡å®‰å…¨æ€§ - PeerOne Technology çš®å¶ç©äº’å‹•ç§‘æŠ€ - Medium ","title":"GCP Cloud NATï¼šOverview"},{"content":"ä»€éº¼æ˜¯ Kubernetes ReplicaSet? å…ˆä¾†å€‹å®˜ç¶²è§£èªª\nA ReplicaSet\u0026rsquo;s purpose is to maintain a stable set of replica Pods running at any given time. As such, it is often used to guarantee the availability of a specified number of identical Pods.\næ ¹æ“šä¸Šè¿°æè¿°ï¼ŒReplica Setä¸»è¦çš„ä½œç”¨æ˜¯ç¢ºä¿å§‹çµ‚éƒ½æœ‰ä¸€å®šæ•¸é‡çš„ç›¸åŒPodå¯ç”¨ï¼Œä¿è­‰æœå‹™çš„é«˜å¯ç”¨æ€§ã€‚\nKubernetes RSæ˜¯Kubernetesä¸­çš„ä¸€ç¨®æ§åˆ¶å™¨ï¼Œä¸»è¦ç”¨æ–¼ç®¡ç†Podçš„è¤‡è£½å’Œä¼¸ç¸®ï¼Œç¢ºä¿Podçš„æ•¸é‡ã€‚RSå…·æœ‰ä»¥ä¸‹å¹¾ç¨®ç‰¹æ€§ è‡ªå‹•ç®¡ç†podçš„å‰¯æœ¬æ•¸é‡ï¼šç¢ºä¿æŒ‡å®šæ•¸é‡çš„Podè·Ÿä½¿ç”¨è€…æ‰€æœŸæœ›çš„ä¸€è‡´(desired status)ï¼Œå¦‚æœç™¼ç”Ÿæ•…éšœæˆ–éœ€è¦æ“´å±•ï¼Œå®ƒæœƒè‡ªå‹•å‰µå»ºæˆ–åˆªé™¤Podã€‚ ç¢ºä¿Podçš„å¥åº·ç‹€æ…‹ï¼šå¦‚æœç™¼ç”Ÿæ•…éšœæœƒå°å¤±æ•—çš„Podé€²è¡Œé‡æ–°èª¿åº¦ å‰µå»ºPodçš„Templateï¼šç•¶éœ€è¦æ–°çš„Podæ™‚æœƒæ ¹æ“šå®šç¾©çš„Pod Templateå‰µå»º ç‚ºä»€éº¼éœ€è¦Replicaset? åœ¨Kubernetesé›†ç¾¤ä¸­ï¼ŒPodçš„ç®¡ç†å°æ–¼ç³»çµ±çš„å¯é æ€§å’Œå½ˆæ€§è‡³é—œé‡è¦ã€‚å¦‚æœä¸€å€‹Podç™¼ç”Ÿæ•…éšœï¼ŒRSæœƒè‡ªå‹•å‰µå»ºä¸€å€‹æ–°çš„Podä¾†ä»£æ›¿å®ƒï¼Œç¢ºä¿æœå‹™ç¹¼çºŒé‹è¡Œã€‚åŒæ™‚ï¼Œç•¶æœå‹™éœ€è¦æ“´å±•ä»¥æ»¿è¶³æµé‡å¢åŠ æ™‚ï¼ŒKubernetes RSä¹Ÿå¯ä»¥è‡ªå‹•å‰µå»ºé¡å¤–çš„Podã€‚å› æ­¤RSè§£æ±ºäº†ä»¥ä¸‹å•é¡Œï¼š\nç¢ºä¿æœå‹™çš„é«˜å¯ç”¨æ€§å’Œå¯é æ€§ï¼šRSå¯ä»¥è‡ªå‹•ç¶­è­·ä¸€å®šæ•¸é‡çš„Podï¼Œç¢ºä¿æœå‹™åœ¨Podå¤±æ•—æ™‚ä»ç„¶å¯ä»¥æ­£å¸¸é‹è¡Œã€‚ æ–¹ä¾¿æœå‹™çš„æ“´å±•ï¼šä½¿ç”¨RSå¯ä»¥æ ¹æ“šéœ€æ±‚èª¿æ•´Podçš„å‰¯æœ¬æ•¸é‡ï¼Œå¯¦ç¾æœå‹™çš„å¿«é€Ÿæ“´å±•ã€‚ ç°¡åŒ–æœå‹™ç®¡ç†ï¼šRSå¯ä»¥è‡ªå‹•èª¿æ•´Podçš„æ•¸é‡ï¼Œæ¸›å°‘æ‰‹å‹•ç®¡ç†çš„å·¥ä½œé‡ã€‚ Kubernetes Replicasetæ˜¯å¦‚ä½•é‹ä½œçš„ï¼Ÿ å®šç¾©RSï¼ŒæŒ‡å®šæ‰€éœ€çš„Podå‰¯æœ¬æ•¸é‡å’ŒPod Templateï¼Œå‰µå»ºå¾Œï¼ŒReplicaSetä½¿ç”¨å®šç¾©å¥½çš„Pod Templateå‰µå»ºPodï¼Œä¸¦é–‹å§‹ç›£æ§æ¯å€‹Podçš„ç‹€æ…‹ä»¥åŠæ•¸é‡æ˜¯å¦èˆ‡å®šç¾©çš„ä¸€è‡´(desired status)ï¼Œå¦‚æœä½æ–¼æŒ‡å®šå‰¯æœ¬æ•¸å‰‡æœƒå‰µå»ºPodï¼Œé«˜æ–¼æŒ‡å®šå‰¯æœ¬æ•¸å‰‡æœƒåˆªé™¤Podï¼Œç•¶Podè¢«æ„å¤–åˆªé™¤æ™‚æœƒå‰µå»ºæ–°çš„Podä¾†åšæ›¿ä»£ã€‚\nä»€éº¼æ™‚å€™ä½¿ç”¨Replicasetï¼Ÿ ä½¿ç”¨RSé€šå¸¸é©ç”¨æ–¼ä»¥ä¸‹æƒ…æ³ï¼š\néœ€è¦ç¢ºä¿ä¸€å®šæ•¸é‡çš„Podæ­£åœ¨é‹è¡Œï¼Œä»¥ä¿æŒæœå‹™çš„å¯ç”¨æ€§å’Œå¯é æ€§ã€‚ éœ€è¦èƒ½å¤ è‡ªå‹•æ“´å±•å’Œç¸®å°Podæ•¸é‡ï¼Œä»¥æ‡‰å°æµé‡è®ŠåŒ–å’Œå…¶ä»–éœ€æ±‚ã€‚ å¸Œæœ›èƒ½å¤ è‡ªå‹•æ›¿æ›ç™¼ç”Ÿæ•…éšœçš„Podï¼Œä»¥ç¢ºä¿æœå‹™çš„é€£çºŒé‹è¡Œã€‚ éœ€è¦ç®¡ç†ä¸€å€‹æœå‹™çš„å¤šå€‹Podï¼Œä¸¦ä¸”å¸Œæœ›ä½¿ç”¨Kubernetesæä¾›çš„è‡ªå‹•åŒ–åŠŸèƒ½ï¼Œä¾‹å¦‚èª¿åº¦ã€ç¶²è·¯é…ç½®å’Œè² è¼‰å¹³è¡¡ã€‚ Kubernetes Replicasetæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ é«˜å¯ç”¨æ€§ï¼šRSçš„ç›®çš„æ˜¯ç¶­è­·ä¸€å€‹ç©©å®šçš„Podå‰¯æœ¬é›†ï¼Œç¢ºä¿å§‹çµ‚æœ‰ä¸€å®šæ•¸é‡çš„ç›¸åŒPodå¯ç”¨ï¼Œå¾è€Œä¿è­‰æœå‹™çš„é«˜å¯ç”¨æ€§ã€‚\nå¥åº·æª¢æŸ¥å’Œè‡ªå‹•æ¢å¾©ï¼šReplicaSetå¯ä»¥é€šéå®šæœŸæª¢æŸ¥Podå‰¯æœ¬çš„å¥åº·ç‹€æ…‹ä¾†ç¢ºä¿æœå‹™å§‹çµ‚é‹è¡Œã€‚ç•¶Podæ•…éšœæˆ–è¢«åˆªé™¤æ™‚ï¼ŒReplicaSetæœƒè‡ªå‹•å‰µå»ºæ–°çš„Podä¾†ä»£æ›¿æ•…éšœçš„Podï¼Œç¢ºä¿æœå‹™çš„å¯ç”¨æ€§åŠç©©å®šæ€§ã€‚\nè‡ªå‹•æ“´ç¸®ï¼šRSæœƒç›£è¦–Podå‰¯æœ¬æ•¸é‡ï¼Œä¸¦è‡ªå‹•å‰µå»ºæˆ–åˆªé™¤Podå‰¯æœ¬ä»¥ç¢ºä¿Podå‰¯æœ¬æ•¸é‡é”åˆ°æŒ‡å®šçš„æ•¸é‡ã€‚ä½¿æœå‹™å¯ä»¥è‡ªå‹•æ“´å±•å’Œç¸®æ”¾ï¼Œä»¥æ‡‰å°ä¸åŒçš„è² è¼‰ã€‚\nç‰ˆæœ¬æ§åˆ¶ï¼šRSå…è¨±åœ¨ä¸ä¸­æ–·ç¾æœ‰æœå‹™çš„æƒ…æ³ä¸‹éƒ¨ç½²æ–°ç‰ˆæœ¬ã€‚åœ¨éƒ¨ç½²æ–°ç‰ˆæœ¬ä¹‹å‰å…ˆå‰µå»ºä¸€äº›æ–°Podå‰¯æœ¬ï¼Œç„¶å¾Œå†åˆªé™¤èˆŠPodå‰¯æœ¬ï¼Œé€™æ¨£æœå‹™å°±å¯ä»¥å¯¦ç¾ç„¡é–“æ–·çš„å‡ç´šã€‚\nå‹•æ…‹æ¨™ç±¤é¸æ“‡ï¼šRSå¯ä»¥ä½¿ç”¨æ¨™ç±¤é¸æ“‡å™¨ä¾†é¸æ“‡Podå‰¯æœ¬ã€‚å¯ä»¥åŸºæ–¼Podçš„æ¨™ç±¤ã€åç¨±å’Œå…¶ä»–å±¬æ€§é€²è¡Œéˆæ´»çš„é¸æ“‡ã€‚\nå‹•æ…‹æ›´æ–°ï¼šRSæ”¯æŒå‹•æ…‹æ›´æ–°ï¼Œå¯ä»¥åœ¨é‹è¡Œæ™‚ä¿®æ”¹Podçš„è¨­å®šï¼Œå¾è€Œå¯¦ç¾éˆæ´»çš„æ‡‰ç”¨ç¨‹åºç®¡ç†ã€‚\nå¦‚ä½•ä½¿ç”¨Replicaset? å®£å‘Šå¼(Declarative) é€éå‰µå»ºä¸€å€‹åŒ…å«Pod Templateçš„yamlæª”ï¼Œå®šç¾©Podçš„Containerå’Œå…¶ä»–å…ƒç´ ï¼Œä¾‹å¦‚æœå‹™çš„Imageå’ŒConfigureã€‚ç„¶å¾Œï¼Œå¯ä»¥åœ¨yamlæª”ä¸­æŒ‡å®šè¦å‰µå»ºçš„Podæ•¸é‡å’Œå…¶ä»–å±¬æ€§ï¼Œä¾‹å¦‚æ¡ç”¨å“ªç¨®èª¿åº¦ç­–ç•¥å’Œå¦‚ä½•è™•ç†æ•…éšœã€‚ apiVersion: apps/v1 # å®šç¾©apiç‰ˆæœ¬ kind: ReplicaSet # å®šç¾©è³‡æºé¡å‹ metadata: # å®šç¾©å…ƒæ•¸æ“š name: frontend labels: app: guestbook tier: frontend spec: # å®šç¾©Podçš„è¦æ ¼ replicas: 3 # å®šç¾©å‰¯æœ¬æ•¸é‡ selector: matchLabels: tier: frontend # é¸æ“‡Podçš„Label template: metadata: labels: tier: frontend # è¦å‰µå»ºçš„Podçš„Label spec: # å®¹å™¨è¦æ ¼ containers: - name: php-redis image: gcr.io/google_samples/gb-frontend:v3 åœ¨ ReplicaSet ä¸­ï¼Œ.spec.template.metadata.labels çš„å€¼å¿…é ˆèˆ‡ spec.selector.matchLabels å€¼ç›¸åŒ¹é…ï¼Œå¦å‰‡è©²é…ç½®æœƒè¢« API æ‹’çµ•ã€‚\nå‘½ä»¤å¼(Imperative) å‰µå»ºRS kubectl create replicaset \u0026lt;replicaset-name\u0026gt; --image=\u0026lt;image-name\u0026gt; --replicas=\u0026lt;number-of-replicas\u0026gt; æŸ¥çœ‹RS kubectl describe replicaset \u0026lt;replicaset-name\u0026gt; kubectl get replicaset \u0026lt;replicaset-name\u0026gt; åˆªé™¤RS kubectl delete replicaset \u0026lt;replicaset-name\u0026gt; æ“´ç¸®RS kubectl scale replicaset \u0026lt;replicaset-name\u0026gt; --replicas=\u0026lt;number-of-replicas\u0026gt; æš«åœRSæ›´æ–° kubectl rollout pause replicaset \u0026lt;replicaset-name\u0026gt; æ¢å¾©RSæ›´æ–° kubectl rollout resume replicaset \u0026lt;replicaset-name\u0026gt; æŸ¥çœ‹RSæ›´æ–°æ­·å² kubectl rollout history replicaset \u0026lt;replicaset-name\u0026gt; å›æ»¾æ›´æ–° kubectl rollout undo replicaset \u0026lt;replicaset-name\u0026gt; Reference ReplicaSet | Kubernetes Kubernetes ReplicaSet ä»‹ç´¹ | å°ä¿¡è±¬çš„åŸå§‹éƒ¨è½ (godleon.github.io) ","permalink":"https://sz9751210.github.io/posts/k8s-rs/","summary":"ä»€éº¼æ˜¯ Kubernetes ReplicaSet? å…ˆä¾†å€‹å®˜ç¶²è§£èªª\nA ReplicaSet\u0026rsquo;s purpose is to maintain a stable set of replica Pods running at any given time. As such, it is often used to guarantee the availability of a specified number of identical Pods.\næ ¹æ“šä¸Šè¿°æè¿°ï¼ŒReplica Setä¸»è¦çš„ä½œç”¨æ˜¯ç¢ºä¿å§‹çµ‚éƒ½æœ‰ä¸€å®šæ•¸é‡çš„ç›¸åŒPodå¯ç”¨ï¼Œä¿è­‰æœå‹™çš„é«˜å¯ç”¨æ€§ã€‚\nKubernetes RSæ˜¯Kubernetesä¸­çš„ä¸€ç¨®æ§åˆ¶å™¨ï¼Œä¸»è¦ç”¨æ–¼ç®¡ç†Podçš„è¤‡è£½å’Œä¼¸ç¸®ï¼Œç¢ºä¿Podçš„æ•¸é‡ã€‚RSå…·æœ‰ä»¥ä¸‹å¹¾ç¨®ç‰¹æ€§ è‡ªå‹•ç®¡ç†podçš„å‰¯æœ¬æ•¸é‡ï¼šç¢ºä¿æŒ‡å®šæ•¸é‡çš„Podè·Ÿä½¿ç”¨è€…æ‰€æœŸæœ›çš„ä¸€è‡´(desired status)ï¼Œå¦‚æœç™¼ç”Ÿæ•…éšœæˆ–éœ€è¦æ“´å±•ï¼Œå®ƒæœƒè‡ªå‹•å‰µå»ºæˆ–åˆªé™¤Podã€‚ ç¢ºä¿Podçš„å¥åº·ç‹€æ…‹ï¼šå¦‚æœç™¼ç”Ÿæ•…éšœæœƒå°å¤±æ•—çš„Podé€²è¡Œé‡æ–°èª¿åº¦ å‰µå»ºPodçš„Templateï¼šç•¶éœ€è¦æ–°çš„Podæ™‚æœƒæ ¹æ“šå®šç¾©çš„Pod Templateå‰µå»º ç‚ºä»€éº¼éœ€è¦Replicaset? åœ¨Kubernetesé›†ç¾¤ä¸­ï¼ŒPodçš„ç®¡ç†å°æ–¼ç³»çµ±çš„å¯é æ€§å’Œå½ˆæ€§è‡³é—œé‡è¦ã€‚å¦‚æœä¸€å€‹Podç™¼ç”Ÿæ•…éšœï¼ŒRSæœƒè‡ªå‹•å‰µå»ºä¸€å€‹æ–°çš„Podä¾†ä»£æ›¿å®ƒï¼Œç¢ºä¿æœå‹™ç¹¼çºŒé‹è¡Œã€‚åŒæ™‚ï¼Œç•¶æœå‹™éœ€è¦æ“´å±•ä»¥æ»¿è¶³æµé‡å¢åŠ æ™‚ï¼ŒKubernetes RSä¹Ÿå¯ä»¥è‡ªå‹•å‰µå»ºé¡å¤–çš„Podã€‚å› æ­¤RSè§£æ±ºäº†ä»¥ä¸‹å•é¡Œï¼š\nç¢ºä¿æœå‹™çš„é«˜å¯ç”¨æ€§å’Œå¯é æ€§ï¼šRSå¯ä»¥è‡ªå‹•ç¶­è­·ä¸€å®šæ•¸é‡çš„Podï¼Œç¢ºä¿æœå‹™åœ¨Podå¤±æ•—æ™‚ä»ç„¶å¯ä»¥æ­£å¸¸é‹è¡Œã€‚ æ–¹ä¾¿æœå‹™çš„æ“´å±•ï¼šä½¿ç”¨RSå¯ä»¥æ ¹æ“šéœ€æ±‚èª¿æ•´Podçš„å‰¯æœ¬æ•¸é‡ï¼Œå¯¦ç¾æœå‹™çš„å¿«é€Ÿæ“´å±•ã€‚ ç°¡åŒ–æœå‹™ç®¡ç†ï¼šRSå¯ä»¥è‡ªå‹•èª¿æ•´Podçš„æ•¸é‡ï¼Œæ¸›å°‘æ‰‹å‹•ç®¡ç†çš„å·¥ä½œé‡ã€‚ Kubernetes Replicasetæ˜¯å¦‚ä½•é‹ä½œçš„ï¼Ÿ å®šç¾©RSï¼ŒæŒ‡å®šæ‰€éœ€çš„Podå‰¯æœ¬æ•¸é‡å’ŒPod Templateï¼Œå‰µå»ºå¾Œï¼ŒReplicaSetä½¿ç”¨å®šç¾©å¥½çš„Pod Templateå‰µå»ºPodï¼Œä¸¦é–‹å§‹ç›£æ§æ¯å€‹Podçš„ç‹€æ…‹ä»¥åŠæ•¸é‡æ˜¯å¦èˆ‡å®šç¾©çš„ä¸€è‡´(desired status)ï¼Œå¦‚æœä½æ–¼æŒ‡å®šå‰¯æœ¬æ•¸å‰‡æœƒå‰µå»ºPodï¼Œé«˜æ–¼æŒ‡å®šå‰¯æœ¬æ•¸å‰‡æœƒåˆªé™¤Podï¼Œç•¶Podè¢«æ„å¤–åˆªé™¤æ™‚æœƒå‰µå»ºæ–°çš„Podä¾†åšæ›¿ä»£ã€‚\nä»€éº¼æ™‚å€™ä½¿ç”¨Replicasetï¼Ÿ ä½¿ç”¨RSé€šå¸¸é©ç”¨æ–¼ä»¥ä¸‹æƒ…æ³ï¼š\néœ€è¦ç¢ºä¿ä¸€å®šæ•¸é‡çš„Podæ­£åœ¨é‹è¡Œï¼Œä»¥ä¿æŒæœå‹™çš„å¯ç”¨æ€§å’Œå¯é æ€§ã€‚ éœ€è¦èƒ½å¤ è‡ªå‹•æ“´å±•å’Œç¸®å°Podæ•¸é‡ï¼Œä»¥æ‡‰å°æµé‡è®ŠåŒ–å’Œå…¶ä»–éœ€æ±‚ã€‚ å¸Œæœ›èƒ½å¤ è‡ªå‹•æ›¿æ›ç™¼ç”Ÿæ•…éšœçš„Podï¼Œä»¥ç¢ºä¿æœå‹™çš„é€£çºŒé‹è¡Œã€‚ éœ€è¦ç®¡ç†ä¸€å€‹æœå‹™çš„å¤šå€‹Podï¼Œä¸¦ä¸”å¸Œæœ›ä½¿ç”¨Kubernetesæä¾›çš„è‡ªå‹•åŒ–åŠŸèƒ½ï¼Œä¾‹å¦‚èª¿åº¦ã€ç¶²è·¯é…ç½®å’Œè² è¼‰å¹³è¡¡ã€‚ Kubernetes Replicasetæœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ é«˜å¯ç”¨æ€§ï¼šRSçš„ç›®çš„æ˜¯ç¶­è­·ä¸€å€‹ç©©å®šçš„Podå‰¯æœ¬é›†ï¼Œç¢ºä¿å§‹çµ‚æœ‰ä¸€å®šæ•¸é‡çš„ç›¸åŒPodå¯ç”¨ï¼Œå¾è€Œä¿è­‰æœå‹™çš„é«˜å¯ç”¨æ€§ã€‚\nå¥åº·æª¢æŸ¥å’Œè‡ªå‹•æ¢å¾©ï¼šReplicaSetå¯ä»¥é€šéå®šæœŸæª¢æŸ¥Podå‰¯æœ¬çš„å¥åº·ç‹€æ…‹ä¾†ç¢ºä¿æœå‹™å§‹çµ‚é‹è¡Œã€‚ç•¶Podæ•…éšœæˆ–è¢«åˆªé™¤æ™‚ï¼ŒReplicaSetæœƒè‡ªå‹•å‰µå»ºæ–°çš„Podä¾†ä»£æ›¿æ•…éšœçš„Podï¼Œç¢ºä¿æœå‹™çš„å¯ç”¨æ€§åŠç©©å®šæ€§ã€‚\nè‡ªå‹•æ“´ç¸®ï¼šRSæœƒç›£è¦–Podå‰¯æœ¬æ•¸é‡ï¼Œä¸¦è‡ªå‹•å‰µå»ºæˆ–åˆªé™¤Podå‰¯æœ¬ä»¥ç¢ºä¿Podå‰¯æœ¬æ•¸é‡é”åˆ°æŒ‡å®šçš„æ•¸é‡ã€‚ä½¿æœå‹™å¯ä»¥è‡ªå‹•æ“´å±•å’Œç¸®æ”¾ï¼Œä»¥æ‡‰å°ä¸åŒçš„è² è¼‰ã€‚","title":"Kubernetes ReplicaSetï¼šOverview"},{"content":"ä»€éº¼æ˜¯Kubernetes Serviceï¼Ÿ å…ˆä¾†å€‹å®˜ç¶²çš„è§£èªª\nA Kubernetes Service is an abstraction which defines a logical set of Pods and a policy by which to access them.\nç™½è©±æ–‡å°±æ˜¯ï¼Œè¨ªå•Podç”¨çš„ä¸€å€‹Componentã€‚ï¼¸ï¼¤\nKubernetes Serviceæ˜¯å€‹æŠ½è±¡æ¦‚å¿µï¼Œé€šéServiceï¼Œç•¶æˆ‘å€‘çš„Podå‰µå»ºå¥½å¾Œï¼Œå®šç¾©è¨ªå•å®ƒå€‘çš„ç­–ç•¥ï¼Œè©²å¦‚ä½•å»è¨ªå•ä¸€ç¾¤ç›¸åŒé‚è¼¯çš„Podï¼Œçµ¦Podæä¾›ä¸€çµ„ç©©å®šçš„IPæˆ–æ˜¯Portã€‚\nå› æ­¤ä¹Ÿå¯ä»¥æŠŠServiceç•¶ä½œæ˜¯ä¸€ç¨®æ›åœ¨ä¸€ç¾¤é‹è¡Œç›¸åŒæ‡‰ç”¨ç¨‹å¼å‰é¢çš„LoadBalancerï¼Œè©³è¦‹ä¸‹åœ–ã€‚\nåœ–ç‰‡ä¾†æº\nç‚ºä»€éº¼éœ€è¦Kubernetes Serviceï¼Ÿ å› ç‚ºåœ¨Kubernetesé›†ç¾¤ä¸­ï¼ŒPodçš„IPåœ°å€æ˜¯ä¸ç©©å®šçš„ï¼Œå¯èƒ½å› ç‚ºé‡æ–°èª¿åº¦æˆ–é‡å•ŸContainerè€Œæ”¹è®Šäº†IPã€‚ç‚ºäº†ä½¿å…¶ä»–æ‡‰ç”¨ç¨‹å¼èƒ½å¤ ç©©å®šåœ°è¨ªå•Podï¼Œéœ€è¦ä½¿ç”¨Kubernetes Serviceã€‚\nKubernetes Serviceæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ ç•¶Podå•Ÿå‹•æ™‚ï¼Œå®ƒå€‘æœƒè‡ªå‹•è¨»å†Šåˆ°Kubernetesé›†ç¾¤ä¸­çš„ä¸€å€‹æœå‹™ç™¼ç¾æ©Ÿåˆ¶ä¸­ï¼Œä¾‹å¦‚Kubernetes DNSæˆ–etcdã€‚Serviceæœƒç›£è½é€™å€‹æœå‹™ç™¼ç¾æ©Ÿåˆ¶ï¼Œä¸¦æ ¹æ“šLabel Selectoré¸æ“‡è¦æä¾›æœå‹™çš„Podã€‚\nç•¶å…¶ä»–æ‡‰ç”¨ç¨‹å¼éœ€è¦è¨ªå•Podæ™‚ï¼Œå®ƒå€‘å¯ä»¥é€šéServiceçš„IPå’ŒPorté€²è¡Œè¨ªå•ï¼ŒServiceæœƒå°‡è«‹æ±‚æ ¹æ“šLabel Selectorè½‰ç™¼åˆ°é¸å®šçš„Podã€‚ç”±æ–¼Serviceçš„IPå’Œç«¯å£æ˜¯ç©©å®šçš„ï¼Œå³ä½¿Podçš„IPåœ°å€ç™¼ç”Ÿè®ŠåŒ–ï¼Œå…¶ä»–æ‡‰ç”¨ç¨‹å¼ä¾ç„¶å¯ä»¥ä¸€ç›´ä½¿ç”¨ç›¸åŒçš„IPå’ŒPortè¨ªå•è©²Podã€‚\nåœ–ç‰‡ä¾†æº\nKubernetes Serviceçš„é¡å‹æœ‰å“ªäº›ï¼Ÿ Kubernetes Serviceæœ‰ä»¥ä¸‹å››ç¨®é¡å‹ï¼š\nClusterIP: åœ¨Kubernetesé›†ç¾¤å…§éƒ¨ä½¿ç”¨ï¼Œé€šå¸¸ç”¨æ–¼æ‡‰ç”¨ç¨‹å¼çš„å…§éƒ¨é€šè¨Šã€‚ NodePort: å°‡Podæš´éœ²åˆ°Kubernetesé›†ç¾¤çš„å¤–éƒ¨ï¼Œä¸¦ä½¿ç”¨Nodeçš„IPå’Œä¸€å€‹Static Porté€²è¡Œè¨ªå•ã€‚ LoadBalancer: LoadBalanceræ˜¯ClusterIPå’ŒNodePortçš„ä¸€ç¨®æ“´å±•ã€‚åœ¨å…¬æœ‰é›²ä¸Šä½¿ç”¨ï¼Œä½¿ç”¨é›²ä¾›æ‡‰å•†æä¾›çš„LoadBalancerå°‡æµé‡è½‰ç™¼åˆ°Serviceä¸­çš„Podã€‚ ExternalName: å…è¨±æœå‹™å°‡å¤–éƒ¨DNSåç¨±æ˜ å°„åˆ°Kubernetesé›†ç¾¤å…§éƒ¨çš„svcåç¨±ä¸Šã€‚é€™æ¨£å¯ä»¥åœ¨ä¸ä¿®æ”¹æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼çš„æƒ…æ³ä¸‹å¯¦ç¾å¤–éƒ¨æœå‹™çš„è¨ªå•ã€‚ åœ–ç‰‡ä¾†æº Kubernetes Serviceæœ‰å“ªäº›åŠŸèƒ½ï¼Ÿ Kubernetes Serviceå…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š\né€æ˜åœ°å°‡è«‹æ±‚è½‰ç™¼åˆ°Podä¸­ï¼Œç„¡éœ€ä¿®æ”¹æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼ã€‚ æä¾›è² è¼‰å‡è¡¡ï¼Œåˆ†æ•£æµé‡åˆ°å¤šå€‹Podä¸­ã€‚ æ”¯æŒå¤šç¨®å”è­°ï¼Œä¾‹å¦‚TCPã€UDPå’ŒHTTPã€‚ å¯ä»¥è¨­ç½®Session Affinityï¼Œå°‡è«‹æ±‚è·¯ç”±åˆ°ç›¸åŒçš„Podã€‚ å¯ä»¥é€²è¡ŒPortè½‰ç™¼ï¼Œå°‡è«‹æ±‚è½‰ç™¼åˆ°Podä¸­çš„ä¸åŒPortã€‚ æ”¯æŒè·¨å‘½åç©ºé–“è¨ªå•ã€‚ å¦‚ä½•å‰µå»ºå’Œç®¡ç†Kubernetes Serviceï¼š è¦å‰µå»º Kubernetes Serviceï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…©ç¨®æ–¹å¼ï¼š å®£å‘Šå¼(Declarative) kind: Service apiVersion: v1 metadata: name: my-service spec: # type ä¸€å…±æœ‰å››ç¨®(ClusterIP, NodePort, LoadBalancer, ExternalName)ï¼Œé è¨­æ˜¯ ClusterIP type: ClusterIP # é¸æ“‡å¸¶æœ‰ \u0026#34;app=MyApp\u0026#34; çš„ pod selector: app: MyApp # Service å¯¦éš›å°å¤–æœå‹™çš„è¨­å®š ports: # ä½¿ç”¨çš„å”å®šèˆ‡portï¼Œé è¨­ç‚ºTCP - protocol: TCP port: 80 # Podå°å¤–é–‹æ”¾çš„portï¼Œå¦‚ç„¡è¨­å®šï¼Œé è¨­èˆ‡spec.ports.portç›¸åŒ targetPort: 9376 é€éä»¥ä¸Šçš„å®šç¾©ï¼Œç¶²è·¯çš„æµå‘æœƒå‘ˆç¾ä¸‹æ–¹çš„æ¨£å­ï¼š\nRequest \u0026lt;---\u0026gt; Service(tcp:80) \u0026lt;---\u0026gt; Endpoint(tcp:9376) \u0026lt;---\u0026gt; Pod\nService æœƒå°‡ç¬¦åˆ Label Selector è¨­å®šçš„ Pod å»ºç«‹ Endpoint resource object åšæ­é…ã€‚\nå‘½ä»¤å¼(Imperative) kubectl create service nodeport \u0026lt;myservicename\u0026gt; ç®¡ç†svcï¼Œå¯ç”¨ä»¥ä¸‹æ–¹å¼ï¼š SvcæŸ¥è©¢ï¼š kubectl get svc kubectl describe svc kubectl get svc -o wide é¡¯ç¤ºLabel Selectoré¸å®šçš„Labelã€‚ Svcçš„æ›´æ–°ï¼škubectl edit svc Svcçš„åˆªé™¤ï¼škubectl delete svc Reference Service | Kubernetes Kubernetes â€” Service Types Overview | by Ashish Patel | DevOps Mojo | Medium Kubernetes Service æ¦‚å¿µè©³è§£ | Kubernetes (tachingchen.com) [Kubernetes] Service Overview | å°ä¿¡è±¬çš„åŸå§‹éƒ¨è½ (godleon.github.io) ","permalink":"https://sz9751210.github.io/posts/k8s-svc/","summary":"ä»€éº¼æ˜¯Kubernetes Serviceï¼Ÿ å…ˆä¾†å€‹å®˜ç¶²çš„è§£èªª\nA Kubernetes Service is an abstraction which defines a logical set of Pods and a policy by which to access them.\nç™½è©±æ–‡å°±æ˜¯ï¼Œè¨ªå•Podç”¨çš„ä¸€å€‹Componentã€‚ï¼¸ï¼¤\nKubernetes Serviceæ˜¯å€‹æŠ½è±¡æ¦‚å¿µï¼Œé€šéServiceï¼Œç•¶æˆ‘å€‘çš„Podå‰µå»ºå¥½å¾Œï¼Œå®šç¾©è¨ªå•å®ƒå€‘çš„ç­–ç•¥ï¼Œè©²å¦‚ä½•å»è¨ªå•ä¸€ç¾¤ç›¸åŒé‚è¼¯çš„Podï¼Œçµ¦Podæä¾›ä¸€çµ„ç©©å®šçš„IPæˆ–æ˜¯Portã€‚\nå› æ­¤ä¹Ÿå¯ä»¥æŠŠServiceç•¶ä½œæ˜¯ä¸€ç¨®æ›åœ¨ä¸€ç¾¤é‹è¡Œç›¸åŒæ‡‰ç”¨ç¨‹å¼å‰é¢çš„LoadBalancerï¼Œè©³è¦‹ä¸‹åœ–ã€‚\nåœ–ç‰‡ä¾†æº\nç‚ºä»€éº¼éœ€è¦Kubernetes Serviceï¼Ÿ å› ç‚ºåœ¨Kubernetesé›†ç¾¤ä¸­ï¼ŒPodçš„IPåœ°å€æ˜¯ä¸ç©©å®šçš„ï¼Œå¯èƒ½å› ç‚ºé‡æ–°èª¿åº¦æˆ–é‡å•ŸContainerè€Œæ”¹è®Šäº†IPã€‚ç‚ºäº†ä½¿å…¶ä»–æ‡‰ç”¨ç¨‹å¼èƒ½å¤ ç©©å®šåœ°è¨ªå•Podï¼Œéœ€è¦ä½¿ç”¨Kubernetes Serviceã€‚\nKubernetes Serviceæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ ç•¶Podå•Ÿå‹•æ™‚ï¼Œå®ƒå€‘æœƒè‡ªå‹•è¨»å†Šåˆ°Kubernetesé›†ç¾¤ä¸­çš„ä¸€å€‹æœå‹™ç™¼ç¾æ©Ÿåˆ¶ä¸­ï¼Œä¾‹å¦‚Kubernetes DNSæˆ–etcdã€‚Serviceæœƒç›£è½é€™å€‹æœå‹™ç™¼ç¾æ©Ÿåˆ¶ï¼Œä¸¦æ ¹æ“šLabel Selectoré¸æ“‡è¦æä¾›æœå‹™çš„Podã€‚\nç•¶å…¶ä»–æ‡‰ç”¨ç¨‹å¼éœ€è¦è¨ªå•Podæ™‚ï¼Œå®ƒå€‘å¯ä»¥é€šéServiceçš„IPå’ŒPorté€²è¡Œè¨ªå•ï¼ŒServiceæœƒå°‡è«‹æ±‚æ ¹æ“šLabel Selectorè½‰ç™¼åˆ°é¸å®šçš„Podã€‚ç”±æ–¼Serviceçš„IPå’Œç«¯å£æ˜¯ç©©å®šçš„ï¼Œå³ä½¿Podçš„IPåœ°å€ç™¼ç”Ÿè®ŠåŒ–ï¼Œå…¶ä»–æ‡‰ç”¨ç¨‹å¼ä¾ç„¶å¯ä»¥ä¸€ç›´ä½¿ç”¨ç›¸åŒçš„IPå’ŒPortè¨ªå•è©²Podã€‚\nåœ–ç‰‡ä¾†æº\nKubernetes Serviceçš„é¡å‹æœ‰å“ªäº›ï¼Ÿ Kubernetes Serviceæœ‰ä»¥ä¸‹å››ç¨®é¡å‹ï¼š\nClusterIP: åœ¨Kubernetesé›†ç¾¤å…§éƒ¨ä½¿ç”¨ï¼Œé€šå¸¸ç”¨æ–¼æ‡‰ç”¨ç¨‹å¼çš„å…§éƒ¨é€šè¨Šã€‚ NodePort: å°‡Podæš´éœ²åˆ°Kubernetesé›†ç¾¤çš„å¤–éƒ¨ï¼Œä¸¦ä½¿ç”¨Nodeçš„IPå’Œä¸€å€‹Static Porté€²è¡Œè¨ªå•ã€‚ LoadBalancer: LoadBalanceræ˜¯ClusterIPå’ŒNodePortçš„ä¸€ç¨®æ“´å±•ã€‚åœ¨å…¬æœ‰é›²ä¸Šä½¿ç”¨ï¼Œä½¿ç”¨é›²ä¾›æ‡‰å•†æä¾›çš„LoadBalancerå°‡æµé‡è½‰ç™¼åˆ°Serviceä¸­çš„Podã€‚ ExternalName: å…è¨±æœå‹™å°‡å¤–éƒ¨DNSåç¨±æ˜ å°„åˆ°Kubernetesé›†ç¾¤å…§éƒ¨çš„svcåç¨±ä¸Šã€‚é€™æ¨£å¯ä»¥åœ¨ä¸ä¿®æ”¹æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼çš„æƒ…æ³ä¸‹å¯¦ç¾å¤–éƒ¨æœå‹™çš„è¨ªå•ã€‚ åœ–ç‰‡ä¾†æº Kubernetes Serviceæœ‰å“ªäº›åŠŸèƒ½ï¼Ÿ Kubernetes Serviceå…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š\né€æ˜åœ°å°‡è«‹æ±‚è½‰ç™¼åˆ°Podä¸­ï¼Œç„¡éœ€ä¿®æ”¹æ‡‰ç”¨ç¨‹å¼ä»£ç¢¼ã€‚ æä¾›è² è¼‰å‡è¡¡ï¼Œåˆ†æ•£æµé‡åˆ°å¤šå€‹Podä¸­ã€‚ æ”¯æŒå¤šç¨®å”è­°ï¼Œä¾‹å¦‚TCPã€UDPå’ŒHTTPã€‚ å¯ä»¥è¨­ç½®Session Affinityï¼Œå°‡è«‹æ±‚è·¯ç”±åˆ°ç›¸åŒçš„Podã€‚ å¯ä»¥é€²è¡ŒPortè½‰ç™¼ï¼Œå°‡è«‹æ±‚è½‰ç™¼åˆ°Podä¸­çš„ä¸åŒPortã€‚ æ”¯æŒè·¨å‘½åç©ºé–“è¨ªå•ã€‚ å¦‚ä½•å‰µå»ºå’Œç®¡ç†Kubernetes Serviceï¼š è¦å‰µå»º Kubernetes Serviceï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…©ç¨®æ–¹å¼ï¼š å®£å‘Šå¼(Declarative) kind: Service apiVersion: v1 metadata: name: my-service spec: # type ä¸€å…±æœ‰å››ç¨®(ClusterIP, NodePort, LoadBalancer, ExternalName)ï¼Œé è¨­æ˜¯ ClusterIP type: ClusterIP # é¸æ“‡å¸¶æœ‰ \u0026#34;app=MyApp\u0026#34; çš„ pod selector: app: MyApp # Service å¯¦éš›å°å¤–æœå‹™çš„è¨­å®š ports: # ä½¿ç”¨çš„å”å®šèˆ‡portï¼Œé è¨­ç‚ºTCP - protocol: TCP port: 80 # Podå°å¤–é–‹æ”¾çš„portï¼Œå¦‚ç„¡è¨­å®šï¼Œé è¨­èˆ‡spec.","title":"Kubernetes Serviceï¼šOverview"},{"content":"Kubernetesæ˜¯ç¾ä»£æ‡‰ç”¨ç¨‹åºé–‹ç™¼å’Œéƒ¨ç½²çš„é‡è¦æŠ€è¡“ï¼Œè€ŒPodæ˜¯Kubernetesä¸­æœ€å°çš„éƒ¨ç½²å–®ä½ã€‚Podæ˜¯ä¸€å€‹æˆ–å¤šå€‹containerçš„é›†åˆï¼Œå®ƒå€‘å…±äº«ä¸€å€‹ç¶²è·¯å‘½åç©ºé–“å’Œä¸€å€‹ç¶²è·¯æ¥å£ã€‚Podä¸åƒ…æä¾›äº†ä¸€å€‹ç°¡å–®è€Œå¼·å¤§çš„containerç’°å¢ƒï¼Œé‚„å¯ä»¥ç”¨æ–¼å¯¦ç¾å¤šç¨®containerç·¨æ’æ–¹æ¡ˆï¼Œä¾‹å¦‚è² è¼‰å¹³è¡¡ã€æ•¸æ“šç®¡ç†ã€å¤šcontainerå”ä½œç­‰ã€‚\næœ¬æ–‡å°‡æ·±å…¥æ¢è¨Kubernetesä¸­çš„Podï¼Œä»‹ç´¹Podçš„åŸºæœ¬æ¦‚å¿µã€è¨­è¨ˆåŸå‰‡å’Œå¯¦ç¾æ–¹å¼ï¼Œä»¥åŠèˆ‡å…¶ä»–è³‡æºçš„é—œä¿‚ã€‚æ‚¨å°‡å­¸ç¿’å¦‚ä½•å‰µå»ºå’Œé…ç½®Podï¼Œå¦‚ä½•ä½¿ç”¨Kubernetesç®¡ç†Podï¼Œä»¥åŠå¦‚ä½•é€šéPodå¯¦ç¾é«˜æ•ˆã€å½ˆæ€§å’Œå¯é çš„æ‡‰ç”¨ç¨‹åºéƒ¨ç½²ã€‚\nä»€éº¼æ˜¯Kubernetes Pod Kubernetes Podæ˜¯Kubernetesé›†ç¾¤ä¸­æœ€å°çš„éƒ¨ç½²å–®ä½ã€‚ä¸€å€‹Podå¯ä»¥åŒ…å«ä¸€å€‹æˆ–å¤šå€‹containerï¼Œé€™äº›containerå…±äº«ç›¸åŒçš„ç¶²è·¯å’Œå„²å­˜ç©ºé–“ã€‚Podæä¾›äº†ä¸€å€‹ç’°å¢ƒï¼Œè®“containerå¯ä»¥å”åŒå·¥ä½œï¼Œå½¢æˆä¸€å€‹æ‡‰ç”¨ç¨‹åºã€‚\nPodçš„çµæ§‹å’Œç‰¹æ€§ PodåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š\nå…±äº«ç¶²è·¯ç©ºé–“ (Networking)ï¼šPod ä¸­çš„æ‰€æœ‰containerå…±äº«ç›¸åŒçš„ç¶²è·¯ç©ºé–“ï¼Œå¯ä»¥åœ¨containerä¹‹é–“é€šé localhost é€²è¡Œé€šä¿¡ã€‚ å…±äº«å„²å­˜ç©ºé–“ (Shared Storage)ï¼šPod ä¸­çš„æ‰€æœ‰containerå…±äº«ç›¸åŒçš„å„²å­˜ç©ºé–“ï¼Œå¯ä»¥åœ¨containerä¹‹é–“å…±äº«æ–‡ä»¶ã€ç’°å¢ƒè®Šé‡ç­‰ã€‚ å®¹å™¨ (Containers)ï¼šPod ä¸­å¯ä»¥åŒ…å«ä¸€å€‹æˆ–å¤šå€‹containerï¼Œé€™äº›containerå¯ä»¥å…±äº«åŒä¸€å€‹ç¶²è·¯å’Œå„²å­˜ç©ºé–“ï¼Œæ–¹ä¾¿containerä¹‹é–“çš„äº’ç›¸å”ä½œã€‚ å­˜æ´»å’Œé‡å•Ÿç­–ç•¥ (Liveness and Restart Policy)ï¼šPod çš„å­˜æ´»ç­–ç•¥æŒ‡å®šäº†åœ¨å®¹å™¨å‡ºç¾ç•°å¸¸æƒ…æ³æ™‚ï¼ŒKubernetes å¦‚ä½•æ‡‰å°ï¼Œå¦‚é‡æ–°å•Ÿå‹• container æˆ–è€…å°‡å…¶æ¨™è¨˜ç‚ºå¤±æ•—ã€‚Pod çš„é‡å•Ÿç­–ç•¥å‰‡æŒ‡å®šäº†ç•¶ Pod ä¸­çš„æ‰€æœ‰ container éƒ½åœæ­¢é‹è¡Œæ™‚ï¼ŒKubernetes å¦‚ä½•é€²è¡Œé‡å•Ÿã€‚ å…ƒæ•¸æ“š (Metadata)ï¼šPod ä¸­åŒ…å«ä¸€äº›å…ƒæ•¸æ“šï¼Œå¦‚ Pod åç¨±ã€å‘½åç©ºé–“ã€æ¨™ç±¤ç­‰ï¼Œé€™äº›å…ƒæ•¸æ“šå¯ä»¥ç”¨æ–¼ç®¡ç†å’Œç›£æ§ Podã€‚ Podçš„ç‰¹æ€§åŒ…æ‹¬ï¼š\nç”Ÿå‘½é€±æœŸçŸ­æš« å¯ä»¥æ“æœ‰å¤šå€‹container å…·æœ‰å”¯ä¸€çš„IPåœ°å€ å…·æœ‰ç¨ç«‹çš„å„²å­˜ç©ºé–“ å…·æœ‰ç¶²è·¯éš”é›¢ å¦‚ä½•å‰µå»ºå’Œç®¡ç†Pod è¦å‰µå»º Kubernetes Podï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…©ç¨®æ–¹å¼ï¼š å®£å‘Šå¼ï¼ˆDeclarativeï¼‰ï¼šä½¿ç”¨ YAML æˆ– JSON æ ¼å¼çš„æ–‡ä»¶ä¾†å®šç¾© Pod çš„çµæ§‹ã€å…ƒè³‡æ–™å’Œè¦æ ¼ï¼ŒåŒ…æ‹¬ Pod åç¨±ã€container imageã€è³‡æºé™åˆ¶ã€ç¶²è·¯è¨­å®šç­‰ã€‚ apiVersion: v1 kind: Pod metadata: name: my-pod spec: containers: - name: nginx-container image: nginx:latest ports: - containerPort: 80 æ¥è‘—ä½¿ç”¨kubectlå‰µå»ºpod\nkubectl create -f my-pod.yaml å‘½ä»¤å¼ï¼ˆImperativeï¼‰ï¼šå‘½ä»¤å¼æ–¹å¼æ˜¯é€šéåœ¨å‘½ä»¤è¡Œä¸­åŸ·è¡ŒæŒ‡ä»¤ï¼Œå°‡ Podã€Serviceã€Replication Controller æˆ–å…¶ä»– Kubernetes è³‡æºå‰µå»ºå’Œç®¡ç†ã€‚ kubectl run my-pod --image=nginx --port=80 è¦ç®¡ç†podï¼Œå‰‡æœ‰ä»¥ä¸‹å¹¾ç¨®æ–¹å¼ï¼š\nPod çš„æŸ¥è©¢ï¼šä½¿ç”¨ kubectl get pods æˆ–æ˜¯ kubectl describe pods å‘½ä»¤æŸ¥è©¢ Kubernetes é›†ç¾¤ä¸­çš„ Podï¼Œä»¥äº†è§£å…¶ç‹€æ…‹ã€å‘½åç©ºé–“ã€IP åœ°å€ç­‰ä¿¡æ¯ã€‚\nPod çš„æ›´æ–°ï¼šç•¶container imageæˆ–é…ç½®ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œå¯ä»¥é€šékubectl edit pod ä¾†ç·¨è¼¯Podçš„ YAML æˆ– JSON æ–‡ä»¶ï¼Œç„¶å¾Œä½¿ç”¨ kubectl apply å‘½ä»¤ä¾†æ›´æ–° Podã€‚\nPod çš„åˆªé™¤ï¼šä½¿ç”¨ kubectl delete pod å‘½ä»¤åˆªé™¤ Kubernetes é›†ç¾¤ä¸­çš„ Podã€‚\nPod çš„æ“´å±•ï¼šå¯ä»¥ä½¿ç”¨ Deploymentã€ReplicaSet ç­‰ Kubernetes è³‡æºé€²è¡Œ Pod çš„æ“´å±•ï¼Œè‡ªå‹•å‰µå»ºã€ç®¡ç†å¤šå€‹ Podï¼Œä»¥å¯¦ç¾æ‡‰ç”¨ç¨‹åºçš„é«˜å¯ç”¨æ€§ã€‚\nPod çš„å¥åº·æª¢æŸ¥ï¼šå¯ä»¥å®šç¾© Pod çš„ LivenessProbeã€ReadinessProbe æª¢æŸ¥containeræ˜¯å¦æ­£å¸¸é‹è¡Œï¼Œç•¶containerä¸å¯ç”¨æ™‚ï¼ŒKubernetes æœƒè‡ªå‹•é‡å•Ÿcontaineræˆ–èª¿åº¦ Pod åˆ°å…¶ä»–ç¯€é»ã€‚\nPod çš„æ—¥èªŒæŸ¥è©¢ï¼šå¯ä»¥ä½¿ç”¨ kubectl logs pod å‘½ä»¤æŸ¥è©¢ Pod ä¸­ container çš„æ—¥èªŒï¼Œä»¥äº†è§£ container é‹è¡Œæƒ…æ³ã€‚\nPod çš„portè½‰ç™¼ï¼šå¯ä»¥ä½¿ç”¨ kubectl port-forward pod å‘½ä»¤å°‡ Pod ä¸­ container çš„ port è½‰ç™¼åˆ°æœ¬åœ° portï¼Œä»¥ä¾¿é€²è¡Œèª¿è©¦å’Œæ¸¬è©¦ã€‚\nPodçš„ç”Ÿå‘½é€±æœŸ Podçš„ç”Ÿå‘½é€±æœŸåŒ…æ‹¬ä»¥ä¸‹éšæ®µï¼š\nPendingï¼šPodæ­£åœ¨ç­‰å¾…Kubernetesé›†ç¾¤åˆ†é…è³‡æº Runningï¼šPodæ­£åœ¨é‹è¡Œä¸­ Succeededï¼šPodå·²ç¶“å®Œæˆå·¥ä½œä¸¦æˆåŠŸé€€å‡º Failedï¼šPodå› ç‚ºæŸäº›åŸå› ç„¡æ³•é‹è¡Œæˆ–è€…å·²ç¶“é€€å‡º Unknownï¼šKubernetesç„¡æ³•ç²å–Podçš„ç‹€æ…‹ Podçš„ç¶²è·¯å’Œå„²å­˜è¨­å®š Podçš„ç¶²è·¯å’Œå„²å­˜è¨­å®šåŒ…æ‹¬ä»¥ä¸‹æ–¹é¢ï¼š\ncontainerçš„portå’Œå”è­°\nåœ¨ Pod é…ç½®ä¸­ï¼Œå¯ä»¥é€šé containerPort å±¬æ€§ä¾†æŒ‡å®šcontaineréœ€è¦æš´éœ²çš„portå’Œå”è­°ã€‚ä¸‹é¢æ˜¯ä¸€å€‹ç¤ºä¾‹ï¼š\napiVersion: v1 kind: Pod metadata: name: web-pod spec: containers: - name: web-container image: nginx ports: - containerPort: 80 protocol: TCP åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œå®šç¾©äº†ä¸€å€‹åç‚º web-pod çš„ Podï¼Œå…¶ä¸­åŒ…å«ä¸€å€‹åç‚º web-container çš„containerï¼Œè©²containeréœ€è¦æš´éœ² TCP å”è­°çš„ 80 portã€‚ Podçš„IPåœ°å€å’Œä¸»æ©Ÿåç¨±\nåœ¨ Pod ä¸­ï¼Œæ¯å€‹containeréƒ½æœ‰è‡ªå·±çš„ IP åœ°å€å’Œä¸»æ©Ÿåç¨±ã€‚å¯ä»¥é€šé hostnameã€subdomain å’Œ ip å±¬æ€§ä¾†è¨­å®šå®ƒå€‘ã€‚\napiVersion: v1 kind: Pod metadata: name: web-pod spec: hostname: web-host subdomain: example.com containers: - name: web-container image: nginx åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œå®šç¾©äº†ä¸€å€‹åç‚º web-pod çš„ Podï¼Œå…¶ä¸­åŒ…å«ä¸€å€‹åç‚º web-container çš„containerã€‚é‚„é€šé hostname å±¬æ€§è¨­å®šäº†containerçš„ä¸»æ©Ÿåç¨±ç‚º web-hostï¼Œé€šé subdomain å±¬æ€§è¨­å®šäº†containerçš„å­åŸŸåç‚º example.comã€‚ Podçš„ç¶²è·¯ç­–ç•¥\nåœ¨ Kubernetes ä¸­ï¼Œå¯ä»¥é€šé networkPolicy å±¬æ€§è¨­å®š Pod çš„ç¶²è·¯ç­–ç•¥ï¼Œä»¥æ§åˆ¶å“ªäº› Pod å¯ä»¥è¨ªå•è©² Podã€‚\napiVersion: v1 kind: Pod metadata: name: web-pod spec: containers: - name: web-container image: nginx networkPolicy: podSelector: matchLabels: app: web ingress: - from: - podSelector: matchLabels: app: db åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œå®šç¾©äº†ä¸€å€‹åç‚º web-pod çš„ Podï¼Œå…¶ä¸­åŒ…å«ä¸€å€‹åç‚º web-container çš„containerã€‚é€šé networkPolicy å±¬æ€§è¨­å®šäº†è©² Pod çš„ç¶²è·¯ç­–ç•¥ï¼Œåªå…è¨±ä¾†è‡ªæ¨™ç±¤ç‚º app=db çš„ Pod è¨ªå•å®ƒã€‚ Podçš„å„²å­˜è¨­å®š\nåœ¨ Pod ä¸­ï¼Œå¯ä»¥é€šé volumes å±¬æ€§è¨­å®šå„²å­˜è¨­å®šã€‚\napiVersion: v1 kind: Pod metadata: name: web-pod spec: containers: - name: web-container image: nginx volumeMounts: - name: data-volume mountPath: /data volumes: - name: data-volume emptyDir: {} åœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œå®šç¾©äº†ä¸€å€‹åç‚º web-pod çš„ Podï¼Œå…¶ä¸­åŒ…å«ä¸€å€‹åç‚º web-container çš„containerã€‚é€šé volumeMounts å±¬æ€§è¨­å®šäº†ä¸€å€‹åç‚º data-volume çš„å·ä¸¦å°‡å…¶æ›è¼‰åˆ°containerçš„ /data ç›®éŒ„ä¸‹ï¼Œä¸¦é€šé volumes å±¬æ€§å®šç¾©äº†é€™å€‹å·çš„å…§å®¹ï¼Œé€™è£¡ä½¿ç”¨äº†ä¸€å€‹ emptyDir å·ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€å€‹ç©ºç›®éŒ„ã€‚\nReference Pod | Kubernetes ","permalink":"https://sz9751210.github.io/posts/k8s-pod/","summary":"Kubernetesæ˜¯ç¾ä»£æ‡‰ç”¨ç¨‹åºé–‹ç™¼å’Œéƒ¨ç½²çš„é‡è¦æŠ€è¡“ï¼Œè€ŒPodæ˜¯Kubernetesä¸­æœ€å°çš„éƒ¨ç½²å–®ä½ã€‚Podæ˜¯ä¸€å€‹æˆ–å¤šå€‹containerçš„é›†åˆï¼Œå®ƒå€‘å…±äº«ä¸€å€‹ç¶²è·¯å‘½åç©ºé–“å’Œä¸€å€‹ç¶²è·¯æ¥å£ã€‚Podä¸åƒ…æä¾›äº†ä¸€å€‹ç°¡å–®è€Œå¼·å¤§çš„containerç’°å¢ƒï¼Œé‚„å¯ä»¥ç”¨æ–¼å¯¦ç¾å¤šç¨®containerç·¨æ’æ–¹æ¡ˆï¼Œä¾‹å¦‚è² è¼‰å¹³è¡¡ã€æ•¸æ“šç®¡ç†ã€å¤šcontainerå”ä½œç­‰ã€‚\næœ¬æ–‡å°‡æ·±å…¥æ¢è¨Kubernetesä¸­çš„Podï¼Œä»‹ç´¹Podçš„åŸºæœ¬æ¦‚å¿µã€è¨­è¨ˆåŸå‰‡å’Œå¯¦ç¾æ–¹å¼ï¼Œä»¥åŠèˆ‡å…¶ä»–è³‡æºçš„é—œä¿‚ã€‚æ‚¨å°‡å­¸ç¿’å¦‚ä½•å‰µå»ºå’Œé…ç½®Podï¼Œå¦‚ä½•ä½¿ç”¨Kubernetesç®¡ç†Podï¼Œä»¥åŠå¦‚ä½•é€šéPodå¯¦ç¾é«˜æ•ˆã€å½ˆæ€§å’Œå¯é çš„æ‡‰ç”¨ç¨‹åºéƒ¨ç½²ã€‚\nä»€éº¼æ˜¯Kubernetes Pod Kubernetes Podæ˜¯Kubernetesé›†ç¾¤ä¸­æœ€å°çš„éƒ¨ç½²å–®ä½ã€‚ä¸€å€‹Podå¯ä»¥åŒ…å«ä¸€å€‹æˆ–å¤šå€‹containerï¼Œé€™äº›containerå…±äº«ç›¸åŒçš„ç¶²è·¯å’Œå„²å­˜ç©ºé–“ã€‚Podæä¾›äº†ä¸€å€‹ç’°å¢ƒï¼Œè®“containerå¯ä»¥å”åŒå·¥ä½œï¼Œå½¢æˆä¸€å€‹æ‡‰ç”¨ç¨‹åºã€‚\nPodçš„çµæ§‹å’Œç‰¹æ€§ PodåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š\nå…±äº«ç¶²è·¯ç©ºé–“ (Networking)ï¼šPod ä¸­çš„æ‰€æœ‰containerå…±äº«ç›¸åŒçš„ç¶²è·¯ç©ºé–“ï¼Œå¯ä»¥åœ¨containerä¹‹é–“é€šé localhost é€²è¡Œé€šä¿¡ã€‚ å…±äº«å„²å­˜ç©ºé–“ (Shared Storage)ï¼šPod ä¸­çš„æ‰€æœ‰containerå…±äº«ç›¸åŒçš„å„²å­˜ç©ºé–“ï¼Œå¯ä»¥åœ¨containerä¹‹é–“å…±äº«æ–‡ä»¶ã€ç’°å¢ƒè®Šé‡ç­‰ã€‚ å®¹å™¨ (Containers)ï¼šPod ä¸­å¯ä»¥åŒ…å«ä¸€å€‹æˆ–å¤šå€‹containerï¼Œé€™äº›containerå¯ä»¥å…±äº«åŒä¸€å€‹ç¶²è·¯å’Œå„²å­˜ç©ºé–“ï¼Œæ–¹ä¾¿containerä¹‹é–“çš„äº’ç›¸å”ä½œã€‚ å­˜æ´»å’Œé‡å•Ÿç­–ç•¥ (Liveness and Restart Policy)ï¼šPod çš„å­˜æ´»ç­–ç•¥æŒ‡å®šäº†åœ¨å®¹å™¨å‡ºç¾ç•°å¸¸æƒ…æ³æ™‚ï¼ŒKubernetes å¦‚ä½•æ‡‰å°ï¼Œå¦‚é‡æ–°å•Ÿå‹• container æˆ–è€…å°‡å…¶æ¨™è¨˜ç‚ºå¤±æ•—ã€‚Pod çš„é‡å•Ÿç­–ç•¥å‰‡æŒ‡å®šäº†ç•¶ Pod ä¸­çš„æ‰€æœ‰ container éƒ½åœæ­¢é‹è¡Œæ™‚ï¼ŒKubernetes å¦‚ä½•é€²è¡Œé‡å•Ÿã€‚ å…ƒæ•¸æ“š (Metadata)ï¼šPod ä¸­åŒ…å«ä¸€äº›å…ƒæ•¸æ“šï¼Œå¦‚ Pod åç¨±ã€å‘½åç©ºé–“ã€æ¨™ç±¤ç­‰ï¼Œé€™äº›å…ƒæ•¸æ“šå¯ä»¥ç”¨æ–¼ç®¡ç†å’Œç›£æ§ Podã€‚ Podçš„ç‰¹æ€§åŒ…æ‹¬ï¼š\nç”Ÿå‘½é€±æœŸçŸ­æš« å¯ä»¥æ“æœ‰å¤šå€‹container å…·æœ‰å”¯ä¸€çš„IPåœ°å€ å…·æœ‰ç¨ç«‹çš„å„²å­˜ç©ºé–“ å…·æœ‰ç¶²è·¯éš”é›¢ å¦‚ä½•å‰µå»ºå’Œç®¡ç†Pod è¦å‰µå»º Kubernetes Podï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…©ç¨®æ–¹å¼ï¼š å®£å‘Šå¼ï¼ˆDeclarativeï¼‰ï¼šä½¿ç”¨ YAML æˆ– JSON æ ¼å¼çš„æ–‡ä»¶ä¾†å®šç¾© Pod çš„çµæ§‹ã€å…ƒè³‡æ–™å’Œè¦æ ¼ï¼ŒåŒ…æ‹¬ Pod åç¨±ã€container imageã€è³‡æºé™åˆ¶ã€ç¶²è·¯è¨­å®šç­‰ã€‚ apiVersion: v1 kind: Pod metadata: name: my-pod spec: containers: - name: nginx-container image: nginx:latest ports: - containerPort: 80 æ¥è‘—ä½¿ç”¨kubectlå‰µå»ºpod","title":"Kubernetes Podï¼šOverview"},{"content":"æ¨™é¡Œï¼š5 ChatGPT features to boost your daily work\né€£çµï¼š5 ChatGPT features to boost your daily work | by Josep Ferrer | Geek Culture | Jan, 2023 | Medium\næ©Ÿå™¨å­¸ç¿’æŠ€è¡“æ­£é€æ¼¸åœ°æ‡‰ç”¨åˆ°æ—¥å¸¸å·¥ä½œä¹‹ä¸­ï¼ŒChatGPT ä¾¿æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ChatGPT æ˜¯ç”± OpenAI è¨“ç·´çš„ä¸€å€‹å¤§å‹èªè¨€æ¨¡å‹ï¼Œå®ƒèƒ½å¤ æ ¹æ“šè¼¸å…¥çš„æ–‡å­—ï¼Œç”Ÿæˆå„ç¨®å½¢å¼çš„å›æ‡‰ï¼ŒåŒ…æ‹¬æ–‡å­—ã€ä»£ç¢¼å’Œèªè¨€ç¿»è­¯ç­‰ã€‚\nåœ¨é€™ç¯‡æ–‡ç« ä¸­ï¼Œä½œè€…å°‡ä»‹ç´¹ ChatGPT çš„äº”å€‹å¼·å¤§åŠŸèƒ½ï¼Œé€™äº›åŠŸèƒ½å¯ä»¥å¹«åŠ©é–‹ç™¼è€…æé«˜å·¥ä½œæ•ˆç‡å’Œç”Ÿç”¢åŠ›ã€‚\nç”¢ç”Ÿèªè¨€æ¡†æ¶ï¼šChatGPT å¯ä»¥ç”Ÿæˆç·¨ç¢¼æ¡†æ¶ï¼Œå¹«åŠ©é–‹ç™¼äººå“¡æ›´å¿«é€Ÿåœ°é–‹å§‹ç·¨ç¢¼ã€‚\nç ”ç©¶å’Œæ¯”è¼ƒï¼šChatGPT å¯ä»¥å¹«åŠ©ä½¿ç”¨è€…å°ä¸åŒä¸»é¡Œé€²è¡Œç ”ç©¶å’Œæ¯”è¼ƒï¼ŒåŒ…æ‹¬æ¯”è¼ƒç”¢å“ã€æœå‹™ã€æŠ€è¡“ã€å…¬å¸ç­‰ç­‰ã€‚\nç†è§£ä»£ç¢¼ï¼šChatGPT å¯ä»¥åˆ†æä¸¦å¹«åŠ©ä½¿ç”¨è€…ç†è§£ä»£ç¢¼ï¼ŒåŒ…æ‹¬ç¨‹å¼èªè¨€ã€ä»£ç¢¼æ®µå’Œæ¦‚å¿µç­‰ã€‚\nç‚ºä»£ç¢¼æ·»åŠ è¨»é‡‹ï¼šChatGPT å¯ä»¥æ ¹æ“šè¼¸å…¥çš„ä»£ç¢¼ï¼Œç”¢ç”Ÿç›¸æ‡‰çš„è¨»é‡‹ï¼Œå¹«åŠ©ä½¿ç”¨è€…æ›´è¼•é¬†åœ°ç†è§£ä»£ç¢¼å’Œæ›´æœ‰æ•ˆåœ°èˆ‡åœ˜éšŠæˆå“¡å”ä½œã€‚\nä½¿ç”¨ç‰¹å®šé¢¨æ ¼é‡å¯«ä»£ç¢¼ï¼šChatGPT å¯ä»¥æ ¹æ“šè¼¸å…¥çš„ä»£ç¢¼ï¼Œé‡å¯«ä»£ç¢¼ä¸¦ç”Ÿæˆç›¸æ‡‰çš„ä»£ç¢¼é¢¨æ ¼ï¼Œä»¥æ»¿è¶³ä¸åŒçš„ç·¨ç¢¼æ¨™æº–å’Œæœ€ä½³å¯¦è¸ã€‚\n","permalink":"https://sz9751210.github.io/posts/5-chatgpt-features-to-boost-your-daily-work/","summary":"æ¨™é¡Œï¼š5 ChatGPT features to boost your daily work\né€£çµï¼š5 ChatGPT features to boost your daily work | by Josep Ferrer | Geek Culture | Jan, 2023 | Medium\næ©Ÿå™¨å­¸ç¿’æŠ€è¡“æ­£é€æ¼¸åœ°æ‡‰ç”¨åˆ°æ—¥å¸¸å·¥ä½œä¹‹ä¸­ï¼ŒChatGPT ä¾¿æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ChatGPT æ˜¯ç”± OpenAI è¨“ç·´çš„ä¸€å€‹å¤§å‹èªè¨€æ¨¡å‹ï¼Œå®ƒèƒ½å¤ æ ¹æ“šè¼¸å…¥çš„æ–‡å­—ï¼Œç”Ÿæˆå„ç¨®å½¢å¼çš„å›æ‡‰ï¼ŒåŒ…æ‹¬æ–‡å­—ã€ä»£ç¢¼å’Œèªè¨€ç¿»è­¯ç­‰ã€‚\nåœ¨é€™ç¯‡æ–‡ç« ä¸­ï¼Œä½œè€…å°‡ä»‹ç´¹ ChatGPT çš„äº”å€‹å¼·å¤§åŠŸèƒ½ï¼Œé€™äº›åŠŸèƒ½å¯ä»¥å¹«åŠ©é–‹ç™¼è€…æé«˜å·¥ä½œæ•ˆç‡å’Œç”Ÿç”¢åŠ›ã€‚\nç”¢ç”Ÿèªè¨€æ¡†æ¶ï¼šChatGPT å¯ä»¥ç”Ÿæˆç·¨ç¢¼æ¡†æ¶ï¼Œå¹«åŠ©é–‹ç™¼äººå“¡æ›´å¿«é€Ÿåœ°é–‹å§‹ç·¨ç¢¼ã€‚\nç ”ç©¶å’Œæ¯”è¼ƒï¼šChatGPT å¯ä»¥å¹«åŠ©ä½¿ç”¨è€…å°ä¸åŒä¸»é¡Œé€²è¡Œç ”ç©¶å’Œæ¯”è¼ƒï¼ŒåŒ…æ‹¬æ¯”è¼ƒç”¢å“ã€æœå‹™ã€æŠ€è¡“ã€å…¬å¸ç­‰ç­‰ã€‚\nç†è§£ä»£ç¢¼ï¼šChatGPT å¯ä»¥åˆ†æä¸¦å¹«åŠ©ä½¿ç”¨è€…ç†è§£ä»£ç¢¼ï¼ŒåŒ…æ‹¬ç¨‹å¼èªè¨€ã€ä»£ç¢¼æ®µå’Œæ¦‚å¿µç­‰ã€‚\nç‚ºä»£ç¢¼æ·»åŠ è¨»é‡‹ï¼šChatGPT å¯ä»¥æ ¹æ“šè¼¸å…¥çš„ä»£ç¢¼ï¼Œç”¢ç”Ÿç›¸æ‡‰çš„è¨»é‡‹ï¼Œå¹«åŠ©ä½¿ç”¨è€…æ›´è¼•é¬†åœ°ç†è§£ä»£ç¢¼å’Œæ›´æœ‰æ•ˆåœ°èˆ‡åœ˜éšŠæˆå“¡å”ä½œã€‚\nä½¿ç”¨ç‰¹å®šé¢¨æ ¼é‡å¯«ä»£ç¢¼ï¼šChatGPT å¯ä»¥æ ¹æ“šè¼¸å…¥çš„ä»£ç¢¼ï¼Œé‡å¯«ä»£ç¢¼ä¸¦ç”Ÿæˆç›¸æ‡‰çš„ä»£ç¢¼é¢¨æ ¼ï¼Œä»¥æ»¿è¶³ä¸åŒçš„ç·¨ç¢¼æ¨™æº–å’Œæœ€ä½³å¯¦è¸ã€‚","title":"é–±è®€ç­†è¨˜ï¼š5 ChatGPT features to boost your daily work"},{"content":"IntroğŸ‘¨â€ğŸ’» åœ¨gcpç’°å¢ƒä¸‹ä½¿ç”¨ansible playbook å»ºç«‹k8s clusterï¼Œç›®å‰base imageç‚ºcentos 7ï¼Œå®‰è£æ–¹å¼é¡ä¼¼elk stackï¼Œä¸€æ¨£å…ˆç­‰masterå®‰è£å®Œå¾Œç”¢ç”Ÿtokenï¼Œæ¥è‘—å®‰è£slaveã€‚\nä½¿ç”¨çš„CRIç‚ºcontainerdï¼ŒCNIç‚ºcalico\nè³‡æ–™å¤¾çµæ§‹ . â”œâ”€â”€ README.md â”œâ”€â”€ create_k8s_master_instance.yaml â”œâ”€â”€ create_k8s_slave_instance.yaml â”œâ”€â”€ files â”‚ â”œâ”€â”€ instance â”‚ â””â”€â”€ k8s â”œâ”€â”€ group_vars â”‚ â””â”€â”€ all â”œâ”€â”€ inventory â”‚ â””â”€â”€ k8s.cluster.host â”œâ”€â”€ inventory.instance.create.yml.example â”œâ”€â”€ k8s-setup.sh â”œâ”€â”€ roles â”‚ â”œâ”€â”€ instance â”‚ â”œâ”€â”€ k8s â”‚ â”œâ”€â”€ monitor â”‚ â””â”€â”€ ops_agent â””â”€â”€ vars â”œâ”€â”€ instance â”œâ”€â”€ k8s â””â”€â”€ monitor ä½¿ç”¨æŒ‡å— è¨­å®šæ©Ÿå™¨è³‡è¨Šï¼šè¤‡è£½å¥½inventory.instance.create.yml.exampleå¾Œï¼Œå¯åƒè€ƒinventoryè£¡çš„è¨­å®šï¼Œä¸»è¦è¨­å®šgcpçš„è³‡è¨Šï¼Œ è¨­å®šgroup_varsçš„env.ymlï¼Œæ”¹æˆè‡ªå·±çš„gcpçš„å°ˆæ¡ˆä»¥åŠè¦è¨­å®šçš„region å¯ä½¿ç”¨k8s-setup.shé€²è¡Œä¸€éµå®‰è£ sh ./k8s-setup.sh å»ºç½®æµç¨‹ k8s_master -\u0026gt; k8s_slave\næŒ‡ä»¤ ANSIBLE_HOST_KEY_CHECKING=False ansible-playbook -i inventory.instance.create.yml create_xxx_instance.yaml -v å®‰è£å®Œå¾Œå¯ä»¥å»masteråˆ‡æˆrootç¢ºèªæ˜¯å¦æœ‰çµ„æˆcluster\né è¨ˆæ·»åŠ åŠŸèƒ½ æ·»åŠ è‡ªå®šç¾©CRIèˆ‡CNI å¯é¸k8sç‰ˆæœ¬ å¯ä¾ç…§base imageé€²è¡Œç›¸å°æ‡‰çš„å®‰è£ Reference Install Kubernetes Cluster on CentOS 7 with kubeadm | ComputingForGeeks\nAutomating Kubernetes Cluster Using Ansible | by Shubham Mehta | Medium\nğŸ”—å°ˆæ¡ˆrepo â€“\u0026gt; sz9751210/ansible-k8s (github.com)\n","permalink":"https://sz9751210.github.io/posts/ansible-k8s/","summary":"IntroğŸ‘¨â€ğŸ’» åœ¨gcpç’°å¢ƒä¸‹ä½¿ç”¨ansible playbook å»ºç«‹k8s clusterï¼Œç›®å‰base imageç‚ºcentos 7ï¼Œå®‰è£æ–¹å¼é¡ä¼¼elk stackï¼Œä¸€æ¨£å…ˆç­‰masterå®‰è£å®Œå¾Œç”¢ç”Ÿtokenï¼Œæ¥è‘—å®‰è£slaveã€‚\nä½¿ç”¨çš„CRIç‚ºcontainerdï¼ŒCNIç‚ºcalico\nè³‡æ–™å¤¾çµæ§‹ . â”œâ”€â”€ README.md â”œâ”€â”€ create_k8s_master_instance.yaml â”œâ”€â”€ create_k8s_slave_instance.yaml â”œâ”€â”€ files â”‚ â”œâ”€â”€ instance â”‚ â””â”€â”€ k8s â”œâ”€â”€ group_vars â”‚ â””â”€â”€ all â”œâ”€â”€ inventory â”‚ â””â”€â”€ k8s.cluster.host â”œâ”€â”€ inventory.instance.create.yml.example â”œâ”€â”€ k8s-setup.sh â”œâ”€â”€ roles â”‚ â”œâ”€â”€ instance â”‚ â”œâ”€â”€ k8s â”‚ â”œâ”€â”€ monitor â”‚ â””â”€â”€ ops_agent â””â”€â”€ vars â”œâ”€â”€ instance â”œâ”€â”€ k8s â””â”€â”€ monitor ä½¿ç”¨æŒ‡å— è¨­å®šæ©Ÿå™¨è³‡è¨Šï¼šè¤‡è£½å¥½inventory.instance.create.yml.exampleå¾Œï¼Œå¯åƒè€ƒinventoryè£¡çš„è¨­å®šï¼Œä¸»è¦è¨­å®šgcpçš„è³‡è¨Šï¼Œ è¨­å®šgroup_varsçš„env.ymlï¼Œæ”¹æˆè‡ªå·±çš„gcpçš„å°ˆæ¡ˆä»¥åŠè¦è¨­å®šçš„region å¯ä½¿ç”¨k8s-setup.shé€²è¡Œä¸€éµå®‰è£ sh ./k8s-setup.sh å»ºç½®æµç¨‹ k8s_master -\u0026gt; k8s_slave","title":"ansible k8s"},{"content":"æ¨™é¡Œï¼š15 Best Practices when working with Docker\né€£çµï¼š15 Best Practices when working with Docker | by Ali Zeynalli | Dec, 2022 | Medium\næœ¬ç¯‡æ–‡ç« ä½œè€…æ ¹æ“šç¶“é©—ä»¥åŠè‡ªèº«ç ”ç©¶æ•´ç†å‡ºäº†15å€‹ä½¿ç”¨Dockerçš„æŠ€å·§èˆ‡æç¤º\n1. é€²è¡Œä¸­çš„å·¥ä½œä¸æ‡‰ä¿å­˜åœ¨æœªå‘½åã€å·²åœæ­¢çš„å®¹å™¨ä¸­ å¦‚æœé€²è¡Œä¸­çš„å·¥ä½œä¿å­˜åœ¨ä¸å¥½çš„å®¹å™¨ä¸­ï¼Œå¯èƒ½æœƒå°è‡´è³‡æ–™ä¸Ÿå¤±ã€é¢¨éšªä»¥åŠå®‰å…¨å•é¡Œã€ä¸åˆ©æ–¼å”ä½œ\n2. å®šæœŸæ¸…ç†Image å¹«åŠ©é‡‹æ”¾å­˜å„²ç©ºé–“ï¼Œå„ªåŒ–Dockerå¼•æ“æ€§èƒ½ï¼Œæ¸›å°‘å®‰å…¨é¢¨éšªï¼Œä»¥åŠç¶­æŒä¸»æ©Ÿæ•´æ½”ï¼Œæ˜“æ–¼ç®¡ç†ã€‚\n3. ä½¿ç”¨æˆæ¬Šçš„ç›¸ä¾å¥—ä»¶ å¯ä»¥å¸¶ä¾†æ›´å¥½çš„åˆæ³•æ€§ã€å®‰å…¨æ€§ã€å¯é æ€§ã€æ”¯æŒæ€§å’Œæ³•å¾‹è²¬ä»»ã€‚\n4. å°‡è®ŠåŒ–å¾ˆå¤§çš„éƒ¨åˆ†æ”¾åœ¨ DockerFile çš„æœ«å°¾ å› ç‚ºDockeræœƒå°‡æ¯å€‹æ­¥é©Ÿç·©å­˜ç‚ºä¸€å€‹å–®ç¨çš„å®¹å™¨ï¼Œé‡è¤‡çš„æ“ä½œå°‡ä¸æœƒé‡æ–°åŸ·è¡Œï¼Œå°‡è®ŠåŒ–è¼ƒå¤§çš„éƒ¨åˆ†æ”¾åœ¨æœ€å¾Œå¯æé«˜æ€§èƒ½\n5. ä¸è¦åœ¨å®¹å™¨å•Ÿå‹•æ™‚å°±ç²å–ç›¸ä¾å¥—ä»¶ é¿å…åœ¨å®¹å™¨å•Ÿå‹•æ™‚ç²å–ä¾è³´åŒ…å¸¶ä¾†çš„å•é¡Œï¼Œä¸¦æé«˜å®¹å™¨çš„å•Ÿå‹•é€Ÿåº¦å’Œå¯ç®¡ç†æ€§ã€‚æœ€ä½³å¯¦è¸æ˜¯åœ¨æ§‹å»ºImageæ™‚å°±ç²å–ä¾è³´åŒ…ï¼Œä¸¦å°‡å®ƒå€‘æ‰“åŒ…åˆ°Imageä¸­ã€‚å¦å¤–ï¼Œé‚„å¯ä»¥ä½¿ç”¨å¤šéšæ®µæ§‹å»ºå’Œç·©å­˜ç­‰æŠ€è¡“ä¾†å„ªåŒ–æ§‹å»ºéç¨‹ï¼Œæé«˜æ§‹å»ºé€Ÿåº¦å’Œæ•ˆç‡ã€‚\n6. ä¸è¦æ›è¼‰å…±äº«è³‡æ–™å¤¾ æœ‰åŠ©æ–¼æé«˜å®¹å™¨çš„å¯ç§»æ¤æ€§ã€å®‰å…¨æ€§ã€å¯é‡ç¾æ€§å’Œå¯ç®¡ç†æ€§ã€‚\n7. ä¿æŒImage simple and small å¯ä»¥æé«˜æ‡‰ç”¨ç¨‹åºçš„å¯ç§»æ¤æ€§ã€é™ä½å®‰å…¨é¢¨éšªã€æ¸›å°‘Imageå¤§å°ã€æé«˜Imageæ§‹å»ºå’Œç®¡ç†æ•ˆç‡ã€‚\n8. å¾é ­é–‹å§‹æ§‹å»º æœ€å¤§é™åº¦åœ°æ¸›å°‘ç›¸ä¾\n9. Tag Image ä½¿ç”¨åˆç†çš„Tagï¼Œæœ‰åŠ©æ–¼å°Imageé€²è¡Œæ’åº\n10. ä½¿ç”¨å°å‹åŸºç¤Image ä¾‹å¦‚-slimæˆ–-alpineï¼Œå¯ä»¥å¸¶ä¾†æ›´æ˜ç¢ºçš„ä¾è³´é …ã€æ›´å°‘çš„å„²å­˜ã€æ›´å°‘çš„å®‰å…¨æ¼æ´å’Œæ”»æ“Šé¢ä»¥åŠæ›´å¿«çš„æ§‹å»ºæ™‚é–“ã€‚\n11. ä½¿ç”¨å®˜æ–¹Image å¸¶ä¾†å¯é æ€§ã€å®‰å…¨æ€§ã€æ´»èºçš„ç¤¾ç¾¤æ”¯æŒä»¥åŠæ˜“ç”¨æ€§ç­‰å¥½è™•ã€‚\n12. å‰µå»ºè‡¨æ™‚å®¹å™¨ Dockerfileå®šç¾©çš„Imageæ‡‰è©²ç›¡å¯èƒ½æ˜¯è‡¨æ™‚çš„ï¼Œæä¾›éš”é›¢ç’°å¢ƒã€é¿å…ä¾è³´è¡çªã€å¿«é€Ÿæ¸…ç†ã€æ˜“æ–¼é‡è¤‡ï¼Œæé«˜å·¥ä½œæ•ˆç‡èˆ‡å¯é æ€§ï¼Œæ–¹ä¾¿å¿«é€Ÿæ¸¬è©¦ï¼Œä¸å¿…æ“”å¿ƒå°ä¸»æ©Ÿæœ‰å½±éŸ¿ã€‚\n13. ä½¿ç”¨multi-stageæ§‹å»º å¹«åŠ©æ¸›å°Docker Imageçš„å¤§å°ï¼Œå„ªåŒ–æ§‹å»ºé€Ÿåº¦ï¼Œç°¡åŒ–æ§‹å»ºéç¨‹ï¼Œä»¥åŠæé«˜Docker Imageçš„å®‰å…¨æ€§ã€‚\n14. å°‡å¤šè¡Œåƒæ•¸é€²è¡Œæ’åº å°‡å¤šå€‹RUNå‘½ä»¤çµ„åˆèµ·ä¾†ï¼Œæ¸›å°‘Imageå±¤æ•¸ã€æ§‹å»ºæ™‚é–“ã€å„ªåŒ–Imageç·©å­˜ã€å¢åŠ Dockerfileå¯è®€æ€§ã€‚\n15. ä½¿ç”¨.Dockerignore å¾æ§‹å»ºä¸­æ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶ï¼Œæ¸›å°‘Imageå¤§å°ä¸¦å¢åŠ æ§‹å»ºé€Ÿåº¦ã€‚\n","permalink":"https://sz9751210.github.io/posts/15-best-practices-when-working-with-docker/","summary":"æ¨™é¡Œï¼š15 Best Practices when working with Docker\né€£çµï¼š15 Best Practices when working with Docker | by Ali Zeynalli | Dec, 2022 | Medium\næœ¬ç¯‡æ–‡ç« ä½œè€…æ ¹æ“šç¶“é©—ä»¥åŠè‡ªèº«ç ”ç©¶æ•´ç†å‡ºäº†15å€‹ä½¿ç”¨Dockerçš„æŠ€å·§èˆ‡æç¤º\n1. é€²è¡Œä¸­çš„å·¥ä½œä¸æ‡‰ä¿å­˜åœ¨æœªå‘½åã€å·²åœæ­¢çš„å®¹å™¨ä¸­ å¦‚æœé€²è¡Œä¸­çš„å·¥ä½œä¿å­˜åœ¨ä¸å¥½çš„å®¹å™¨ä¸­ï¼Œå¯èƒ½æœƒå°è‡´è³‡æ–™ä¸Ÿå¤±ã€é¢¨éšªä»¥åŠå®‰å…¨å•é¡Œã€ä¸åˆ©æ–¼å”ä½œ\n2. å®šæœŸæ¸…ç†Image å¹«åŠ©é‡‹æ”¾å­˜å„²ç©ºé–“ï¼Œå„ªåŒ–Dockerå¼•æ“æ€§èƒ½ï¼Œæ¸›å°‘å®‰å…¨é¢¨éšªï¼Œä»¥åŠç¶­æŒä¸»æ©Ÿæ•´æ½”ï¼Œæ˜“æ–¼ç®¡ç†ã€‚\n3. ä½¿ç”¨æˆæ¬Šçš„ç›¸ä¾å¥—ä»¶ å¯ä»¥å¸¶ä¾†æ›´å¥½çš„åˆæ³•æ€§ã€å®‰å…¨æ€§ã€å¯é æ€§ã€æ”¯æŒæ€§å’Œæ³•å¾‹è²¬ä»»ã€‚\n4. å°‡è®ŠåŒ–å¾ˆå¤§çš„éƒ¨åˆ†æ”¾åœ¨ DockerFile çš„æœ«å°¾ å› ç‚ºDockeræœƒå°‡æ¯å€‹æ­¥é©Ÿç·©å­˜ç‚ºä¸€å€‹å–®ç¨çš„å®¹å™¨ï¼Œé‡è¤‡çš„æ“ä½œå°‡ä¸æœƒé‡æ–°åŸ·è¡Œï¼Œå°‡è®ŠåŒ–è¼ƒå¤§çš„éƒ¨åˆ†æ”¾åœ¨æœ€å¾Œå¯æé«˜æ€§èƒ½\n5. ä¸è¦åœ¨å®¹å™¨å•Ÿå‹•æ™‚å°±ç²å–ç›¸ä¾å¥—ä»¶ é¿å…åœ¨å®¹å™¨å•Ÿå‹•æ™‚ç²å–ä¾è³´åŒ…å¸¶ä¾†çš„å•é¡Œï¼Œä¸¦æé«˜å®¹å™¨çš„å•Ÿå‹•é€Ÿåº¦å’Œå¯ç®¡ç†æ€§ã€‚æœ€ä½³å¯¦è¸æ˜¯åœ¨æ§‹å»ºImageæ™‚å°±ç²å–ä¾è³´åŒ…ï¼Œä¸¦å°‡å®ƒå€‘æ‰“åŒ…åˆ°Imageä¸­ã€‚å¦å¤–ï¼Œé‚„å¯ä»¥ä½¿ç”¨å¤šéšæ®µæ§‹å»ºå’Œç·©å­˜ç­‰æŠ€è¡“ä¾†å„ªåŒ–æ§‹å»ºéç¨‹ï¼Œæé«˜æ§‹å»ºé€Ÿåº¦å’Œæ•ˆç‡ã€‚\n6. ä¸è¦æ›è¼‰å…±äº«è³‡æ–™å¤¾ æœ‰åŠ©æ–¼æé«˜å®¹å™¨çš„å¯ç§»æ¤æ€§ã€å®‰å…¨æ€§ã€å¯é‡ç¾æ€§å’Œå¯ç®¡ç†æ€§ã€‚\n7. ä¿æŒImage simple and small å¯ä»¥æé«˜æ‡‰ç”¨ç¨‹åºçš„å¯ç§»æ¤æ€§ã€é™ä½å®‰å…¨é¢¨éšªã€æ¸›å°‘Imageå¤§å°ã€æé«˜Imageæ§‹å»ºå’Œç®¡ç†æ•ˆç‡ã€‚\n8. å¾é ­é–‹å§‹æ§‹å»º æœ€å¤§é™åº¦åœ°æ¸›å°‘ç›¸ä¾\n9. Tag Image ä½¿ç”¨åˆç†çš„Tagï¼Œæœ‰åŠ©æ–¼å°Imageé€²è¡Œæ’åº\n10. ä½¿ç”¨å°å‹åŸºç¤Image ä¾‹å¦‚-slimæˆ–-alpineï¼Œå¯ä»¥å¸¶ä¾†æ›´æ˜ç¢ºçš„ä¾è³´é …ã€æ›´å°‘çš„å„²å­˜ã€æ›´å°‘çš„å®‰å…¨æ¼æ´å’Œæ”»æ“Šé¢ä»¥åŠæ›´å¿«çš„æ§‹å»ºæ™‚é–“ã€‚\n11. ä½¿ç”¨å®˜æ–¹Image å¸¶ä¾†å¯é æ€§ã€å®‰å…¨æ€§ã€æ´»èºçš„ç¤¾ç¾¤æ”¯æŒä»¥åŠæ˜“ç”¨æ€§ç­‰å¥½è™•ã€‚\n12. å‰µå»ºè‡¨æ™‚å®¹å™¨ Dockerfileå®šç¾©çš„Imageæ‡‰è©²ç›¡å¯èƒ½æ˜¯è‡¨æ™‚çš„ï¼Œæä¾›éš”é›¢ç’°å¢ƒã€é¿å…ä¾è³´è¡çªã€å¿«é€Ÿæ¸…ç†ã€æ˜“æ–¼é‡è¤‡ï¼Œæé«˜å·¥ä½œæ•ˆç‡èˆ‡å¯é æ€§ï¼Œæ–¹ä¾¿å¿«é€Ÿæ¸¬è©¦ï¼Œä¸å¿…æ“”å¿ƒå°ä¸»æ©Ÿæœ‰å½±éŸ¿ã€‚\n13. ä½¿ç”¨multi-stageæ§‹å»º å¹«åŠ©æ¸›å°Docker Imageçš„å¤§å°ï¼Œå„ªåŒ–æ§‹å»ºé€Ÿåº¦ï¼Œç°¡åŒ–æ§‹å»ºéç¨‹ï¼Œä»¥åŠæé«˜Docker Imageçš„å®‰å…¨æ€§ã€‚","title":"é–±è®€ç­†è¨˜ï¼š15 Best Practices when working with Docker"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ä»€éº¼æ˜¯crontab Crontab æ˜¯ä¸€å€‹ Unix ç³»çµ±ä¸‹çš„å®šæ™‚ä»»å‹™ç®¡ç†å·¥å…·ã€‚å®ƒå…è¨±ç”¨æˆ¶è‡ªå‹•åœ¨ç‰¹å®šæ™‚é–“åŸ·è¡ŒæŒ‡ä»¤æˆ–ç¨‹å¼ï¼Œè€Œç„¡éœ€äººå·¥å¹²é ã€‚Crontab æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€å€‹å®šæ™‚ä»»å‹™ï¼Œå…¶ä¸­æŒ‡å®šäº†ä»»å‹™åŸ·è¡Œçš„æ™‚é–“ï¼Œä»¥åŠè¦åŸ·è¡Œçš„æŒ‡ä»¤æˆ–ç¨‹å¼ã€‚\ncrontabç”¨åœ¨å“ª é©ç”¨æ–¼é€±æœŸæ€§çš„ä»»å‹™ï¼Œä¾‹å¦‚æ¯å¤©å®šæ™‚å‚™ä»½æª”æ¡ˆï¼Œæˆ–è€…æ¯å‘¨å®šæ™‚ç™¼é€å ±è¡¨ç­‰ç­‰ã€‚ä½¿ç”¨ Crontab å¯ä»¥å¤§å¤§ç°¡åŒ–é€™äº›ä»»å‹™çš„ç®¡ç†ï¼Œé¿å…å› äººç‚ºéŒ¯èª¤è€Œå°è‡´çš„å•é¡Œã€‚\nèªæ³• crontab [ -e [UserName] | -l [UserName] | -r [UserName] | -v [UserName] | File ] é¸é … åƒæ•¸ èªªæ˜ -e UserName ç·¨è¼¯crontab -l UserName é¡¯ç¤ºç•¶å‰ç”¨æˆ¶çš„crontab -r UserName ç§»é™¤ç•¶å‰ç”¨æˆ¶çš„crontab -v UserName é¡¯ç¤ºç•¶å‰ç”¨æˆ¶çš„cron jobsç‹€æ…‹ æ ¼å¼ # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é˜ (0 - 59) # â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ™‚ (0 - 23) # â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥ (1 - 31) # â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€ æœˆ (1 - 12) # â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ æ˜ŸæœŸå¹¾ (0 - 7ï¼Œ0 æ˜¯é€±æ—¥ï¼Œ6 æ˜¯é€±å…­ï¼Œ7 ä¹Ÿæ˜¯é€±æ—¥) # â”‚ â”‚ â”‚ â”‚ â”‚ # * * * * * /path/to/command ç¯„ä¾‹ æŸ¥çœ‹è‡ªå·±çš„crontab crontab -l æŸ¥çœ‹æŒ‡å®šç”¨æˆ¶çš„crontab sudo crontab -u alan -l ç·¨è¼¯crontab crontab -e ç·¨è¼¯æŒ‡å®šç”¨æˆ¶çš„crontab sudo crontab -u alan -e åˆªé™¤crontab crontab -r æ“´å±• åƒæ•¸ èªªæ˜ crontabæ ¼å¼ @reboot æ¯æ¬¡é‡é–‹æ©ŸåŸ·è¡Œä¸€æ¬¡ @yearly æ¯å¹´åŸ·è¡Œä¸€æ¬¡ 0 0 1 1 * @annualy æ¯å¹´åŸ·è¡Œä¸€æ¬¡ 0 0 1 1 * @monthly æ¯æœˆåŸ·è¡Œä¸€æ¬¡ 0 0 1 * * @weekly æ¯é€±åŸ·è¡Œä¸€æ¬¡ 0 0 * * 0 @daily æ¯å¤©åŸ·è¡Œä¸€æ¬¡ 0 0 * * * @hourly æ¯å°æ™‚åŸ·è¡Œä¸€æ¬¡ 0 * * * * é™åˆ¶ç‰¹å®šç”¨æˆ¶åŸ·è¡Œcrontab ä½¿ç”¨å ´æ™¯ï¼šç³»çµ±å®‰å…¨æ€§è€ƒé‡ ä½¿ç”¨åˆ°çš„æª”æ¡ˆ /etc/cron.allowï¼šç™½åå–® /etc/cron.denyï¼šé»‘åå–® å¦‚æœÂ /etc/cron.allowÂ èˆ‡Â /etc/cron.denyÂ å…©å€‹è¨­å®šæª”éƒ½ä¸å­˜åœ¨ï¼Œå‰‡å°±åªæœ‰ç³»çµ±ç®¡ç†è€…Â rootÂ èƒ½å¤ ä½¿ç”¨Â crontabã€‚\nç¯„ä¾‹ï¼šå…è¨±user1å¯ä»¥ç”¨crontab echo \u0026#34;user1\u0026#34; \u0026gt; /etc/cron.allow Reference é³¥å“¥ç§æˆ¿èœ - ç¬¬åäº”ç« ã€ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹(crontab) (vbird.org) Linux è¨­å®š crontab ä¾‹è¡Œæ€§å·¥ä½œæ’ç¨‹æ•™å­¸èˆ‡ç¯„ä¾‹ - G. T. Wang (gtwang.org) How to allow only specific non-root user(s) to use crontab â€“ The Geek Diary ","permalink":"https://sz9751210.github.io/posts/linux-crontab/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ä»€éº¼æ˜¯crontab Crontab æ˜¯ä¸€å€‹ Unix ç³»çµ±ä¸‹çš„å®šæ™‚ä»»å‹™ç®¡ç†å·¥å…·ã€‚å®ƒå…è¨±ç”¨æˆ¶è‡ªå‹•åœ¨ç‰¹å®šæ™‚é–“åŸ·è¡ŒæŒ‡ä»¤æˆ–ç¨‹å¼ï¼Œè€Œç„¡éœ€äººå·¥å¹²é ã€‚Crontab æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€å€‹å®šæ™‚ä»»å‹™ï¼Œå…¶ä¸­æŒ‡å®šäº†ä»»å‹™åŸ·è¡Œçš„æ™‚é–“ï¼Œä»¥åŠè¦åŸ·è¡Œçš„æŒ‡ä»¤æˆ–ç¨‹å¼ã€‚\ncrontabç”¨åœ¨å“ª é©ç”¨æ–¼é€±æœŸæ€§çš„ä»»å‹™ï¼Œä¾‹å¦‚æ¯å¤©å®šæ™‚å‚™ä»½æª”æ¡ˆï¼Œæˆ–è€…æ¯å‘¨å®šæ™‚ç™¼é€å ±è¡¨ç­‰ç­‰ã€‚ä½¿ç”¨ Crontab å¯ä»¥å¤§å¤§ç°¡åŒ–é€™äº›ä»»å‹™çš„ç®¡ç†ï¼Œé¿å…å› äººç‚ºéŒ¯èª¤è€Œå°è‡´çš„å•é¡Œã€‚\nèªæ³• crontab [ -e [UserName] | -l [UserName] | -r [UserName] | -v [UserName] | File ] é¸é … åƒæ•¸ èªªæ˜ -e UserName ç·¨è¼¯crontab -l UserName é¡¯ç¤ºç•¶å‰ç”¨æˆ¶çš„crontab -r UserName ç§»é™¤ç•¶å‰ç”¨æˆ¶çš„crontab -v UserName é¡¯ç¤ºç•¶å‰ç”¨æˆ¶çš„cron jobsç‹€æ…‹ æ ¼å¼ # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é˜ (0 - 59) # â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å°æ™‚ (0 - 23) # â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥ (1 - 31) # â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€ æœˆ (1 - 12) # â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ æ˜ŸæœŸå¹¾ (0 - 7ï¼Œ0 æ˜¯é€±æ—¥ï¼Œ6 æ˜¯é€±å…­ï¼Œ7 ä¹Ÿæ˜¯é€±æ—¥) # â”‚ â”‚ â”‚ â”‚ â”‚ # * * * * * /path/to/command ç¯„ä¾‹ æŸ¥çœ‹è‡ªå·±çš„crontab crontab -l æŸ¥çœ‹æŒ‡å®šç”¨æˆ¶çš„crontab sudo crontab -u alan -l ç·¨è¼¯crontab crontab -e ç·¨è¼¯æŒ‡å®šç”¨æˆ¶çš„crontab sudo crontab -u alan -e åˆªé™¤crontab crontab -r æ“´å±• åƒæ•¸ èªªæ˜ crontabæ ¼å¼ @reboot æ¯æ¬¡é‡é–‹æ©ŸåŸ·è¡Œä¸€æ¬¡ @yearly æ¯å¹´åŸ·è¡Œä¸€æ¬¡ 0 0 1 1 * @annualy æ¯å¹´åŸ·è¡Œä¸€æ¬¡ 0 0 1 1 * @monthly æ¯æœˆåŸ·è¡Œä¸€æ¬¡ 0 0 1 * * @weekly æ¯é€±åŸ·è¡Œä¸€æ¬¡ 0 0 * * 0 @daily æ¯å¤©åŸ·è¡Œä¸€æ¬¡ 0 0 * * * @hourly æ¯å°æ™‚åŸ·è¡Œä¸€æ¬¡ 0 * * * * é™åˆ¶ç‰¹å®šç”¨æˆ¶åŸ·è¡Œcrontab ä½¿ç”¨å ´æ™¯ï¼šç³»çµ±å®‰å…¨æ€§è€ƒé‡ ä½¿ç”¨åˆ°çš„æª”æ¡ˆ /etc/cron.","title":"Linux å®šæ™‚ä»»å‹™[crontab]"},{"content":"IntroğŸ§‘â€ğŸ’» ç´€éŒ„æœ‰å“ªäº›æ–¹å¼å¯ä»¥sshåˆ°gceæ©Ÿå™¨\næ”¾keyåˆ°ä¸­ç¹¼è³‡æ–™ Compute Enging -\u0026gt; ä¸­ç¹¼è³‡æ–™ -\u0026gt; å®‰å…¨æ®¼å±¤é‡‘é‘° ä½¿ç”¨TCP Tunneling\ngcloud compute start-iap-tunnel --project project-id --zone vm-zone --local-host-port 127.0.0.1:10001 vm-host 22 ä½¿ç”¨gcloud ssh gcloud compute ssh --zone vm-zone vm-host --tunnel-through-iap --project project-id å¯ç·¨å¯«tunnelçš„script\n## dev gcloud compute start-iap-tunnel dev-border 22 --local-host-port 127.0.0.1:10120 --zone asia-east1-b --project gcp-project \u0026amp; ## test gcloud compute start-iap-tunnel test-border 22 --local-host-port localhost:10121 --zone asia-east1-b --project gcp-project \u0026amp; ## prod gcloud compute start-iap-tunnel prod-border 22 --zone asia-east1-b --local-host-port 127.0.0.1:10122 --project gcp-project \u0026amp; Reference ä½¿ç”¨ IAP è¿›è¡Œ TCP è½¬å‘ |Â Identity-Aware Proxy |Â Google Cloud SSH TCP Tunneling using Google Cloud SDK Identity Aware Proxy Commands (github.com) ","permalink":"https://sz9751210.github.io/posts/gcp%E8%B7%B3%E6%9D%BF%E6%A9%9Fssh%E7%9B%B8%E9%97%9C%E8%A8%AD%E5%AE%9A/","summary":"IntroğŸ§‘â€ğŸ’» ç´€éŒ„æœ‰å“ªäº›æ–¹å¼å¯ä»¥sshåˆ°gceæ©Ÿå™¨\næ”¾keyåˆ°ä¸­ç¹¼è³‡æ–™ Compute Enging -\u0026gt; ä¸­ç¹¼è³‡æ–™ -\u0026gt; å®‰å…¨æ®¼å±¤é‡‘é‘° ä½¿ç”¨TCP Tunneling\ngcloud compute start-iap-tunnel --project project-id --zone vm-zone --local-host-port 127.0.0.1:10001 vm-host 22 ä½¿ç”¨gcloud ssh gcloud compute ssh --zone vm-zone vm-host --tunnel-through-iap --project project-id å¯ç·¨å¯«tunnelçš„script\n## dev gcloud compute start-iap-tunnel dev-border 22 --local-host-port 127.0.0.1:10120 --zone asia-east1-b --project gcp-project \u0026amp; ## test gcloud compute start-iap-tunnel test-border 22 --local-host-port localhost:10121 --zone asia-east1-b --project gcp-project \u0026amp; ## prod gcloud compute start-iap-tunnel prod-border 22 --zone asia-east1-b --local-host-port 127.","title":"gcpé ç«¯é€£ç·šçš„å¹¾ç¨®æ–¹å¼"},{"content":"ç°¡ä»‹ğŸ‘©â€ğŸ’» æœ€è¿‘åœ¨ç ”ç©¶terraformèˆ‡ansibleçš„æ•´åˆï¼Œä¸éé‚„åœ¨æ‘¸ç´¢ä¸­ï¼Œæ©Ÿå™¨çš„ç‰ˆæ§å°æ–¼ç¶­é‹ä¾†è¬›ç›¸å°é‡è¦ï¼Œé€™æ™‚å€™æœ‰terraformçš„å‡ºç¾ï¼Œåœ¨å»ºç«‹æ©Ÿå™¨å¾Œæœƒéš¨ä¹‹ç”¢ç”Ÿæ©Ÿå™¨çš„ç‹€æ…‹æª”ï¼Œè€Œansibleå‰‡æ˜¯åœ¨å»ºç«‹å¥½æ©Ÿå™¨å¾Œå¹«åŠ©æˆ‘å®Œæˆæˆ‘æ‰€éœ€çš„æ©Ÿå™¨ç›¸é—œè¨­å®š\né€™æ˜¯ä¸€æ¬¾terraformçµåˆansibleçš„å°ç©å…·ï¼Œåœ¨gcpç’°å¢ƒä¸‹ä½¿ç”¨terraformå¹«æˆ‘å»ºç½®å¥½æ©Ÿå™¨ï¼Œæ¥è‘—ä½¿ç”¨local execåŸ·è¡Œansibleçš„playbookå®Œæˆæ©Ÿå™¨çš„è¨­å®š\nè³‡æ–™å¤¾çµæ§‹ â”œâ”€â”€â”€ansible-playbook â”‚ â”œâ”€â”€â”€group_vars â”‚ â”‚ â””â”€â”€â”€all â”‚ â”œâ”€â”€â”€roles â”‚ â”‚ â”œâ”€â”€â”€instance â”‚ â”‚ â”‚ â””â”€â”€â”€tasks â”‚ â”‚ â””â”€â”€â”€ops_agent â”‚ â”‚ â””â”€â”€â”€tasks â”‚ â””â”€â”€â”€vars â”‚ â””â”€â”€â”€instance â”œâ”€â”€â”€modules â”‚ â””â”€â”€â”€main.tf â”‚ â””â”€â”€â”€variables.tf â””â”€â”€â”€roles â””â”€â”€â”€general â””â”€â”€â”€general.tf ansible-playbookï¼šæ”¾ç½®ansibleç›¸é—œå·¥å…· modulesï¼šæ”¾ç½®ä¸»è¦ä½¿ç”¨çš„resourceä»¥åŠå®šç¾©å¥½çš„è®Šæ•¸ rolesï¼šæ”¾ç½®è‡ªå®šç¾©åƒæ•¸ ä½¿ç”¨æŒ‡å— å…ˆå»ºç«‹gcp saçµ¦terraformå¯ä»¥æœ‰å»ºç«‹vmçš„æ¬Šé™ï¼Œæ¥è‘—å¯ä»¥ä¸‹\nterraform init -\u0026gt; å…ˆè®“terraformä¸‹è¼‰ç›¸é—œçš„repo terraform plan -\u0026gt; æŸ¥çœ‹terraformæœƒåšå“ªäº›äº‹æƒ…ï¼Œä¸€é–‹å§‹éƒ½æœƒå…ˆå»æª¢æŸ¥ç‹€æ…‹æª”ï¼Œæœ€ä¸Šé¢ä»£è¡¨å‹•ä½œï¼Œæ­¤ç¯„ä¾‹ç‚ºcreateï¼Œæœ€ä¸‹é¢çš„planä»£è¡¨ç¸½å…±æœ‰4å€‹resourceæœƒadd terraform apply -\u0026gt; å»ºç«‹æ©Ÿå™¨æŒ‡ä»¤ï¼Œapplyä¸€æ¨£æœƒæŠŠplançš„éƒ¨åˆ†ä¹Ÿé¡¯ç¤ºå‡ºä¾†ï¼Œä¸¦è©¢å•æ˜¯å¦è¦ç¹¼çºŒï¼Œæ‰“ä¸Šyeså¾Œä¾¿æœƒé–‹å§‹å»ºç½®æ©Ÿå™¨ terraform destroy -\u0026gt; æ©Ÿå™¨å»ºç«‹å®Œè¦åˆªé™¤æ™‚ä¸‹é€™æŒ‡ä»¤ï¼Œdestroyä¸€æ¨£æœƒå»æª¢æŸ¥ç‹€æ…‹æª”ï¼Œé€™æ¬¡çš„å‹•ä½œç‚ºdestroyï¼Œæœ€ä¸‹é¢çš„plané¡¯ç¤º4å€‹è³‡æºæœƒè¢«destroy terraform show -\u0026gt; å¯ä»¥é¡¯ç¤ºç•¶å‰terraformçš„ç‹€æ…‹ ğŸ”—å°ˆæ¡ˆrepo \u0026ndash;\u0026gt; https://github.com/sz9751210/terraform-demo\n","permalink":"https://sz9751210.github.io/posts/terraform-ansible/","summary":"ç°¡ä»‹ğŸ‘©â€ğŸ’» æœ€è¿‘åœ¨ç ”ç©¶terraformèˆ‡ansibleçš„æ•´åˆï¼Œä¸éé‚„åœ¨æ‘¸ç´¢ä¸­ï¼Œæ©Ÿå™¨çš„ç‰ˆæ§å°æ–¼ç¶­é‹ä¾†è¬›ç›¸å°é‡è¦ï¼Œé€™æ™‚å€™æœ‰terraformçš„å‡ºç¾ï¼Œåœ¨å»ºç«‹æ©Ÿå™¨å¾Œæœƒéš¨ä¹‹ç”¢ç”Ÿæ©Ÿå™¨çš„ç‹€æ…‹æª”ï¼Œè€Œansibleå‰‡æ˜¯åœ¨å»ºç«‹å¥½æ©Ÿå™¨å¾Œå¹«åŠ©æˆ‘å®Œæˆæˆ‘æ‰€éœ€çš„æ©Ÿå™¨ç›¸é—œè¨­å®š\né€™æ˜¯ä¸€æ¬¾terraformçµåˆansibleçš„å°ç©å…·ï¼Œåœ¨gcpç’°å¢ƒä¸‹ä½¿ç”¨terraformå¹«æˆ‘å»ºç½®å¥½æ©Ÿå™¨ï¼Œæ¥è‘—ä½¿ç”¨local execåŸ·è¡Œansibleçš„playbookå®Œæˆæ©Ÿå™¨çš„è¨­å®š\nè³‡æ–™å¤¾çµæ§‹ â”œâ”€â”€â”€ansible-playbook â”‚ â”œâ”€â”€â”€group_vars â”‚ â”‚ â””â”€â”€â”€all â”‚ â”œâ”€â”€â”€roles â”‚ â”‚ â”œâ”€â”€â”€instance â”‚ â”‚ â”‚ â””â”€â”€â”€tasks â”‚ â”‚ â””â”€â”€â”€ops_agent â”‚ â”‚ â””â”€â”€â”€tasks â”‚ â””â”€â”€â”€vars â”‚ â””â”€â”€â”€instance â”œâ”€â”€â”€modules â”‚ â””â”€â”€â”€main.tf â”‚ â””â”€â”€â”€variables.tf â””â”€â”€â”€roles â””â”€â”€â”€general â””â”€â”€â”€general.tf ansible-playbookï¼šæ”¾ç½®ansibleç›¸é—œå·¥å…· modulesï¼šæ”¾ç½®ä¸»è¦ä½¿ç”¨çš„resourceä»¥åŠå®šç¾©å¥½çš„è®Šæ•¸ rolesï¼šæ”¾ç½®è‡ªå®šç¾©åƒæ•¸ ä½¿ç”¨æŒ‡å— å…ˆå»ºç«‹gcp saçµ¦terraformå¯ä»¥æœ‰å»ºç«‹vmçš„æ¬Šé™ï¼Œæ¥è‘—å¯ä»¥ä¸‹\nterraform init -\u0026gt; å…ˆè®“terraformä¸‹è¼‰ç›¸é—œçš„repo terraform plan -\u0026gt; æŸ¥çœ‹terraformæœƒåšå“ªäº›äº‹æƒ…ï¼Œä¸€é–‹å§‹éƒ½æœƒå…ˆå»æª¢æŸ¥ç‹€æ…‹æª”ï¼Œæœ€ä¸Šé¢ä»£è¡¨å‹•ä½œï¼Œæ­¤ç¯„ä¾‹ç‚ºcreateï¼Œæœ€ä¸‹é¢çš„planä»£è¡¨ç¸½å…±æœ‰4å€‹resourceæœƒadd terraform apply -\u0026gt; å»ºç«‹æ©Ÿå™¨æŒ‡ä»¤ï¼Œapplyä¸€æ¨£æœƒæŠŠplançš„éƒ¨åˆ†ä¹Ÿé¡¯ç¤ºå‡ºä¾†ï¼Œä¸¦è©¢å•æ˜¯å¦è¦ç¹¼çºŒï¼Œæ‰“ä¸Šyeså¾Œä¾¿æœƒé–‹å§‹å»ºç½®æ©Ÿå™¨ terraform destroy -\u0026gt; æ©Ÿå™¨å»ºç«‹å®Œè¦åˆªé™¤æ™‚ä¸‹é€™æŒ‡ä»¤ï¼Œdestroyä¸€æ¨£æœƒå»æª¢æŸ¥ç‹€æ…‹æª”ï¼Œé€™æ¬¡çš„å‹•ä½œç‚ºdestroyï¼Œæœ€ä¸‹é¢çš„plané¡¯ç¤º4å€‹è³‡æºæœƒè¢«destroy terraform show -\u0026gt; å¯ä»¥é¡¯ç¤ºç•¶å‰terraformçš„ç‹€æ…‹ ğŸ”—å°ˆæ¡ˆrepo \u0026ndash;\u0026gt; https://github.com/sz9751210/terraform-demo","title":"terraform-ansible"},{"content":"å®‰è£èˆ‡è¨­å®šæ‰€éœ€ä¾è³´ å®‰è£ä¾è³´å¥—ä»¶ sudo yum install -y curl policycoreutils-python openssh-server perl å•Ÿå‹• SSH æœå‹™ sudo systemctl enable sshd sudo systemctl start sshd é˜²ç«ç‰†é–‹å•Ÿç¶²é è¦ç”¨çš„PORTç¶²é  sudo firewall-cmd --permanent --add-service=http sudo firewall-cmd --permanent --add-service=https sudo systemctl reload firewalld å®‰è£ SMTP Server (Postfix)ï¼Œç™¼é€é€šçŸ¥emailç”¨ sudo yum install postfix sudo systemctl enable postfix sudo systemctl start postfix æ·»åŠ gitlab repoä»¥åŠå®‰è£package Add Gitlab package å¯è‡ªè¡Œé¸æ“‡è¦å®‰è£CEç‰ˆé‚„æ˜¯EEç‰ˆï¼Œå¦‚æœè¦å®‰è£EEç‰ˆå‰‡æŠŠgitlab-ceæ”¹æˆgitlab-eeå³å¯ curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash Install Gitlab é€™é‚Šå»ºç½®æ˜¯ä½¿ç”¨å…§ç¶²ï¼Œå› æ­¤ä½¿ç”¨httpçš„æ–¹å¼ä¸‹å»åšè¨­å®š sudo EXTERNAL_URL=\u0026#34;http://{{ internal_ip }}\u0026#34; yum install -y gitlab-ce reference Download and install GitLab | GitLab\n","permalink":"https://sz9751210.github.io/posts/centos7%E5%AE%89%E8%A3%9Dgitlab/","summary":"å®‰è£èˆ‡è¨­å®šæ‰€éœ€ä¾è³´ å®‰è£ä¾è³´å¥—ä»¶ sudo yum install -y curl policycoreutils-python openssh-server perl å•Ÿå‹• SSH æœå‹™ sudo systemctl enable sshd sudo systemctl start sshd é˜²ç«ç‰†é–‹å•Ÿç¶²é è¦ç”¨çš„PORTç¶²é  sudo firewall-cmd --permanent --add-service=http sudo firewall-cmd --permanent --add-service=https sudo systemctl reload firewalld å®‰è£ SMTP Server (Postfix)ï¼Œç™¼é€é€šçŸ¥emailç”¨ sudo yum install postfix sudo systemctl enable postfix sudo systemctl start postfix æ·»åŠ gitlab repoä»¥åŠå®‰è£package Add Gitlab package å¯è‡ªè¡Œé¸æ“‡è¦å®‰è£CEç‰ˆé‚„æ˜¯EEç‰ˆï¼Œå¦‚æœè¦å®‰è£EEç‰ˆå‰‡æŠŠgitlab-ceæ”¹æˆgitlab-eeå³å¯ curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash Install Gitlab é€™é‚Šå»ºç½®æ˜¯ä½¿ç”¨å…§ç¶²ï¼Œå› æ­¤ä½¿ç”¨httpçš„æ–¹å¼ä¸‹å»åšè¨­å®š sudo EXTERNAL_URL=\u0026#34;http://{{ internal_ip }}\u0026#34; yum install -y gitlab-ce reference Download and install GitLab | GitLab","title":"Centos 7 å®‰è£gitlab"},{"content":"ä½¿ç”¨Rake task å°‡user_nameæ”¹æˆè¦è®Šæ›´å¯†ç¢¼çš„user nameå³å¯\nsudo gitlab-rake \u0026#34;gitlab:password:reset[user_name]\u0026#34; ä½¿ç”¨Rails console é–‹å•Ÿrails console sudo gitlab-rails console å–å¾—user é€éusername user = User.find_by_username \u0026#39;user_name\u0026#39; é€éuserID user = User.find(uid) é€éemail user = User.find_by(email: \u0026#39;user@example.com\u0026#39;) é‡ç½®å¯†ç¢¼ new_password = \u0026#39;my_new_password\u0026#39; user.password = new_password user.password_confirmation = new_password å„²å­˜ä¿®æ”¹ user.save! é€€å‡ºconsole exit ","permalink":"https://sz9751210.github.io/posts/gitlab-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A2%BC/","summary":"ä½¿ç”¨Rake task å°‡user_nameæ”¹æˆè¦è®Šæ›´å¯†ç¢¼çš„user nameå³å¯\nsudo gitlab-rake \u0026#34;gitlab:password:reset[user_name]\u0026#34; ä½¿ç”¨Rails console é–‹å•Ÿrails console sudo gitlab-rails console å–å¾—user é€éusername user = User.find_by_username \u0026#39;user_name\u0026#39; é€éuserID user = User.find(uid) é€éemail user = User.find_by(email: \u0026#39;user@example.com\u0026#39;) é‡ç½®å¯†ç¢¼ new_password = \u0026#39;my_new_password\u0026#39; user.password = new_password user.password_confirmation = new_password å„²å­˜ä¿®æ”¹ user.save! é€€å‡ºconsole exit ","title":"Gitlab ä¿®æ”¹å¯†ç¢¼"},{"content":"é¡Œç›®æè¿° å°‡ä¸€å€‹å·²ç¶“æ’åºå¥½çš„listä¸­é‡è¤‡çš„æ•¸å­—åˆªå»ï¼Œä¸¦å›å‚³listé•·åº¦ï¼Œå¿…é ˆä»¥in-placeçš„æ–¹å¼è™•ç†ï¼Œä¸èƒ½ä½¿ç”¨é¡å¤–çš„ç©ºé–“\nè§£é¡Œæ€è·¯ ä½¿ç”¨å…©å€‹æŒ‡é‡ï¼Œä¸€å€‹ç´€éŒ„éƒ½æ²’é‡è¤‡çš„æ¬¡æ•¸(slow)ï¼Œä¸€å€‹ç´€éŒ„ç•¶å‰æ²’é‡è¤‡çš„æ•¸å­—(fast)ï¼Œå¦‚æœé‡è¤‡ï¼Œå‰‡æ›´æ–°æ²’é‡è¤‡çš„æ•¸å­—\nPython class Solution: def removeDuplicates(self, nums: List[int]) -\u0026gt; int: n = len(nums) if n \u0026lt; 2: return n slow, fast = 1, 1 for fast in range(1,n): if nums[fast-1] != nums[fast]: nums[slow] = nums[fast] slow += 1 return slow Golang func removeDuplicates(nums []int) int { n := len(nums) if n \u0026lt; 2 { return n } slow, fast := 1, 1 for fast \u0026lt; n { if nums[fast-1] != nums[fast] { nums[slow] = nums[fast] slow++ } fast++ } return slow } ","permalink":"https://sz9751210.github.io/posts/leetcode-26/","summary":"é¡Œç›®æè¿° å°‡ä¸€å€‹å·²ç¶“æ’åºå¥½çš„listä¸­é‡è¤‡çš„æ•¸å­—åˆªå»ï¼Œä¸¦å›å‚³listé•·åº¦ï¼Œå¿…é ˆä»¥in-placeçš„æ–¹å¼è™•ç†ï¼Œä¸èƒ½ä½¿ç”¨é¡å¤–çš„ç©ºé–“\nè§£é¡Œæ€è·¯ ä½¿ç”¨å…©å€‹æŒ‡é‡ï¼Œä¸€å€‹ç´€éŒ„éƒ½æ²’é‡è¤‡çš„æ¬¡æ•¸(slow)ï¼Œä¸€å€‹ç´€éŒ„ç•¶å‰æ²’é‡è¤‡çš„æ•¸å­—(fast)ï¼Œå¦‚æœé‡è¤‡ï¼Œå‰‡æ›´æ–°æ²’é‡è¤‡çš„æ•¸å­—\nPython class Solution: def removeDuplicates(self, nums: List[int]) -\u0026gt; int: n = len(nums) if n \u0026lt; 2: return n slow, fast = 1, 1 for fast in range(1,n): if nums[fast-1] != nums[fast]: nums[slow] = nums[fast] slow += 1 return slow Golang func removeDuplicates(nums []int) int { n := len(nums) if n \u0026lt; 2 { return n } slow, fast := 1, 1 for fast \u0026lt; n { if nums[fast-1] !","title":"leetcode 26. Remove Duplicates from Sorted Array"},{"content":"é¡Œç›®æè¿° çµ¦ä¸€å€‹é•·åº¦å›ºå®šçš„listï¼Œå°‡è£¡é¢å‡ºç¾çš„0åšè¤‡è£½ï¼Œä¸¦å°‡å‰©é¤˜çš„å…ƒç´ å¾€å³ç§»\nè§£é¡Œæ€è·¯ ä½¿ç”¨å–®æŒ‡é‡åšéæ­·ï¼Œæ¢ä»¶æœ‰å…©å€‹ï¼Œéƒ½ç¬¦åˆæ‰åšè™•ç†\nå‡å¦‚ç•¶å‰å…ƒç´ ç‚º0 è€ƒæ…®æœ€å¾Œä¸€å€‹å…ƒç´ ä¹Ÿç‚º0è¦å°æ–¼listé•·åº¦ Python class Solution: def duplicateZeros(self, arr: List[int]) -\u0026gt; None: \u0026#34;\u0026#34;\u0026#34; Do not return anything, modify arr in-place instead. \u0026#34;\u0026#34;\u0026#34; i = 0 while i \u0026lt; len(arr): if arr[i] == 0 and i + 1 \u0026lt; len(arr): arr.insert(i+1, 0) arr.pop() i += 1 i += 1 Golang func duplicateZeros(arr []int) { for i := 0; i \u0026lt; len(arr); i++ { if arr[i] == 0 \u0026amp;\u0026amp; i+1 \u0026lt; len(arr) { arr = append(arr[:i+1], arr[i:len(arr)-1]...) i ++ } } } ","permalink":"https://sz9751210.github.io/posts/leetcode-1089/","summary":"é¡Œç›®æè¿° çµ¦ä¸€å€‹é•·åº¦å›ºå®šçš„listï¼Œå°‡è£¡é¢å‡ºç¾çš„0åšè¤‡è£½ï¼Œä¸¦å°‡å‰©é¤˜çš„å…ƒç´ å¾€å³ç§»\nè§£é¡Œæ€è·¯ ä½¿ç”¨å–®æŒ‡é‡åšéæ­·ï¼Œæ¢ä»¶æœ‰å…©å€‹ï¼Œéƒ½ç¬¦åˆæ‰åšè™•ç†\nå‡å¦‚ç•¶å‰å…ƒç´ ç‚º0 è€ƒæ…®æœ€å¾Œä¸€å€‹å…ƒç´ ä¹Ÿç‚º0è¦å°æ–¼listé•·åº¦ Python class Solution: def duplicateZeros(self, arr: List[int]) -\u0026gt; None: \u0026#34;\u0026#34;\u0026#34; Do not return anything, modify arr in-place instead. \u0026#34;\u0026#34;\u0026#34; i = 0 while i \u0026lt; len(arr): if arr[i] == 0 and i + 1 \u0026lt; len(arr): arr.insert(i+1, 0) arr.pop() i += 1 i += 1 Golang func duplicateZeros(arr []int) { for i := 0; i \u0026lt; len(arr); i++ { if arr[i] == 0 \u0026amp;\u0026amp; i+1 \u0026lt; len(arr) { arr = append(arr[:i+1], arr[i:len(arr)-1].","title":"leetcode 1089 - Duplicate Zeros"},{"content":"é¡Œç›®æè¿° çµ¦ä¸€å€‹åˆ—è¡¨ä»¥åŠä¸€å€‹åˆ—è¡¨è£¡å…©æ•¸ç›¸åŠ èµ·ä¾†çš„æ•¸ï¼Œè¿”å›æ­¤å…©æ•¸çš„åˆ—è¡¨ä½ç½®\nè§£é¡Œæ€è·¯ å¯ç”¨å­—å…¸çµæ§‹ç•¶ä½œå­˜å–ä½ç½®ç”¨ï¼Œä¸¦ç”¨éæ­·å°‡ç›¸æ¸›å¾Œé‚„æ²’æœ‰å‡ºç¾çš„æ•¸å­˜é€²å­—å…¸è£¡ï¼Œä¹‹å¾Œå¦‚æœæœ‰éæ­·åˆ°å­—å…¸è£¡çš„æ•¸å³å¯ç«‹é¦¬è¿”å›ä½ç½®\nä¸€æ¨£ä½¿ç”¨é›™æŒ‡é‡ï¼Œå°‡listçš„indexè·Ÿelementåˆ†çµ„åšæ’åºï¼Œå› æ­¤æ–°çš„listç‚ºç”±å°åˆ°å¤§ï¼Œæ¥è‘—ä½¿ç”¨é›™æŒ‡é‡ï¼Œä¸€å€‹æŒ‡å‘é ­ä¸€å€‹æŒ‡å‘å°¾ï¼Œç›¸åŠ å¦‚æœå°æ–¼targetå‰‡ä»£è¡¨startå¤ªå°ï¼Œç›¸åŠ å¦‚æœå¤§æ–¼targetä»£è¡¨endå¤ªå¤§\nPython åŸæœ¬æƒ³ç”¨å…©å€‹forå»è§£æ±º\nclass Solution: def twoSum(self, nums: List[int], target: int) -\u0026gt; List[int]: for i in range(len(nums)): left = nums[i+1:] for j in range(len(left)): if (nums[i] + left[j]) == target: return i, j+i+1 ä½†æäº¤å¾Œå™´äº†time limit exceeded\nclass Solution: def twoSum(self, nums: List[int], target: int) -\u0026gt; List[int]: dict = {} for i in range(len(nums)): if target - nums[i] not in dict: dict[nums[i]] = i else: return [dict[target - nums[i]], i] class Solution: def twoSum(self, nums: List[int], target: int) -\u0026gt; List[int]: list_ele_idx = [(ele, idx) for idx, ele in enumerate(nums)] # ä¸»è¦è®“eleåœ¨å‰ï¼Œä½¿sortç”Ÿæ•ˆï¼Œå› æ­¤å‰é¢æœƒå¯«æˆ(ele, idx)ï¼Œè®“eleå¯ä»¥æ’åº list_ele_idx.sort() start, end = 0, len(nums)-1 while(start \u0026lt; end): if list_ele_idx[start][0] + list_ele_idx[end][0] == target: return sorted([list_ele_idx[start][1], list_ele_idx[end][1]]) elif list_ele_idx[start][0] + list_ele_idx[end][0] \u0026lt; target: # need bigger start += 1 else: # nums[start] + nums[end] \u0026gt; target: # need smaller end -= 1 else: return [-1, -1] ","permalink":"https://sz9751210.github.io/posts/leetcode-01/","summary":"é¡Œç›®æè¿° çµ¦ä¸€å€‹åˆ—è¡¨ä»¥åŠä¸€å€‹åˆ—è¡¨è£¡å…©æ•¸ç›¸åŠ èµ·ä¾†çš„æ•¸ï¼Œè¿”å›æ­¤å…©æ•¸çš„åˆ—è¡¨ä½ç½®\nè§£é¡Œæ€è·¯ å¯ç”¨å­—å…¸çµæ§‹ç•¶ä½œå­˜å–ä½ç½®ç”¨ï¼Œä¸¦ç”¨éæ­·å°‡ç›¸æ¸›å¾Œé‚„æ²’æœ‰å‡ºç¾çš„æ•¸å­˜é€²å­—å…¸è£¡ï¼Œä¹‹å¾Œå¦‚æœæœ‰éæ­·åˆ°å­—å…¸è£¡çš„æ•¸å³å¯ç«‹é¦¬è¿”å›ä½ç½®\nä¸€æ¨£ä½¿ç”¨é›™æŒ‡é‡ï¼Œå°‡listçš„indexè·Ÿelementåˆ†çµ„åšæ’åºï¼Œå› æ­¤æ–°çš„listç‚ºç”±å°åˆ°å¤§ï¼Œæ¥è‘—ä½¿ç”¨é›™æŒ‡é‡ï¼Œä¸€å€‹æŒ‡å‘é ­ä¸€å€‹æŒ‡å‘å°¾ï¼Œç›¸åŠ å¦‚æœå°æ–¼targetå‰‡ä»£è¡¨startå¤ªå°ï¼Œç›¸åŠ å¦‚æœå¤§æ–¼targetä»£è¡¨endå¤ªå¤§\nPython åŸæœ¬æƒ³ç”¨å…©å€‹forå»è§£æ±º\nclass Solution: def twoSum(self, nums: List[int], target: int) -\u0026gt; List[int]: for i in range(len(nums)): left = nums[i+1:] for j in range(len(left)): if (nums[i] + left[j]) == target: return i, j+i+1 ä½†æäº¤å¾Œå™´äº†time limit exceeded\nclass Solution: def twoSum(self, nums: List[int], target: int) -\u0026gt; List[int]: dict = {} for i in range(len(nums)): if target - nums[i] not in dict: dict[nums[i]] = i else: return [dict[target - nums[i]], i] class Solution: def twoSum(self, nums: List[int], target: int) -\u0026gt; List[int]: list_ele_idx = [(ele, idx) for idx, ele in enumerate(nums)] # ä¸»è¦è®“eleåœ¨å‰ï¼Œä½¿sortç”Ÿæ•ˆï¼Œå› æ­¤å‰é¢æœƒå¯«æˆ(ele, idx)ï¼Œè®“eleå¯ä»¥æ’åº list_ele_idx.","title":"leetcode 01. two sum"},{"content":"é¡Œç›®æè¿° çµ¦å®šä¸€å€‹æ•¸çµ„numså’Œä¸€å€‹å€¼valï¼Œä½ éœ€è¦åŸåœ°ç§»é™¤æ‰€æœ‰æ•¸å€¼ç­‰æ–¼valçš„å…ƒç´ ï¼Œè¿”å›ç§»é™¤å¾Œæ•¸çµ„çš„æ–°é•·åº¦ã€‚\næ™‚é–“è¤‡é›œåº¦ç‚ºO(1)ï¼Œä¸ç”¨è€ƒæ…®ç§»é™¤å¾Œçš„æ•¸çµ„é †åº\nè§£é¡Œæ€è·¯ å¯å…ˆå®šç¾©å¥½ä¸€å€‹æŒ‡é‡ï¼Œæ‹¿ä¾†åŠ ä¸Šé•·åº¦ï¼Œä¸¦ç”¨foråˆ¤åˆ¥æ˜¯å¦ç‚ºvalï¼Œæœ€å¾Œè¿”å›æŒ‡é‡é•·åº¦\nä½¿ç”¨é›™æŒ‡é‡ï¼Œå¿«çš„æŒ‡é‡å»è² è²¬éæ­·æ•´å€‹listï¼Œæ…¢çš„æŒ‡é‡å»ç´€éŒ„æ˜¯å¦æœ‰é‡åˆ°é¡Œç›®çµ¦çš„å€¼ï¼Œæ˜¯çš„è©±å°±è·³éï¼Œæœ€å¾Œè¿”å›slow\nPython class Solution: def removeElement(self, nums: List[int], val: int) -\u0026gt; int: ptr = 0 for num in nums: if num != val: nums[ptr] = num ptr += 1 return ptr class Solution: def removeElement(self, nums: List[int], val: int) -\u0026gt; int: fast = slow = 0 while(fast \u0026lt; len(nums)): if(nums[fast] != val): nums[slow] = nums[fast] slow+=1 fast+=1 return slow Golang func removeElement(nums []int, val int) int { fast, slow := 0, 0 for fast \u0026lt; len(nums) { if nums[fast] != val { nums[slow] = nums[fast] slow++ } fast++ } return slow } ","permalink":"https://sz9751210.github.io/posts/leetcode-27/","summary":"é¡Œç›®æè¿° çµ¦å®šä¸€å€‹æ•¸çµ„numså’Œä¸€å€‹å€¼valï¼Œä½ éœ€è¦åŸåœ°ç§»é™¤æ‰€æœ‰æ•¸å€¼ç­‰æ–¼valçš„å…ƒç´ ï¼Œè¿”å›ç§»é™¤å¾Œæ•¸çµ„çš„æ–°é•·åº¦ã€‚\næ™‚é–“è¤‡é›œåº¦ç‚ºO(1)ï¼Œä¸ç”¨è€ƒæ…®ç§»é™¤å¾Œçš„æ•¸çµ„é †åº\nè§£é¡Œæ€è·¯ å¯å…ˆå®šç¾©å¥½ä¸€å€‹æŒ‡é‡ï¼Œæ‹¿ä¾†åŠ ä¸Šé•·åº¦ï¼Œä¸¦ç”¨foråˆ¤åˆ¥æ˜¯å¦ç‚ºvalï¼Œæœ€å¾Œè¿”å›æŒ‡é‡é•·åº¦\nä½¿ç”¨é›™æŒ‡é‡ï¼Œå¿«çš„æŒ‡é‡å»è² è²¬éæ­·æ•´å€‹listï¼Œæ…¢çš„æŒ‡é‡å»ç´€éŒ„æ˜¯å¦æœ‰é‡åˆ°é¡Œç›®çµ¦çš„å€¼ï¼Œæ˜¯çš„è©±å°±è·³éï¼Œæœ€å¾Œè¿”å›slow\nPython class Solution: def removeElement(self, nums: List[int], val: int) -\u0026gt; int: ptr = 0 for num in nums: if num != val: nums[ptr] = num ptr += 1 return ptr class Solution: def removeElement(self, nums: List[int], val: int) -\u0026gt; int: fast = slow = 0 while(fast \u0026lt; len(nums)): if(nums[fast] != val): nums[slow] = nums[fast] slow+=1 fast+=1 return slow Golang func removeElement(nums []int, val int) int { fast, slow := 0, 0 for fast \u0026lt; len(nums) { if nums[fast] !","title":"leetCode 27. Remove Element"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ last ç”¨é€”ï¼šåˆ—å‡ºç›®å‰èˆ‡éå»ç™»å…¥ç³»çµ±çš„ä½¿ç”¨è€…ç›¸é—œè³‡è¨Š èªæ³• last [OPTIONS] [num,time,name,tty] åƒæ•¸ åƒæ•¸ èªªæ˜ -f file æŒ‡å®šç™»å…¥çš„æ—¥èªŒæª”æ¡ˆ(é è¨­æ˜¯/var/log/wtmp) -num æŒ‡å®šlasté¡¯ç¤ºå¹¾è¡Œè³‡è¨Š -n num èˆ‡-numç›¸åŒ -t time[YYYYMMDDHHMMSS] é¡¯ç¤ºæŒ‡å®šæ™‚é–“çš„ç™»å…¥è³‡è¨Š -R ä¸é¡¯ç¤ºä¸»æ©Ÿå -a åœ¨æœ€å¾Œä¸€åˆ—é¡¯ç¤ºä¸»æ©Ÿå -d å°‡éæœ¬åœ°ç™»å…¥çš„ä½¿ç”¨è€…ipè½‰æ›æˆä¸»æ©Ÿå -F é¡¯ç¤ºæ‰€æœ‰çš„ç™»å…¥å’Œç™»å‡ºæ™‚é–“å’Œæ—¥æœŸ -i é¡¯ç¤ºipåœ°å€è€Œä¸æ˜¯ä¸»æ©Ÿå -o è®€å–èˆŠçš„æ—¥èªŒæª”æ¡ˆ -w é¡¯ç¤ºä½¿ç”¨è€…åç¨±å’ŒåŸŸå -x é¡¯ç¤ºç³»çµ±é—œæ©Ÿè³‡è¨Šå’ŒåŸ·è¡Œç´šåˆ¥çš„è®ŠåŒ–è³‡è¨Š æ¬„ä½èªªæ˜ last # output 1 2 3 4 5 alan pts/2 192.168.56.1 Mon Oct 25 21:37 still logged in reboot system boot 3.10.0-1160.42.2 Mon Oct 25 21:16 - 22:39 (01:22) alan pts/0 192.168.56.1 Sun Oct 24 23:18 - 05:47 (06:28) reboot system boot 3.10.0-1160.42.2 Sun Oct 24 23:15 - 22:39 (23:24) alan pts/2 192.168.56.1 Fri Oct 22 02:07 - 05:44 (03:37) æ¬„ä½ èªªæ˜ ç™»å…¥ç”¨æˆ¶ é¡¯ç¤ºç™»éŒ„ç”¨æˆ¶çš„å§“å ç™»å…¥çµ‚ç«¯ é¡¯ç¤ºç”¨æˆ¶å¦‚ä½•é€£æ¥åˆ°ç³»çµ±ï¼Œä½†å¦‚æœæ˜¯é‡å•Ÿé€²å…¥ï¼Œå‰‡æ˜¯æœƒé¡¯ç¤ºsystem boot ç™»å…¥ä¸»æ©Ÿ é¡¯ç¤ºå¾å“ªé€£æ¥åˆ°ç³»çµ±ï¼Œæ¬„ä½å¯ç‚ºä¸»æ©Ÿåæˆ–æ˜¯IPä½å€(é ç«¯)ã€ç©ºå€¼(tty)ã€kernelç‰ˆæœ¬(é‡å•Ÿ)ã€æ‡‰ç”¨ç¨‹åº(PID.windowID) ç™»å…¥æ™‚é–“ é¡¯ç¤ºç”¨æˆ¶ç™»å…¥çš„æ™‚é–“ ç™»å‡ºæ™‚é–“ é¡¯ç¤ºç”¨æˆ¶ç™»å‡ºçš„æ™‚é–“ï¼Œæ¬„ä½å¯ç‚ºæ™‚é–“æˆ³(ç™»å‡º)ã€still running(é–‹æ©Ÿ)ã€still logged in(ç”¨æˆ¶ç™»å…¥ä¸­)ã€down(æ©Ÿå™¨é—œæ©Ÿ)ã€crash(ç³»çµ±å´©æ½°) åŸºæœ¬æ“ä½œ é¡¯ç¤ºæœ€è¿‘ç™»å…¥çš„5ç­†è³‡è¨Š last -5 or last -n 5 é¡¯ç¤ºç”¨æˆ¶åœ¨æŸæ™‚æ®µç™»å…¥çš„è³‡è¨Š last -t 20211026151111 root é¡¯ç¤ºçµ‚ç«¯tty1çš„ç™»å…¥è³‡è¨Š last 1 or last tty1 åƒè€ƒè³‡æ–™ Linux last Command | Baeldung on Linux LinuxåŸºç¤å‘½ä»¤â€”last | ITäºº (iter01.com) ","permalink":"https://sz9751210.github.io/posts/linux-last/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ last ç”¨é€”ï¼šåˆ—å‡ºç›®å‰èˆ‡éå»ç™»å…¥ç³»çµ±çš„ä½¿ç”¨è€…ç›¸é—œè³‡è¨Š èªæ³• last [OPTIONS] [num,time,name,tty] åƒæ•¸ åƒæ•¸ èªªæ˜ -f file æŒ‡å®šç™»å…¥çš„æ—¥èªŒæª”æ¡ˆ(é è¨­æ˜¯/var/log/wtmp) -num æŒ‡å®šlasté¡¯ç¤ºå¹¾è¡Œè³‡è¨Š -n num èˆ‡-numç›¸åŒ -t time[YYYYMMDDHHMMSS] é¡¯ç¤ºæŒ‡å®šæ™‚é–“çš„ç™»å…¥è³‡è¨Š -R ä¸é¡¯ç¤ºä¸»æ©Ÿå -a åœ¨æœ€å¾Œä¸€åˆ—é¡¯ç¤ºä¸»æ©Ÿå -d å°‡éæœ¬åœ°ç™»å…¥çš„ä½¿ç”¨è€…ipè½‰æ›æˆä¸»æ©Ÿå -F é¡¯ç¤ºæ‰€æœ‰çš„ç™»å…¥å’Œç™»å‡ºæ™‚é–“å’Œæ—¥æœŸ -i é¡¯ç¤ºipåœ°å€è€Œä¸æ˜¯ä¸»æ©Ÿå -o è®€å–èˆŠçš„æ—¥èªŒæª”æ¡ˆ -w é¡¯ç¤ºä½¿ç”¨è€…åç¨±å’ŒåŸŸå -x é¡¯ç¤ºç³»çµ±é—œæ©Ÿè³‡è¨Šå’ŒåŸ·è¡Œç´šåˆ¥çš„è®ŠåŒ–è³‡è¨Š æ¬„ä½èªªæ˜ last # output 1 2 3 4 5 alan pts/2 192.168.56.1 Mon Oct 25 21:37 still logged in reboot system boot 3.10.0-1160.42.2 Mon Oct 25 21:16 - 22:39 (01:22) alan pts/0 192.168.56.1 Sun Oct 24 23:18 - 05:47 (06:28) reboot system boot 3.","title":"Linux åˆ—å‡ºç™»å…¥è³‡è¨Š[last]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ id ç”¨é€”ï¼šé¡¯ç¤ºç”¨æˆ¶çš„IDï¼Œä»¥åŠæ‰€å±¬ç¾¤çµ„çš„IDã€‚ èªæ³• id [OPTIONS] userName åƒæ•¸ åƒæ•¸ èªªæ˜ -Z, \u0026ndash;context é¡¯ç¤ºç•¶å‰ç”¨æˆ¶çš„å®‰å…¨ä¸Šä¸‹æ–‡ -g, \u0026ndash;group é¡¯ç¤ºæ‰€å±¬ç¾¤çµ„ID -G, \u0026ndash;groups é¡¯ç¤ºæ‰€æœ‰ç¾¤çµ„ID -n, \u0026ndash;name é¡¯ç¤ºç”¨æˆ¶ -r, \u0026ndash;real é¡¯ç¤ºå¯¦éš›ID -u, \u0026ndash;user é¡¯ç¤ºç”¨æˆ¶ID åŸºæœ¬æ“ä½œ é¡¯ç¤ºç•¶å‰ç”¨æˆ¶è¨Šæ¯ id # output uid=1000(alan) gid=1000(alan) groups=1000(alan),996(vboxsf) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 é¡¯ç¤ºç”¨æˆ¶ç¾¤çµ„id id -g # output 1000 é¡¯ç¤ºæŒ‡å®šç”¨æˆ¶è¨Šæ¯ id root ","permalink":"https://sz9751210.github.io/posts/linux-id/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ id ç”¨é€”ï¼šé¡¯ç¤ºç”¨æˆ¶çš„IDï¼Œä»¥åŠæ‰€å±¬ç¾¤çµ„çš„IDã€‚ èªæ³• id [OPTIONS] userName åƒæ•¸ åƒæ•¸ èªªæ˜ -Z, \u0026ndash;context é¡¯ç¤ºç•¶å‰ç”¨æˆ¶çš„å®‰å…¨ä¸Šä¸‹æ–‡ -g, \u0026ndash;group é¡¯ç¤ºæ‰€å±¬ç¾¤çµ„ID -G, \u0026ndash;groups é¡¯ç¤ºæ‰€æœ‰ç¾¤çµ„ID -n, \u0026ndash;name é¡¯ç¤ºç”¨æˆ¶ -r, \u0026ndash;real é¡¯ç¤ºå¯¦éš›ID -u, \u0026ndash;user é¡¯ç¤ºç”¨æˆ¶ID åŸºæœ¬æ“ä½œ é¡¯ç¤ºç•¶å‰ç”¨æˆ¶è¨Šæ¯ id # output uid=1000(alan) gid=1000(alan) groups=1000(alan),996(vboxsf) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 é¡¯ç¤ºç”¨æˆ¶ç¾¤çµ„id id -g # output 1000 é¡¯ç¤ºæŒ‡å®šç”¨æˆ¶è¨Šæ¯ id root ","title":"Linux é¡¯ç¤ºç”¨æˆ¶è³‡è¨Š[id]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ passwd ç”¨é€”ï¼šä¿®æ”¹ä½¿ç”¨è€…å¯†ç¢¼ èªæ³• passwd [OPTIONS] username åƒæ•¸ åƒæ•¸ èªªæ˜ -k, \u0026ndash;keep-tokens ä¿ç•™æœªéæœŸçš„é©—è­‰ token -d, \u0026ndash;delete åˆªé™¤ named å¸³è™Ÿçš„å¯†ç¢¼ (åªæœ‰ root å¯åŸ·è¡Œ) -l, \u0026ndash;lock é–ä½ named å¸³è™Ÿçš„å¯†ç¢¼ (åªæœ‰ root å¯åŸ·è¡Œ) -u, \u0026ndash;unlock è§£é–‹ named å¸³è™Ÿçš„å¯†ç¢¼é–å®š (åªæœ‰ root å¯åŸ·è¡Œ) -e, \u0026ndash;expire è®“ named å¸³è™Ÿçš„å¯†ç¢¼éæœŸ (åªæœ‰ root å¯åŸ·è¡Œ) -f, \u0026ndash;force å¼·åˆ¶ä½œæ¥­ -x, \u0026ndash;maximum=DAYS æœ€å¤§å¯†ç¢¼æœ‰æ•ˆæœŸé™ (åªæœ‰ root å¯åŸ·è¡Œ) -n, \u0026ndash;minimum=DAYS æœ€å°å¯†ç¢¼æœ‰æ•ˆæœŸé™ (åªæœ‰ root å¯åŸ·è¡Œ) -w, \u0026ndash;warning=DAYS ç”¨æˆ¶åœ¨å¯†ç¢¼éæœŸå‰æ”¶åˆ°è­¦å‘Šçš„å¤©æ•¸ (åªæœ‰rootå¯åŸ·è¡Œ) -i, \u0026ndash;inactive=DAYS å¸³è™Ÿåœ¨å¯†ç¢¼éæœŸå¾Œå³å°‡è¢«åœç”¨å‰çš„å¤©æ•¸ (åªæœ‰rootå¯åŸ·è¡Œ) -S, \u0026ndash;status å›å ± named å¸³è™Ÿä¸Šçš„å¯†ç¢¼ç‹€æ…‹ (åªæœ‰ root å¯åŸ·è¡Œ) \u0026ndash;stdin ç”± stdin è®€å–æ–°çš„ token (åªæœ‰ root å¯åŸ·è¡Œ) åŸºæœ¬æ“ä½œ ä¿®æ”¹ä½¿ç”¨è€…å¯†ç¢¼ passwd myuser é¡¯ç¤ºä½¿ç”¨è€…å¯†ç¢¼ç‹€æ…‹ passwd -S myuser # output myuser PS 2021-11-26 0 99999 7 -1 æ¬„ä½ ç¯„ä¾‹ å¸³è™Ÿåç¨± myuser å¯†ç¢¼ç‹€æ…‹ï¼Œç‹€æ…‹åŒ…å«é–å®šå¯†ç¢¼(LK)ã€ç„¡å¯†ç¢¼(NP)èˆ‡å¯ç”¨å¯†ç¢¼(PS) PS ä¸Šæ¬¡ä¿®æ”¹å¯†ç¢¼æ™‚é–“ 2021-11-26 å¯†ç¢¼æœ€çŸ­ä½¿ç”¨æœŸé™ï¼Œå–®ä½ç‚ºå¤© 0 å¯†ç¢¼æœ€é•·ä½¿ç”¨æœŸé™ï¼Œå–®ä½ç‚ºå¤© 99999 å¯†ç¢¼éæœŸå‰è­¦å‘ŠæœŸé–“ï¼Œå–®ä½ç‚ºå¤© 7 å¯†ç¢¼éæœŸå¾Œå¯ä½¿ç”¨çš„æœŸé–“ï¼Œå–®ä½ç‚ºå¤© -1 åˆªé™¤ä½¿ç”¨è€…å¯†ç¢¼ passwd -d myuser è®“å¯†ç¢¼éæœŸï¼Œå¼·åˆ¶ä½¿ç”¨è€…æ›´æ–°å¯†ç¢¼ passwd -e myuser # ä¸‹æ¬¡ç™»å…¥æ™‚ï¼Œå°±æœƒè·³å‡ºé€šçŸ¥èªªè¦æ›´æ”¹å¯†ç¢¼ You are required to change your password immediately (root enforced) WARNING: Your password has expired. You must change your password now and login again! Changing password for user myuser. Changing password for myuser. (current) UNIX password: é–å®šèˆ‡è§£é–ä½¿ç”¨è€…å¯†ç¢¼ passwd -l myuser æ­¤æŒ‡ä»¤æœƒä½¿/etc/shadowçš„ä½¿ç”¨è€…å¯†ç¢¼æ¬„ä½å‰é¢å¤šäº†!!\nè©²ç‹€æ…‹ä¸‹ä½¿ç”¨è€…ç„¡æ³•è®Šæ›´å¸³è™Ÿå¯†ç¢¼\nè¦è§£é™¤é–å®šå¯ç”¨-u\npasswd -u myuser è¨­å®šå¯†ç¢¼æœŸé™ # è‡³å°‘äº”å¤©æ‰èƒ½æ”¹ä¸€æ¬¡å¯†ç¢¼ passwd -n 5 myuser # å¯†ç¢¼æœ€å¤šåªèƒ½ç”¨30å¤© passwd -x 30 myuser # å¿«éæœŸå‰7å¤©é€è­¦å‘Š passwd -w 7 myuser # å¯¬é™æœŸè¨­å®šï¼Œè¶…é5å¤©å°‡ç„¡æ³•å†ç™»å…¥ passwd -i 5 myuser åƒè€ƒè³‡æ–™ Linux passwdå‘½ä»¤ | èœé¸Ÿæ•™ç¨‹ (runoob.com) Linux çš„ passwd æŒ‡ä»¤ç¯„ä¾‹æ•™å­¸ - G. T. Wang (gtwang.org) ","permalink":"https://sz9751210.github.io/posts/linux-passwd/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ passwd ç”¨é€”ï¼šä¿®æ”¹ä½¿ç”¨è€…å¯†ç¢¼ èªæ³• passwd [OPTIONS] username åƒæ•¸ åƒæ•¸ èªªæ˜ -k, \u0026ndash;keep-tokens ä¿ç•™æœªéæœŸçš„é©—è­‰ token -d, \u0026ndash;delete åˆªé™¤ named å¸³è™Ÿçš„å¯†ç¢¼ (åªæœ‰ root å¯åŸ·è¡Œ) -l, \u0026ndash;lock é–ä½ named å¸³è™Ÿçš„å¯†ç¢¼ (åªæœ‰ root å¯åŸ·è¡Œ) -u, \u0026ndash;unlock è§£é–‹ named å¸³è™Ÿçš„å¯†ç¢¼é–å®š (åªæœ‰ root å¯åŸ·è¡Œ) -e, \u0026ndash;expire è®“ named å¸³è™Ÿçš„å¯†ç¢¼éæœŸ (åªæœ‰ root å¯åŸ·è¡Œ) -f, \u0026ndash;force å¼·åˆ¶ä½œæ¥­ -x, \u0026ndash;maximum=DAYS æœ€å¤§å¯†ç¢¼æœ‰æ•ˆæœŸé™ (åªæœ‰ root å¯åŸ·è¡Œ) -n, \u0026ndash;minimum=DAYS æœ€å°å¯†ç¢¼æœ‰æ•ˆæœŸé™ (åªæœ‰ root å¯åŸ·è¡Œ) -w, \u0026ndash;warning=DAYS ç”¨æˆ¶åœ¨å¯†ç¢¼éæœŸå‰æ”¶åˆ°è­¦å‘Šçš„å¤©æ•¸ (åªæœ‰rootå¯åŸ·è¡Œ) -i, \u0026ndash;inactive=DAYS å¸³è™Ÿåœ¨å¯†ç¢¼éæœŸå¾Œå³å°‡è¢«åœç”¨å‰çš„å¤©æ•¸ (åªæœ‰rootå¯åŸ·è¡Œ) -S, \u0026ndash;status å›å ± named å¸³è™Ÿä¸Šçš„å¯†ç¢¼ç‹€æ…‹ (åªæœ‰ root å¯åŸ·è¡Œ) \u0026ndash;stdin ç”± stdin è®€å–æ–°çš„ token (åªæœ‰ root å¯åŸ·è¡Œ) åŸºæœ¬æ“ä½œ ä¿®æ”¹ä½¿ç”¨è€…å¯†ç¢¼ passwd myuser é¡¯ç¤ºä½¿ç”¨è€…å¯†ç¢¼ç‹€æ…‹ passwd -S myuser # output myuser PS 2021-11-26 0 99999 7 -1 æ¬„ä½ ç¯„ä¾‹ å¸³è™Ÿåç¨± myuser å¯†ç¢¼ç‹€æ…‹ï¼Œç‹€æ…‹åŒ…å«é–å®šå¯†ç¢¼(LK)ã€ç„¡å¯†ç¢¼(NP)èˆ‡å¯ç”¨å¯†ç¢¼(PS) PS ä¸Šæ¬¡ä¿®æ”¹å¯†ç¢¼æ™‚é–“ 2021-11-26 å¯†ç¢¼æœ€çŸ­ä½¿ç”¨æœŸé™ï¼Œå–®ä½ç‚ºå¤© 0 å¯†ç¢¼æœ€é•·ä½¿ç”¨æœŸé™ï¼Œå–®ä½ç‚ºå¤© 99999 å¯†ç¢¼éæœŸå‰è­¦å‘ŠæœŸé–“ï¼Œå–®ä½ç‚ºå¤© 7 å¯†ç¢¼éæœŸå¾Œå¯ä½¿ç”¨çš„æœŸé–“ï¼Œå–®ä½ç‚ºå¤© -1 åˆªé™¤ä½¿ç”¨è€…å¯†ç¢¼ passwd -d myuser è®“å¯†ç¢¼éæœŸï¼Œå¼·åˆ¶ä½¿ç”¨è€…æ›´æ–°å¯†ç¢¼ passwd -e myuser # ä¸‹æ¬¡ç™»å…¥æ™‚ï¼Œå°±æœƒè·³å‡ºé€šçŸ¥èªªè¦æ›´æ”¹å¯†ç¢¼ You are required to change your password immediately (root enforced) WARNING: Your password has expired.","title":"Linux ä¿®æ”¹å¯†ç¢¼[passwd]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æœ‰æ™‚å€™ä¿®æ”¹æ›è¼‰çš„configæª”ï¼Œç„¡æ³•å³æ™‚æ›´æ–°ï¼Œéœ€è¦é‡å•Ÿpodæ‰æœƒç”Ÿæ•ˆï¼Œç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œk8s-reloaderå› æ­¤è€Œèª•ç”Ÿï¼Œé€éè§€å¯Ÿæ›è¼‰çš„configmapæˆ–æ˜¯secretçš„è®ŠåŒ–è‡ªå‹•å°æ›è¼‰çš„ç‰©ä»¶åšæ»¾å‹•æ›´æ–°ã€‚\nä»¥ä¸‹ç‚ºåœ¨minikubeç’°å¢ƒä¸‹ï¼Œé€éæ›è¼‰nginx-configæª”ä¸¦æ­é…reloaderé€™å€‹æ’ä»¶é€²è¡Œç†±éƒ¨ç½²ã€‚\nğŸ”—github-repo : stakater/Reloader: A Kubernetes controller to watch changes in ConfigMap and Secrets and do rolling upgrades on Pods with their associated Deployment, StatefulSet, DaemonSet and DeploymentConfig â€“ [âœ©Star] if you\u0026rsquo;re using it! (github.com) ğŸ”°åŸºç¤ä»‹ç´¹ é‹ä½œåŸç† Reloaderåµæ¸¬æ‰€æœ‰è³‡æºè®ŠåŒ–ï¼Œå°æœ‰è®ŠåŒ–çš„è³‡æºä½¿ç”¨SHA1è¨ˆç®—è³‡æºçš„å“ˆè¥¿å€¼ ReloaderæŸ¥çœ‹æ˜¯å¦æœ‰è¨­å®šç›¸é—œçš„annotationï¼Œä¸¦æŸ¥çœ‹æœ‰è¨­å®šannotationè³‡æºçš„ç‰¹æ®Šç’°å¢ƒè®Šé‡ å°æœ‰è¨­å®šannotationçš„è³‡æºæ¯”å°å…¶å“ˆå¸Œå€¼ï¼Œå¦‚æœç’°å¢ƒè®Šé‡ä¸­å“ˆå¸Œå€¼ä¸åŒï¼Œå‰‡æ›´æ–°ç’°å¢ƒè®Šé‡ï¼Œå¦‚æœç’°å¢ƒè®Šé‡ä¸å­˜åœ¨ï¼Œå‰‡å‰µå»ºä¸€å€‹ ç’°å¢ƒè®Šé‡åç¨± ConfigMapï¼šSTAKATER_{configmap_name}_CONFIGMAP ï¼Œæ¯”å¦‚ ConfigMap çš„åç¨±ç‚º fooï¼Œå‰‡ç”Ÿæˆçš„ç’°å¢ƒè®Šé‡çš„åç¨±ç‚ºï¼šSTAKATER_FOO_CONFIGMAPã€‚ Secretï¼šSTAKATER_{secret_name}_SECRET ï¼Œæ¯”å¦‚ Secret çš„åç¨±ç‚º fooï¼Œå‰‡ç”Ÿæˆçš„ç’°å¢ƒè®Šé‡çš„åç¨±ç‚ºï¼šSTAKATER_FOO_SECRETã€‚ ç’°å¢ƒè®Šé‡çš„å€¼ ä½¿ç”¨ SHA1 è¨ˆç®—çš„ ConfigMap æˆ–è€… Secret çš„å“ˆå¸Œå€¼ã€‚\nç‰ˆæœ¬éœ€æ±‚ k8sç‰ˆæœ¬éœ€ \u0026gt;= 1.9\nå®‰è£æ–¹å¼ ä½¿ç”¨Manifestså®‰è£ kubectl apply -f https://raw.githubusercontent.com/stakater/Reloader/master/deployments/kubernetes/reloader.yaml ä½¿ç”¨Kustomizeå®‰è£ kubectl apply -k https://github.com/stakater/Reloader/deployments/kubernetes apiVersion: kustomize.config.k8s.io/v1beta1 kind: Kustomization bases: - https://github.com/stakater/Reloader/deployments/kubernetes namespace: reloader ä½¿ç”¨Helmå®‰è£ helm repo add stakater https://stakater.github.io/stakater-charts helm repo update helm install stakater/reloader # For helm3 add --generate-name flag or set the release name é è¨­æƒ…æ³ä¸‹ï¼Œreloaderæœƒåµæ¸¬æ‰€æœ‰namespaceçš„è³‡æºï¼Œå¦‚æœè¦é‡å°å–®ä¸€namespaceå¯ä½¿ç”¨--set reloader.watchGloballyç‚ºfalseï¼Œä»¥ä¸‹ç¯„ä¾‹ç‚ºå®‰è£åœ¨test namespaceä¸¦åªåµæ¸¬test namespaceåº•ä¸‹çš„è³‡æº\nhelm install stakater/reloader --set reloader.watchGlobally=false --namespace test # For helm3 add --generate-name flag or set the release name ä½¿ç”¨æ–¹å¼ è‡ªå‹•åµæ¸¬æ‰€æœ‰è³‡æº è¨­å®šreloader.stakater.com/auto: \u0026quot;true\u0026quot;\nkind: Deployment metadata: annotations: reloader.stakater.com/auto: \u0026#34;true\u0026#34; spec: template: metadata: é™åˆ¶åªåµæ¸¬æœ‰è¨­å®šannotationsçš„è³‡æº deployè¨­å®šreloader.stakater.com/search: \u0026quot;true\u0026quot;ï¼Œconfigmapç­‰è³‡æºè¨­å®šreloader.stakater.com/match: \u0026quot;true\u0026quot;\nkind: Deployment metadata: annotations: reloader.stakater.com/search: \u0026#34;true\u0026#34; spec: template: --- kind: ConfigMap metadata: annotations: reloader.stakater.com/match: \u0026#34;true\u0026#34; data: key: value reloader.stakater.com/autoèˆ‡reloader.stakater.com/searchä¸èƒ½åŒæ™‚ä½¿ç”¨\nå¦‚æœä½¿ç”¨reloader.stakater.com/autoï¼Œå‰‡reloader.stakater.com/matchä¸ç®¡æœ‰æ²’æœ‰è¨­å®šéƒ½æœƒè¢«åµæ¸¬\nåªåµæ¸¬ç‰¹å®šè³‡æº è³‡æºä½¿ç”¨,åšåˆ†éš”\nConfigmap kind: Deployment metadata: annotations: configmap.reloader.stakater.com/reload: \u0026#34;foo-configmap\u0026#34; spec: template: metadata: Secret kind: Deployment metadata: annotations: secret.reloader.stakater.com/reload: \u0026#34;foo-secret,bar-secret,baz-secret\u0026#34; spec: template: metadata: ğŸ¯setup éƒ¨ç½²reloader kubectl apply -f https://raw.githubusercontent.com/stakater/Reloader/master/deployments/kubernetes/reloader.yaml éƒ¨ç½²nginxæœå‹™\nå»ºç«‹ä»¥ä¸‹æª”æ¡ˆ apiVersion: v1 kind: ConfigMap metadata: name: nginx-map annotations: reloader.stakater.com/match: \u0026#34;true\u0026#34; data: test.conf: | server { listen 80; server_name abc.com; location / { root /usr/share/nginx/html ; index index.html index.htm; } } --- apiVersion: apps/v1 kind: Deployment metadata: name: nginx annotations: configmap.reloader.stakater.com/reload: \u0026#34;nginx-map\u0026#34; spec: replicas: 2 selector: matchLabels: service: http-server template: metadata: labels: service: http-server spec: containers: - name: nginx image: sz9751210/nginx-reloader:v1 imagePullPolicy: IfNotPresent ports: - containerPort: 80 volumeMounts: - mountPath: /etc/nginx/conf.d # mount nginx-conf volumn to /etc/nginx/conf.d readOnly: true name: deployment-nginx-conf volumes: - name: deployment-nginx-conf configMap: name: nginx-map # place ConfigMap `nginx-conf` on /etc/nginx --- apiVersion: v1 kind: Service metadata: name: nginx-service spec: selector: service: http-server ports: - port: 80 targetPort: 80 éƒ¨ç½² kubectl apply -f k8s-reloader-demo.yaml æ‰“é–‹ç€è¦½å™¨æŸ¥çœ‹nginx\nminikube service nginx-service --url é è¨­æ‡‰è©²æœƒé¡¯ç¤ºdefault page\né€™æ™‚å€™å°‡configmapè£¡çš„index.htmlæ”¹æˆindex.html1\né€™æ™‚å€™åˆ·æ–°é é¢å°±æœƒçœ‹åˆ°é¡¯ç¤ºreload pageäº†\nReference stakater/Reloader: A Kubernetes controller to watch changes in ConfigMap and Secrets and do rolling upgrades on Pods with their associated Deployment, StatefulSet, DaemonSet and DeploymentConfig\nã€k8sã€‘ä½¿ç”¨ Reloader å®ç°çƒ­éƒ¨ç½²\nConfigMap Reloader â€” Automatically reload new data from ConfigMap/Secret to deployments | by Navratan Lal Gupta | Linux Shots | Medium\n","permalink":"https://sz9751210.github.io/posts/k8s-reloader/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ æœ‰æ™‚å€™ä¿®æ”¹æ›è¼‰çš„configæª”ï¼Œç„¡æ³•å³æ™‚æ›´æ–°ï¼Œéœ€è¦é‡å•Ÿpodæ‰æœƒç”Ÿæ•ˆï¼Œç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œk8s-reloaderå› æ­¤è€Œèª•ç”Ÿï¼Œé€éè§€å¯Ÿæ›è¼‰çš„configmapæˆ–æ˜¯secretçš„è®ŠåŒ–è‡ªå‹•å°æ›è¼‰çš„ç‰©ä»¶åšæ»¾å‹•æ›´æ–°ã€‚\nä»¥ä¸‹ç‚ºåœ¨minikubeç’°å¢ƒä¸‹ï¼Œé€éæ›è¼‰nginx-configæª”ä¸¦æ­é…reloaderé€™å€‹æ’ä»¶é€²è¡Œç†±éƒ¨ç½²ã€‚\nğŸ”—github-repo : stakater/Reloader: A Kubernetes controller to watch changes in ConfigMap and Secrets and do rolling upgrades on Pods with their associated Deployment, StatefulSet, DaemonSet and DeploymentConfig â€“ [âœ©Star] if you\u0026rsquo;re using it! (github.com) ğŸ”°åŸºç¤ä»‹ç´¹ é‹ä½œåŸç† Reloaderåµæ¸¬æ‰€æœ‰è³‡æºè®ŠåŒ–ï¼Œå°æœ‰è®ŠåŒ–çš„è³‡æºä½¿ç”¨SHA1è¨ˆç®—è³‡æºçš„å“ˆè¥¿å€¼ ReloaderæŸ¥çœ‹æ˜¯å¦æœ‰è¨­å®šç›¸é—œçš„annotationï¼Œä¸¦æŸ¥çœ‹æœ‰è¨­å®šannotationè³‡æºçš„ç‰¹æ®Šç’°å¢ƒè®Šé‡ å°æœ‰è¨­å®šannotationçš„è³‡æºæ¯”å°å…¶å“ˆå¸Œå€¼ï¼Œå¦‚æœç’°å¢ƒè®Šé‡ä¸­å“ˆå¸Œå€¼ä¸åŒï¼Œå‰‡æ›´æ–°ç’°å¢ƒè®Šé‡ï¼Œå¦‚æœç’°å¢ƒè®Šé‡ä¸å­˜åœ¨ï¼Œå‰‡å‰µå»ºä¸€å€‹ ç’°å¢ƒè®Šé‡åç¨± ConfigMapï¼šSTAKATER_{configmap_name}_CONFIGMAP ï¼Œæ¯”å¦‚ ConfigMap çš„åç¨±ç‚º fooï¼Œå‰‡ç”Ÿæˆçš„ç’°å¢ƒè®Šé‡çš„åç¨±ç‚ºï¼šSTAKATER_FOO_CONFIGMAPã€‚ Secretï¼šSTAKATER_{secret_name}_SECRET ï¼Œæ¯”å¦‚ Secret çš„åç¨±ç‚º fooï¼Œå‰‡ç”Ÿæˆçš„ç’°å¢ƒè®Šé‡çš„åç¨±ç‚ºï¼šSTAKATER_FOO_SECRETã€‚ ç’°å¢ƒè®Šé‡çš„å€¼ ä½¿ç”¨ SHA1 è¨ˆç®—çš„ ConfigMap æˆ–è€… Secret çš„å“ˆå¸Œå€¼ã€‚\nç‰ˆæœ¬éœ€æ±‚ k8sç‰ˆæœ¬éœ€ \u0026gt;= 1.9\nå®‰è£æ–¹å¼ ä½¿ç”¨Manifestså®‰è£ kubectl apply -f https://raw.","title":"k8s-reloader"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ timedatectl ç”¨é€”ï¼šä¿®æ”¹ç³»çµ±æ™‚é–“ èªæ³• timedatectl [OPTIONS] command åƒæ•¸ åƒæ•¸ èªªæ˜ \u0026ndash;no-pager ä¸å°‡ç¨‹åºçš„è¼¸å‡ºå…§å®¹ç®¡é“(pipe)çµ¦åˆ†é ç¨‹åº \u0026ndash;no-ask-password åœ¨åŸ·è¡Œç‰¹æ¬Šæ“ä½œæ™‚ä¸å‘ç”¨æˆ¶ç´¢è¦å¯†ç¢¼ã€‚ -H \u0026ndash;host=[USER@]HOST æ“ä½œæŒ‡å®šçš„é ç¨‹ä¸»æ©Ÿ -M \u0026ndash;machine=CONTAINER åœ¨æœ¬åœ°å®¹å™¨å…§åŸ·è¡Œæ“ä½œã€‚ å¿…é ˆæ˜ç¢ºæŒ‡å®šå®¹å™¨çš„åç¨±ã€‚ \u0026ndash;adjust-system-clock ç•¶ä½¿ç”¨set-local-rtcå‘½ä»¤æ™‚ï¼Œè‹¥ä½¿ç”¨äº†æ­¤é¸é …ï¼Œå‰‡è¡¨ç¤ºæ ¹æ“šRTCæ™‚é–“ä¾†æ›´æ–°ç³»çµ±æ™‚é˜ã€‚è‹¥æœªä½¿ç”¨æ­¤é¸é …ï¼Œå‰‡è¡¨ç¤ºæ ¹æ“šç³»çµ±æ™‚é˜ä¾†æ›´æ–°RTCæ™‚é–“ æŒ‡ä»¤ æŒ‡ä»¤ èªªæ˜ status é¡¯ç¤ºç³»çµ±æ™‚é˜èˆ‡RTCçš„ç•¶å‰ç‹€æ…‹ï¼Œ åŒ…æ‹¬æ™‚å€è¨­ç½®èˆ‡ç¶²çµ¡æ™‚é–“åŒæ­¥æœå‹™çš„ç‹€æ…‹ã€‚ set-time TIME å°‡ç³»çµ±æ™‚é˜è¨­çˆ²æŒ‡å®šçš„æ™‚é–“ï¼Œ ä¸¦åŒæ™‚æ›´æ–°RTCæ™‚é–“ã€‚ [TIME] æ˜¯ä¸€å€‹å½¢å¦‚ \u0026ldquo;2012-10-30 18:17:16\u0026quot;çš„æ™‚é–“å­—ç¬¦ä¸²ã€‚ set-timezone ZONE è¨­ç½®ç³»çµ±æ™‚å€ï¼Œä¹Ÿå°±æ˜¯æ›´æ–° /etc/localtime è»Ÿé€£æ¥çš„æŒ‡å‘ã€‚ å¯ä»¥ç”¨ä¸‹é¢çš„ list-timezoneså‘½ä»¤åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ™‚å€ã€‚ å¦‚æœRTCè¢«è¨­çˆ²æœ¬åœ°æ™‚é–“ï¼Œ æ­¤å‘½ä»¤é‚„æœƒåŒæ™‚æ›´æ–°RTCæ™‚é–“ã€‚ list-timezones åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ™‚å€ï¼Œæ¯è¡Œä¸€å€‹ã€‚ åˆ—å‡ºçš„å€¼å¯ä»¥ç”¨ä½œå‰è¿° set-timezone å‘½ä»¤çš„åƒæ•¸ã€‚ set-local-rtc BOOL è¨­çˆ² \u0026ldquo;no\u0026rdquo; è¡¨ç¤ºåœ¨RTCä¸­å­˜å„²UTCæ™‚é–“ï¼› è¨­çˆ² \u0026ldquo;yes\u0026rdquo; è¡¨ç¤ºåœ¨RTCä¸­å­˜å„²æœ¬åœ°æ™‚é–“ã€‚æ‡‰è©²ç›¡ä¸€åˆ‡å¯èƒ½åœ¨RTCä¸­å­˜å„²UTCæ™‚é–“ set-ntp BOOL æ˜¯å¦é–‹å•“ç¶²çµ¡æ™‚é–“åŒæ­¥ã€‚ è¨­çˆ² \u0026ldquo;yes\u0026rdquo; å‰‡å•“ç”¨ä¸¦å•“å‹• systemd-timesyncd.service æœå‹™ï¼Œ è¨­çˆ²\u0026quot;no\u0026rdquo; å‰‡åœæ­¢ä¸¦åœç”¨å®ƒ åŸºæœ¬æ“ä½œ é¡¯ç¤ºç•¶å‰ç³»çµ±æ™‚é–“ timedatectl or timedatectl status é–‹å•Ÿç¶²è·¯æ™‚é–“åŒæ­¥æœå‹™ timedatectl set-ntp true è¨­å®šæ—¥æœŸèˆ‡æ™‚é–“ # æ”¹æ™‚é–“å’Œæ—¥æœŸ timedatectl set-time \u0026#34;2021-11-01 10:10:00\u0026#34; # åªæ”¹æ—¥æœŸ timedatectl set-time \u0026#34;2021-11-01\u0026#34; timedatectl set-time 20211101 # åªæ”¹æ™‚é–“ timedatectl set-time \u0026#34;10:10:00\u0026#34; timedatectl set-time 10:10:00 æª¢æŸ¥æ™‚å€ timedatectl list-timezones # æ ¹æ“šåœ°ç†ä½ç½®æŸ¥çœ‹æ™‚å€ timedatectl list-timezones | grep \u0026#34;Asia/B.*\u0026#34; è¨­å®šæ™‚å€ timedatectl set-timezone \u0026#34;Asia/Taipei\u0026#34; # è¨­å®šç‚ºä¸–ç•Œå”èª¿æ™‚é–“(UTC) timedatectl set-timezone UTC åƒè€ƒè³‡æ–™ Ubuntu Manpage: timedatectl - æ§åˆ¶ç³»çµ±çš„æ™‚é–“èˆ‡æ—¥æœŸ Linux æ‰‹å‹•æ›´æ”¹ç³»çµ±æ™‚é–“ï¼šdateã€hwclock èˆ‡ timedatectl æŒ‡ä»¤ç”¨æ³•æ•™å­¸ - G. T. Wang (gtwang.org) Linuxä¸‹ä½¿ç”¨timedatectlå‘½ä»¤æ™‚é–“æ™‚å€æ“ä½œè©³è§£_osc_02985929 - MdEditor (gushiciku.cn) ç›¸é—œæŒ‡ä»¤ date hwclock ","permalink":"https://sz9751210.github.io/posts/linux-timedatectl/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ timedatectl ç”¨é€”ï¼šä¿®æ”¹ç³»çµ±æ™‚é–“ èªæ³• timedatectl [OPTIONS] command åƒæ•¸ åƒæ•¸ èªªæ˜ \u0026ndash;no-pager ä¸å°‡ç¨‹åºçš„è¼¸å‡ºå…§å®¹ç®¡é“(pipe)çµ¦åˆ†é ç¨‹åº \u0026ndash;no-ask-password åœ¨åŸ·è¡Œç‰¹æ¬Šæ“ä½œæ™‚ä¸å‘ç”¨æˆ¶ç´¢è¦å¯†ç¢¼ã€‚ -H \u0026ndash;host=[USER@]HOST æ“ä½œæŒ‡å®šçš„é ç¨‹ä¸»æ©Ÿ -M \u0026ndash;machine=CONTAINER åœ¨æœ¬åœ°å®¹å™¨å…§åŸ·è¡Œæ“ä½œã€‚ å¿…é ˆæ˜ç¢ºæŒ‡å®šå®¹å™¨çš„åç¨±ã€‚ \u0026ndash;adjust-system-clock ç•¶ä½¿ç”¨set-local-rtcå‘½ä»¤æ™‚ï¼Œè‹¥ä½¿ç”¨äº†æ­¤é¸é …ï¼Œå‰‡è¡¨ç¤ºæ ¹æ“šRTCæ™‚é–“ä¾†æ›´æ–°ç³»çµ±æ™‚é˜ã€‚è‹¥æœªä½¿ç”¨æ­¤é¸é …ï¼Œå‰‡è¡¨ç¤ºæ ¹æ“šç³»çµ±æ™‚é˜ä¾†æ›´æ–°RTCæ™‚é–“ æŒ‡ä»¤ æŒ‡ä»¤ èªªæ˜ status é¡¯ç¤ºç³»çµ±æ™‚é˜èˆ‡RTCçš„ç•¶å‰ç‹€æ…‹ï¼Œ åŒ…æ‹¬æ™‚å€è¨­ç½®èˆ‡ç¶²çµ¡æ™‚é–“åŒæ­¥æœå‹™çš„ç‹€æ…‹ã€‚ set-time TIME å°‡ç³»çµ±æ™‚é˜è¨­çˆ²æŒ‡å®šçš„æ™‚é–“ï¼Œ ä¸¦åŒæ™‚æ›´æ–°RTCæ™‚é–“ã€‚ [TIME] æ˜¯ä¸€å€‹å½¢å¦‚ \u0026ldquo;2012-10-30 18:17:16\u0026quot;çš„æ™‚é–“å­—ç¬¦ä¸²ã€‚ set-timezone ZONE è¨­ç½®ç³»çµ±æ™‚å€ï¼Œä¹Ÿå°±æ˜¯æ›´æ–° /etc/localtime è»Ÿé€£æ¥çš„æŒ‡å‘ã€‚ å¯ä»¥ç”¨ä¸‹é¢çš„ list-timezoneså‘½ä»¤åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ™‚å€ã€‚ å¦‚æœRTCè¢«è¨­çˆ²æœ¬åœ°æ™‚é–“ï¼Œ æ­¤å‘½ä»¤é‚„æœƒåŒæ™‚æ›´æ–°RTCæ™‚é–“ã€‚ list-timezones åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ™‚å€ï¼Œæ¯è¡Œä¸€å€‹ã€‚ åˆ—å‡ºçš„å€¼å¯ä»¥ç”¨ä½œå‰è¿° set-timezone å‘½ä»¤çš„åƒæ•¸ã€‚ set-local-rtc BOOL è¨­çˆ² \u0026ldquo;no\u0026rdquo; è¡¨ç¤ºåœ¨RTCä¸­å­˜å„²UTCæ™‚é–“ï¼› è¨­çˆ² \u0026ldquo;yes\u0026rdquo; è¡¨ç¤ºåœ¨RTCä¸­å­˜å„²æœ¬åœ°æ™‚é–“ã€‚æ‡‰è©²ç›¡ä¸€åˆ‡å¯èƒ½åœ¨RTCä¸­å­˜å„²UTCæ™‚é–“ set-ntp BOOL æ˜¯å¦é–‹å•“ç¶²çµ¡æ™‚é–“åŒæ­¥ã€‚ è¨­çˆ² \u0026ldquo;yes\u0026rdquo; å‰‡å•“ç”¨ä¸¦å•“å‹• systemd-timesyncd.service æœå‹™ï¼Œ è¨­çˆ²\u0026quot;no\u0026rdquo; å‰‡åœæ­¢ä¸¦åœç”¨å®ƒ åŸºæœ¬æ“ä½œ é¡¯ç¤ºç•¶å‰ç³»çµ±æ™‚é–“ timedatectl or timedatectl status é–‹å•Ÿç¶²è·¯æ™‚é–“åŒæ­¥æœå‹™ timedatectl set-ntp true è¨­å®šæ—¥æœŸèˆ‡æ™‚é–“ # æ”¹æ™‚é–“å’Œæ—¥æœŸ timedatectl set-time \u0026#34;2021-11-01 10:10:00\u0026#34; # åªæ”¹æ—¥æœŸ timedatectl set-time \u0026#34;2021-11-01\u0026#34; timedatectl set-time 20211101 # åªæ”¹æ™‚é–“ timedatectl set-time \u0026#34;10:10:00\u0026#34; timedatectl set-time 10:10:00 æª¢æŸ¥æ™‚å€ timedatectl list-timezones # æ ¹æ“šåœ°ç†ä½ç½®æŸ¥çœ‹æ™‚å€ timedatectl list-timezones | grep \u0026#34;Asia/B.","title":"Linux ä¿®æ”¹æ™‚é–“[timedatectl]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ sed(stream editor) ç”¨é€”ï¼šç”¨æ–¼è™•ç†æ–‡ä»¶ï¼Œå­—ä¸²å–ä»£ã€è¤‡è£½ã€åˆªé™¤ç­‰åŠŸèƒ½ï¼Œé€²è¡Œè™•ç†æ™‚ä¸¦ä¸æœƒæ”¹è®Šç•¶å‰çš„æª”æ¡ˆï¼Œè€Œæ˜¯å°‡è™•ç†éç¨‹å­˜æ”¾åœ¨[æ¨¡å¼ç©ºé–“]çš„ç·©è¡å€ï¼ŒçµæŸç›®å‰çš„æŒ‡ä»¤å¾Œè¼¸å‡ºï¼Œæ¥è‘—å†è™•ç†ä¸‹ä¸€å€‹æŒ‡ä»¤ç›´åˆ°çµæŸ èªæ³• sed [OPTIONS] script or inputfile åƒæ•¸(å¸¸ç”¨) åƒæ•¸ èªªæ˜ -n, \u0026ndash;quiet, \u0026ndash;silent æ²ˆé»˜æ¨¡å¼ -e script, \u0026ndash;expression=script ç›´æ¥åœ¨å‘½ä»¤æ¨¡å¼è¨­å®šå¥½scriptä¾†é€²è¡Œç·¨è¼¯ -f scriptæª”æ¡ˆ, \u0026ndash;file=scriptæª”æ¡ˆ ä½¿ç”¨æŒ‡å®šçš„scriptæª”æ¡ˆä¾†é€²è¡Œç·¨è¼¯ -i ä¿®æ”¹æª”æ¡ˆï¼Œå¸¸ç”¨æ–¼è‡ªå‹•åŒ–è…³æœ¬ å‹•ä½œ èªªæ˜ a æ–°å¢ï¼Œåœ¨æŒ‡å®šçš„è¡Œæ•¸çš„ã€Œä¸‹ä¸€è¡Œã€æ’å…¥å­—ä¸²ã€‚æœªæŒ‡å®šè¡Œæ•¸çš„è©±å‰‡æ˜¯åœ¨ã€Œæ¯ä¸€è¡Œã€ä¹‹å¾Œæ’å…¥å­—ä¸² c å–ä»£ï¼Œæ›¿æ›æŒ‡å®šè¡Œæ•¸ç‚ºé æ›¿æ›çš„å­—ä¸² d åˆªé™¤ï¼Œåˆªé™¤æŒ‡å®šçš„è¡Œã€‚å¸¸èˆ‡-ié¸é …æ­é…ï¼Œç”¨ä¾†ä¿®æ”¹æª”æ¡ˆæ™‚ç§»é™¤ä¸éœ€è¦çš„è¡Œ i æ’å…¥ï¼Œèˆ‡aç›¸åŒï¼Œå·®åˆ¥åœ¨æ–¼aæŒ‡ä»¤æ˜¯åœ¨æŒ‡å®šè¡Œæ•¸ä¹‹å¾Œæ’å…¥ï¼Œiæ˜¯åœ¨æŒ‡å®šè¡Œæ•¸ä¹‹å‰æ’å…¥ p åˆ—å°ï¼Œé€šå¸¸æ­é…-né¸é …åšä½¿ç”¨ï¼Œåªåˆ—å°å‡ºå—å½±éŸ¿çš„è¡Œæ•¸ s å–ä»£ï¼Œæ”¯æŒæ­£å‰‡è¡¨é”å¼ï¼Œç”¨ä¾†å–ä»£å­—ä¸² flags èªªæ˜ [0-9] æ•¸å­—è¡¨ç¤ºåªæœå°‹æˆ–è€…å–ä»£ç¬¬ N å€‹æ•¸å­—æ‰€æŒ‡ç¤ºçš„é‚£å€‹æ¨£æ¿å­—ä¸² g å…¨éƒ¨å–ä»£ I å¿½ç•¥å¤§å°å¯« w æŠŠç¬¦åˆçš„çµæœå¯«å…¥æª”æ¡ˆã€‚å’ŒåŠ äº† -n é¸é …æ­é… p æ——æ¨™çš„çµæœä¸€æ¨£ã€‚æ­¤æ——æ¨™å¦‚æœæœ‰å’Œå…¶å®ƒæ——æ¨™æ­é…ä½¿ç”¨ï¼Œå¿…é ˆæ”¾åœ¨æœ€å¾Œé¢ åŸºæœ¬æ“ä½œ åƒæ•¸ æ­é…æ–‡ä»¶sed.txt\nI have a pen, I have an apple Ah Apple pen I have a pen, I have pineapple Ah Pineapple pen Apple pen Pineapple pen Ah Pen Pie Pineapple Apple Pen Pen Pie Pineapple Apple Pen ä½¿ç”¨-næ²ˆé»˜æ¨¡å¼ # ä½¿ç”¨så–ä»£æ¯ä¸€è¡Œç¬¬ä¸€æ¬¡å‡ºç¾çš„haveä¿®æ”¹æˆhad sed -n \u0026#39;s/have/had/1p\u0026#39; sed.txt # é€éæ²ˆé»˜æ¨¡å¼ä¿®æ”¹æ–‡ä»¶ï¼Œé»˜èªä¸æœƒå°å‡ºæ±è¥¿ï¼Œéœ€æ­é…på‰‡æœƒé¡¯ç¤ºæœ‰ä¿®æ”¹çš„è¡Œ ä½¿ç”¨-eè¨­å®šè¦å‰‡ # æŠŠæª”æ¡ˆä¸­æ¯è¡Œç¬¬ä¸€æ¬¡å‡ºç¾çš„çš„penæ›æˆpencilä¸¦å­˜åˆ°sed_output.txtï¼Œ-eç‚ºé»˜èªé¸é …ï¼Œå¯åŠ å¯ä¸åŠ  sed -e \u0026#39;s/pen/pencil/\u0026#39; sed.txt \u0026gt; sed_output.txt # å¤šæ¢ä»¶æ–¹å¼ï¼Œæœ‰-eä¸éœ€è¦åˆ†è™Ÿåˆ†éš”ï¼Œç„¡-eå‰‡éœ€è¦åšåˆ†éš” sed -e \u0026#39;s/pen/pencil/\u0026#39; -e \u0026#39;s/have/had/\u0026#39; sed.txt sed \u0026#39;s/pen/pencil/; s/have/had/\u0026#39; sed.txt ä½¿ç”¨-fæŒ‡å®šscriptæª”æ¡ˆé€²è¡Œä¿®æ”¹ å‡è¨­æœ‰å€‹scriptæª”æ¡ˆsed_command.txtå¦‚ä¸‹\ns/pen/pencil/ s/have/had/ # å°‡æ¯ä¸€è¡Œç¬¬ä¸€æ¬¡å‡ºç¾çš„penä»¥åŠhaveåšæ›¿æ› sed -f sed_command.txt sed.txt ä½¿ç”¨-iç›´æ¥ä¿®æ”¹æª”æ¡ˆ sed -i \u0026#39;s/pen/pencil/\u0026#39; sed.txt å‹•ä½œ ä½¿ç”¨aæ–°å¢å­—ä¸² # åœ¨ç¬¬ä¸€è¡Œä¹‹å¾Œæ–°å¢å­—ä¸² sed \u0026#39;1a I have both\u0026#39; sed.txt # å¤šè¡Œæ–°å¢ï¼Œåœ¨ç¬¬ä¸€è¡Œåˆ°ç¬¬å››è¡Œé€™å››è¡Œçš„å¾Œé¢éƒ½æ–°å¢å­—ä¸² sed \u0026#39;1,4a I have both\u0026#39; sed.txt ä½¿ç”¨cåšå­—ä¸²æ›¿æ› # å–ä»£ç¬¬äºŒè¡Œï¼Œæ”¹ç‚ºI have both sed \u0026#39;2c I have both\u0026#39; sed.txt # å¤šè¡Œå–ä»£ï¼Œå°‡1åˆ°5è¡Œå£“ç¸®ç‚ºä¸€è¡Œä¸¦æ”¹ç‚ºå­—ä¸² sed \u0026#39;1,5c I have both\u0026#39; sed.txt ä½¿ç”¨dé€²è¡Œåˆªé™¤æŒ‡å®šè¡Œæˆ–å­—ä¸²è¡Œ # åˆªé™¤ç¬¬ä¸€è¡Œ sed 1d sed.txt # åˆªé™¤ä¸€åˆ°äº”è¡Œ sed 1,5d sed.txt # åˆªé™¤penå‡ºç¾çš„è¡Œ sed \u0026#39;/pen/d\u0026#39; sed.txt ä½¿ç”¨ié€²è¡Œæ’å…¥ # åœ¨ç¬¬ä¸€è¡Œä¹‹å‰æ’å…¥å­—ä¸² sed \u0026#39;1i I have both\u0026#39; sed.txt # åœ¨ç¬¬ä¸€åˆ°ç¬¬ä¸‰è¡Œçš„æ¯è¡Œä¹‹å‰æ’å…¥å­—ä¸² sed \u0026#39;1,3i I have both\u0026#39; sed.txt ä½¿ç”¨pé€²è¡Œåˆ—å°å‡ºå½±éŸ¿è¡Œï¼Œé€šå¸¸é…åˆ-né¸é …æ­é…ä½¿ç”¨ # å°‡haveå–ä»£ç‚ºhadä¸¦åˆ—å°å‡ºä¾† sed -n \u0026#39;s/have/had/1p\u0026#39; sed.txt ä½¿ç”¨såšå­—ä¸²å–ä»£ èªæ³•æ ¼å¼\ns/regexp/replacement/[flags] åƒè€ƒè³‡æ–™ sed, a stream editor (gnu.org) Linux sed å‘½ä»¤ | èœé¸Ÿæ•™ç¨‹ (runoob.com) åœ¨ Linux å‘½ä»¤åˆ—ä¸­è½‰æ›å¤§å°å¯« | ITäºº (iter01.com) Linux æŒ‡ä»¤ SED ç”¨æ³•æ•™å­¸ã€å–ä»£ç¯„ä¾‹ã€è©³è§£ - TerryL Linux sed å­—ä¸²å–ä»£ç”¨æ³•èˆ‡ç¯„ä¾‹ | ShengYu Talk (shengyu7697.github.io) ","permalink":"https://sz9751210.github.io/posts/linux-sed/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ sed(stream editor) ç”¨é€”ï¼šç”¨æ–¼è™•ç†æ–‡ä»¶ï¼Œå­—ä¸²å–ä»£ã€è¤‡è£½ã€åˆªé™¤ç­‰åŠŸèƒ½ï¼Œé€²è¡Œè™•ç†æ™‚ä¸¦ä¸æœƒæ”¹è®Šç•¶å‰çš„æª”æ¡ˆï¼Œè€Œæ˜¯å°‡è™•ç†éç¨‹å­˜æ”¾åœ¨[æ¨¡å¼ç©ºé–“]çš„ç·©è¡å€ï¼ŒçµæŸç›®å‰çš„æŒ‡ä»¤å¾Œè¼¸å‡ºï¼Œæ¥è‘—å†è™•ç†ä¸‹ä¸€å€‹æŒ‡ä»¤ç›´åˆ°çµæŸ èªæ³• sed [OPTIONS] script or inputfile åƒæ•¸(å¸¸ç”¨) åƒæ•¸ èªªæ˜ -n, \u0026ndash;quiet, \u0026ndash;silent æ²ˆé»˜æ¨¡å¼ -e script, \u0026ndash;expression=script ç›´æ¥åœ¨å‘½ä»¤æ¨¡å¼è¨­å®šå¥½scriptä¾†é€²è¡Œç·¨è¼¯ -f scriptæª”æ¡ˆ, \u0026ndash;file=scriptæª”æ¡ˆ ä½¿ç”¨æŒ‡å®šçš„scriptæª”æ¡ˆä¾†é€²è¡Œç·¨è¼¯ -i ä¿®æ”¹æª”æ¡ˆï¼Œå¸¸ç”¨æ–¼è‡ªå‹•åŒ–è…³æœ¬ å‹•ä½œ èªªæ˜ a æ–°å¢ï¼Œåœ¨æŒ‡å®šçš„è¡Œæ•¸çš„ã€Œä¸‹ä¸€è¡Œã€æ’å…¥å­—ä¸²ã€‚æœªæŒ‡å®šè¡Œæ•¸çš„è©±å‰‡æ˜¯åœ¨ã€Œæ¯ä¸€è¡Œã€ä¹‹å¾Œæ’å…¥å­—ä¸² c å–ä»£ï¼Œæ›¿æ›æŒ‡å®šè¡Œæ•¸ç‚ºé æ›¿æ›çš„å­—ä¸² d åˆªé™¤ï¼Œåˆªé™¤æŒ‡å®šçš„è¡Œã€‚å¸¸èˆ‡-ié¸é …æ­é…ï¼Œç”¨ä¾†ä¿®æ”¹æª”æ¡ˆæ™‚ç§»é™¤ä¸éœ€è¦çš„è¡Œ i æ’å…¥ï¼Œèˆ‡aç›¸åŒï¼Œå·®åˆ¥åœ¨æ–¼aæŒ‡ä»¤æ˜¯åœ¨æŒ‡å®šè¡Œæ•¸ä¹‹å¾Œæ’å…¥ï¼Œiæ˜¯åœ¨æŒ‡å®šè¡Œæ•¸ä¹‹å‰æ’å…¥ p åˆ—å°ï¼Œé€šå¸¸æ­é…-né¸é …åšä½¿ç”¨ï¼Œåªåˆ—å°å‡ºå—å½±éŸ¿çš„è¡Œæ•¸ s å–ä»£ï¼Œæ”¯æŒæ­£å‰‡è¡¨é”å¼ï¼Œç”¨ä¾†å–ä»£å­—ä¸² flags èªªæ˜ [0-9] æ•¸å­—è¡¨ç¤ºåªæœå°‹æˆ–è€…å–ä»£ç¬¬ N å€‹æ•¸å­—æ‰€æŒ‡ç¤ºçš„é‚£å€‹æ¨£æ¿å­—ä¸² g å…¨éƒ¨å–ä»£ I å¿½ç•¥å¤§å°å¯« w æŠŠç¬¦åˆçš„çµæœå¯«å…¥æª”æ¡ˆã€‚å’ŒåŠ äº† -n é¸é …æ­é… p æ——æ¨™çš„çµæœä¸€æ¨£ã€‚æ­¤æ——æ¨™å¦‚æœæœ‰å’Œå…¶å®ƒæ——æ¨™æ­é…ä½¿ç”¨ï¼Œå¿…é ˆæ”¾åœ¨æœ€å¾Œé¢ åŸºæœ¬æ“ä½œ åƒæ•¸ æ­é…æ–‡ä»¶sed.txt\nI have a pen, I have an apple Ah Apple pen I have a pen, I have pineapple Ah Pineapple pen Apple pen Pineapple pen Ah Pen Pie Pineapple Apple Pen Pen Pie Pineapple Apple Pen ä½¿ç”¨-næ²ˆé»˜æ¨¡å¼ # ä½¿ç”¨så–ä»£æ¯ä¸€è¡Œç¬¬ä¸€æ¬¡å‡ºç¾çš„haveä¿®æ”¹æˆhad sed -n \u0026#39;s/have/had/1p\u0026#39; sed.","title":"Linux ä¿®æ”¹å­—ä¸²[sed]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ grep ç”¨é€”ï¼šæŸ¥æ‰¾æ–‡ä»¶å…§ç¬¦åˆæ¢ä»¶çš„å­—ç¬¦ä¸² èªæ³• grep [-abcEFGhHilLnqrsvVwxy][-A\u0026lt;é¡¯ç¤ºè¡Œæ•¸\u0026gt;][-B\u0026lt;é¡¯ç¤ºåˆ—æ•¸\u0026gt;][-C\u0026lt;é¡¯ç¤ºåˆ—æ•¸\u0026gt;][-d\u0026lt;é€²è¡Œå‹•ä½œ\u0026gt;][-e\u0026lt;ç¯„æœ¬æ¨£å¼\u0026gt;][-f\u0026lt;ç¯„æœ¬æ–‡ä»¶\u0026gt;][--help][ç¯„æœ¬æ¨£å¼][æ–‡ä»¶æˆ–ç›®éŒ„...] åƒæ•¸ æ­£è¦è¡¨ç¤ºå¼é¸é … èªªæ˜ -E, \u0026ndash;extended-regexp ä½¿ç”¨æ“´å±•æ­£å‰‡è¡¨é”å¼ -F, \u0026ndash;fixed-strings å°‡æ¨£å¼è¦–ç‚ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ -G, \u0026ndash;basic-regexp å°‡æ¨£å¼è¦–ç‚ºæ™®é€šçš„è¡¨ç¤ºæ³•ä¾†ä½¿ç”¨ -P, \u0026ndash;perl-regexp å°‡æ¨£å¼è¦–ç‚ºperlçš„è¡¨ç¤ºæ³•ä¾†ä½¿ç”¨ -e, \u0026ndash;regexp=PATTERN æŒ‡å®šå­—ç¬¦ä¸²åšç‚ºæŸ¥æ‰¾æ–‡ä»¶å…§å®¹çš„æ¨£å¼ -f, \u0026ndash;file=FILE æŒ‡å®šè¦å‰‡æ–‡ä»¶ï¼Œå…¶å…§å®¹å«æœ‰ä¸€å€‹æˆ–å¤šå€‹è¦å‰‡æ¨£å¼ï¼Œè®“grepæŸ¥æ‰¾ç¬¦åˆè¦å‰‡æ¢ä»¶çš„æ–‡ä»¶å…§å®¹ï¼Œæ ¼å¼ç‚ºæ¯è¡Œä¸€å€‹è¦å‰‡æ¨£å¼ -i, \u0026ndash;ignore-case å¿½ç•¥å¤§å°å¯«çš„å·®ç•° -w, \u0026ndash;word-regexp åªåŒ¹é…æ•´å€‹å–®è©ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ† -x, \u0026ndash;line-regexp åªé¡¯ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ— -z, \u0026ndash;null-data è¨­å®šè³‡æ–™åˆ—çµå°¾ç‚ºç©ºç™½ä½å…ƒçµ„ï¼Œéæ›åˆ—ç¬¦è™Ÿ -s, \u0026ndash;no-messages ä¸é¡¯ç¤ºä¸å­˜åœ¨æˆ–ç„¡åŒ¹é…æ–‡æœ¬çš„éŒ¯èª¤ä¿¡æ¯ -v, \u0026ndash;invert-match å°‡åŒ¹é…çš„è³‡æ–™æ’é™¤ åƒæ•¸ èªªæ˜ -m, \u0026ndash;max-count=NUM åœ¨é”åˆ° NUM ç¬¦åˆé …ç›®å¾Œåœæ­¢ -b, \u0026ndash;byte-offset åœ¨é¡¯ç¤ºç¬¦åˆæ¨£å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œæ¨™ç¤ºå‡ºè©²è¡Œç¬¬ä¸€å€‹å­—ç¬¦çš„ç·¨è™Ÿ -n, \u0026ndash;line-number æ¨™ç¤ºåŒ¹é…æ–‡å­—çš„è¡Œè™Ÿ \u0026ndash;line-buffered è¼¸å‡ºæ¯åˆ—å¾Œæ¸…é™¤è¼¸å‡º -H, \u0026ndash;with-filename å°å‡ºæ¯å€‹ç¬¦åˆé …ç›®çš„æª”å -h, \u0026ndash;no-filename æŸ¥è©¢å¤šæ–‡ä»¶æ™‚ä¸é¡¯ç¤ºæ–‡ä»¶å \u0026ndash;label=LABEL ä»¥ LABEL ä½œæ¨™æº–è¼¸å…¥çš„æª”åå‰ç¶´ -o, \u0026ndash;only-matching åªé¡¯ç¤ºæ¯åˆ—ä¸­ç¬¦åˆ PATTERN çš„éƒ¨åˆ† -q, \u0026ndash;quiet, \u0026ndash;silent ä¸é¡¯ç¤ºä»»ä½•ä¿¡æ¯ \u0026ndash;binary-files=TYPE è¨­å®šäºŒé€²åˆ¶æª”æ¡ˆç‚º TYPE çš„æª”æ¡ˆ;TYPE ç‚º \u0026ldquo;binary\u0026rdquo;ã€\u0026ldquo;text\u0026rdquo; æˆ– \u0026ldquo;without-match\u0026rdquo; -a, \u0026ndash;text ä¸è¦å¿½ç•¥äºŒé€²åˆ¶çš„æ•¸æ“š -I ä¸åŒ¹é…äºŒé€²åˆ¶çš„æ±è¥¿ -d, \u0026ndash;directories=ACTION ç›®éŒ„æ“ä½œçš„å‹•ä½œï¼Œè®€å–ã€éæ­¸ã€è·³é -D, \u0026ndash;devices=ACTION è¨­ç½®å°è¨­å‚™çš„å‹•ä½œï¼ŒFIFOå’Œç®¡é“çš„æ“ä½œï¼Œå‹•ä½œæœ‰ï¼Œè®€å–ã€è·³é -r, \u0026ndash;recursive åœ¨æŒ‡å®šç›®éŒ„èˆ‡å…¶å­ç›®éŒ„ä¸‹æ‰€æœ‰çš„æª”æ¡ˆä¸­ï¼Œæœå°‹æŒ‡å®šçš„é—œéµå­— -R, \u0026ndash;dereference-recursive èˆ‡-rç›¸åŒï¼Œä½†éµå¾ªè»Ÿé€£çµ \u0026ndash;include=FILE_PATTERN å¾ç‰¹å®šçš„æª”æ¡ˆä¸­å°‹æ‰¾é—œéµå­— \u0026ndash;exclude=FILE_PATTERN è·³éåŒ¹é…FILE_PATTERN çš„æ–‡ä»¶å’Œç›®éŒ„ \u0026ndash;exclude-from=FILE è·³éæ‰€æœ‰é™¤FILE ä»¥å¤–çš„æ–‡ä»¶ \u0026ndash;exclude-dir=PATTERN è·³éåŒ¹é…PATTERN çš„ç›®éŒ„ -L, \u0026ndash;files-without-match åˆ—å‡ºä¸åŒ¹é…çš„æ–‡ä»¶å -l, \u0026ndash;files-with-matches åªåˆ—å‡ºåŒ¹é…çš„æ–‡ä»¶å -c, \u0026ndash;count åªè¼¸å‡ºåŒ¹é…è¡Œçš„è¨ˆæ•¸ -Z, \u0026ndash;null åœ¨æœå°‹çš„å­—ä¸²å¾Œé¢å°å‡ºç©ºå­—ç¬¦ å…§å®¹æ§åˆ¶ èªªæ˜ -B, \u0026ndash;before-context=NUM é¡¯ç¤ºå‰å¹¾è¡Œ -A, \u0026ndash;after-context=NUM é¡¯ç¤ºå¾Œå¹¾è¡Œ -C, \u0026ndash;context=NUM, -NUM é¡¯ç¤ºå‰å¾Œå„å¹¾è¡Œ \u0026ndash;group-separator=SEP ä½¿ç”¨Aã€-Bæˆ–-Cæ™‚ï¼Œåœ¨çµ„ä¹‹é–“æ‰“å°SEPè€Œä¸æ˜¯\u0026ndash;ç·š \u0026ndash;no-group-separator ä½¿ç”¨Aã€-Bæˆ–-Cæ™‚ï¼Œåœ¨çµ„ä¹‹é–“ä¸æ‰“å°seperator \u0026ndash;color[=WHEN],\u0026ndash;colour[=WHEN] ä½¿ç”¨é¡è‰²æ¨™ç¤ºçš„æ–¹å¼ï¼Œå°‡æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æ–‡å­—æ¨™ç¤ºå‡ºä¾†ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…é–±è®€ã€‚é¡è‰²æ¨™ç¤ºåŠŸèƒ½å¯ä»¥é€é --color=neverã€--color=alwaysã€--color=auto é€™å¹¾ç¨®åƒæ•¸ä¾†é—œé–‰ã€é–‹å•Ÿæˆ–è¨­ç‚ºè‡ªå‹• -U, \u0026ndash;binary ä½¿ç”¨æ¨™èªŒé«˜äº®åŒ¹é…å­—ä¸² -u, \u0026ndash;unix-byte-offsets ä½¿ç”¨æ¨™èªŒé«˜äº®åŒ¹é…å­—ä¸² åŸºæœ¬æ“ä½œ æŒ‡å®šæ–‡ä»¶æŸ¥è©¢é—œéµå­— # åœ¨fileé€™å€‹æ–‡ä»¶è£¡å°‹æ‰¾testé—œéµå­— grep test file é€éåŒ¹é…æ–¹å¼æœå°‹ # åœ¨/etc/ç›®éŒ„ä¸‹æ‰€æœ‰.confæª”æœå°‹linuxé—œéµå­— grep linux /etc/*.conf ä¸åˆ†å¤§å°å¯«æœå°‹ # åœ¨ç•¶å‰ç›®éŒ„åº•ä¸‹æœå°‹linuxé—œéµå­— grep -i linux . åå‘åŒ¹é… # åœ¨ç•¶å‰ç›®éŒ„ä¸‹ï¼Œé¡¯ç¤ºä¸åŒ…å«linuxçš„è¡Œ grep -v linux . é¡¯ç¤ºè¡Œè™Ÿ grep -n linux . éè¿´æœå°‹æª”æ¡ˆ # åœ¨ç•¶å‰ç›®éŒ„åŠå…¶å­ç›®éŒ„ä¸‹ï¼Œæœå°‹linuxé—œéµå­— grep -r linux . # åœ¨ç•¶å‰ç›®éŒ„åŠå…¶å­ç›®éŒ„ä¸‹ï¼Œä¸¦ä¸”æª”åç‚ºlogçµå°¾çš„æ–‡ä»¶ï¼Œæœå°‹linuxé—œéµå­— grep -r --include=\u0026#34;*.log\u0026#34; linux . ä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ grep linux . 2\u0026gt;/dev/null é¡¯ç¤ºå‰å¾Œå¹¾è¡Œ # å¤šé¡¯ç¤ºå¾Œä¸€è¡Œ grep -A 1 linux . # å¤šé¡¯ç¤ºå‰ä¸€è¡Œ grep -B 1 linux . # å¤šé¡¯ç¤ºå‰å¾Œå„ä¸€è¡Œ grep -C 1 linux . å¯¦ç”¨ç¯„ä¾‹ # ä¾ç…§æ™‚é–“æ’åºä¸¦è¨ˆç®—å“ªå€‹æ™‚é–“logæ•¸é‡æœ€å¤š grep -oP \u0026#39;2021:[0-2][0-9]:[0-5][0-9]\u0026#39;| sort | uniq -c åƒè€ƒè³‡æ–™ grep linux å‘½ä»¤ åœ¨çº¿ä¸­æ–‡æ‰‹å†Œ (51yip.com) grep(1) - Linux manual page (man7.org) Linux åŒ¹é…æ–‡å­— grep æŒ‡ä»¤ç”¨æ³•æ•™å­¸èˆ‡ç¯„ä¾‹ - G. T. Wang (gtwang.org) ","permalink":"https://sz9751210.github.io/posts/linux-grep/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ grep ç”¨é€”ï¼šæŸ¥æ‰¾æ–‡ä»¶å…§ç¬¦åˆæ¢ä»¶çš„å­—ç¬¦ä¸² èªæ³• grep [-abcEFGhHilLnqrsvVwxy][-A\u0026lt;é¡¯ç¤ºè¡Œæ•¸\u0026gt;][-B\u0026lt;é¡¯ç¤ºåˆ—æ•¸\u0026gt;][-C\u0026lt;é¡¯ç¤ºåˆ—æ•¸\u0026gt;][-d\u0026lt;é€²è¡Œå‹•ä½œ\u0026gt;][-e\u0026lt;ç¯„æœ¬æ¨£å¼\u0026gt;][-f\u0026lt;ç¯„æœ¬æ–‡ä»¶\u0026gt;][--help][ç¯„æœ¬æ¨£å¼][æ–‡ä»¶æˆ–ç›®éŒ„...] åƒæ•¸ æ­£è¦è¡¨ç¤ºå¼é¸é … èªªæ˜ -E, \u0026ndash;extended-regexp ä½¿ç”¨æ“´å±•æ­£å‰‡è¡¨é”å¼ -F, \u0026ndash;fixed-strings å°‡æ¨£å¼è¦–ç‚ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨ -G, \u0026ndash;basic-regexp å°‡æ¨£å¼è¦–ç‚ºæ™®é€šçš„è¡¨ç¤ºæ³•ä¾†ä½¿ç”¨ -P, \u0026ndash;perl-regexp å°‡æ¨£å¼è¦–ç‚ºperlçš„è¡¨ç¤ºæ³•ä¾†ä½¿ç”¨ -e, \u0026ndash;regexp=PATTERN æŒ‡å®šå­—ç¬¦ä¸²åšç‚ºæŸ¥æ‰¾æ–‡ä»¶å…§å®¹çš„æ¨£å¼ -f, \u0026ndash;file=FILE æŒ‡å®šè¦å‰‡æ–‡ä»¶ï¼Œå…¶å…§å®¹å«æœ‰ä¸€å€‹æˆ–å¤šå€‹è¦å‰‡æ¨£å¼ï¼Œè®“grepæŸ¥æ‰¾ç¬¦åˆè¦å‰‡æ¢ä»¶çš„æ–‡ä»¶å…§å®¹ï¼Œæ ¼å¼ç‚ºæ¯è¡Œä¸€å€‹è¦å‰‡æ¨£å¼ -i, \u0026ndash;ignore-case å¿½ç•¥å¤§å°å¯«çš„å·®ç•° -w, \u0026ndash;word-regexp åªåŒ¹é…æ•´å€‹å–®è©ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ† -x, \u0026ndash;line-regexp åªé¡¯ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ— -z, \u0026ndash;null-data è¨­å®šè³‡æ–™åˆ—çµå°¾ç‚ºç©ºç™½ä½å…ƒçµ„ï¼Œéæ›åˆ—ç¬¦è™Ÿ -s, \u0026ndash;no-messages ä¸é¡¯ç¤ºä¸å­˜åœ¨æˆ–ç„¡åŒ¹é…æ–‡æœ¬çš„éŒ¯èª¤ä¿¡æ¯ -v, \u0026ndash;invert-match å°‡åŒ¹é…çš„è³‡æ–™æ’é™¤ åƒæ•¸ èªªæ˜ -m, \u0026ndash;max-count=NUM åœ¨é”åˆ° NUM ç¬¦åˆé …ç›®å¾Œåœæ­¢ -b, \u0026ndash;byte-offset åœ¨é¡¯ç¤ºç¬¦åˆæ¨£å¼çš„é‚£ä¸€è¡Œä¹‹å‰ï¼Œæ¨™ç¤ºå‡ºè©²è¡Œç¬¬ä¸€å€‹å­—ç¬¦çš„ç·¨è™Ÿ -n, \u0026ndash;line-number æ¨™ç¤ºåŒ¹é…æ–‡å­—çš„è¡Œè™Ÿ \u0026ndash;line-buffered è¼¸å‡ºæ¯åˆ—å¾Œæ¸…é™¤è¼¸å‡º -H, \u0026ndash;with-filename å°å‡ºæ¯å€‹ç¬¦åˆé …ç›®çš„æª”å -h, \u0026ndash;no-filename æŸ¥è©¢å¤šæ–‡ä»¶æ™‚ä¸é¡¯ç¤ºæ–‡ä»¶å \u0026ndash;label=LABEL ä»¥ LABEL ä½œæ¨™æº–è¼¸å…¥çš„æª”åå‰ç¶´ -o, \u0026ndash;only-matching åªé¡¯ç¤ºæ¯åˆ—ä¸­ç¬¦åˆ PATTERN çš„éƒ¨åˆ† -q, \u0026ndash;quiet, \u0026ndash;silent ä¸é¡¯ç¤ºä»»ä½•ä¿¡æ¯ \u0026ndash;binary-files=TYPE è¨­å®šäºŒé€²åˆ¶æª”æ¡ˆç‚º TYPE çš„æª”æ¡ˆ;TYPE ç‚º \u0026ldquo;binary\u0026rdquo;ã€\u0026ldquo;text\u0026rdquo; æˆ– \u0026ldquo;without-match\u0026rdquo; -a, \u0026ndash;text ä¸è¦å¿½ç•¥äºŒé€²åˆ¶çš„æ•¸æ“š -I ä¸åŒ¹é…äºŒé€²åˆ¶çš„æ±è¥¿ -d, \u0026ndash;directories=ACTION ç›®éŒ„æ“ä½œçš„å‹•ä½œï¼Œè®€å–ã€éæ­¸ã€è·³é -D, \u0026ndash;devices=ACTION è¨­ç½®å°è¨­å‚™çš„å‹•ä½œï¼ŒFIFOå’Œç®¡é“çš„æ“ä½œï¼Œå‹•ä½œæœ‰ï¼Œè®€å–ã€è·³é -r, \u0026ndash;recursive åœ¨æŒ‡å®šç›®éŒ„èˆ‡å…¶å­ç›®éŒ„ä¸‹æ‰€æœ‰çš„æª”æ¡ˆä¸­ï¼Œæœå°‹æŒ‡å®šçš„é—œéµå­— -R, \u0026ndash;dereference-recursive èˆ‡-rç›¸åŒï¼Œä½†éµå¾ªè»Ÿé€£çµ \u0026ndash;include=FILE_PATTERN å¾ç‰¹å®šçš„æª”æ¡ˆä¸­å°‹æ‰¾é—œéµå­— \u0026ndash;exclude=FILE_PATTERN è·³éåŒ¹é…FILE_PATTERN çš„æ–‡ä»¶å’Œç›®éŒ„ \u0026ndash;exclude-from=FILE è·³éæ‰€æœ‰é™¤FILE ä»¥å¤–çš„æ–‡ä»¶ \u0026ndash;exclude-dir=PATTERN è·³éåŒ¹é…PATTERN çš„ç›®éŒ„ -L, \u0026ndash;files-without-match åˆ—å‡ºä¸åŒ¹é…çš„æ–‡ä»¶å -l, \u0026ndash;files-with-matches åªåˆ—å‡ºåŒ¹é…çš„æ–‡ä»¶å -c, \u0026ndash;count åªè¼¸å‡ºåŒ¹é…è¡Œçš„è¨ˆæ•¸ -Z, \u0026ndash;null åœ¨æœå°‹çš„å­—ä¸²å¾Œé¢å°å‡ºç©ºå­—ç¬¦ å…§å®¹æ§åˆ¶ èªªæ˜ -B, \u0026ndash;before-context=NUM é¡¯ç¤ºå‰å¹¾è¡Œ -A, \u0026ndash;after-context=NUM é¡¯ç¤ºå¾Œå¹¾è¡Œ -C, \u0026ndash;context=NUM, -NUM é¡¯ç¤ºå‰å¾Œå„å¹¾è¡Œ \u0026ndash;group-separator=SEP ä½¿ç”¨Aã€-Bæˆ–-Cæ™‚ï¼Œåœ¨çµ„ä¹‹é–“æ‰“å°SEPè€Œä¸æ˜¯\u0026ndash;ç·š \u0026ndash;no-group-separator ä½¿ç”¨Aã€-Bæˆ–-Cæ™‚ï¼Œåœ¨çµ„ä¹‹é–“ä¸æ‰“å°seperator \u0026ndash;color[=WHEN],\u0026ndash;colour[=WHEN] ä½¿ç”¨é¡è‰²æ¨™ç¤ºçš„æ–¹å¼ï¼Œå°‡æˆåŠŸåŒ¹é…çš„éƒ¨åˆ†æ–‡å­—æ¨™ç¤ºå‡ºä¾†ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…é–±è®€ã€‚é¡è‰²æ¨™ç¤ºåŠŸèƒ½å¯ä»¥é€é --color=neverã€--color=alwaysã€--color=auto é€™å¹¾ç¨®åƒæ•¸ä¾†é—œé–‰ã€é–‹å•Ÿæˆ–è¨­ç‚ºè‡ªå‹• -U, \u0026ndash;binary ä½¿ç”¨æ¨™èªŒé«˜äº®åŒ¹é…å­—ä¸² -u, \u0026ndash;unix-byte-offsets ä½¿ç”¨æ¨™èªŒé«˜äº®åŒ¹é…å­—ä¸² åŸºæœ¬æ“ä½œ æŒ‡å®šæ–‡ä»¶æŸ¥è©¢é—œéµå­— # åœ¨fileé€™å€‹æ–‡ä»¶è£¡å°‹æ‰¾testé—œéµå­— grep test file é€éåŒ¹é…æ–¹å¼æœå°‹ # åœ¨/etc/ç›®éŒ„ä¸‹æ‰€æœ‰.","title":"Linux ç¯©é¸å­—ä¸²[grep]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ rsync ç”¨é€”ï¼šç”¨ä¾†è¤‡è£½èˆ‡å‚™ä»½æª”æ¡ˆçš„å·¥å…·ï¼Œå®ƒå¯ä»¥è™•ç†æœ¬æ©Ÿæˆ–é ç«¯çš„æª”æ¡ˆåŒæ­¥å·¥ä½œ èªæ³• rsync [OPTIONS] src [dest/user@host:dest] åƒæ•¸ åƒæ•¸ èªªæ˜ -v, \u0026ndash;verbose verbose æ¨¡å¼ï¼Œè¼¸å‡ºæ¯”è¼ƒè©³ç´°çš„è¨Šæ¯ -r, \u0026ndash;recursive éè¿´ï¼ˆrecursiveï¼‰å‚™ä»½æ‰€æœ‰å­ç›®éŒ„ä¸‹çš„ç›®éŒ„èˆ‡æª”æ¡ˆ -a, \u0026ndash;archive å°è£å‚™ä»½æ¨¡å¼ï¼Œç›¸ç•¶æ–¼ -rlptgoDï¼Œéè¿´å‚™ä»½æ‰€æœ‰å­ç›®éŒ„ä¸‹çš„ç›®éŒ„èˆ‡æª”æ¡ˆï¼Œä¿ç•™é€£çµæª”ã€æª”æ¡ˆçš„æ“æœ‰è€…ã€ç¾¤çµ„ã€æ¬Šé™ä»¥åŠæ™‚é–“æˆ³è¨˜ -z, \u0026ndash;compress å•Ÿç”¨å£“ç¸®ï¼Œå¯æ¸›å°‘ç¶²è·¯å‚³è¼¸è³‡æ–™é‡ -h, \u0026ndash;human-readable å°‡æ•¸å­—ä»¥æ¯”è¼ƒå®¹æ˜“é–±è®€çš„æ ¼å¼è¼¸å‡º -q, â€“quiet èˆ‡ -v ç›¸åï¼Œå®‰éœæ¨¡å¼ï¼Œç•¥éæ­£å¸¸è³‡è¨Šï¼Œåƒ…é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ -l, â€“links è¤‡è£½é€£çµè€Œä¸æ˜¯é€£çµå…§å®¹ -g, â€“group ä¿ç•™æª”æ¡ˆçš„åŸå§‹ç¾¤çµ„ç‹€æ…‹(æ¬Šé™ä¸è¶³å‰‡ç„¡æ³•ç¹¼æ‰¿) -o, â€“owner ä¿ç•™æª”æ¡ˆçš„åŸå§‹æ“æœ‰è€…(æ¬Šé™ä¸è¶³å‰‡ç„¡æ³•ç¹¼æ‰¿) -t,â€“times ä¿ç•™æª”æ¡ˆçš„åŸå§‹æ™‚é–“åƒæ•¸ -e ä½¿ç”¨çš„é€šé“å”å®šï¼Œä¾‹å¦‚ä½¿ç”¨ ssh é€šé“ï¼Œå‰‡ -e ssh -u, \u0026ndash;update åœ¨å‚™ä»½æ™‚æœƒç•¥éæ‰€æœ‰å·²ç¶“å­˜åœ¨æ–¼ç›®çš„ç«¯ï¼Œä¸”æ–‡ä»¶æ™‚é–“æ¯”è¦å‚™ä»½çš„æª”æ¡ˆç‚ºæ–°çš„æª”æ¡ˆ -p, \u0026ndash;perms è¡¨ç¤ºè¦ä¿ç•™æª”æ¡ˆçš„æ¬Šé™è³‡è¨Š -D è¡¨ç¤ºè¦ä¿ç•™è¨­å‚™æª”æ¡ˆè³‡è¨Š \u0026ndash;delete åˆªé™¤ä¾†æºç«¯å·²ç¶“ä¸å­˜åœ¨ä½†åœ¨ç›®çš„ç«¯å­˜åœ¨çš„æª”æ¡ˆ \u0026ndash;force ç•¶ç›®çš„ç«¯çš„ç›®éŒ„è¢«è¦†è“‹æ™‚ï¼Œå°±å¼·åˆ¶å…ˆåˆªé™¤è©²ç›®éŒ„ \u0026ndash;bwlimit=RATE é™åˆ¶è³‡æ–™å‚³è¼¸é€Ÿåº¦ä¸Šé™ \u0026ndash;progress å³æ™‚é¡¯ç¤ºå‚³è¼¸é€²åº¦ \u0026ndash;exclude=PATTERN æ’é™¤ç¬¦åˆåŒ¹é…çš„æª”æ¡ˆ \u0026ndash;include=PATTERN åªå‚™ä»½ç¬¦åˆåŒ¹é…çš„æª”æ¡ˆ \u0026ndash;min-size=SIZE æŒ‡å®šå‚™ä»½æª”æ¡ˆçš„æœ€å°å€¼ \u0026ndash;max-size=SIZE æŒ‡å®šå‚™ä»½æª”æ¡ˆçš„æœ€å¤§å€¼ \u0026ndash;remove-source-files è‡ªå‹•åˆªé™¤ä¾†æºæª”æ¡ˆ -n, \u0026ndash;dry-run debugæ¨¡å¼ï¼Œæ¸¬è©¦rsyncé¤æ•¸ \u0026ndash;existing åªæ›´æ–°æ—¢æœ‰çš„æª”æ¡ˆï¼Œæ’é™¤æ–°å¢çš„æª”æ¡ˆ -i, \u0026ndash;itemize-changes æŸ¥çœ‹å€‹åˆ¥æª”æ¡ˆçš„è®Šå‹•è³‡è¨Š åŸºæœ¬æ“ä½œ è¤‡è£½æœ¬åœ°ç«¯æª”æ¡ˆæˆ–ç›®éŒ„ rsync -avh mylog.log /local/path/ rsync -avh /mypath /home/alan/ æœ¬åœ°å‚™ä»½è‡³é ç«¯ï¼Œå°‡æœ¬åœ°myfile.gzå‚™ä»½åˆ°é ç«¯/remote/path/ç›®éŒ„ä¸‹ rsync -avzh ./myfile.gz host@ip:/remote/path/ é ç«¯å‚™ä»½è‡³æœ¬åœ° rsync -avzh host@ip:/remote/path/myfile.gz /local/path é™åˆ¶ç¶²é€Ÿ rsync -avzh --bwlimit=100k host@ip:/remote/path/myfile.gz /local/path é¡¯ç¤ºå‚³è¼¸é€²åº¦ rsync -avzh --progress host@ip:/remote/path/myfile.gz /local/path åŒæ­¥åˆªé™¤ç›®çš„ç«¯æª”æ¡ˆ rsync -avzh --delete host@ip:/remote/path/myfile.gz /local/path å‚™ä»½ç‰¹å®šæª”æ¡ˆ # æ’é™¤æ‰çµå°¾ç‚º.txtçš„æª”æ¡ˆ rsync -avh --exclude \u0026#39;*.txt\u0026#39; src/path dest/path # åªå‚™ä»½çµå°¾ç‚º.txtçš„æª”æ¡ˆ rsync -avh --include \u0026#39;*.txt\u0026#39; src/path dest/path é™åˆ¶æª”æ¡ˆå¤§å° # åªå‚™ä»½1mbä»¥ä¸Šçš„æª”æ¡ˆ rsync -avh --min-size=1m src/path dest/path # åªå‚™ä»½æœ€å¤§1kçš„æª”æ¡ˆ rsync -avh --max-size=1k src/path dest/path # åªå‚™ä»½1kä»¥ä¸Š1mbä»¥ä¸‹çš„æª”æ¡ˆ rsync -avh --min-size=1k --max-size=1m src/path dest/path è‡ªå‹•åˆªé™¤ä¾†æºæª”æ¡ˆ # å°‡src/pathçš„æª”æ¡ˆå‚™ä»½åˆ°dest/pathå¾Œæ¸…ç©ºï¼Œç›¸ç•¶æ–¼mvçš„æ•ˆæœ rsync -avh --remove-source-files src/path dest/path 10, æ¸¬è©¦rsyncåƒæ•¸\nrsync -avh --dry-run src/path dest/path æ­é…crontabåšå®šæœŸå‚™ä»½ # m h dom mon dow command 0 5 * * 1 rsync -a /path/to/folder /path/to/backup/ åªæ›´æ–°å·²å­˜åœ¨çš„æª”æ¡ˆ rsync -avh --existing src/path dest/path åƒè€ƒè³‡æ–™ Rsync Command in Linux with Examples | Linuxize Linux ä½¿ç”¨ rsync é ç«¯æª”æ¡ˆåŒæ­¥èˆ‡å‚™ä»½å·¥å…·æ•™å­¸èˆ‡ç¯„ä¾‹ - G. T. Wang (gtwang.org) Linuxä¸‹å¦‚ä½•ä½¿ç”¨Rsyncå‚™ä»½ä¼ºæœå™¨é‡è¦è³‡æ–™ | ITäºº (iter01.com) ç›¸é—œæŒ‡ä»¤ scp ","permalink":"https://sz9751210.github.io/posts/linux-rsync/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ rsync ç”¨é€”ï¼šç”¨ä¾†è¤‡è£½èˆ‡å‚™ä»½æª”æ¡ˆçš„å·¥å…·ï¼Œå®ƒå¯ä»¥è™•ç†æœ¬æ©Ÿæˆ–é ç«¯çš„æª”æ¡ˆåŒæ­¥å·¥ä½œ èªæ³• rsync [OPTIONS] src [dest/user@host:dest] åƒæ•¸ åƒæ•¸ èªªæ˜ -v, \u0026ndash;verbose verbose æ¨¡å¼ï¼Œè¼¸å‡ºæ¯”è¼ƒè©³ç´°çš„è¨Šæ¯ -r, \u0026ndash;recursive éè¿´ï¼ˆrecursiveï¼‰å‚™ä»½æ‰€æœ‰å­ç›®éŒ„ä¸‹çš„ç›®éŒ„èˆ‡æª”æ¡ˆ -a, \u0026ndash;archive å°è£å‚™ä»½æ¨¡å¼ï¼Œç›¸ç•¶æ–¼ -rlptgoDï¼Œéè¿´å‚™ä»½æ‰€æœ‰å­ç›®éŒ„ä¸‹çš„ç›®éŒ„èˆ‡æª”æ¡ˆï¼Œä¿ç•™é€£çµæª”ã€æª”æ¡ˆçš„æ“æœ‰è€…ã€ç¾¤çµ„ã€æ¬Šé™ä»¥åŠæ™‚é–“æˆ³è¨˜ -z, \u0026ndash;compress å•Ÿç”¨å£“ç¸®ï¼Œå¯æ¸›å°‘ç¶²è·¯å‚³è¼¸è³‡æ–™é‡ -h, \u0026ndash;human-readable å°‡æ•¸å­—ä»¥æ¯”è¼ƒå®¹æ˜“é–±è®€çš„æ ¼å¼è¼¸å‡º -q, â€“quiet èˆ‡ -v ç›¸åï¼Œå®‰éœæ¨¡å¼ï¼Œç•¥éæ­£å¸¸è³‡è¨Šï¼Œåƒ…é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ -l, â€“links è¤‡è£½é€£çµè€Œä¸æ˜¯é€£çµå…§å®¹ -g, â€“group ä¿ç•™æª”æ¡ˆçš„åŸå§‹ç¾¤çµ„ç‹€æ…‹(æ¬Šé™ä¸è¶³å‰‡ç„¡æ³•ç¹¼æ‰¿) -o, â€“owner ä¿ç•™æª”æ¡ˆçš„åŸå§‹æ“æœ‰è€…(æ¬Šé™ä¸è¶³å‰‡ç„¡æ³•ç¹¼æ‰¿) -t,â€“times ä¿ç•™æª”æ¡ˆçš„åŸå§‹æ™‚é–“åƒæ•¸ -e ä½¿ç”¨çš„é€šé“å”å®šï¼Œä¾‹å¦‚ä½¿ç”¨ ssh é€šé“ï¼Œå‰‡ -e ssh -u, \u0026ndash;update åœ¨å‚™ä»½æ™‚æœƒç•¥éæ‰€æœ‰å·²ç¶“å­˜åœ¨æ–¼ç›®çš„ç«¯ï¼Œä¸”æ–‡ä»¶æ™‚é–“æ¯”è¦å‚™ä»½çš„æª”æ¡ˆç‚ºæ–°çš„æª”æ¡ˆ -p, \u0026ndash;perms è¡¨ç¤ºè¦ä¿ç•™æª”æ¡ˆçš„æ¬Šé™è³‡è¨Š -D è¡¨ç¤ºè¦ä¿ç•™è¨­å‚™æª”æ¡ˆè³‡è¨Š \u0026ndash;delete åˆªé™¤ä¾†æºç«¯å·²ç¶“ä¸å­˜åœ¨ä½†åœ¨ç›®çš„ç«¯å­˜åœ¨çš„æª”æ¡ˆ \u0026ndash;force ç•¶ç›®çš„ç«¯çš„ç›®éŒ„è¢«è¦†è“‹æ™‚ï¼Œå°±å¼·åˆ¶å…ˆåˆªé™¤è©²ç›®éŒ„ \u0026ndash;bwlimit=RATE é™åˆ¶è³‡æ–™å‚³è¼¸é€Ÿåº¦ä¸Šé™ \u0026ndash;progress å³æ™‚é¡¯ç¤ºå‚³è¼¸é€²åº¦ \u0026ndash;exclude=PATTERN æ’é™¤ç¬¦åˆåŒ¹é…çš„æª”æ¡ˆ \u0026ndash;include=PATTERN åªå‚™ä»½ç¬¦åˆåŒ¹é…çš„æª”æ¡ˆ \u0026ndash;min-size=SIZE æŒ‡å®šå‚™ä»½æª”æ¡ˆçš„æœ€å°å€¼ \u0026ndash;max-size=SIZE æŒ‡å®šå‚™ä»½æª”æ¡ˆçš„æœ€å¤§å€¼ \u0026ndash;remove-source-files è‡ªå‹•åˆªé™¤ä¾†æºæª”æ¡ˆ -n, \u0026ndash;dry-run debugæ¨¡å¼ï¼Œæ¸¬è©¦rsyncé¤æ•¸ \u0026ndash;existing åªæ›´æ–°æ—¢æœ‰çš„æª”æ¡ˆï¼Œæ’é™¤æ–°å¢çš„æª”æ¡ˆ -i, \u0026ndash;itemize-changes æŸ¥çœ‹å€‹åˆ¥æª”æ¡ˆçš„è®Šå‹•è³‡è¨Š åŸºæœ¬æ“ä½œ è¤‡è£½æœ¬åœ°ç«¯æª”æ¡ˆæˆ–ç›®éŒ„ rsync -avh mylog.","title":"Linux åŒæ­¥æª”æ¡ˆ[rsync]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ find ç”¨é€”ï¼šåœ¨ç›®éŒ„ä¸­æ‰¾å°‹æ–‡ä»¶ èªæ³• find path [OPTIONS] åƒæ•¸(å¸¸ç”¨) åƒæ•¸ èªªæ˜ -mount, -xdev åªæª¢æŸ¥å’ŒæŒ‡å®šç›®éŒ„åœ¨åŒä¸€å€‹æ–‡ä»¶ç³»çµ±ä¸‹çš„æ–‡ä»¶ï¼Œé¿å…åˆ—å‡ºå…¶å®ƒæ–‡ä»¶ç³»çµ±ä¸­çš„æ–‡ä»¶ -amin n æŒ‡å®šæª”æ¡ˆçš„æœ€å¾Œå­˜å–æ™‚é–“ï¼Œå–®ä½ç‚ºåˆ†é˜ï¼Œåœ¨éå»nåˆ†é˜å…§è¢«å­˜å–é -anewer file æ¯”æ–‡ä»¶fileæ›´æ™šè¢«å­˜å–éçš„æ–‡ä»¶ -atime n æŒ‡å®šæª”æ¡ˆçš„æœ€å¾Œå­˜å–æ™‚é–“ï¼ˆaccess timeï¼‰ï¼Œå–®ä½ç‚ºå¤© -cmin n æŒ‡å®šæª”æ¡ˆç‹€æ…‹ç›¸é—œè³‡è¨Šæœ€å¾Œä¿®æ”¹çš„æ™‚é–“ï¼Œå–®ä½ç‚ºåˆ†é˜ -cnewer file æ¯”æ–‡ä»¶fileæ›´æ–°çš„æ–‡ä»¶ -ctime n æŒ‡å®šæª”æ¡ˆç‹€æ…‹ç›¸é—œè³‡è¨Šæœ€å¾Œä¿®æ”¹çš„æ™‚é–“ï¼ˆstatus timeï¼‰ï¼Œå–®ä½ç‚ºå¤© -mtime n æŒ‡å®šæª”æ¡ˆçš„æœ€å¾Œä¿®æ”¹æ™‚é–“ï¼ˆmodification timeï¼‰ï¼Œå–®ä½ç‚ºå¤© -mmin n æŒ‡å®šæª”æ¡ˆçš„æœ€å¾Œä¿®æ”¹æ™‚é–“ï¼Œå–®ä½ç‚ºåˆ†é˜ -empty æœå°‹ç©ºæª”æ¡ˆ -ipath p, -path p è·¯å¾‘åç¨±ç¬¦åˆ p çš„æ–‡ä»¶ï¼Œipath æœƒå¿½ç•¥å¤§å°å¯« -name name, -iname name æ–‡ä»¶åç¨±ç¬¦åˆ name çš„æ–‡ä»¶ã€‚ iname æœƒå¿½ç•¥å¤§å°å¯« -size n æŒ‡å®šæª”æ¡ˆçš„å¤§å° -type c æŒ‡å®šæª”æ¡ˆçš„é¡å‹ -perm æŒ‡å®šæª”æ¡ˆçš„æ¬Šé™ -user æŒ‡å®šæª”æ¡ˆæ“æœ‰è€… -group æŒ‡å®šæª”æ¡ˆçš„ç¾¤çµ„ -exec å°ä½¿ç”¨findçš„æœå°‹çµæœåŸ·è¡Œç‰¹å®šæŒ‡ä»¤ åŸºæœ¬æ“ä½œ æŒ‡å®šæª”åæœå°‹ # æœå°‹åœ¨ç•¶å‰ç›®éŒ„åº•ä¸‹ï¼Œæª”åç‚ºfile.txtçš„æª”æ¡ˆ find . -name file.txt # é€éæ­£å‰‡æœå°‹ç¬¦åˆçš„åŒ¹é…txtæª”æ¡ˆ find . -name \u0026#34;*.txt\u0026#34; # ä½¿ç”¨çµ•å°è·¯å¾‘ä¸åˆ†å¤§å°å¯«æœå°‹æª”æ¡ˆ find /home -iname file.txt æŒ‡å®šæª”æ¡ˆä¿®æ”¹èˆ‡å­˜å–æ™‚é–“æœå°‹ # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹éå»5å¤©å…§æª”æ¡ˆç‹€æ…‹æœ‰è¢«å­˜å–éçš„æª”æ¡ˆ find . -atime -5 # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹éå»5åˆ†é˜æª”æ¡ˆç‹€æ…‹æœ‰è¢«ä¿®æ”¹éçš„æª”æ¡ˆ find . -cmin -5 # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹ï¼Œä¸Šæ¬¡ä¿®æ”¹æ™‚é–“æ˜¯åœ¨5å¤©ä»¥ä¸Šã€10å¤©ä»¥ä¸‹çš„æª”æ¡ˆ find . -mtime +5 -mtime -10 atimeï¼ˆAccesstimeï¼‰æŒ‡çš„æ˜¯æ–‡ä»¶æœ€å¾Œä¸€æ¬¡è¢«è¨ªå•çš„æ™‚é–“ï¼› mtimeï¼ˆModifytimeï¼‰æŒ‡çš„æ˜¯æ–‡ä»¶å…§å®¹è¢«ä¿®æ”¹çš„æ™‚é–“ï¼Œä½†ä¸åŒ…æ‹¬æ¬Šé™çš„ä¿®æ”¹ï¼Œæ¯”å¦‚ç”¨vimç·¨è¼¯å™¨ä¿®æ”¹å…§å®¹ï¼› ctimeï¼ˆChangetimeï¼‰æŒ‡çš„æ˜¯æ–‡ä»¶çš„æ¬Šé™ã€æ“æœ‰è€…ã€æ‰€å±¬çµ„åŠéˆæ¥æ•¸ç™¼ä¸Šæ”¹è®Šçš„æ™‚é–“ã€‚ æŒ‡å®šæª”æ¡ˆé¡å‹æœå°‹ # æœå°‹ç•¶å‰ç›®éŒ„åŠå­ç›®éŒ„ä¸‹ï¼Œé¡å‹ç‚ºæ–‡ä»¶ find . -type f # æœå°‹ç•¶å‰ç›®éŒ„åŠå­ç›®éŒ„ä¸‹ï¼Œé¡å‹ç‚ºç›®éŒ„ find . -type d b: å€å¡Šè£ç½®æ–‡ä»¶ c: å­—å‹è£ç½®æ–‡ä»¶ d: ç›®éŒ„ p: å…·åçš„pipe(FIFO) f: ä¸€èˆ¬çš„æª”æ¡ˆ l: é€£çµæª”ï¼Œå¦‚æœèˆ‡ -L æˆ– -follow åƒæ•¸åŒæ™‚ä½¿ç”¨æ™‚ï¼Œå°±åªæœƒæœå°‹åˆ°æœ‰å•é¡Œçš„é€£çµæª”ï¼Œå¦‚æœæƒ³è¦èˆ‡ -L åŒæ™‚ä½¿ç”¨ï¼Œè«‹æ”¹ç”¨ -xtype s: socket æª”æ¡ˆ æŒ‡å®šæª”æ¡ˆæ¬Šé™æœå°‹ # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹æ¬Šé™ç‚º777çš„æª”æ¡ˆ find . -type f -perm 777 # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹æ¬Šé™ä¸æ˜¯777çš„æª”æ¡ˆ find . -type f ! -perm 777 # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹æ¬Šé™ç‚º644è€Œä¸”æœ‰SGIDçš„æª”æ¡ˆ find . -type f -perm 2644 # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹ï¼Œuseråªæœ‰readçš„æ¬Šé™çš„æª”æ¡ˆ find . -type f -perm /u=r å¦‚æœä¸å¸¶æœ‰ä»»ä½•å‰ç¶´ï¼Œå‰‡åªæœ‰å®Œå…¨ç¬¦åˆçš„æª”æ¡ˆæ‰æœƒæˆåŠŸåŒ¹é… å¦‚æœå¸¶æœ‰-ï¼Œå‰‡ä»£è¡¨åŒæ™‚ç¬¦åˆï¼Œä»»ä½•ä¸€é¡ç”¨æˆ¶ï¼ˆugoï¼‰çš„æ¬Šé™ä¸­çš„æ¯ä¸€ä½ï¼ˆrwxï¼‰éƒ½è¦åŒæ™‚ç¬¦åˆmodeæ‰€è¡¨ç¤ºçš„æ¢ä»¶ï¼Œ9ä½æ¬Šé™ä¹‹é–“å­˜åœ¨â€œèˆ‡â€é—œä¿‚ã€‚ å¦‚æœå¸¶æœ‰/ï¼Œå‰‡ä»£è¡¨è‡³å°‘ç¬¦åˆï¼Œä»»ä½•ä¸€é¡ç”¨æˆ¶ï¼ˆugoï¼‰çš„æ¬Šé™ä¸­çš„ä»»ä½•ä¸€ä½ï¼ˆrwxï¼‰ç¬¦åˆmodeæ‰€è¡¨ç¤ºçš„æ¢ä»¶å³å¯ï¼Œ9ä½æ¬Šé™ä¹‹é–“å­˜åœ¨â€œæˆ–â€é—œä¿‚ã€‚ æŒ‡å®šæª”æ¡ˆå±¬æ€§æœå°‹ # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹ï¼Œuserç‚ºrootçš„æª”æ¡ˆ find . -user root # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹ï¼Œgroupç‚ºrootçš„æª”æ¡ˆ find . -group root æŒ‡å®šæª”æ¡ˆå¤§å°æœå°‹ # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹ï¼Œæª”æ¡ˆå¤§å°å‰›å¥½æ˜¯50MBçš„æª”æ¡ˆ find . -size 50M # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹ï¼Œæª”æ¡ˆå¤§å°ä»‹æ–¼50MBåˆ°100MBä¹‹é–“çš„æª”æ¡ˆ find . -size +50M -size -100M # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹ï¼Œå¤§æ–¼100MBçš„æª”æ¡ˆä¸¦å°‡å…¶åˆªé™¤ find . -size +100M -exec rm -rf {} \\; æŒ‡å®šæœå°‹ç©ºæª”æ¡ˆèˆ‡éš±è—æª”æ¡ˆ # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹çš„ç©ºç›®éŒ„ find . -type d -empty # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹çš„éš±è—æª”æ¡ˆ find . -type f -name \u0026#34;.*\u0026#34; å¯¦ç”¨ç¯„ä¾‹ # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹ï¼Œæª”æ¡ˆå¤§å°åœ¨10MBä»¥ä¸Šçš„logæª”ï¼Œä¸¦å°‡å…¶åˆªé™¤ find . -type f -name *.log -size +10M -exec rm {} \\; # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹æ‰€æœ‰çš„phpæª”æ¡ˆï¼Œä¸¦æ‰¾å°‹æœ‰é—œéµå­—okä»¥åŠåŒ¹é…è™•çš„ä»¥ä¸‹5è¡Œ find ./ -name \\*.php -exec grep -wnHA5 ok {} \\; # æœå°‹ç•¶å‰ç›®éŒ„ä¸‹æ‰€æœ‰æª”æ¡ˆï¼Œä¸¦æ‰¾å‡ºæœ‰networké—œéµå­—çš„æª”æ¡ˆ find . -name \u0026#34;*\u0026#34; | xargs grep \u0026#34;network\u0026#34; åœ¨ -exec å‰é¢æ˜¯ find æŒ‡ä»¤æ‰¾å‡ºæƒ³è¦çš„æª”æ¡ˆï¼Œåœ¨ -exec å¾Œé¢çš„ command æ˜¯è¦åŸ·è¡Œçš„æŒ‡ä»¤, è€Œ { } åŒ…è‘—çš„æ˜¯æ‰¾åˆ°çš„æª”æ¡ˆæˆ–ç›®éŒ„ï¼Œå¾Œé¢éœ€è¦åŠ ä¸Š ; å®Œçµã€‚\nåƒè€ƒè³‡æ–™ man find SGID Unix/Linux çš„ find æŒ‡ä»¤ä½¿ç”¨æ•™å­¸ã€æŠ€å·§èˆ‡ç¯„ä¾‹æ•´ç† æ ¹æ®æ–‡ä»¶å±æ€§æˆ–æƒé™è¿›è¡ŒfindæŸ¥æ‰¾ ä½¿ç”¨ Linux find å°‹æ‰¾æª”æ¡ˆ/å°‹æ‰¾è³‡æ–™å¤¾ Linux find æŒ‡ä»¤çš„ exec åƒæ•¸ ","permalink":"https://sz9751210.github.io/posts/linux-find/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ find ç”¨é€”ï¼šåœ¨ç›®éŒ„ä¸­æ‰¾å°‹æ–‡ä»¶ èªæ³• find path [OPTIONS] åƒæ•¸(å¸¸ç”¨) åƒæ•¸ èªªæ˜ -mount, -xdev åªæª¢æŸ¥å’ŒæŒ‡å®šç›®éŒ„åœ¨åŒä¸€å€‹æ–‡ä»¶ç³»çµ±ä¸‹çš„æ–‡ä»¶ï¼Œé¿å…åˆ—å‡ºå…¶å®ƒæ–‡ä»¶ç³»çµ±ä¸­çš„æ–‡ä»¶ -amin n æŒ‡å®šæª”æ¡ˆçš„æœ€å¾Œå­˜å–æ™‚é–“ï¼Œå–®ä½ç‚ºåˆ†é˜ï¼Œåœ¨éå»nåˆ†é˜å…§è¢«å­˜å–é -anewer file æ¯”æ–‡ä»¶fileæ›´æ™šè¢«å­˜å–éçš„æ–‡ä»¶ -atime n æŒ‡å®šæª”æ¡ˆçš„æœ€å¾Œå­˜å–æ™‚é–“ï¼ˆaccess timeï¼‰ï¼Œå–®ä½ç‚ºå¤© -cmin n æŒ‡å®šæª”æ¡ˆç‹€æ…‹ç›¸é—œè³‡è¨Šæœ€å¾Œä¿®æ”¹çš„æ™‚é–“ï¼Œå–®ä½ç‚ºåˆ†é˜ -cnewer file æ¯”æ–‡ä»¶fileæ›´æ–°çš„æ–‡ä»¶ -ctime n æŒ‡å®šæª”æ¡ˆç‹€æ…‹ç›¸é—œè³‡è¨Šæœ€å¾Œä¿®æ”¹çš„æ™‚é–“ï¼ˆstatus timeï¼‰ï¼Œå–®ä½ç‚ºå¤© -mtime n æŒ‡å®šæª”æ¡ˆçš„æœ€å¾Œä¿®æ”¹æ™‚é–“ï¼ˆmodification timeï¼‰ï¼Œå–®ä½ç‚ºå¤© -mmin n æŒ‡å®šæª”æ¡ˆçš„æœ€å¾Œä¿®æ”¹æ™‚é–“ï¼Œå–®ä½ç‚ºåˆ†é˜ -empty æœå°‹ç©ºæª”æ¡ˆ -ipath p, -path p è·¯å¾‘åç¨±ç¬¦åˆ p çš„æ–‡ä»¶ï¼Œipath æœƒå¿½ç•¥å¤§å°å¯« -name name, -iname name æ–‡ä»¶åç¨±ç¬¦åˆ name çš„æ–‡ä»¶ã€‚ iname æœƒå¿½ç•¥å¤§å°å¯« -size n æŒ‡å®šæª”æ¡ˆçš„å¤§å° -type c æŒ‡å®šæª”æ¡ˆçš„é¡å‹ -perm æŒ‡å®šæª”æ¡ˆçš„æ¬Šé™ -user æŒ‡å®šæª”æ¡ˆæ“æœ‰è€… -group æŒ‡å®šæª”æ¡ˆçš„ç¾¤çµ„ -exec å°ä½¿ç”¨findçš„æœå°‹çµæœåŸ·è¡Œç‰¹å®šæŒ‡ä»¤ åŸºæœ¬æ“ä½œ æŒ‡å®šæª”åæœå°‹ # æœå°‹åœ¨ç•¶å‰ç›®éŒ„åº•ä¸‹ï¼Œæª”åç‚ºfile.","title":"Linux æŸ¥æ‰¾æ–‡ä»¶[find]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ logrotate ç”¨é€”ï¼šæ—¥èªŒæ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œç”¨æ–¼åˆ‡å‰²æ—¥èªŒï¼Œå£“ç¸®è½‰å­˜ï¼Œåˆªé™¤èˆŠçš„æ—¥èªŒæ–‡ä»¶ï¼Œä¸¦å‰µå»ºæ–°çš„æ—¥èªŒæ–‡ä»¶ é è¨­é…ç½®æ–‡ä»¶ä½ç½®ï¼š /etc/logrotate.conf /etc/logrotate.d é‹è¡Œæ©Ÿåˆ¶ logrotateæ˜¯é€écronä¾†é‹è¡Œçš„ï¼Œé€é/etc/cron.daily/logrotateé€™è…³æœ¬ï¼Œå¦‚è¦æŸ¥çœ‹cron.dailyé‹è¡Œæ–¹å¼ï¼Œå¯æŸ¥çœ‹/etc/anacrontab\n# /etc/anacrontab: configuration file for anacron # See anacron(8) and anacrontab(5) for details. SHELL=/bin/sh PATH=/sbin:/bin:/usr/sbin:/usr/bin MAILTO=root # the maximal random delay added to the base delay of the jobs RANDOM_DELAY=45 # the jobs will be started during the following hours only START_HOURS_RANGE=3-22 #period in days delay in minutes job-identifier command 1\t5\tcron.daily\tnice run-parts /etc/cron.daily 7\t25\tcron.weekly\tnice run-parts /etc/cron.weekly @monthly 45\tcron.monthly\tnice run-parts /etc/cron.monthly ä¸Šé¢å¯çœ‹åˆ°åŸ·è¡Œcron.dailyæ˜¯åœ¨å‡Œæ™¨3.åˆ°22.ä¹‹é–“ï¼Œä¸¦ä¸”éš¨æ©Ÿå»¶é²45åˆ†é˜\nèªæ³• logrotate [OPTIONS] config_file åƒæ•¸ é¸é … èªªæ˜ -d, \u0026ndash;debug debugæ¨¡å¼ï¼Œæ¸¬è©¦é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰éŒ¯èª¤ -f, \u0026ndash;force å¼·åˆ¶è½‰å„²æ–‡ä»¶ -m, \u0026ndash;mail=command å£“ç¸®æ—¥èªŒå¾Œï¼Œç™¼é€æ—¥èªŒåˆ°æŒ‡å®šéƒµç®± -s, \u0026ndash;state=statefile ä½¿ç”¨æŒ‡å®šçš„ç‹€æ…‹æ–‡ä»¶ -v, \u0026ndash;verbose é¡¯ç¤ºè½‰å„²éç¨‹ -l, \u0026ndash;log=STRING log file è¨­å®šæª”åƒæ•¸ èªªæ˜ compress åœ¨è¼ªå¾ªä»»å‹™å®Œæˆå¾Œï¼Œå·²è¼ªå¾ªçš„æ­¸æª”å°‡ä½¿ç”¨ gzip é€²è¡Œå£“ç¸® compresscmd æŒ‡å®šå£“ç¸®å·¥å…·ï¼Œé»˜èªç‚ºgzip uncompresscmd æŒ‡å®šè§£å£“ç¸®å·¥å…·ï¼Œé»˜èªç‚ºgunziip compressext æŒ‡å®šè¦åœ¨å£“ç¸®æ—¥èªŒæ–‡ä»¶ä¸Šä½¿ç”¨çš„æ“´å±•åï¼Œé»˜èªéµå¾ªé…ç½®çš„å£“ç¸®å‘½ä»¤ compressoptions å£“ç¸®æŒ‡ä»¤çš„é¸é …é…ç½®\u0008ï¼Œ copy è£½ä½œlogæª”çš„å‰¯æœ¬ï¼Œèˆ‡createäº’æ–¥ copytruncate ç”¨æ–¼é‚„åœ¨æ‰“é–‹ä¸­çš„æ—¥èªŒæ–‡ä»¶ï¼ŒæŠŠç•¶å‰æ—¥èªŒå‚™ä»½ä¸¦æˆªæ–· create mode owner group ä»¥æŒ‡å®šçš„æ¬Šé™å‰µå»ºå…¨æ–°çš„æ—¥èªŒæ–‡ä»¶ï¼ŒåŒæ™‚ logrotate ä¹Ÿæœƒé‡å‘½ååŸå§‹æ—¥èªŒæ–‡ä»¶ daily æ—¥èªŒæ–‡ä»¶å°‡æŒ‰å¤©è¼ªå¾ª dateext ä½¿ç”¨ç•¶å‰æ—¥æœŸä½œç‚ºå‘½åæ ¼å¼ dateformat format_string é…åˆdateextä½¿ç”¨ï¼Œç·Šè·Ÿåœ¨ä¸‹ä¸€è¡Œå‡ºç¾ï¼Œå®šç¾©æ–‡ä»¶åˆ‡å‰²å¾Œçš„æ–‡ä»¶åï¼Œå¿…é ˆé…åˆdateextä½¿ç”¨ï¼Œåªæ”¯æŒ%Y %m %d %sé€™å››å€‹åƒæ•¸ delaycompress å’Œ compress ä¸€èµ·ä½¿ç”¨æ™‚ï¼Œè½‰å„²çš„æ—¥èªŒæ–‡ä»¶åˆ°ä¸‹ä¸€æ¬¡è½‰å„²æ™‚æ‰å£“ç¸® extension ext ç¶­è­·æ“´å±•å ifempty å³ä½¿æ˜¯ç©ºæ–‡ä»¶ä¹Ÿè½‰å„² include file_or_directory å°‡logrotateæ ¼å¼çš„æª”æ¡ˆæˆ–æ˜¯ç›®éŒ„æ•´å€‹å¼•é€²æˆ– mail address æŠŠè½‰å„²çš„æ—¥èªŒæ–‡ä»¶ç™¼é€åˆ°æŒ‡å®šçš„ E-mail åœ°å€ mailfirst ç•¶å•Ÿç”¨mailåƒæ•¸æ™‚ï¼Œå¯„å‡ºå‰›rotatedçš„æ–‡ä»¶ maillast ä½¿ç”¨ mail å‘½ä»¤æ™‚ï¼Œéƒµå¯„å³å°‡åˆ°æœŸçš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å‰›å‰›æ—‹è½‰çš„æ–‡ä»¶ maxage count åˆªé™¤è¶…écountå¤©çš„rotatedæ—¥èªŒ minsize size æ—¥èªŒæ–‡ä»¶åœ¨å¤§æ–¼sizeå­—ç¯€æ™‚rotatedï¼Œä½†ä¸æœƒåœ¨é¡å¤–æŒ‡å®šçš„æ™‚é–“é–“éš”ï¼ˆæ¯å¤©ã€æ¯é€±ã€æ¯æœˆæˆ–æ¯å¹´ï¼‰ä¹‹å‰è¼ªæ›ã€‚ä½¿ç”¨minsizeæ™‚ï¼ŒæœƒåŒæ™‚è€ƒæ…®æ—¥èªŒæ–‡ä»¶çš„å¤§å°å’Œæ™‚é–“æˆ³ï¼Œsizeé¸é …å‰‡ä¸æœƒ missingok åœ¨æ—¥èªŒè¼ªå¾ªæœŸé–“ï¼Œä»»ä½•éŒ¯èª¤å°‡è¢«å¿½ç•¥ï¼Œä¾‹å¦‚\u0026quot;æ–‡ä»¶ç„¡æ³•æ‰¾åˆ°\u0026quot;ä¹‹é¡çš„éŒ¯èª¤ monthly æ—¥èªŒæ–‡ä»¶å°‡æŒ‰æœˆè¼ªå¾ª nocompress ä¸å£“ç¸® nocopy ä¸è¤‡è£½ nocopytruncate å‚™ä»½æ—¥èªŒæ–‡ä»¶ä½†æ˜¯ä¸æˆªæ–· nocreate ä¸å»ºç«‹æ–°çš„æ—¥èªŒæ–‡ä»¶ nodelaycompress è¦†è“‹ delaycompress é¸é …ï¼Œè½‰å„²åŒæ™‚å£“ç¸® nodateext rotateä¸å¸¶æ—¥æœŸ nomail è½‰å„²æ™‚ä¸ç™¼é€æ—¥èªŒæ–‡ä»¶ nomissingok logæª”ä¸å­˜åœ¨æœƒå™´éŒ¯ noolddir è½‰å„²å¾Œçš„æ—¥èªŒæ–‡ä»¶å’Œç•¶å‰æ—¥èªŒæ–‡ä»¶æ”¾åœ¨åŒä¸€å€‹ç›®éŒ„ä¸‹ nosharedscripts Run prerotate and postrotate scripts for every log file which is rotated noshred åˆªé™¤èˆŠlogæ™‚ä¸è¦ä½¿ç”¨shredã€‚ notifempty å¦‚æœæ—¥èªŒæ–‡ä»¶ç‚ºç©ºï¼Œè¼ªå¾ªä¸æœƒé€²è¡Œ olddir directory å„²å¾Œçš„æ—¥èªŒæ–‡ä»¶æ”¾å…¥æŒ‡å®šçš„ç›®éŒ„ï¼Œå¿…é ˆå’Œç•¶å‰æ—¥èªŒæ–‡ä»¶åœ¨åŒä¸€å€‹æ–‡ä»¶ç³»çµ± postrotate/endscript åœ¨æ‰€æœ‰å…¶å®ƒæŒ‡ä»¤å®Œæˆå¾Œï¼Œpostrotateå’Œendscriptè£¡é¢æŒ‡å®šçš„å‘½ä»¤å°‡è¢«åŸ·è¡Œ prerotate/endscript åœ¨è½‰å„²ä»¥å‰éœ€è¦åŸ·è¡Œçš„å‘½ä»¤å¯ä»¥æ”¾å…¥é€™å€‹å°ï¼Œé€™å…©å€‹é—œéµå­—å¿…é ˆå–®ç¨æˆè¡Œ firstaction/endscript firstactionä»¥åŠendscriptä¹‹é–“å„ªå…ˆåŸ·è¡Œ lastaction/endscript lastactionä»¥åŠendscriptä¹‹é–“æœ€å¾ŒåŸ·è¡Œ rotate count æŒ‡å®šæ—¥èªŒæ–‡ä»¶åˆªé™¤ä¹‹å‰è½‰å„²çš„æ¬¡æ•¸ï¼Œä¸€æ¬¡å°‡å­˜å„²countå€‹æ­¸æª”æ—¥èªŒã€‚å°æ–¼ç¬¬count+1å€‹æ­¸æª”ï¼Œæ™‚é–“æœ€ä¹…çš„æ­¸æª”å°‡è¢«åˆªé™¤ï¼Œ0æŒ‡æ²’æœ‰å‚™ä»½ size size ç•¶æ—¥èªŒæ–‡ä»¶åˆ°é”æŒ‡å®šçš„å¤§å°æ™‚æ‰è½‰å„² sharedscripts é‹è¡Œpostrotateè…³æœ¬ï¼Œä½œç”¨æ˜¯åœ¨æ‰€æœ‰æ—¥èªŒéƒ½è¼ªè½‰å¾Œçµ±ä¸€åŸ·è¡Œä¸€æ¬¡è…³æœ¬ã€‚å¦‚æœæ²’æœ‰é…ç½®é€™å€‹ï¼Œé‚£éº¼æ¯å€‹æ—¥èªŒè¼ªè½‰å¾Œéƒ½æœƒåŸ·è¡Œä¸€æ¬¡è…³æœ¬ shred ä½¿ç”¨shred -uè€Œä¸æ˜¯unlink()åˆªé™¤logæ–‡ä»¶ã€‚é€™æ‡‰è©²ç¢ºä¿logåœ¨é å®šåˆªé™¤å¾Œä¸å¯è®€ shredcycles count è¦æ±‚ GNU shred(1) åœ¨åˆªé™¤ä¹‹å‰è¦†è“‹æ—¥èªŒæ–‡ä»¶è¨ˆæ•¸æ¬¡æ•¸ start count This is the number to use as the base for rotation. tabooext [+] list ä¸è½‰å„²æŒ‡å®šæ“´å±•åçš„æ–‡ä»¶ weekly æ—¥èªŒæ–‡ä»¶å°‡æŒ‰é€±è¼ªå¾ª yearly æ—¥èªŒæ–‡ä»¶å°‡æŒ‰å¹´è¼ªå¾ª åŸºæœ¬æ“ä½œ èª¿ç”¨/etc/logrotate.dä¸‹é…ç½®çš„æ‰€æœ‰æ—¥èªŒ logrotate /etc/logrotate.conf æŒ‡å®šlogrotateæª” logrotate /etc/logrotate.d/logrotate_file ä½¿ç”¨debugæ¨¡å¼é€²è¡Œæ•…éšœæ’é™¤ logrotate -d /etc/logrotate.d/logrotate_file å¼·åˆ¶rotate logrotate -df /etc/logrotate.d/logrotate_file é¡¯ç¤ºrotateéç¨‹ logrotate -v /etc/logrotate.d/logrotate_file é…ç½®æ–‡ä»¶æ¡ˆä¾‹ syslog /var/log/cron /var/log/maillog /var/log/messages /var/log/secure /var/log/spooler { missingok sharedscripts postrotate /bin/kill -HUP `cat /var/run/syslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true endscript } jenkins /var/log/jenkins/jenkins.log /var/log/jenkins/access_log { compress dateext maxage 365 rotate 99 size=+4096k notifempty missingok create 644 copytruncate } nginx /var/log/nginx/*.log /var/log/nginx/*/*.log{ daily missingok rotate 14 compress delaycompress notifempty create 640 root adm sharedscripts postrotate [ ! -f /var/run/nginx.pid ] || kill -USR1 `cat /var/run/nginx.pid` endscript } åƒè€ƒè³‡æ–™ Linux æ—¥å¿—åˆ‡å‰²ç¥å™¨ logrotate åŸç†ä»‹ç»å’Œé…ç½®è¯¦è§£ | HelloDog (wsgzao.github.io) logrotate(8) - Linux man page (die.net) logrotateæœºåˆ¶å’ŒåŸç† â€” 0xFEE1C001 (lightxue.com) How to Use logrotate to Manage Log Files | Linode ç³»ç»Ÿè¿ç»´|Linuxæ—¥å¿—æ–‡ä»¶æ€»ç®¡â€”â€”logrotate ç³»ç»Ÿè¿ç»´|Linuxæ—¥å¿—æ–‡ä»¶æ€»ç®¡â€”â€”logrotate (51cto.com) Logrotate å› ç‚ºçˆ¶ç›®éŒ„æ¬Šé™è€ŒåŸ·è¡Œå¤±æ•— â€“ Mr. æ²™å…ˆç”Ÿ (shazi.info) ç›¸é—œæŒ‡ä»¤(å¯é¸) ","permalink":"https://sz9751210.github.io/posts/linux-logrotate/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ logrotate ç”¨é€”ï¼šæ—¥èªŒæ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œç”¨æ–¼åˆ‡å‰²æ—¥èªŒï¼Œå£“ç¸®è½‰å­˜ï¼Œåˆªé™¤èˆŠçš„æ—¥èªŒæ–‡ä»¶ï¼Œä¸¦å‰µå»ºæ–°çš„æ—¥èªŒæ–‡ä»¶ é è¨­é…ç½®æ–‡ä»¶ä½ç½®ï¼š /etc/logrotate.conf /etc/logrotate.d é‹è¡Œæ©Ÿåˆ¶ logrotateæ˜¯é€écronä¾†é‹è¡Œçš„ï¼Œé€é/etc/cron.daily/logrotateé€™è…³æœ¬ï¼Œå¦‚è¦æŸ¥çœ‹cron.dailyé‹è¡Œæ–¹å¼ï¼Œå¯æŸ¥çœ‹/etc/anacrontab\n# /etc/anacrontab: configuration file for anacron # See anacron(8) and anacrontab(5) for details. SHELL=/bin/sh PATH=/sbin:/bin:/usr/sbin:/usr/bin MAILTO=root # the maximal random delay added to the base delay of the jobs RANDOM_DELAY=45 # the jobs will be started during the following hours only START_HOURS_RANGE=3-22 #period in days delay in minutes job-identifier command 1\t5\tcron.daily\tnice run-parts /etc/cron.daily 7\t25\tcron.weekly\tnice run-parts /etc/cron.weekly @monthly 45\tcron.","title":"Linux æ—¥èªŒç®¡ç†[logrotate]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ cut ç”¨é€”ï¼šæ–‡å­—è™•ç†å·¥å…·ï¼Œå¯ä»¥å°‡æ¯ä¸€è¡Œæ–‡å­—çš„éƒ¨åˆ†å­—å…ƒæˆ–æ˜¯æ¬„ä½æ“·å–å‡ºä¾† èªæ³• cut [OPTIONS] FILE åƒæ•¸ åƒæ•¸ èªªæ˜ -b, \u0026ndash;bytes=LIST æ“·å–æŒ‡å®šçš„ç¯„åœï¼Œä»¥ bytes ä½œç‚ºå–®ä½ -c, \u0026ndash;characters=LIST æ“·å–æŒ‡å®šçš„ç¯„åœï¼Œä»¥å­—å…ƒæ•¸é‡ä½œç‚ºå–®ä½ -d, \u0026ndash;delimiter=DELIM æŒ‡å®šåˆ†éš”å­—å…ƒï¼Œé è¨­æ˜¯ç”¨ tab ä½œç‚ºåˆ†éš” -f, \u0026ndash;fields=LIST è¼¸å‡ºæŒ‡å®šçš„ç¯„åœï¼Œé€™å€‹æ˜¯æ¯è¡Œè³‡æ–™çš„ç¬¬å¹¾å€‹æ¬„ä½ä½œç‚ºå€åˆ† -n with -b: don\u0026rsquo;t split multibyte characters \u0026ndash;complement æ’é™¤æœªæ“·å–çš„æ¬„ä½ -s, \u0026ndash;only-delimited å¦‚æœè©²è¡Œæ²’æœ‰åˆ†éš”å­—å…ƒï¼Œä¸æœƒé¡¯ç¤ºè©²è¡Œè³‡æ–™ \u0026ndash;output-delimiter=å­—ä¸² æ”¹è®Šè¼¸å‡ºæ¬„ä½çš„åˆ†éš”å­—å…ƒ åŸºæœ¬æ“ä½œ æ“·å–å­—å…ƒ # æ“·å–å¾ç¬¬äºŒå€‹å­—å…ƒåˆ°æœ€å¾Œ cut -c 2- file # æ“·å–å¾é–‹å§‹åˆ°ç¬¬äºŒå€‹å­—å…ƒ cut -c -2 file # æ“·å–ç¬¬2-3,5-8,10-12å€‹å­—å…ƒ cut -c 2-3,5-8,10-12 file æ’é™¤å­—å…ƒ # æ’é™¤2-5å­—å…ƒï¼Œå…¶é¤˜éƒ½æ“·å– cut -c 2-5 --complement æ“·å–æ¬„ä½ # å°‡é€—è™Ÿç•¶ä½œåˆ†éš”ç¬¦ï¼Œæ“·å–ç¬¬äºŒå€‹æ¬„ä½ cut -d , -f 2 file # å°‡é€—è™Ÿç•¶ä½œåˆ†éš”ç¬¦ï¼Œæ“·å–ç¬¬1-3å€‹æ¬„ä½ä»¥åŠç¬¬äº”å€‹æ¬„ä½ cut -d , -f 1-3,5 file æ’é™¤æ¬„ä½ # æ’é™¤ç¬¬äºŒå€‹æ¬„ä½ï¼Œæ“·å–å‰©é¤˜çš„æ¬„ä½ cut -d , -f 2 --complement file æ”¹è®Šè¼¸å‡ºæ¬„ä½åˆ†éš”å­—å…ƒ # å°‡é€—è™Ÿç•¶ä½œåˆ†éš”ç¬¦ï¼Œæ“·å–ç¬¬1,3æ¬„ä½ä¸¦å°‡åˆ†éš”ç¬¦å¾,æ”¹æˆ: cut -d , -f 1,3 --output-delimiter=\u0026#34;:\u0026#34; çµ„åˆæŠ€ # æ‰¾å‡ºæ‰€æœ‰pythonç¨‹å¼çš„PIDèˆ‡æŒ‡ä»¤å…§å®¹ ps aux | grep python | sed \u0026#39;s/\\s\\+/ /g\u0026#39; | cut -d \u0026#39; \u0026#39; -f 2,11- åƒè€ƒè³‡æ–™ Linux çš„ cut æ“·å–éƒ¨ä»½å­—å…ƒã€æ¬„ä½æŒ‡ä»¤æ•™å­¸èˆ‡å¸¸ç”¨ç¯„ä¾‹æ•´ç† - G. T. Wang (gtwang.org) cut æŒ‡ä»¤: æ“·å–æª”æ¡ˆæ¯è¡ŒæŒ‡å®šç¯„åœè³‡æ–™ (ltsplus.com) Bash Cut Command with Examples (linuxhint.com) ç›¸é—œæŒ‡ä»¤(å¯é¸) sed awk ","permalink":"https://sz9751210.github.io/posts/linux-cut/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ cut ç”¨é€”ï¼šæ–‡å­—è™•ç†å·¥å…·ï¼Œå¯ä»¥å°‡æ¯ä¸€è¡Œæ–‡å­—çš„éƒ¨åˆ†å­—å…ƒæˆ–æ˜¯æ¬„ä½æ“·å–å‡ºä¾† èªæ³• cut [OPTIONS] FILE åƒæ•¸ åƒæ•¸ èªªæ˜ -b, \u0026ndash;bytes=LIST æ“·å–æŒ‡å®šçš„ç¯„åœï¼Œä»¥ bytes ä½œç‚ºå–®ä½ -c, \u0026ndash;characters=LIST æ“·å–æŒ‡å®šçš„ç¯„åœï¼Œä»¥å­—å…ƒæ•¸é‡ä½œç‚ºå–®ä½ -d, \u0026ndash;delimiter=DELIM æŒ‡å®šåˆ†éš”å­—å…ƒï¼Œé è¨­æ˜¯ç”¨ tab ä½œç‚ºåˆ†éš” -f, \u0026ndash;fields=LIST è¼¸å‡ºæŒ‡å®šçš„ç¯„åœï¼Œé€™å€‹æ˜¯æ¯è¡Œè³‡æ–™çš„ç¬¬å¹¾å€‹æ¬„ä½ä½œç‚ºå€åˆ† -n with -b: don\u0026rsquo;t split multibyte characters \u0026ndash;complement æ’é™¤æœªæ“·å–çš„æ¬„ä½ -s, \u0026ndash;only-delimited å¦‚æœè©²è¡Œæ²’æœ‰åˆ†éš”å­—å…ƒï¼Œä¸æœƒé¡¯ç¤ºè©²è¡Œè³‡æ–™ \u0026ndash;output-delimiter=å­—ä¸² æ”¹è®Šè¼¸å‡ºæ¬„ä½çš„åˆ†éš”å­—å…ƒ åŸºæœ¬æ“ä½œ æ“·å–å­—å…ƒ # æ“·å–å¾ç¬¬äºŒå€‹å­—å…ƒåˆ°æœ€å¾Œ cut -c 2- file # æ“·å–å¾é–‹å§‹åˆ°ç¬¬äºŒå€‹å­—å…ƒ cut -c -2 file # æ“·å–ç¬¬2-3,5-8,10-12å€‹å­—å…ƒ cut -c 2-3,5-8,10-12 file æ’é™¤å­—å…ƒ # æ’é™¤2-5å­—å…ƒï¼Œå…¶é¤˜éƒ½æ“·å– cut -c 2-5 --complement æ“·å–æ¬„ä½ # å°‡é€—è™Ÿç•¶ä½œåˆ†éš”ç¬¦ï¼Œæ“·å–ç¬¬äºŒå€‹æ¬„ä½ cut -d , -f 2 file # å°‡é€—è™Ÿç•¶ä½œåˆ†éš”ç¬¦ï¼Œæ“·å–ç¬¬1-3å€‹æ¬„ä½ä»¥åŠç¬¬äº”å€‹æ¬„ä½ cut -d , -f 1-3,5 file æ’é™¤æ¬„ä½ # æ’é™¤ç¬¬äºŒå€‹æ¬„ä½ï¼Œæ“·å–å‰©é¤˜çš„æ¬„ä½ cut -d , -f 2 --complement file æ”¹è®Šè¼¸å‡ºæ¬„ä½åˆ†éš”å­—å…ƒ # å°‡é€—è™Ÿç•¶ä½œåˆ†éš”ç¬¦ï¼Œæ“·å–ç¬¬1,3æ¬„ä½ä¸¦å°‡åˆ†éš”ç¬¦å¾,æ”¹æˆ: cut -d , -f 1,3 --output-delimiter=\u0026#34;:\u0026#34; çµ„åˆæŠ€ # æ‰¾å‡ºæ‰€æœ‰pythonç¨‹å¼çš„PIDèˆ‡æŒ‡ä»¤å…§å®¹ ps aux | grep python | sed \u0026#39;s/\\s\\+/ /g\u0026#39; | cut -d \u0026#39; \u0026#39; -f 2,11- åƒè€ƒè³‡æ–™ Linux çš„ cut æ“·å–éƒ¨ä»½å­—å…ƒã€æ¬„ä½æŒ‡ä»¤æ•™å­¸èˆ‡å¸¸ç”¨ç¯„ä¾‹æ•´ç† - G.","title":"Linux æ“·å–éƒ¨åˆ†å­—å…ƒ[cut]"},{"content":"åˆªé™¤æœ¬åœ°åˆ†æ”¯ å…ˆä½¿ç”¨ git branch -a(all) åˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå†ä½¿ç”¨ -d(delete) å¾Œé¢æ¥è‘—è¦åˆªé™¤çš„åˆ†æ”¯åç¨±å³å¯\ngit branch -a # *master # test # remote/origin/master # remote/origin/test git branch -d test # Deleted branch test (was ########). åˆªé™¤é ç¨‹åˆ†æ”¯ åˆªé™¤é ç¨‹åˆ†æ”¯å¿…é ˆä½¿ç”¨ git push åŠ ä¸Š --delete åƒæ•¸ï¼Œä¸¦ä¸”å¿…é ˆåœ¨pushå¾ŒåŠ ä¸Š remote name\ngit branch -a # *master # test # remote/origin/master # remote/origin/test git push origin --delete test # To \u0026lt;URL of your repository\u0026gt;.git # - [deleted] test åƒè€ƒè³‡æ–™ How to delete remote branches in Git (educative.io) ","permalink":"https://sz9751210.github.io/posts/git-%E5%88%AA%E9%99%A4%E9%81%A0%E7%A8%8B%E5%88%86%E6%94%AF/","summary":"åˆªé™¤æœ¬åœ°åˆ†æ”¯ å…ˆä½¿ç”¨ git branch -a(all) åˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå†ä½¿ç”¨ -d(delete) å¾Œé¢æ¥è‘—è¦åˆªé™¤çš„åˆ†æ”¯åç¨±å³å¯\ngit branch -a # *master # test # remote/origin/master # remote/origin/test git branch -d test # Deleted branch test (was ########). åˆªé™¤é ç¨‹åˆ†æ”¯ åˆªé™¤é ç¨‹åˆ†æ”¯å¿…é ˆä½¿ç”¨ git push åŠ ä¸Š --delete åƒæ•¸ï¼Œä¸¦ä¸”å¿…é ˆåœ¨pushå¾ŒåŠ ä¸Š remote name\ngit branch -a # *master # test # remote/origin/master # remote/origin/test git push origin --delete test # To \u0026lt;URL of your repository\u0026gt;.git # - [deleted] test åƒè€ƒè³‡æ–™ How to delete remote branches in Git (educative.","title":"git-åˆªé™¤é ç¨‹åˆ†æ”¯"},{"content":"å®‰è£ç’°å¢ƒ windows 10 python 3.8.0 å®‰è£æ­¥é©Ÿ 1.ä¸‹è¼‰python ç¶²å€:Python\né»æ“ŠDownload\né¸æ“‡windowsçš„å¯åŸ·è¡Œå®‰è£æª”ï¼Œç›®å‰å¤§å¤šéƒ½ä»¥64ä½å…ƒç‚ºä¸» 2.å®‰è£éç¨‹ 3.æª¢æŸ¥ç’°å¢ƒ ","permalink":"https://sz9751210.github.io/posts/python-installation/","summary":"å®‰è£ç’°å¢ƒ windows 10 python 3.8.0 å®‰è£æ­¥é©Ÿ 1.ä¸‹è¼‰python ç¶²å€:Python\né»æ“ŠDownload\né¸æ“‡windowsçš„å¯åŸ·è¡Œå®‰è£æª”ï¼Œç›®å‰å¤§å¤šéƒ½ä»¥64ä½å…ƒç‚ºä¸» 2.å®‰è£éç¨‹ 3.æª¢æŸ¥ç’°å¢ƒ ","title":"python-installation"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ cp(copy) ç”¨é€”ï¼šè¤‡è£½æª”æ¡ˆ(copy)å’Œç›®éŒ„ èªæ³• cp [OPTIONS] SOURCE DEST åƒæ•¸ åƒæ•¸ èªªæ˜ -a, \u0026ndash;archive æ•ˆæœåŒ-dpRï¼Œä¿ç•™é€£çµã€æ–‡ä»¶å±¬æ€§ï¼Œä¸¦è¤‡è£½ç›®éŒ„ä¸‹çš„æ‰€æœ‰å…§å®¹ï¼Œé€šå¸¸åœ¨è¤‡è£½ç›®éŒ„æ™‚ä½¿ç”¨ \u0026ndash;attributes-only åªè¤‡è£½æ–‡ä»¶çš„å±¬æ€§ï¼Œå…§å®¹ä¸è¤‡è£½ \u0026ndash;backup[=CONTROL] å‚™ä»½æ¯å€‹ç¾æœ‰çš„ç›®æ¨™æ–‡ä»¶ -b ä¸æ¥å—åƒæ•¸ç‰ˆçš„\u0026ndash;backup \u0026ndash;copy-contents éæ­¸æ¨¡å¼ä¸‹è¤‡è£½ç‰¹æ®Šæ–‡ä»¶çš„å…§å®¹ -d è¤‡è£½æ™‚ä¿ç•™è»Ÿé€£çµ -f, \u0026ndash;force å¼·åˆ¶è¦†è“‹å·²ç¶“å­˜åœ¨çš„ç›®æ¨™æ–‡ä»¶ï¼Œä¸æœƒè·³å‡ºæç¤º -i, \u0026ndash;interactive èˆ‡-fé¸é …ç›¸åï¼Œåœ¨è¦†è“‹ç›®æ¨™æ–‡ä»¶ä¹‹å‰çµ¦å‡ºæç¤ºï¼Œè¦æ±‚ç”¨æˆ¶ç¢ºèªæ˜¯å¦è¦†è“‹ï¼Œå›ç­” y æ™‚ç›®æ¨™æ–‡ä»¶å°‡è¢«è¦†è“‹ã€‚ -H è·Ÿéš¨æºæ–‡ä»¶å‘½ä»¤è¡Œä¸­é¡¯å¼çµ¦å‡ºçš„ç¬¦è™Ÿéˆæ¥ -l, \u0026ndash;link ä½¿ç”¨ç¡¬éˆæ¥å–ä»£è¤‡è£½ -L, \u0026ndash;dereference ç¸½æ˜¯è·Ÿéš¨æºæ–‡ä»¶ä¸­çš„ç¬¦è™Ÿéˆæ¥ -n, \u0026ndash;no-clobber ä¸è¦è¦†å¯«å·²æœ‰çš„æ–‡ä»¶ï¼ˆè¦†è“‹å…ˆå‰çµ¦å‡ºçš„ -i é¸é …ï¼‰ -P, \u0026ndash;no-dereference æ°¸é ä¸è¦è·Ÿéš¨æºæ–‡ä»¶ä¸­çš„ç¬¦è™Ÿéˆæ¥ -p ä¸æ¥å—åƒæ•¸ç‰ˆçš„\u0026ndash;preserve \u0026ndash;preserve[=ATTR_LIST] é™¤è¤‡è£½æ–‡ä»¶çš„å…§å®¹å¤–ï¼Œé‚„æŠŠä¿®æ”¹æ™‚é–“å’Œè¨ªå•æ¬Šé™ä¹Ÿè¤‡è£½åˆ°æ–°æ–‡ä»¶ä¸­ã€‚ä¿ç•™æŒ‡å®šçš„å±¬æ€§ï¼ˆé»˜èªï¼šæ¨¡å¼ã€å¾å±¬é—œä¿‚ã€æ™‚é–“æˆ³ï¼‰ï¼Œå¦‚æœå¯èƒ½çš„è©±é‚„æœ‰é¡å¤–å±¬æ€§ï¼šä¸Šä¸‹æ–‡ã€éˆæ¥ï¼ˆlinksï¼‰ã€xattrã€all \u0026ndash;no-preserve=ATTR_LIST ä¸è¦ä¿ç•™æŒ‡å®šçš„å±¬æ€§ \u0026ndash;parents åœ¨ç›®æ¨™ç›®éŒ„ä¸‹ä½¿ç”¨å®Œæ•´çš„æºæ–‡ä»¶å -R, -r, \u0026ndash;recursive éæ­¸è¤‡è£½ç›®éŒ„ \u0026ndash;reflink[=WHEN] æ§åˆ¶å…‹éš†/å¯«å…¥æ™‚è¤‡è£½ï¼ˆCoWï¼‰å‰¯æœ¬ã€‚è©³æƒ…è¦‹ä¸‹æ–‡ \u0026ndash;remove-destination æ‰“é–‹ç›®çš„ \u0026ndash;sparse=WHEN æ§åˆ¶ç¨€ç–æ–‡ä»¶çš„å‰µå»ºã€‚è©³æƒ…è¦‹ä¸‹æ–‡ \u0026ndash;strip-trailing-slashes ç§»é™¤æ¯å€‹æºæ–‡ä»¶åƒæ•¸å¾Œçš„ä»»ä½•æœ«å°¾æ–œæ§“ -s, \u0026ndash;symbolic-link å»ºç«‹è»Ÿé€£çµè€Œä¸æ˜¯è¤‡åˆ¶ -S, \u0026ndash;suffix=å¾Œç½®å­—ä¸² è¦†è“‹åŸæœ¬çš„å‚™ä»½å¾Œç¶´ -t, \u0026ndash;target-directory=ç›®éŒ„ å°‡æ‰€æœ‰æºæ–‡ä»¶åƒæ•¸çµ¦å‡ºçš„å…§å®¹è¤‡è£½åˆ°ç›®æ¨™ç›®éŒ„ä¸­ -T, \u0026ndash;no-target-directory å°‡ç›®æ¨™æ–‡ä»¶ç•¶ä½œæ™®é€šæ–‡ä»¶å°å¾…ï¼ˆè€Œä¸æ˜¯ç›®éŒ„ï¼‰ -u, \u0026ndash;update åƒ…åœ¨æºæ–‡ä»¶æ¯”ç›®æ¨™æ–‡ä»¶æ–°ï¼Œæˆ–è€…ç›®æ¨™æ–‡ä»¶ä¸å­˜åœ¨çš„æƒ…æ³ä¸‹è¤‡è£½ -v, \u0026ndash;verbose é¡¯ç¤ºè¦†è“‹è¨Šæ¯ -x, \u0026ndash;one-file-system åœç•™åœ¨ç•¶å‰æ–‡ä»¶ç³»çµ±ä¸­ -Z å°‡ç›®æ¨™æ–‡ä»¶çš„ SELinux å®‰å…¨ä¸Šä¸‹æ–‡è¨­ç½®ç‚ºé»˜èªé¡å‹ \u0026ndash;context[=CTX] é¡ä¼¼-Zï¼Œæˆ–è€…å¦‚æœçµ¦å®šäº†ä¸Šä¸‹æ–‡ï¼ˆCTXï¼‰é‚£éº¼å°‡SELinuxæˆ–è€…SMACK å®‰å…¨ä¸Šä¸‹æ–‡è¨­ç½®çˆ²çµ¦å®šå€¼ é»˜èªæƒ…æ³ä¸‹ï¼Œç¨‹åºæœƒä½¿ç”¨ä¸€ç¨®ç²—ç³™çš„å•“ç™¼å¼ç®—æ³•æ¢æ¸¬æºæ–‡ä»¶æ˜¯å¦æ˜¯ç¨€ç–çš„ï¼Œè‹¥åˆ¤å®šçˆ²ç¨€ç–ï¼Œå‰‡ç›®æ¨™æ–‡ä»¶ä¹Ÿæœƒä»¥ç¨€ç–å½¢å¼å‰µå»ºã€‚é€™å€‹è¡Œçˆ²å¯ä»¥é€šé\n--sparse=autoæŒ‡å®šã€‚è‹¥æŒ‡å®š --sparse=alwaysï¼Œå°‡åœ¨æºæ–‡ä»¶åŒ…å«è¶³å¤ å¤šå…§å®¹çˆ²é›¶çš„å­—ç¯€åºåˆ—æ™‚å°‡å…¶è¦–ä½œç¨€ç–æ–‡ä»¶ã€‚ä½¿ç”¨ --sparse=never ä»¥ç¦æ­¢å‰µå»ºç¨€ç–æ–‡ä»¶ã€‚ ç•¶æŒ‡å®šäº†--reflink[=always]æ™‚ï¼Œé€²è¡Œè¼•é‡ç´šè¤‡è£½ï¼Œå…¶ä¸­çš„æ•¸æ“šå¡Šåƒ…åœ¨è¢«ä¿®æ”¹æ™‚é€²è¡Œå¾©åˆ¶ã€‚å¦‚æœé€™æ¨£çš„è¤‡è£½å¤±æ•—ï¼Œæˆ–ç„¡æ³•å¯¦è¡Œï¼Œæˆ–è€…æŒ‡å®šäº†--reflink=autoæ™‚ï¼Œå›é€€åˆ°æ¨™æº–è¤‡è£½ã€‚\nå‚™ä»½çš„å¾Œç¶´çˆ²\u0026quot;~\u0026quot;ï¼Œé™¤éè¨­ç½®äº†--suffixæˆ–è€…SIMPLE_BACKUP_SUFFIXã€‚ç‰ˆæœ¬æ§åˆ¶æ–¹å¼å¯ä»¥ä½¿ç”¨ --backupé¸é …æˆ–è€…VERSION_CONTROLç’°å¢ƒè®Šé‡é€²è¡ŒæŒ‡å®šã€‚å¯ç”¨çš„å€¼å¦‚ä¸‹ï¼š\nnone, offï¼šæ°¸é ä¸è£½ä½œå‚™ä»½ï¼ˆå³ä½¿çµ¦å‡ºäº† \u0026ndash;backup ï¼‰ numbered, tï¼šè£½ä½œç·¨è™Ÿçš„å‚™ä»½ existing, nilï¼šå¦‚æœå·²ç·¨è™Ÿå‰¯æœ¬å­˜åœ¨å‰‡ç·¨è™Ÿï¼Œå¦å‰‡æ¡ç”¨ç°¡å–®æ–¹å¼ simple, neverï¼šç¸½æ˜¯è£½ä½œç°¡å–®å‚™ä»½ ä½œçˆ²ä¸€å€‹ç‰¹ä¾‹ï¼Œcpå°‡åœ¨åŒæ™‚çµ¦å‡ºforceé¸é …èˆ‡backupé¸é …ï¼Œä¸¦ä¸”æºæ–‡ä»¶å’Œç›®æ¨™æ–‡ä»¶æ˜¯åŒä¸€å€‹å·²å­˜åœ¨æ™®é€šæ–‡ä»¶çš„æƒ…æ³ä¸‹è£½ä½œå‚™ä»½å‰¯æœ¬ã€‚ åŸºæœ¬æ“ä½œ è¤‡è£½ç›®éŒ„ cp -r source/ destdir è¤‡è£½ä¸¦æ”¹å cp aaa bbb è¤‡è£½ç›®éŒ„åŠå±¬æ€§ cp -rp source/ destdir è¤‡è£½å¤šæª”åˆ°å–®ç›®éŒ„ä¸‹ cp aaa bbb destdir é€éåŒ¹é…è¤‡è£½ cp *.log dest åƒè€ƒè³‡æ–™ Ubuntu Manpage: cp - è¤‡è£½æ–‡ä»¶å’Œç›®éŒ„ Linux cp æŒ‡ä»¤ç”¨æ³• (link.idv.tw) Linux cp Command Examples (linuxhint.com) ","permalink":"https://sz9751210.github.io/posts/linux-cp/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ cp(copy) ç”¨é€”ï¼šè¤‡è£½æª”æ¡ˆ(copy)å’Œç›®éŒ„ èªæ³• cp [OPTIONS] SOURCE DEST åƒæ•¸ åƒæ•¸ èªªæ˜ -a, \u0026ndash;archive æ•ˆæœåŒ-dpRï¼Œä¿ç•™é€£çµã€æ–‡ä»¶å±¬æ€§ï¼Œä¸¦è¤‡è£½ç›®éŒ„ä¸‹çš„æ‰€æœ‰å…§å®¹ï¼Œé€šå¸¸åœ¨è¤‡è£½ç›®éŒ„æ™‚ä½¿ç”¨ \u0026ndash;attributes-only åªè¤‡è£½æ–‡ä»¶çš„å±¬æ€§ï¼Œå…§å®¹ä¸è¤‡è£½ \u0026ndash;backup[=CONTROL] å‚™ä»½æ¯å€‹ç¾æœ‰çš„ç›®æ¨™æ–‡ä»¶ -b ä¸æ¥å—åƒæ•¸ç‰ˆçš„\u0026ndash;backup \u0026ndash;copy-contents éæ­¸æ¨¡å¼ä¸‹è¤‡è£½ç‰¹æ®Šæ–‡ä»¶çš„å…§å®¹ -d è¤‡è£½æ™‚ä¿ç•™è»Ÿé€£çµ -f, \u0026ndash;force å¼·åˆ¶è¦†è“‹å·²ç¶“å­˜åœ¨çš„ç›®æ¨™æ–‡ä»¶ï¼Œä¸æœƒè·³å‡ºæç¤º -i, \u0026ndash;interactive èˆ‡-fé¸é …ç›¸åï¼Œåœ¨è¦†è“‹ç›®æ¨™æ–‡ä»¶ä¹‹å‰çµ¦å‡ºæç¤ºï¼Œè¦æ±‚ç”¨æˆ¶ç¢ºèªæ˜¯å¦è¦†è“‹ï¼Œå›ç­” y æ™‚ç›®æ¨™æ–‡ä»¶å°‡è¢«è¦†è“‹ã€‚ -H è·Ÿéš¨æºæ–‡ä»¶å‘½ä»¤è¡Œä¸­é¡¯å¼çµ¦å‡ºçš„ç¬¦è™Ÿéˆæ¥ -l, \u0026ndash;link ä½¿ç”¨ç¡¬éˆæ¥å–ä»£è¤‡è£½ -L, \u0026ndash;dereference ç¸½æ˜¯è·Ÿéš¨æºæ–‡ä»¶ä¸­çš„ç¬¦è™Ÿéˆæ¥ -n, \u0026ndash;no-clobber ä¸è¦è¦†å¯«å·²æœ‰çš„æ–‡ä»¶ï¼ˆè¦†è“‹å…ˆå‰çµ¦å‡ºçš„ -i é¸é …ï¼‰ -P, \u0026ndash;no-dereference æ°¸é ä¸è¦è·Ÿéš¨æºæ–‡ä»¶ä¸­çš„ç¬¦è™Ÿéˆæ¥ -p ä¸æ¥å—åƒæ•¸ç‰ˆçš„\u0026ndash;preserve \u0026ndash;preserve[=ATTR_LIST] é™¤è¤‡è£½æ–‡ä»¶çš„å…§å®¹å¤–ï¼Œé‚„æŠŠä¿®æ”¹æ™‚é–“å’Œè¨ªå•æ¬Šé™ä¹Ÿè¤‡è£½åˆ°æ–°æ–‡ä»¶ä¸­ã€‚ä¿ç•™æŒ‡å®šçš„å±¬æ€§ï¼ˆé»˜èªï¼šæ¨¡å¼ã€å¾å±¬é—œä¿‚ã€æ™‚é–“æˆ³ï¼‰ï¼Œå¦‚æœå¯èƒ½çš„è©±é‚„æœ‰é¡å¤–å±¬æ€§ï¼šä¸Šä¸‹æ–‡ã€éˆæ¥ï¼ˆlinksï¼‰ã€xattrã€all \u0026ndash;no-preserve=ATTR_LIST ä¸è¦ä¿ç•™æŒ‡å®šçš„å±¬æ€§ \u0026ndash;parents åœ¨ç›®æ¨™ç›®éŒ„ä¸‹ä½¿ç”¨å®Œæ•´çš„æºæ–‡ä»¶å -R, -r, \u0026ndash;recursive éæ­¸è¤‡è£½ç›®éŒ„ \u0026ndash;reflink[=WHEN] æ§åˆ¶å…‹éš†/å¯«å…¥æ™‚è¤‡è£½ï¼ˆCoWï¼‰å‰¯æœ¬ã€‚è©³æƒ…è¦‹ä¸‹æ–‡ \u0026ndash;remove-destination æ‰“é–‹ç›®çš„ \u0026ndash;sparse=WHEN æ§åˆ¶ç¨€ç–æ–‡ä»¶çš„å‰µå»ºã€‚è©³æƒ…è¦‹ä¸‹æ–‡ \u0026ndash;strip-trailing-slashes ç§»é™¤æ¯å€‹æºæ–‡ä»¶åƒæ•¸å¾Œçš„ä»»ä½•æœ«å°¾æ–œæ§“ -s, \u0026ndash;symbolic-link å»ºç«‹è»Ÿé€£çµè€Œä¸æ˜¯è¤‡åˆ¶ -S, \u0026ndash;suffix=å¾Œç½®å­—ä¸² è¦†è“‹åŸæœ¬çš„å‚™ä»½å¾Œç¶´ -t, \u0026ndash;target-directory=ç›®éŒ„ å°‡æ‰€æœ‰æºæ–‡ä»¶åƒæ•¸çµ¦å‡ºçš„å…§å®¹è¤‡è£½åˆ°ç›®æ¨™ç›®éŒ„ä¸­ -T, \u0026ndash;no-target-directory å°‡ç›®æ¨™æ–‡ä»¶ç•¶ä½œæ™®é€šæ–‡ä»¶å°å¾…ï¼ˆè€Œä¸æ˜¯ç›®éŒ„ï¼‰ -u, \u0026ndash;update åƒ…åœ¨æºæ–‡ä»¶æ¯”ç›®æ¨™æ–‡ä»¶æ–°ï¼Œæˆ–è€…ç›®æ¨™æ–‡ä»¶ä¸å­˜åœ¨çš„æƒ…æ³ä¸‹è¤‡è£½ -v, \u0026ndash;verbose é¡¯ç¤ºè¦†è“‹è¨Šæ¯ -x, \u0026ndash;one-file-system åœç•™åœ¨ç•¶å‰æ–‡ä»¶ç³»çµ±ä¸­ -Z å°‡ç›®æ¨™æ–‡ä»¶çš„ SELinux å®‰å…¨ä¸Šä¸‹æ–‡è¨­ç½®ç‚ºé»˜èªé¡å‹ \u0026ndash;context[=CTX] é¡ä¼¼-Zï¼Œæˆ–è€…å¦‚æœçµ¦å®šäº†ä¸Šä¸‹æ–‡ï¼ˆCTXï¼‰é‚£éº¼å°‡SELinuxæˆ–è€…SMACK å®‰å…¨ä¸Šä¸‹æ–‡è¨­ç½®çˆ²çµ¦å®šå€¼ é»˜èªæƒ…æ³ä¸‹ï¼Œç¨‹åºæœƒä½¿ç”¨ä¸€ç¨®ç²—ç³™çš„å•“ç™¼å¼ç®—æ³•æ¢æ¸¬æºæ–‡ä»¶æ˜¯å¦æ˜¯ç¨€ç–çš„ï¼Œè‹¥åˆ¤å®šçˆ²ç¨€ç–ï¼Œå‰‡ç›®æ¨™æ–‡ä»¶ä¹Ÿæœƒä»¥ç¨€ç–å½¢å¼å‰µå»ºã€‚é€™å€‹è¡Œçˆ²å¯ä»¥é€šé","title":"Linux è¤‡è£½æª”æ¡ˆ[cp]"},{"content":"å› ç‚ºgitå¿½ç•¥çš„åŸå‰‡ç‚ºä¹‹å‰æ²’æœ‰è¢«è¿½è¹¤çš„æª”æ¡ˆï¼Œå› æ­¤å¯èƒ½é–‹ç™¼åˆ°ä¸€åŠæ‰æœƒéœ€è¦æ–°å¢gitignoreä¾†é€²è¡Œå¿½ç•¥ï¼Œä½†æ˜¯å¤±æ•ˆ\nè§£æ±ºçš„è¾¦æ³•ç‚ºåˆªæ‰æœ¬åœ°å¿«å–(æ”¹è®Šæˆæœªè¢«è¿½è¹¤çš„ç‹€æ…‹)ï¼Œæ¥è‘—åœ¨æ–°å¢è¦å¿½ç•¥çš„æª”æ¡ˆåˆ°gitignoreè£¡\ngit rm -r --cached . git add . git commit -m \u0026#34;init gitignore\u0026#34; ","permalink":"https://sz9751210.github.io/posts/gitignore%E5%A4%B1%E6%95%88%E7%9A%84%E8%A7%A3%E6%B1%BA%E8%BE%A6%E6%B3%95/","summary":"å› ç‚ºgitå¿½ç•¥çš„åŸå‰‡ç‚ºä¹‹å‰æ²’æœ‰è¢«è¿½è¹¤çš„æª”æ¡ˆï¼Œå› æ­¤å¯èƒ½é–‹ç™¼åˆ°ä¸€åŠæ‰æœƒéœ€è¦æ–°å¢gitignoreä¾†é€²è¡Œå¿½ç•¥ï¼Œä½†æ˜¯å¤±æ•ˆ\nè§£æ±ºçš„è¾¦æ³•ç‚ºåˆªæ‰æœ¬åœ°å¿«å–(æ”¹è®Šæˆæœªè¢«è¿½è¹¤çš„ç‹€æ…‹)ï¼Œæ¥è‘—åœ¨æ–°å¢è¦å¿½ç•¥çš„æª”æ¡ˆåˆ°gitignoreè£¡\ngit rm -r --cached . git add . git commit -m \u0026#34;init gitignore\u0026#34; ","title":"gitignoreå¤±æ•ˆçš„è§£æ±ºè¾¦æ³•"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ chmod(change mode) ç”¨é€”ï¼šæ§åˆ¶ç”¨æˆ¶å°æ–‡ä»¶çš„æ¬Šé™ï¼Œlinux çš„æ–‡ä»¶æ¬Šé™åˆ†ç‚ºä¸‰ç¨®èº«åˆ†ï¼Œowner/group/othersï¼Œè€Œæ¬Šé™ä¹Ÿåˆ†ç‚ºä¸‰ç¨®ï¼Œread/write/executeï¼Œæ¬Šé‡å¦‚ä¸‹è¡¨æ ¼ æ¬Šé™ æ¬Šé‡ r 4 w 2 x 1 èªæ³• chmod [OPTIONS] [mode] [æª”æ¡ˆæˆ–ç›®éŒ„] åƒæ•¸ åƒæ•¸ èªªæ˜ -c, \u0026ndash;changes æ•ˆæœé¡ä¼¼\u0026quot;-v\u0026quot;åƒæ•¸ï¼Œä½†åƒ…å›å ±æ›´æ”¹çš„éƒ¨åˆ†ã€‚ -f, \u0026ndash;silent, \u0026ndash;quiet ä¸é¡¯ç¤ºéŒ¯èª¤è³‡è¨Šã€‚ -v, \u0026ndash;verbose é¡¯ç¤ºæŒ‡ä»¤åŸ·è¡Œéç¨‹ã€‚ \u0026ndash;no-preserve-root å–æ¶ˆå° root æ–‡ä»¶ç³»çµ±çš„ä¿è­· \u0026ndash;preserve-root ä¿ç•™å° root æ–‡ä»¶ç³»çµ±çš„ä¿è­· \u0026ndash;reference=RFILE æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®éŒ„çš„æ¬Šé™å…¨éƒ¨è¨­æˆå’Œåƒè€ƒæ–‡ä»¶æˆ–ç›®éŒ„çš„æ¬Šé™ç›¸åŒã€‚ -R, \u0026ndash;recursive éè¿´è™•ç†ï¼Œå°‡æŒ‡å®šç›®éŒ„ä¸‹çš„æ‰€æœ‰æª”åŠå­ç›®éŒ„ä¸€ä½µè™•ç†ã€‚ ç¬¦è™Ÿæ¨¡å¼ who(ç”¨æˆ¶é¡å‹) èªªæ˜ u(user) æ‰€æœ‰è€… g(group) æ‰€å±¬çµ„ o(others) å…¶ä»–ç”¨æˆ¶ a(all) æ‰€æœ‰ç”¨æˆ¶ï¼Œç­‰æ–¼ugo operator èªªæ˜ + æ–°å¢æ¬Šé™ - ç§»é™¤æ¬Šé™ = è¨­å®šæ¬Šé™ æ¨¡å¼ èªªæ˜ r å¯è®€æ¬Šé™ w å¯å¯«æ¬Šé™ x å¯åŸ·è¡Œæ¬Šé™ çµ•å°æ¨¡å¼ åƒæ•¸ æ¬Šé™ rwx 7 è®€+å¯«+åŸ·è¡Œ rwx 6 è®€+å¯« rw- 5 è®€+åŸ·è¡Œ r-x 4 åªè®€ r\u0026ndash; 3 å¯«+åŸ·è¡Œ -wx 2 åªå¯« -w- 1 åªåŸ·è¡Œ \u0026ndash;x 0 ç„¡ \u0026mdash; åŸºæœ¬æ“ä½œ å°‡æª”æ¡ˆè®Šæˆuserå¯åŸ·è¡Œ å‡è¨­åŸæœ¬æª”æ¡ˆæ¬Šé™ç‚º-rw-rw-r--\næŒ‡ä»¤ mode chmod u+x chmod u=rwx chmod 764 å°‡æª”æ¡ˆè¨­å®šuserå¯å¯«ï¼Œgroupä»¥åŠothersç„¡æ³•å¯« å‡è¨­åŸæœ¬æª”æ¡ˆæ¬Šé™ç‚º-r--rw-rw-\næŒ‡ä»¤ mode chmod u+w,go-w chmod u=rw,go=r chmod 644 å°‡è³‡æ–™å¤¾åº•ä¸‹çš„æ¬Šé™éƒ½è¨­å®šä¸€æ¨£çš„ chmod -R a+r dirName ","permalink":"https://sz9751210.github.io/posts/linux-chmod/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ chmod(change mode) ç”¨é€”ï¼šæ§åˆ¶ç”¨æˆ¶å°æ–‡ä»¶çš„æ¬Šé™ï¼Œlinux çš„æ–‡ä»¶æ¬Šé™åˆ†ç‚ºä¸‰ç¨®èº«åˆ†ï¼Œowner/group/othersï¼Œè€Œæ¬Šé™ä¹Ÿåˆ†ç‚ºä¸‰ç¨®ï¼Œread/write/executeï¼Œæ¬Šé‡å¦‚ä¸‹è¡¨æ ¼ æ¬Šé™ æ¬Šé‡ r 4 w 2 x 1 èªæ³• chmod [OPTIONS] [mode] [æª”æ¡ˆæˆ–ç›®éŒ„] åƒæ•¸ åƒæ•¸ èªªæ˜ -c, \u0026ndash;changes æ•ˆæœé¡ä¼¼\u0026quot;-v\u0026quot;åƒæ•¸ï¼Œä½†åƒ…å›å ±æ›´æ”¹çš„éƒ¨åˆ†ã€‚ -f, \u0026ndash;silent, \u0026ndash;quiet ä¸é¡¯ç¤ºéŒ¯èª¤è³‡è¨Šã€‚ -v, \u0026ndash;verbose é¡¯ç¤ºæŒ‡ä»¤åŸ·è¡Œéç¨‹ã€‚ \u0026ndash;no-preserve-root å–æ¶ˆå° root æ–‡ä»¶ç³»çµ±çš„ä¿è­· \u0026ndash;preserve-root ä¿ç•™å° root æ–‡ä»¶ç³»çµ±çš„ä¿è­· \u0026ndash;reference=RFILE æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®éŒ„çš„æ¬Šé™å…¨éƒ¨è¨­æˆå’Œåƒè€ƒæ–‡ä»¶æˆ–ç›®éŒ„çš„æ¬Šé™ç›¸åŒã€‚ -R, \u0026ndash;recursive éè¿´è™•ç†ï¼Œå°‡æŒ‡å®šç›®éŒ„ä¸‹çš„æ‰€æœ‰æª”åŠå­ç›®éŒ„ä¸€ä½µè™•ç†ã€‚ ç¬¦è™Ÿæ¨¡å¼ who(ç”¨æˆ¶é¡å‹) èªªæ˜ u(user) æ‰€æœ‰è€… g(group) æ‰€å±¬çµ„ o(others) å…¶ä»–ç”¨æˆ¶ a(all) æ‰€æœ‰ç”¨æˆ¶ï¼Œç­‰æ–¼ugo operator èªªæ˜ + æ–°å¢æ¬Šé™ - ç§»é™¤æ¬Šé™ = è¨­å®šæ¬Šé™ æ¨¡å¼ èªªæ˜ r å¯è®€æ¬Šé™ w å¯å¯«æ¬Šé™ x å¯åŸ·è¡Œæ¬Šé™ çµ•å°æ¨¡å¼ åƒæ•¸ æ¬Šé™ rwx 7 è®€+å¯«+åŸ·è¡Œ rwx 6 è®€+å¯« rw- 5 è®€+åŸ·è¡Œ r-x 4 åªè®€ r\u0026ndash; 3 å¯«+åŸ·è¡Œ -wx 2 åªå¯« -w- 1 åªåŸ·è¡Œ \u0026ndash;x 0 ç„¡ \u0026mdash; åŸºæœ¬æ“ä½œ å°‡æª”æ¡ˆè®Šæˆuserå¯åŸ·è¡Œ å‡è¨­åŸæœ¬æª”æ¡ˆæ¬Šé™ç‚º-rw-rw-r--","title":"Linux ä¿®æ”¹æ¬Šé™[chmod]"},{"content":"ç´€éŒ„ä¸€ä¸‹hugoçš„å»ºç½®éç¨‹\n1. å®‰è£hugo windowså®‰è£ Chocolatey choco install hugo -confirm Scoop scoop install hugo macoså®‰è£ brew install hugo linuxå®‰è£ sudo apt-get install hugo 2. å»ºç«‹ç¶²ç«™ hugo new site myblog -f yaml 3. ä¸‹è¼‰ä¸»é¡Œ git clone https://github.com/adityatelange/hugo-PaperMod themes/PaperMod --depth=1 4. å»ºç«‹about, tags page å»ºç«‹about page hugo new about.md ä¿®æ”¹configæª” menu: main: - identifier: tags name: tags url: /tags/ weight: 1 - identifier: about name: about url: /about/ weight: 2 5. ä¾ç…§éœ€æ±‚ç¾åŒ–ç‰ˆé¢ Hugo PaperMod å„ªåŒ–\n6. æ¨åˆ°github ä¿®æ”¹configæª”çš„baseURLç‚ºè‡ªå·±çš„github.ioç¶²å€ åˆªæ‰themeåº•ä¸‹çš„.gitï¼Œå¦‚æœæœ‰è‡ªå·±ä¿®æ”¹çš„è©±å°±ç‰ˆæ§é€™å€‹ä¸»é¡Œ å°‡è‡ªå·±çš„github.ioçš„repoè¨­å®šæˆsubmodule git submodule add git@github.com:sz9751210/sz9751210.github.io.git public åœ¨myblogä¸‹hugoç”Ÿæˆéœæ…‹ç¶²é  åˆ°publicè³‡æ–™å¤¾å°‡ç”Ÿæˆçš„æª”æ¡ˆéƒ½æ¨åˆ°github.ioçš„repo åˆ°è‡ªå·±çš„github pageæŸ¥çœ‹çµæœ ","permalink":"https://sz9751210.github.io/posts/hugo-setup/","summary":"ç´€éŒ„ä¸€ä¸‹hugoçš„å»ºç½®éç¨‹\n1. å®‰è£hugo windowså®‰è£ Chocolatey choco install hugo -confirm Scoop scoop install hugo macoså®‰è£ brew install hugo linuxå®‰è£ sudo apt-get install hugo 2. å»ºç«‹ç¶²ç«™ hugo new site myblog -f yaml 3. ä¸‹è¼‰ä¸»é¡Œ git clone https://github.com/adityatelange/hugo-PaperMod themes/PaperMod --depth=1 4. å»ºç«‹about, tags page å»ºç«‹about page hugo new about.md ä¿®æ”¹configæª” menu: main: - identifier: tags name: tags url: /tags/ weight: 1 - identifier: about name: about url: /about/ weight: 2 5. ä¾ç…§éœ€æ±‚ç¾åŒ–ç‰ˆé¢ Hugo PaperMod å„ªåŒ–","title":"Hugo Setup"},{"content":"ç°¡å–®ç´€éŒ„ä¸€ä¸‹papermodä¸»é¡Œçš„å„ªåŒ–ï¼ŒæŒçºŒæ›´æ–°\u0026hellip;\n1. ç›®éŒ„æ”¾å´é‚Š æ›¿æ›ä»¥ä¸‹è·¯å¾‘çš„code layouts/partials/toc.html\n{{- $headers := findRE \u0026#34;\u0026lt;h[1-6].*?\u0026gt;(.|\\n])+?\u0026lt;/h[1-6]\u0026gt;\u0026#34; .Content -}} {{- $has_headers := ge (len $headers) 1 -}} {{- if $has_headers -}} \u0026lt;aside id=\u0026#34;toc-container\u0026#34; class=\u0026#34;toc-container wide\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;toc\u0026#34;\u0026gt; \u0026lt;details {{if (.Param \u0026#34;TocOpen\u0026#34;) }} open{{ end }}\u0026gt; \u0026lt;summary accesskey=\u0026#34;c\u0026#34; title=\u0026#34;(Alt + C)\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;details\u0026#34;\u0026gt;{{- i18n \u0026#34;toc\u0026#34; | default \u0026#34;Table of Contents\u0026#34; }}\u0026lt;/span\u0026gt; \u0026lt;/summary\u0026gt; \u0026lt;div class=\u0026#34;inner\u0026#34;\u0026gt; {{- $largest := 6 -}} {{- range $headers -}} {{- $headerLevel := index (findRE \u0026#34;[1-6]\u0026#34; . 1) 0 -}} {{- $headerLevel := len (seq $headerLevel) -}} {{- if lt $headerLevel $largest -}} {{- $largest = $headerLevel -}} {{- end -}} {{- end -}} {{- $firstHeaderLevel := len (seq (index (findRE \u0026#34;[1-6]\u0026#34; (index $headers 0) 1) 0)) -}} {{- $.Scratch.Set \u0026#34;bareul\u0026#34; slice -}} \u0026lt;ul\u0026gt; {{- range seq (sub $firstHeaderLevel $largest) -}} \u0026lt;ul\u0026gt; {{- $.Scratch.Add \u0026#34;bareul\u0026#34; (sub (add $largest .) 1) -}} {{- end -}} {{- range $i, $header := $headers -}} {{- $headerLevel := index (findRE \u0026#34;[1-6]\u0026#34; . 1) 0 -}} {{- $headerLevel := len (seq $headerLevel) -}} {{/* get id=\u0026#34;xyz\u0026#34; */}} {{- $id := index (findRE \u0026#34;(id=\\\u0026#34;(.*?)\\\u0026#34;)\u0026#34; $header 9) 0 }} {{- /* strip id=\u0026#34;\u0026#34; to leave xyz, no way to get regex capturing groups in hugo */ -}} {{- $cleanedID := replace (replace $id \u0026#34;id=\\\u0026#34;\u0026#34; \u0026#34;\u0026#34;) \u0026#34;\\\u0026#34;\u0026#34; \u0026#34;\u0026#34; }} {{- $header := replaceRE \u0026#34;\u0026lt;h[1-6].*?\u0026gt;((.|\\n])+?)\u0026lt;/h[1-6]\u0026gt;\u0026#34; \u0026#34;$1\u0026#34; $header -}} {{- if ne $i 0 -}} {{- $prevHeaderLevel := index (findRE \u0026#34;[1-6]\u0026#34; (index $headers (sub $i 1)) 1) 0 -}} {{- $prevHeaderLevel := len (seq $prevHeaderLevel) -}} {{- if gt $headerLevel $prevHeaderLevel -}} {{- range seq $prevHeaderLevel (sub $headerLevel 1) -}} \u0026lt;ul\u0026gt; {{/* the first should not be recorded */}} {{- if ne $prevHeaderLevel . -}} {{- $.Scratch.Add \u0026#34;bareul\u0026#34; . -}} {{- end -}} {{- end -}} {{- else -}} \u0026lt;/li\u0026gt; {{- if lt $headerLevel $prevHeaderLevel -}} {{- range seq (sub $prevHeaderLevel 1) -1 $headerLevel -}} {{- if in ($.Scratch.Get \u0026#34;bareul\u0026#34;) . -}} \u0026lt;/ul\u0026gt; {{/* manually do pop item */}} {{- $tmp := $.Scratch.Get \u0026#34;bareul\u0026#34; -}} {{- $.Scratch.Delete \u0026#34;bareul\u0026#34; -}} {{- $.Scratch.Set \u0026#34;bareul\u0026#34; slice}} {{- range seq (sub (len $tmp) 1) -}} {{- $.Scratch.Add \u0026#34;bareul\u0026#34; (index $tmp (sub . 1)) -}} {{- end -}} {{- else -}} \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; {{- end -}} {{- end -}} {{- end -}} {{- end }} \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#{{- $cleanedID -}}\u0026#34; aria-label=\u0026#34;{{- $header | plainify -}}\u0026#34;\u0026gt;{{- $header | safeHTML -}}\u0026lt;/a\u0026gt; {{- else }} \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;#{{- $cleanedID -}}\u0026#34; aria-label=\u0026#34;{{- $header | plainify -}}\u0026#34;\u0026gt;{{- $header | safeHTML -}}\u0026lt;/a\u0026gt; {{- end -}} {{- end -}} \u0026lt;!-- {{- $firstHeaderLevel := len (seq (index (findRE \u0026#34;[1-6]\u0026#34; (index $headers 0) 1) 0)) -}} --\u0026gt; {{- $firstHeaderLevel := $largest }} {{- $lastHeaderLevel := len (seq (index (findRE \u0026#34;[1-6]\u0026#34; (index $headers (sub (len $headers) 1)) 1) 0)) }} \u0026lt;/li\u0026gt; {{- range seq (sub $lastHeaderLevel $firstHeaderLevel) -}} {{- if in ($.Scratch.Get \u0026#34;bareul\u0026#34;) (add . $firstHeaderLevel) }} \u0026lt;/ul\u0026gt; {{- else }} \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; {{- end -}} {{- end }} \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/details\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/aside\u0026gt; \u0026lt;script\u0026gt; let activeElement; let elements; window.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function (event) { checkTocPosition(); elements = document.querySelectorAll(\u0026#39;h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]\u0026#39;); // Make the first header active activeElement = elements[0]; const id = encodeURI(activeElement.getAttribute(\u0026#39;id\u0026#39;)).toLowerCase(); document.querySelector(`.inner ul li a[href=\u0026#34;#${id}\u0026#34;]`).classList.add(\u0026#39;active\u0026#39;); }, false); window.addEventListener(\u0026#39;resize\u0026#39;, function(event) { checkTocPosition(); }, false); window.addEventListener(\u0026#39;scroll\u0026#39;, () =\u0026gt; { // Check if there is an object in the top half of the screen or keep the last item active activeElement = Array.from(elements).find((element) =\u0026gt; { if ((getOffsetTop(element) - window.pageYOffset) \u0026gt; 0 \u0026amp;\u0026amp; (getOffsetTop(element) - window.pageYOffset) \u0026lt; window.innerHeight/2) { return element; } }) || activeElement elements.forEach(element =\u0026gt; { const id = encodeURI(element.getAttribute(\u0026#39;id\u0026#39;)).toLowerCase(); if (element === activeElement){ document.querySelector(`.inner ul li a[href=\u0026#34;#${id}\u0026#34;]`).classList.add(\u0026#39;active\u0026#39;); } else { document.querySelector(`.inner ul li a[href=\u0026#34;#${id}\u0026#34;]`).classList.remove(\u0026#39;active\u0026#39;); } }) }, false); const main = parseInt(getComputedStyle(document.body).getPropertyValue(\u0026#39;--article-width\u0026#39;), 10); const toc = parseInt(getComputedStyle(document.body).getPropertyValue(\u0026#39;--toc-width\u0026#39;), 10); const gap = parseInt(getComputedStyle(document.body).getPropertyValue(\u0026#39;--gap\u0026#39;), 10); function checkTocPosition() { const width = document.body.scrollWidth; if (width - main - (toc * 2) - (gap * 4) \u0026gt; 0) { document.getElementById(\u0026#34;toc-container\u0026#34;).classList.add(\u0026#34;wide\u0026#34;); } else { document.getElementById(\u0026#34;toc-container\u0026#34;).classList.remove(\u0026#34;wide\u0026#34;); } } function getOffsetTop(element) { if (!element.getClientRects().length) { return 0; } let rect = element.getBoundingClientRect(); let win = element.ownerDocument.defaultView; return rect.top + win.pageYOffset; } \u0026lt;/script\u0026gt; {{- end }} åœ¨\\themes\\PaperMod\\assets\\css\\extendedåº•ä¸‹æ–°å»ºä¸€å€‹.cssæª”ï¼Œå‘½åç‚ºtoc-left.css\n:root { --nav-width: 1380px; --article-width: 650px; --toc-width: 300px; } .toc { margin: 0 2px 40px 2px; border: 1px solid var(--border); background: var(--entry); border-radius: var(--radius); padding: 0.4em; } .toc-container.wide { position: absolute; height: 100%; border-right: 1px solid var(--border); left: calc((var(--toc-width) + var(--gap)) * -1); top: calc(var(--gap) * 2); width: var(--toc-width); } .wide .toc { position: sticky; top: var(--gap); border: unset; background: unset; border-radius: unset; width: 100%; margin: 0 2px 40px 2px; } .toc details summary { cursor: zoom-in; margin-inline-start: 20px; padding: 12px 0; } .toc details[open] summary { font-weight: 500; } .toc-container.wide .toc .inner { margin: 0; } .active { font-size: 110%; font-weight: 600; } .toc ul { list-style-type: circle; } .toc .inner { margin: 0 0 0 20px; padding: 0px 15px 15px 20px; font-size: 16px; /*ç›®å½•æ˜¾ç¤ºé«˜åº¦*/ max-height: 83vh; overflow-y: auto; } .toc .inner::-webkit-scrollbar-thumb { /*æ»šåŠ¨æ¡*/ background: var(--border); border: 7px solid var(--theme); border-radius: var(--radius); } .toc li ul { margin-inline-start: calc(var(--gap) * 0.5); list-style-type: none; } .toc li { list-style: none; font-size: 0.95rem; padding-bottom: 5px; } .toc li a:hover { color: var(--secondary); } 2. ä¸»é åœ–ç‰‡ç¸®å°æ“ºå³å´ åˆ°layouts/_default/list.htmlï¼Œæ–°å¢ä¸€å€‹divï¼Œå‘½åç‚ºpost-infoï¼ŒæŠŠentry-headerä»¥åŠentry-contentåŒ…é€²å» \u0026lt;article class=\u0026#34;{{ $class }}\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;post-info\u0026#34;\u0026gt; \u0026lt;!--åŠ åœ¨é€™è£¡--\u0026gt; \u0026lt;header class=\u0026#34;entry-header\u0026#34;\u0026gt; \u0026lt;h2\u0026gt; {{- .Title }} {{- if .Draft }}\u0026lt;sup\u0026gt;\u0026lt;span class=\u0026#34;entry-isdraft\u0026#34;\u0026gt;\u0026amp;nbsp;\u0026amp;nbsp;[draft]\u0026lt;/span\u0026gt;\u0026lt;/sup\u0026gt;{{- end }} \u0026lt;/h2\u0026gt; \u0026lt;/header\u0026gt; {{- if (ne (.Param \u0026#34;hideSummary\u0026#34;) true) }} \u0026lt;div class=\u0026#34;entry-content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;{{ .Summary | plainify | htmlUnescape }}{{ if .Truncated }}...{{ end }}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; {{- end }} {{- if not (.Param \u0026#34;hideMeta\u0026#34;) }} \u0026lt;footer class=\u0026#34;entry-footer\u0026#34;\u0026gt; {{- partial \u0026#34;post_meta.html\u0026#34; . -}} \u0026lt;/footer\u0026gt; {{- end }} \u0026lt;/div\u0026gt; \u0026lt;!--åŠ åœ¨é€™è£¡--\u0026gt; \u0026lt;!-- ä¸‹é¢é€™å…©è¡Œå¾åŸæœ¬çš„\u0026lt;article class=\u0026#34;{{ $class }}\u0026#34;\u0026gt;å’Œ\u0026lt;header class=\u0026#34;entry-header\u0026#34;\u0026gt;æ¬ä¸‹ä¾† --\u0026gt; {{- $isHidden := (site.Params.cover.hidden | default site.Params.cover.hiddenInList) }} {{- partial \u0026#34;cover.html\u0026#34; (dict \u0026#34;cxt\u0026#34; . \u0026#34;IsHome\u0026#34; true \u0026#34;isHidden\u0026#34; $isHidden) }} \u0026lt;a class=\u0026#34;entry-link\u0026#34; aria-label=\u0026#34;post link to {{ .Title | plainify }}\u0026#34; href=\u0026#34;{{ .Permalink }}\u0026#34;\u0026gt;\u0026lt;/a\u0026gt; \u0026lt;/article\u0026gt; {{- end }} åœ¨\\themes\\PaperMod\\assets\\css\\extendedåº•ä¸‹æ–°å»ºä¸€å€‹.cssæª”ï¼Œå‘½åç‚ºimage-left.css .post-entry { display: flex; flex-direction: row; align-items: center; } .entry-cover { overflow: hidden; padding-left: 18px; height: 100%; width: 50%; margin-bottom: unset; } .post-info { display: inline-block; overflow: hidden; width: 90%; } ä¿®æ”¹ä¸»é èˆ‡å…§æ–‡çš„å·®ç•°\nåœ¨layouts/partials/cover.htmlï¼Œè¤‡è£½ä¸€ä»½ä¸¦å‘½åç‚ºcover1.html æŠŠcover1.htmlè£¡çš„\u0026lt;figure class=\u0026quot;entry-cover\u0026quot;\u0026gt;æ”¹ç‚º\u0026lt;figure class=\u0026quot;entry-cover1\u0026quot;\u0026gt; åœ¨layouts/_default/single.htmlæŠŠ{{- partial \u0026quot;cover.html\u0026quot; (dict \u0026quot;cxt\u0026quot; . \u0026quot;IsHome\u0026quot; false \u0026quot;isHidden\u0026quot; $isHidden) }}æ”¹ç‚º{{- partial \u0026quot;cover1.html\u0026quot; (dict \u0026quot;cxt\u0026quot; . \u0026quot;IsHome\u0026quot; false \u0026quot;isHidden\u0026quot; $isHidden) }} 3. Macé¢¨æ ¼çš„code blocks åœ¨\\themes\\PaperMod\\assets\\css\\extendedåº•ä¸‹æ–°å»ºä¸€å€‹.cssæª”ï¼Œå‘½åç‚ºmac-code-blocks.css\npre { position: relative; padding: 30px 10px 10px 10px; } .post-content pre code { font-family: Consolas; } pre::after { display: block; content: \u0026#34; \u0026#34;; position: absolute; border-radius: 50%; background: #ff5f56; width: 12px; height: 12px; top: 0; left: 12px; margin-top: 12px; -webkit-box-shadow: 20px 0 #ffbd2e, 40px 0 #27c93f; box-shadow: 20px 0 #ffbd2e, 40px 0 #27c93f; } 4. è®“tagsèˆ‡categoriesé é¢çš„æ–‡ç« ä¹Ÿé¡¯ç¤ºç¸®åœ– assets/css/common/post-entry.css\n.tag-entry .entry-cover { display: flex; } ","permalink":"https://sz9751210.github.io/posts/hugo-papermod-enforce/","summary":"ç°¡å–®ç´€éŒ„ä¸€ä¸‹papermodä¸»é¡Œçš„å„ªåŒ–ï¼ŒæŒçºŒæ›´æ–°\u0026hellip;\n1. ç›®éŒ„æ”¾å´é‚Š æ›¿æ›ä»¥ä¸‹è·¯å¾‘çš„code layouts/partials/toc.html\n{{- $headers := findRE \u0026#34;\u0026lt;h[1-6].*?\u0026gt;(.|\\n])+?\u0026lt;/h[1-6]\u0026gt;\u0026#34; .Content -}} {{- $has_headers := ge (len $headers) 1 -}} {{- if $has_headers -}} \u0026lt;aside id=\u0026#34;toc-container\u0026#34; class=\u0026#34;toc-container wide\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;toc\u0026#34;\u0026gt; \u0026lt;details {{if (.Param \u0026#34;TocOpen\u0026#34;) }} open{{ end }}\u0026gt; \u0026lt;summary accesskey=\u0026#34;c\u0026#34; title=\u0026#34;(Alt + C)\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;details\u0026#34;\u0026gt;{{- i18n \u0026#34;toc\u0026#34; | default \u0026#34;Table of Contents\u0026#34; }}\u0026lt;/span\u0026gt; \u0026lt;/summary\u0026gt; \u0026lt;div class=\u0026#34;inner\u0026#34;\u0026gt; {{- $largest := 6 -}} {{- range $headers -}} {{- $headerLevel := index (findRE \u0026#34;[1-6]\u0026#34; .","title":"Hugo PaperMod å„ªåŒ–"},{"content":" Know How, Know Why, Know What and When æŠŠæ™‚é–“èŠ±åœ¨å“ªè£¡ï¼Œæˆå°±å°±åœ¨å“ªè£¡ time is your most valuable resource, speed is your best friend ç”¨å¯¦ä½œä¾†å­¸ç¿’ï¼Œæ°¸é æ˜¯åˆå­¸çš„ç‹é“!ä»¥å¯¦æˆ°ä¾†ç·´ç¿’ï¼Œæ°¸é æ˜¯é€²éšçš„æ·å¾‘! Practice makes perfect. All experience comes from mistakes. Don\u0026rsquo;t be one of the leeches. ","permalink":"https://sz9751210.github.io/quote/","summary":" Know How, Know Why, Know What and When æŠŠæ™‚é–“èŠ±åœ¨å“ªè£¡ï¼Œæˆå°±å°±åœ¨å“ªè£¡ time is your most valuable resource, speed is your best friend ç”¨å¯¦ä½œä¾†å­¸ç¿’ï¼Œæ°¸é æ˜¯åˆå­¸çš„ç‹é“!ä»¥å¯¦æˆ°ä¾†ç·´ç¿’ï¼Œæ°¸é æ˜¯é€²éšçš„æ·å¾‘! Practice makes perfect. All experience comes from mistakes. Don\u0026rsquo;t be one of the leeches. ","title":"Quote"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ chgrp(change group) ç”¨é€”ï¼šç”¨æ–¼æ”¹è®Šæ–‡ä»¶æˆ–ç›®éŒ„çš„æ‰€å±¬ç¾¤çµ„ èªæ³• chgrp [OPTIONS] [æ–‡ä»¶æˆ–ç›®éŒ„] åƒæ•¸ åƒæ•¸ èªªæ˜ -c, \u0026ndash;changes æ•ˆæœé¡ä¼¼\u0026quot;-v\u0026quot;åƒæ•¸ï¼Œä½†åƒ…å›å ±æ›´æ”¹çš„éƒ¨åˆ†ã€‚ -f, \u0026ndash;silent, \u0026ndash;quiet ä¸é¡¯ç¤ºéŒ¯èª¤è³‡è¨Šã€‚ -v, \u0026ndash;verbose é¡¯ç¤ºæŒ‡ä»¤åŸ·è¡Œéç¨‹ã€‚ \u0026ndash;dereference èˆ‡-hç›¸åï¼Œåªå°é€£çµçš„å°è±¡åšä¿®æ”¹ï¼Œè€Œä¸æ˜¯é€£çµæœ¬èº« -h, \u0026ndash;no-dereference åªå°è»Ÿé€£çµçš„æª”ä½œä¿®æ”¹ï¼Œè€Œä¸æ›´å‹•å…¶ä»–ä»»ä½•ç›¸é—œæª”ã€‚ \u0026ndash;no-preserve-root å–æ¶ˆå° root æ–‡ä»¶ç³»çµ±çš„ä¿è­· \u0026ndash;preserve-root ä¿ç•™å° root æ–‡ä»¶ç³»çµ±çš„ä¿è­· \u0026ndash;reference=RFILE æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®éŒ„çš„æ‰€å±¬ç¾¤çµ„å…¨éƒ¨è¨­æˆå’Œåƒè€ƒæ–‡ä»¶æˆ–ç›®éŒ„çš„æ‰€å±¬ç¾¤çµ„ç›¸åŒã€‚ -R, \u0026ndash;recursive éè¿´è™•ç†ï¼Œå°‡æŒ‡å®šç›®éŒ„ä¸‹çš„æ‰€æœ‰æª”åŠå­ç›®éŒ„ä¸€ä½µè™•ç†ã€‚ -H å¦‚æœå‘½ä»¤è¡Œåƒæ•¸æ˜¯è»Ÿé€£çµåˆ°ä¸€å€‹ç›®éŒ„ï¼Œéæ­·å®ƒ -L éæ­·æ¯å€‹è»Ÿé€£çµåˆ°ç›®éŒ„çš„éˆæ¥ -P ä¸éæ­·ä»»ä½•è»Ÿé€£çµï¼ˆé»˜èªï¼‰ åŸºæœ¬æ“ä½œ æ”¹è®Šæ–‡ä»¶çš„ç¾¤çµ„å±¬æ€§ å°‡testçš„æ‰€å±¬çµ„æ›´æ”¹ç‚ºalan\nchgrp alan test æ ¹æ“šæŒ‡å®šæ–‡ä»¶æ”¹è®Šæ–‡ä»¶çš„ç¾¤çµ„å±¬æ€§ test2åƒè€ƒtestçš„ç¾¤çµ„å±¬æ€§ï¼Œä½¿å¾—testèˆ‡test2çš„ç¾¤çµ„å±¬æ€§ç›¸åŒ\nchgrp --reference=test test2 ","permalink":"https://sz9751210.github.io/posts/linux-chgrp/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ chgrp(change group) ç”¨é€”ï¼šç”¨æ–¼æ”¹è®Šæ–‡ä»¶æˆ–ç›®éŒ„çš„æ‰€å±¬ç¾¤çµ„ èªæ³• chgrp [OPTIONS] [æ–‡ä»¶æˆ–ç›®éŒ„] åƒæ•¸ åƒæ•¸ èªªæ˜ -c, \u0026ndash;changes æ•ˆæœé¡ä¼¼\u0026quot;-v\u0026quot;åƒæ•¸ï¼Œä½†åƒ…å›å ±æ›´æ”¹çš„éƒ¨åˆ†ã€‚ -f, \u0026ndash;silent, \u0026ndash;quiet ä¸é¡¯ç¤ºéŒ¯èª¤è³‡è¨Šã€‚ -v, \u0026ndash;verbose é¡¯ç¤ºæŒ‡ä»¤åŸ·è¡Œéç¨‹ã€‚ \u0026ndash;dereference èˆ‡-hç›¸åï¼Œåªå°é€£çµçš„å°è±¡åšä¿®æ”¹ï¼Œè€Œä¸æ˜¯é€£çµæœ¬èº« -h, \u0026ndash;no-dereference åªå°è»Ÿé€£çµçš„æª”ä½œä¿®æ”¹ï¼Œè€Œä¸æ›´å‹•å…¶ä»–ä»»ä½•ç›¸é—œæª”ã€‚ \u0026ndash;no-preserve-root å–æ¶ˆå° root æ–‡ä»¶ç³»çµ±çš„ä¿è­· \u0026ndash;preserve-root ä¿ç•™å° root æ–‡ä»¶ç³»çµ±çš„ä¿è­· \u0026ndash;reference=RFILE æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®éŒ„çš„æ‰€å±¬ç¾¤çµ„å…¨éƒ¨è¨­æˆå’Œåƒè€ƒæ–‡ä»¶æˆ–ç›®éŒ„çš„æ‰€å±¬ç¾¤çµ„ç›¸åŒã€‚ -R, \u0026ndash;recursive éè¿´è™•ç†ï¼Œå°‡æŒ‡å®šç›®éŒ„ä¸‹çš„æ‰€æœ‰æª”åŠå­ç›®éŒ„ä¸€ä½µè™•ç†ã€‚ -H å¦‚æœå‘½ä»¤è¡Œåƒæ•¸æ˜¯è»Ÿé€£çµåˆ°ä¸€å€‹ç›®éŒ„ï¼Œéæ­·å®ƒ -L éæ­·æ¯å€‹è»Ÿé€£çµåˆ°ç›®éŒ„çš„éˆæ¥ -P ä¸éæ­·ä»»ä½•è»Ÿé€£çµï¼ˆé»˜èªï¼‰ åŸºæœ¬æ“ä½œ æ”¹è®Šæ–‡ä»¶çš„ç¾¤çµ„å±¬æ€§ å°‡testçš„æ‰€å±¬çµ„æ›´æ”¹ç‚ºalan\nchgrp alan test æ ¹æ“šæŒ‡å®šæ–‡ä»¶æ”¹è®Šæ–‡ä»¶çš„ç¾¤çµ„å±¬æ€§ test2åƒè€ƒtestçš„ç¾¤çµ„å±¬æ€§ï¼Œä½¿å¾—testèˆ‡test2çš„ç¾¤çµ„å±¬æ€§ç›¸åŒ\nchgrp --reference=test test2 ","title":"Linux ä¿®æ”¹ç¾¤çµ„[chgrp]"},{"content":"å°ˆæ³¨æ–¼å­¸ç¿’devopsçš„èœé›å·¥ç¨‹å¸«ï¼Œå‡¡äº‹åŠ›æ±‚ä¸€éµéƒ¨ç½²ï¼Œå–œæ­¡å¯«ä¸€äº›å°ç©å…·å˜—è©¦æ–°æŠ€è¡“ï¼Œæ™‚è€Œåˆ†äº«å¥½æ›¸çš„é–±è®€å¿ƒå¾—ä»¥åŠå¥½æ–‡ã€‚\n","permalink":"https://sz9751210.github.io/about/","summary":"å°ˆæ³¨æ–¼å­¸ç¿’devopsçš„èœé›å·¥ç¨‹å¸«ï¼Œå‡¡äº‹åŠ›æ±‚ä¸€éµéƒ¨ç½²ï¼Œå–œæ­¡å¯«ä¸€äº›å°ç©å…·å˜—è©¦æ–°æŠ€è¡“ï¼Œæ™‚è€Œåˆ†äº«å¥½æ›¸çš„é–±è®€å¿ƒå¾—ä»¥åŠå¥½æ–‡ã€‚","title":"é—œæ–¼æˆ‘"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ less ç”¨é€”ï¼šå°æ–‡ä»¶æˆ–å…¶å®ƒè¼¸å‡ºé€²è¡Œåˆ†é é¡¯ç¤ºçš„å·¥å…·ï¼Œå¯æŸ¥çœ‹å£“ç¸®æª” èªæ³• less [OPTIONS] fileName åƒæ•¸ åƒæ•¸ èªªæ˜ -b \u0026lt;ç·©è¡å€å¤§å°\u0026gt; è¨­ç½®ç·©è¡å€çš„å¤§å° -e ç•¶æ–‡ä»¶é¡¯ç¤ºçµæŸå¾Œï¼Œè‡ªå‹•é›¢é–‹ -f å¼·è¿«æ‰“é–‹ç‰¹æ®Šæ–‡ä»¶ï¼Œä¾‹å¦‚å¤–åœè¨­å‚™ä»£è™Ÿã€ç›®éŒ„å’ŒäºŒé€²åˆ¶æ–‡ä»¶ -g åªæ¨™èªŒæœ€å¾Œæœç´¢çš„é—œéµè© -i å¿½ç•¥æœç´¢æ™‚çš„å¤§å°å¯« -m é¡¯ç¤ºé¡ä¼¼moreæŒ‡ä»¤çš„ç™¾åˆ†æ¯” -N é¡¯ç¤ºæ¯è¡Œçš„è¡Œè™Ÿ -o \u0026lt;æ–‡ä»¶å\u0026gt; å°‡less è¼¸å‡ºçš„å…§å®¹åœ¨æŒ‡å®šæ–‡ä»¶ä¸­ä¿å­˜èµ·ä¾† -Q ä¸ä½¿ç”¨è­¦å‘ŠéŸ³ -s é¡¯ç¤ºé€£çºŒç©ºè¡Œç‚ºä¸€è¡Œ -S è¡Œéé•·æ™‚é–“å°‡è¶…å‡ºéƒ¨åˆ†æ¨æ£„ -x \u0026lt;æ•¸å­—\u0026gt; å°‡ã€Œtabã€éµé¡¯ç¤ºç‚ºè¦å®šçš„æ•¸å­—ç©ºæ ¼ lessæ¨¡å¼ä¸‹ ç”¨æ³• èªªæ˜ /å­—ç¬¦ä¸² å‘ä¸‹æœç´¢ã€Œå­—ç¬¦ä¸²ã€çš„åŠŸèƒ½ ?å­—ç¬¦ä¸² å‘ä¸Šæœç´¢ã€Œå­—ç¬¦ä¸²ã€çš„åŠŸèƒ½ n é‡è¤‡å‰ä¸€å€‹æœç´¢ï¼ˆèˆ‡ / æˆ– ? æœ‰é—œï¼‰ N åå‘é‡è¤‡å‰ä¸€å€‹æœç´¢ï¼ˆèˆ‡ / æˆ– ? æœ‰é—œï¼‰ b å‘å¾Œç¿»ä¸€é  d å‘å¾Œç¿»åŠé  h é¡¯ç¤ºå¹«åŠ©ç•Œé¢ q/ZZ é€€å‡ºless æŒ‡ä»¤ u å‘å‰æ»¾å‹•åŠé  y å‘å‰æ»¾å‹•ä¸€è¡Œ ç©ºæ ¼éµ æ»¾å‹•ä¸€é  å›è»Šéµ æ»¾å‹•ä¸€è¡Œ j ä¸‹ä¸€è¡Œ k ä¸Šä¸€è¡Œ [pagedown]ï¼š å‘ä¸‹ç¿»å‹•ä¸€é  [pageup]ï¼š å‘ä¸Šç¿»å‹•ä¸€é  F é¡ä¼¼ tail -f çš„æ•ˆæœï¼Œè®€å–å¯«å…¥æ–‡ä»¶çš„æœ€æ–°å…§å®¹ï¼Œ æŒ‰ ctrl+C åœæ­¢ã€‚ v ä½¿ç”¨é…ç½®çš„ç·¨è¼¯å™¨é€²å…¥ç·¨è¼¯æ¨¡å¼ï¼Œ shift+ZZ ä¿å­˜é€€å‡ºåˆ° less æŸ¥çœ‹æ¨¡å¼ã€‚ g ç§»å‹•åˆ°ç¬¬ä¸€è¡Œ G ç§»å‹•åˆ°æœ€å¾Œä¸€è¡Œ \u0026amp;pattern åƒ…é¡¯ç¤ºåŒ¹é…æ¨¡å¼çš„è¡Œï¼Œè€Œä¸æ˜¯æ•´å€‹æ–‡ä»¶ ma ä½¿ç”¨ a æ¨™è¨˜æ–‡æœ¬çš„ç•¶å‰ä½ç½® \u0026lsquo;a å°èˆªåˆ°æ¨™è¨˜ a è™• :n åˆ‡æ›åˆ°ä¸‹ä¸€å€‹æ–‡ä»¶ :p åˆ‡æ›åˆ°ä¸Šä¸€å€‹æ–‡ä»¶ åŸºæœ¬æ“ä½œ less test ","permalink":"https://sz9751210.github.io/posts/linux-less/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ less ç”¨é€”ï¼šå°æ–‡ä»¶æˆ–å…¶å®ƒè¼¸å‡ºé€²è¡Œåˆ†é é¡¯ç¤ºçš„å·¥å…·ï¼Œå¯æŸ¥çœ‹å£“ç¸®æª” èªæ³• less [OPTIONS] fileName åƒæ•¸ åƒæ•¸ èªªæ˜ -b \u0026lt;ç·©è¡å€å¤§å°\u0026gt; è¨­ç½®ç·©è¡å€çš„å¤§å° -e ç•¶æ–‡ä»¶é¡¯ç¤ºçµæŸå¾Œï¼Œè‡ªå‹•é›¢é–‹ -f å¼·è¿«æ‰“é–‹ç‰¹æ®Šæ–‡ä»¶ï¼Œä¾‹å¦‚å¤–åœè¨­å‚™ä»£è™Ÿã€ç›®éŒ„å’ŒäºŒé€²åˆ¶æ–‡ä»¶ -g åªæ¨™èªŒæœ€å¾Œæœç´¢çš„é—œéµè© -i å¿½ç•¥æœç´¢æ™‚çš„å¤§å°å¯« -m é¡¯ç¤ºé¡ä¼¼moreæŒ‡ä»¤çš„ç™¾åˆ†æ¯” -N é¡¯ç¤ºæ¯è¡Œçš„è¡Œè™Ÿ -o \u0026lt;æ–‡ä»¶å\u0026gt; å°‡less è¼¸å‡ºçš„å…§å®¹åœ¨æŒ‡å®šæ–‡ä»¶ä¸­ä¿å­˜èµ·ä¾† -Q ä¸ä½¿ç”¨è­¦å‘ŠéŸ³ -s é¡¯ç¤ºé€£çºŒç©ºè¡Œç‚ºä¸€è¡Œ -S è¡Œéé•·æ™‚é–“å°‡è¶…å‡ºéƒ¨åˆ†æ¨æ£„ -x \u0026lt;æ•¸å­—\u0026gt; å°‡ã€Œtabã€éµé¡¯ç¤ºç‚ºè¦å®šçš„æ•¸å­—ç©ºæ ¼ lessæ¨¡å¼ä¸‹ ç”¨æ³• èªªæ˜ /å­—ç¬¦ä¸² å‘ä¸‹æœç´¢ã€Œå­—ç¬¦ä¸²ã€çš„åŠŸèƒ½ ?å­—ç¬¦ä¸² å‘ä¸Šæœç´¢ã€Œå­—ç¬¦ä¸²ã€çš„åŠŸèƒ½ n é‡è¤‡å‰ä¸€å€‹æœç´¢ï¼ˆèˆ‡ / æˆ– ? æœ‰é—œï¼‰ N åå‘é‡è¤‡å‰ä¸€å€‹æœç´¢ï¼ˆèˆ‡ / æˆ– ? æœ‰é—œï¼‰ b å‘å¾Œç¿»ä¸€é  d å‘å¾Œç¿»åŠé  h é¡¯ç¤ºå¹«åŠ©ç•Œé¢ q/ZZ é€€å‡ºless æŒ‡ä»¤ u å‘å‰æ»¾å‹•åŠé  y å‘å‰æ»¾å‹•ä¸€è¡Œ ç©ºæ ¼éµ æ»¾å‹•ä¸€é  å›è»Šéµ æ»¾å‹•ä¸€è¡Œ j ä¸‹ä¸€è¡Œ k ä¸Šä¸€è¡Œ [pagedown]ï¼š å‘ä¸‹ç¿»å‹•ä¸€é  [pageup]ï¼š å‘ä¸Šç¿»å‹•ä¸€é  F é¡ä¼¼ tail -f çš„æ•ˆæœï¼Œè®€å–å¯«å…¥æ–‡ä»¶çš„æœ€æ–°å…§å®¹ï¼Œ æŒ‰ ctrl+C åœæ­¢ã€‚ v ä½¿ç”¨é…ç½®çš„ç·¨è¼¯å™¨é€²å…¥ç·¨è¼¯æ¨¡å¼ï¼Œ shift+ZZ ä¿å­˜é€€å‡ºåˆ° less æŸ¥çœ‹æ¨¡å¼ã€‚ g ç§»å‹•åˆ°ç¬¬ä¸€è¡Œ G ç§»å‹•åˆ°æœ€å¾Œä¸€è¡Œ \u0026amp;pattern åƒ…é¡¯ç¤ºåŒ¹é…æ¨¡å¼çš„è¡Œï¼Œè€Œä¸æ˜¯æ•´å€‹æ–‡ä»¶ ma ä½¿ç”¨ a æ¨™è¨˜æ–‡æœ¬çš„ç•¶å‰ä½ç½® \u0026lsquo;a å°èˆªåˆ°æ¨™è¨˜ a è™• :n åˆ‡æ›åˆ°ä¸‹ä¸€å€‹æ–‡ä»¶ :p åˆ‡æ›åˆ°ä¸Šä¸€å€‹æ–‡ä»¶ åŸºæœ¬æ“ä½œ less test ","title":"Linux åˆ†é æŸ¥çœ‹æª”æ¡ˆ[less]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ tail ç”¨é€”ï¼šå°å‡ºçµå°¾ï¼Œèˆ‡ head ç›¸æ³•çš„åŠŸç”¨ èªæ³• tail [option] [fileName] åƒæ•¸ åƒæ•¸ èªªæ˜ -n \u0026lt;è¡Œæ•¸\u0026gt; é¡¯ç¤ºå°¾éƒ¨ N è¡Œçš„è¨Šæ¯ (N ç‚ºæ•¸å­—) -c \u0026lt;å­—ç¯€æ•¸\u0026gt; é¡¯ç¤ºå°¾éƒ¨å€’æ•¸ N bytes çš„å­—å…ƒ (N ç‚ºæ•¸å­—) -q éš±è—æ–‡ä»¶å -v é¡¯ç¤ºæ–‡ä»¶å -f å¾ªç’°è®€å–ï¼ŒæŒçºŒç›£çœ‹æœ€æ–°è¿½åŠ çš„å…§å®¹ï¼Œå¸¸ç”¨æ–¼æŸ¥é–±æ­£åœ¨æ”¹è®Šçš„æ—¥èªŒæ–‡ä»¶ã€‚ åŸºæœ¬æ“ä½œ å‡è¨­æœ‰ä¸€å€‹æª”æ¡ˆ tail_test é•·é€™æ¨£\ntest1 test2 test3 æŸ¥çœ‹å¾Œ 2 è¡Œ tail -n 2 head_test # output test2 test3 æŸ¥çœ‹å¾Œå…©å€‹å­— head -c 2 tail_test # output t3% é¡¯ç¤ºæ–‡ä»¶å tail -v tail_test # output ==\u0026gt; tail_test \u0026lt;== test1 test2 test3 ç›¸é—œæŒ‡ä»¤(å¯é¸) grep sort ","permalink":"https://sz9751210.github.io/posts/linux-tail/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ tail ç”¨é€”ï¼šå°å‡ºçµå°¾ï¼Œèˆ‡ head ç›¸æ³•çš„åŠŸç”¨ èªæ³• tail [option] [fileName] åƒæ•¸ åƒæ•¸ èªªæ˜ -n \u0026lt;è¡Œæ•¸\u0026gt; é¡¯ç¤ºå°¾éƒ¨ N è¡Œçš„è¨Šæ¯ (N ç‚ºæ•¸å­—) -c \u0026lt;å­—ç¯€æ•¸\u0026gt; é¡¯ç¤ºå°¾éƒ¨å€’æ•¸ N bytes çš„å­—å…ƒ (N ç‚ºæ•¸å­—) -q éš±è—æ–‡ä»¶å -v é¡¯ç¤ºæ–‡ä»¶å -f å¾ªç’°è®€å–ï¼ŒæŒçºŒç›£çœ‹æœ€æ–°è¿½åŠ çš„å…§å®¹ï¼Œå¸¸ç”¨æ–¼æŸ¥é–±æ­£åœ¨æ”¹è®Šçš„æ—¥èªŒæ–‡ä»¶ã€‚ åŸºæœ¬æ“ä½œ å‡è¨­æœ‰ä¸€å€‹æª”æ¡ˆ tail_test é•·é€™æ¨£\ntest1 test2 test3 æŸ¥çœ‹å¾Œ 2 è¡Œ tail -n 2 head_test # output test2 test3 æŸ¥çœ‹å¾Œå…©å€‹å­— head -c 2 tail_test # output t3% é¡¯ç¤ºæ–‡ä»¶å tail -v tail_test # output ==\u0026gt; tail_test \u0026lt;== test1 test2 test3 ç›¸é—œæŒ‡ä»¤(å¯é¸) grep sort ","title":"Linux æŸ¥çœ‹çµå°¾æ–‡å­—[tail]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ head ç”¨é€”ï¼šç”¨ä¾†é¡¯ç¤ºé–‹é ­çš„æ–‡å­—å€å¡Šï¼Œçœ‹è©²æª”æ¡ˆé ­éƒ¨ (é è¨­ç‚º 10 è¡Œ) èªæ³• head [option] [fileName] åƒæ•¸ åƒæ•¸ èªªæ˜ -n \u0026lt;è¡Œæ•¸\u0026gt; é¡¯ç¤ºå‰ N è¡Œçš„è¨Šæ¯ (N ç‚ºæ•¸å­—) -c \u0026lt;å­—ç¯€æ•¸\u0026gt; é¡¯ç¤ºå‰ N bytes çš„å­—å…ƒ (N ç‚ºæ•¸å­—) -q éš±è—æ–‡ä»¶å -v é¡¯ç¤ºæ–‡ä»¶å åŸºæœ¬æ“ä½œ å‡è¨­æœ‰ä¸€å€‹æª”æ¡ˆ head_test é•·é€™æ¨£\ntest1 test2 test3 æŸ¥çœ‹å‰ 2 è¡Œ head -n 2 head_test # output test1 test2 æŸ¥çœ‹å‰å…©å€‹å­— head -c 2 head_test # output te% é¡¯ç¤ºæ–‡ä»¶å head -v head_test # output ==\u0026gt; head_test \u0026lt;== test1 test2 test3 ","permalink":"https://sz9751210.github.io/posts/linux-head/","summary":"\u003ch2 id=\"ç°¡ä»‹\"\u003eğŸ‘¨â€ğŸ’»ç°¡ä»‹\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ehead\u003c/li\u003e\n\u003cli\u003eç”¨é€”ï¼šç”¨ä¾†é¡¯ç¤ºé–‹é ­çš„æ–‡å­—å€å¡Šï¼Œçœ‹è©²æª”æ¡ˆé ­éƒ¨ (é è¨­ç‚º 10 è¡Œ)\u003c/li\u003e\n\u003c/ul\u003e","title":"Linux æŸ¥çœ‹é–‹é ­æ–‡å­—[head]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ cat ç”¨é€”ï¼šæŸ¥çœ‹æ–‡ä»¶ï¼ŒæŠŠæª”æ¡ˆä¸²é€£æ¥å¾Œå‚³åˆ°åŸºæœ¬è¼¸å‡º èªæ³• cat [-AbeEnstTuv] [--help] [--version] fileName åƒæ•¸ åƒæ•¸ èªªæ˜ -A, \u0026ndash;show-all ç­‰åƒ¹æ–¼-vET -b, \u0026ndash;number-nonblank å’Œ -n ç›¸ä¼¼ï¼Œåªä¸éå°æ–¼ç©ºç™½è¡Œä¸ç·¨è™Ÿ -e ç­‰åƒ¹æ–¼-vE -E, \u0026ndash;show-ends åœ¨æ¯ä¸€è¡Œæœ«ç«¯åŠ å…¥$ -n, \u0026ndash;number ç”± 1 é–‹å§‹å°æ‰€æœ‰è¼¸å‡ºçš„è¡Œæ•¸ç·¨è™Ÿ -s, \u0026ndash;squeeze-blank ç•¶é‡åˆ°æœ‰é€£çºŒå…©è¡Œä»¥ä¸Šçš„ç©ºç™½è¡Œï¼Œå°±ä»£æ›ç‚ºä¸€è¡Œçš„ç©ºç™½è¡Œ -t ç­‰åƒ¹æ–¼-vT -T, \u0026ndash;show-tabs ä»¥^I å–ä»£ TAB -u è¼¸å‡ºæ™‚ä¸å¿…ç¶“éç·©è¡å€ã€‚ï¼ˆåŸä¾†æ˜¯é è¨­ç‚ºä½¿ç”¨ç·©è¡å€ï¼‰ã€‚ -v, \u0026ndash;show-nonprinting é™¤äº† LFD åŠ TAB ä¹‹å¤–ï¼Œä½¿ç”¨^åŠ M-è¡¨ç¤ºæ³•é¡¯ç¤ºå­—å…ƒ \u0026ndash;help åˆ—å‡ºå¹«åŠ©è³‡è¨Š \u0026ndash;version åˆ—å‡ºç‰ˆæœ¬è³‡è¨Š åŸºæœ¬æ“ä½œ æŸ¥çœ‹æª”æ¡ˆ cat test1 æŸ¥çœ‹æª”æ¡ˆä¸¦é¡¯ç¤ºè¡Œè™Ÿ å‡è¨­æœ‰å€‹æª”æ¡ˆtest2é•·é€™æ¨£\ntest1 test2 cat -n test2 # ountput 1 test1 2 3 4 test2 å¦‚æœè¦å°ç©ºç™½è¡Œå–æ¶ˆç·¨è™Ÿçš„è©±å¯æ”¹ç”¨-bé¸é …\ncat -b test2 # ountput 1 test1 2 test2 å¦‚æœè¦æŠŠä¸€è¡Œä»¥ä¸Šçš„ç©ºç™½è¡Œåˆä½µç‚ºä¸€è¡Œå¯ä½¿ç”¨-sé¸é …\ncat -s test2 # output aaa bbb ","permalink":"https://sz9751210.github.io/posts/linux-cat/","summary":"\u003ch2 id=\"ç°¡ä»‹\"\u003eğŸ‘¨â€ğŸ’»ç°¡ä»‹\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ecat\u003c/li\u003e\n\u003cli\u003eç”¨é€”ï¼šæŸ¥çœ‹æ–‡ä»¶ï¼ŒæŠŠæª”æ¡ˆä¸²é€£æ¥å¾Œå‚³åˆ°åŸºæœ¬è¼¸å‡º\u003c/li\u003e\n\u003c/ul\u003e","title":"Linux æŸ¥çœ‹æª”æ¡ˆ[cat]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ chown(change owner) ç”¨é€”ï¼šè®Šæ›´æ–‡ä»¶æˆ–ç›®éŒ„çš„æ¬Šé™ èªæ³• chmod [OPTIONS] [user:group] file or dir åƒæ•¸ åƒæ•¸ èªªæ˜ -c, \u0026ndash;changes æ•ˆæœé¡ä¼¼-vï¼Œä½†åƒ…å›å‚³æ›´æ”¹çš„éƒ¨åˆ† -f, \u0026ndash;silent, \u0026ndash;quiet ä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ -v, \u0026ndash;verbose é¡¯ç¤ºæŒ‡ä»¤åŸ·è¡Œéç¨‹ \u0026ndash;dereference æ•ˆæœå’Œ-håƒæ•¸ç›¸åŒ -h, \u0026ndash;no-dereference åªå°è»Ÿé€£çµçš„æ–‡ä»¶åšä¿®æ”¹ï¼Œè€Œä¸æ›´å‹•å…¶å®ƒä»»ä½•ç›¸é—œæ–‡ä»¶ \u0026ndash;from=CURRENT_OWNER:CURRENT_GROUP ç¢ºèªä¿®æ”¹å‰çš„æ“æœ‰è€…åŠæ‰€å±¬ç¾¤çµ„æ­£ç¢ºæ‰é€²è¡Œä¿®æ”¹ \u0026ndash;no-preserve-root do not treat \u0026lsquo;/\u0026rsquo; specially (the default) \u0026ndash;preserve-root fail to operate recursively on \u0026lsquo;/\u0026rsquo; \u0026ndash;reference=RFILE æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®éŒ„çš„æ“æœ‰è€…èˆ‡æ‰€å±¬ç¾¤çµ„å…¨éƒ½æ”¹æˆå’Œåƒè€ƒæ–‡ä»¶æˆ–ç›®éŒ„ä¸€æ¨£ -R, \u0026ndash;recursive éæ­¸è™•ç†ï¼Œå°‡æŒ‡å®šç›®éŒ„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä»¥åŠå­ç›®éŒ„ä¸€ä½µè™•ç† -H if a command line argument is a symbolic link to a directory, traverse it -L traverse every symbolic link to a directory encountered -P do not traverse any symbolic links (default) åŸºæœ¬æ“ä½œ å°‡æª”æ¡ˆæˆ–ç›®éŒ„ä¿®æ”¹æ“æœ‰è€… chown alan file1 å°‡æª”æ¡ˆæˆ–ç›®éŒ„ä¿®æ”¹æ‰€å±¬ç¾¤çµ„ chown :alangroup file1 åŒæ™‚ä¿®æ”¹æ“æœ‰è€…åŠæ‰€å±¬çµ„ chown alan:alangroup file1 éæ­¸ä¿®æ”¹æ•´å€‹è³‡æ–™å¤¾è£¡çš„æ‰€æœ‰æª”æ¡ˆ chown -R alan:alangroup dir é¡¯ç¤ºåŸ·è¡Œçµæœ chown -v alan:alangroup file1 ä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ chown -f alan:alangroup file1 åƒè€ƒæ–‡ä»¶å±¬æ€§é€²è¡Œä¿®æ”¹ chown --reference=reffile file1 äº‹å…ˆç¢ºèªæ“æœ‰è€…èˆ‡ç¾¤çµ„åœ¨é€²è¡Œä¿®æ”¹ chown --from=root:root alan:alangroup file1 åªç¢ºèªæ“æœ‰è€…æˆ–æ˜¯ç¾¤çµ„ # åªç¢ºèªæ“æœ‰è€… chown --from=root alan:alangroup file1 # åªç¢ºèªæ‰€å±¬çµ„ chown --from=:root alan:alangroup file1 åƒè€ƒè³‡æ–™ Linux æ›´æ”¹æª”æ¡ˆæ“æœ‰è€…èˆ‡ç¾¤çµ„ï¼Œchown æŒ‡ä»¤ä½¿ç”¨æ•™å­¸èˆ‡ç¯„ä¾‹ - G. T. Wang (gtwang.org) ","permalink":"https://sz9751210.github.io/posts/linux-chown/","summary":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ chown(change owner) ç”¨é€”ï¼šè®Šæ›´æ–‡ä»¶æˆ–ç›®éŒ„çš„æ¬Šé™ èªæ³• chmod [OPTIONS] [user:group] file or dir åƒæ•¸ åƒæ•¸ èªªæ˜ -c, \u0026ndash;changes æ•ˆæœé¡ä¼¼-vï¼Œä½†åƒ…å›å‚³æ›´æ”¹çš„éƒ¨åˆ† -f, \u0026ndash;silent, \u0026ndash;quiet ä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ -v, \u0026ndash;verbose é¡¯ç¤ºæŒ‡ä»¤åŸ·è¡Œéç¨‹ \u0026ndash;dereference æ•ˆæœå’Œ-håƒæ•¸ç›¸åŒ -h, \u0026ndash;no-dereference åªå°è»Ÿé€£çµçš„æ–‡ä»¶åšä¿®æ”¹ï¼Œè€Œä¸æ›´å‹•å…¶å®ƒä»»ä½•ç›¸é—œæ–‡ä»¶ \u0026ndash;from=CURRENT_OWNER:CURRENT_GROUP ç¢ºèªä¿®æ”¹å‰çš„æ“æœ‰è€…åŠæ‰€å±¬ç¾¤çµ„æ­£ç¢ºæ‰é€²è¡Œä¿®æ”¹ \u0026ndash;no-preserve-root do not treat \u0026lsquo;/\u0026rsquo; specially (the default) \u0026ndash;preserve-root fail to operate recursively on \u0026lsquo;/\u0026rsquo; \u0026ndash;reference=RFILE æŠŠæŒ‡å®šæ–‡ä»¶æˆ–ç›®éŒ„çš„æ“æœ‰è€…èˆ‡æ‰€å±¬ç¾¤çµ„å…¨éƒ½æ”¹æˆå’Œåƒè€ƒæ–‡ä»¶æˆ–ç›®éŒ„ä¸€æ¨£ -R, \u0026ndash;recursive éæ­¸è™•ç†ï¼Œå°‡æŒ‡å®šç›®éŒ„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä»¥åŠå­ç›®éŒ„ä¸€ä½µè™•ç† -H if a command line argument is a symbolic link to a directory, traverse it -L traverse every symbolic link to a directory encountered -P do not traverse any symbolic links (default) åŸºæœ¬æ“ä½œ å°‡æª”æ¡ˆæˆ–ç›®éŒ„ä¿®æ”¹æ“æœ‰è€… chown alan file1 å°‡æª”æ¡ˆæˆ–ç›®éŒ„ä¿®æ”¹æ‰€å±¬ç¾¤çµ„ chown :alangroup file1 åŒæ™‚ä¿®æ”¹æ“æœ‰è€…åŠæ‰€å±¬çµ„ chown alan:alangroup file1 éæ­¸ä¿®æ”¹æ•´å€‹è³‡æ–™å¤¾è£¡çš„æ‰€æœ‰æª”æ¡ˆ chown -R alan:alangroup dir é¡¯ç¤ºåŸ·è¡Œçµæœ chown -v alan:alangroup file1 ä¸é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ chown -f alan:alangroup file1 åƒè€ƒæ–‡ä»¶å±¬æ€§é€²è¡Œä¿®æ”¹ chown --reference=reffile file1 äº‹å…ˆç¢ºèªæ“æœ‰è€…èˆ‡ç¾¤çµ„åœ¨é€²è¡Œä¿®æ”¹ chown --from=root:root alan:alangroup file1 åªç¢ºèªæ“æœ‰è€…æˆ–æ˜¯ç¾¤çµ„ # åªç¢ºèªæ“æœ‰è€… chown --from=root alan:alangroup file1 # åªç¢ºèªæ‰€å±¬çµ„ chown --from=:root alan:alangroup file1 åƒè€ƒè³‡æ–™ Linux æ›´æ”¹æª”æ¡ˆæ“æœ‰è€…èˆ‡ç¾¤çµ„ï¼Œchown æŒ‡ä»¤ä½¿ç”¨æ•™å­¸èˆ‡ç¯„ä¾‹ - G.","title":"Linux ä¿®æ”¹ç›®éŒ„æ¬Šé™[chown]"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ å¹«è‡ªå·±ç´€éŒ„ä¸€ä¸‹å¦‚ä½•è™•ç†linuxæ©Ÿå™¨çš„æŒ‡æ¨™\nCPU top(äº¤äº’æ¨¡å¼) top P b x y top(é è¨­æŒ‡å®šCPU) top -o %CPU ps ps aux --sort -pcpu MEM top top M b x y top(é è¨­æŒ‡å®šMEM) top -o %MEM ps ps aux --sort -pmem swap free free -h vmstat vmstat swapon swapon -s proc_file cat /proc/swaps shell for file in /proc/*/status ; do awk \u0026#39;/VmSwap|Name/{printf $2 \u0026#34; \u0026#34; $3}END{ print \u0026#34;\u0026#34;}\u0026#39; $file; done | sort -k 2 -n -r | less åƒè€ƒè³‡æ–™ 8 Useful Commands to Monitor Swap Space Usage in Linux (tecmint.com) Linux Find Out What Process Are Using Swap Space - nixCraft (cyberciti.biz) ç­†è¨˜: Linux å»ºç«‹ Swap, ä»¥åŠ Swap ä½¿ç”¨ç‹€æ³ç›£æ§, OOM @mini box è¿·ä½ ç›’å­ - nidBoxè¦ªå­ç›’å­ Linux æŸ¥çœ‹æ­£åœ¨åƒ swap çš„ç¨‹å¼ â€“ Tsung\u0026rsquo;s Blog (longwin.com.tw) disk df df -h du du -shc /path/* du -h -x --max-depth=1 conn netstat # æŸ¥çœ‹80 portçš„ç¸½é€£ç·šæ•¸ netstat -na | grep 80 | wc -l # çµ±è¨ˆé€£ç·šçš„ip netstat -ntu | grep ESTAB | awk \u0026#39;{print $5}\u0026#39; | cut -d: -f1 | sort | uniq -c | sort -nr ","permalink":"https://sz9751210.github.io/posts/%E7%B3%BB%E7%B5%B1%E7%95%B0%E5%B8%B8%E6%8C%87%E6%A8%99%E9%99%A4%E9%8C%AF/","summary":"\u003ch2 id=\"ç°¡ä»‹\"\u003eğŸ‘¨â€ğŸ’»ç°¡ä»‹\u003c/h2\u003e\n\u003cp\u003eå¹«è‡ªå·±ç´€éŒ„ä¸€ä¸‹å¦‚ä½•è™•ç†linuxæ©Ÿå™¨çš„æŒ‡æ¨™\u003c/p\u003e","title":"ç³»çµ±ç•°å¸¸æŒ‡æ¨™é™¤éŒ¯"},{"content":"ğŸ“”å¿ƒå¾— ä¹‹å‰å› ç‚ºå¸¸éœ€è¦è·‘devopsç›¸é—œå·¥å…·ï¼Œå› æ­¤é–‹ç™¼ç’°å¢ƒå®Œå…¨æ˜¯ç”¨Ubuntuçš„åœ–å½¢åŒ–ä»‹é¢ï¼Œä½†å¶çˆ¾æœƒé‡åˆ°ä¸€äº›å»¶é²ä»¥åŠå°bugï¼Œå¶ç„¶çš„æ©Ÿæœƒä¸‹ç™¼ç¾åœ¨windowsè¨­å®šgit-bashä¼¼ä¹ä¹Ÿèƒ½é”åˆ°ä¸€æ¨£çš„æ•ˆæœï¼Œä¹Ÿèƒ½é †ä¾¿å¢åŠ å°windowsé–‹ç™¼äººå“¡ç”Ÿæ…‹ç³»çš„äº†è§£ï¼Œå› æ­¤æœ¬ç¯‡ä¸»è¦æ˜¯é‡å°å¦‚ä½•è¨­å®šç¾éº—çš„terminalä»¥åŠvscodeä¹Ÿæ•´åˆï¼Œç´€éŒ„ä¸€ä¸‹ä»¥ä¾¿æ—¥å¾ŒæŸ¥è©¢\nğŸ‘¨â€ğŸ’»ç°¡ä»‹ æ¬²å®‰è£é …ç›®\nwindows terminal git-bash zsh oh-my-zsh p10k plugins ğŸ¯setup å®‰è£windows terminal é»é–‹å¸‚é›†æœå°‹windows terminalï¼Œwindows 11ç”¨æˆ¶é è¨­å·²å®‰è£\nå®‰è£git-bash for windows åˆ°å®˜ç¶²ä¸‹è¼‰windowsç‰ˆæœ¬ï¼Œéœ€æ³¨æ„è¨˜å¾—æ‰“å‹¾git-bash for windows terminal\nå®‰è£zsh å»msys2ä¸‹è¼‰zshçš„äºŒé€²åˆ¶æª”æ¡ˆ\nè§£å£“ç¸®ä¸¦è¤‡è£½zshè¦†è“‹åˆ°gitå®‰è£ç›®éŒ„\noh-my-zsh å®‰è£oh-my-zsh æ‰“é–‹git-bashè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤é€²è¡Œå®‰è£\nsh -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\u0026#34; è¨­å®šé è¨­å•Ÿå‹•zsh åœ¨å®¶ç›®éŒ„æ–°å¢.bashrcï¼Œä»¥æˆ‘çš„ç¯„ä¾‹ç‚ºC:\\Users\\alan\\.bashrcï¼ŒæŠŠä»¥ä¸‹çš„codeè²¼ä¸Š\nif [ -t 1 ]; then exec zsh fi p10k å®‰è£ç›¸å°æ‡‰å­—é«” é€™é‚Šä½¿ç”¨FireCodeç•¶åšç¯„ä¾‹ï¼Œä¸‹è¼‰å¥½å¾Œè§£å£“ç¸®ä¸¦å®‰è£ ğŸ”—ä¸‹è¼‰é€£çµ \u0026ndash;\u0026gt; Nerd Fonts - Iconic font aggregator, glyphs/icons collection, \u0026amp; fonts patcher\næ‰“é–‹çµ‚ç«¯æ©Ÿä¸¦é¸æ“‡è¨­å®šï¼Œé¸æ“‡git-bash -\u0026gt; å¤–è§€ -\u0026gt; å­—é«”ï¼Œé¸æ“‡FiraCode NF\nå®‰è£p10k é€égitä¸‹è¼‰p10kåˆ°å®¶ç›®éŒ„ä¸‹\ngit clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k ä¿®æ”¹~/.zshrcçš„ZSH_THEME\nè¨­å®šp10k é‡æ–°è®€å–zsh è¨­å®šæª”\nsource ~/.zshrc æœƒé€²å…¥p10kçš„æ¨£å¼è¨­å®šï¼Œé€™æ™‚å€™æ¨£å¼éƒ½æœƒæ­£å¸¸ï¼Œå› ç‚ºå‰é¢å·²ç¶“å®‰è£ç›¸å°æ‡‰çš„å­—é«”ï¼Œ\næ¥è‘—å°±æŒ‰ç…§èªªæ˜å®Œæˆæ¨£å¼è¨­å®šï¼Œå°±èƒ½é–‹å§‹äº«å—åœ¨linuxç’°å¢ƒä¸‹å¹¾ä¹ä¸€æ¨£çš„çµ‚ç«¯æ©Ÿé«”é©—ğŸš€\nå®‰è£æ’ä»¶ zsh-syntax-highlighting èªæ³•é«˜äº® å®˜æ–¹å®‰è£æŒ‡å—\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting åœ¨.zshrcåŠ å…¥æ’ä»¶\nzsh-autosuggestions è‡ªå‹•è£œå…¨ å®˜æ–¹å®‰è£æŒ‡å—\ngit clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions åœ¨.zshrcåŠ å…¥æ’ä»¶\næ’ä»¶éƒ½å®‰è£å¥½å¾Œå°±é‡è¼‰è¨­å®šæª”å³å¯\n","permalink":"https://sz9751210.github.io/posts/windows-terminal-setup/","summary":"\u003ch2 id=\"å¿ƒå¾—\"\u003eğŸ“”å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003eä¹‹å‰å› ç‚ºå¸¸éœ€è¦è·‘devopsç›¸é—œå·¥å…·ï¼Œå› æ­¤é–‹ç™¼ç’°å¢ƒå®Œå…¨æ˜¯ç”¨Ubuntuçš„åœ–å½¢åŒ–ä»‹é¢ï¼Œä½†å¶çˆ¾æœƒé‡åˆ°ä¸€äº›å»¶é²ä»¥åŠå°bugï¼Œå¶ç„¶çš„æ©Ÿæœƒä¸‹ç™¼ç¾åœ¨windowsè¨­å®šgit-bashä¼¼ä¹ä¹Ÿèƒ½é”åˆ°ä¸€æ¨£çš„æ•ˆæœï¼Œä¹Ÿèƒ½é †ä¾¿å¢åŠ å°windowsé–‹ç™¼äººå“¡ç”Ÿæ…‹ç³»çš„äº†è§£ï¼Œå› æ­¤æœ¬ç¯‡ä¸»è¦æ˜¯é‡å°å¦‚ä½•è¨­å®šç¾éº—çš„terminalä»¥åŠvscodeä¹Ÿæ•´åˆï¼Œç´€éŒ„ä¸€ä¸‹ä»¥ä¾¿æ—¥å¾ŒæŸ¥è©¢\u003c/p\u003e\n\u003ch2 id=\"ç°¡ä»‹\"\u003eğŸ‘¨â€ğŸ’»ç°¡ä»‹\u003c/h2\u003e\n\u003cp\u003eæ¬²å®‰è£é …ç›®\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ewindows terminal\u003c/li\u003e\n\u003cli\u003egit-bash\u003c/li\u003e\n\u003cli\u003ezsh\u003c/li\u003e\n\u003cli\u003eoh-my-zsh\u003c/li\u003e\n\u003cli\u003ep10k\u003c/li\u003e\n\u003cli\u003eplugins\u003c/li\u003e\n\u003c/ul\u003e","title":"windows terminal + git-bash + zsh + oh-my-zsh"},{"content":"ğŸ“”å¿ƒå¾— ä¹‹å‰éƒ½ä»‹ç´¹dockerç›£æ§containerï¼Œé€™æ¬¡ä¾†é»ä¸ä¸€æ¨£çš„ï¼Œç›´æ¥è£åœ¨k8sè£¡é¢å»ç›£æ§podçš„ä¸€äº›æŒ‡æ¨™ã€‚\nåŸºæœ¬çš„æŒ‡æ¨™åƒæ˜¯cpu, mem, podæ•¸é‡, nodeæ•¸é‡ç­‰ç­‰ï¼Œéƒ½èƒ½é€ékube-state-metricså®Œæˆï¼Œè€Œå¦‚æœæƒ³è¦ç›£æ§ä¸€äº›æµé‡çš„æŒ‡æ¨™ï¼Œåƒæ˜¯tcpé€£ç·šæ•¸ï¼Œtwæ•¸ç­‰ï¼Œå‰‡æ˜¯éœ€è¦å¦å¤–åœ¨æœå‹™çš„podè£¡å¦å¤–å¯«node-exporterçš„containerï¼Œçµ„æˆside-carçš„å½¢å¼ï¼Œè®“exporterå°‡æŒ‡æ¨™é€å¾€prometheusã€‚\nåœ¨æ’°å¯«çš„éç¨‹ï¼Œé‡åˆ°æ¯”è¼ƒå¤§çš„é›£é¡Œæ˜¯prometheusçš„configæª”æ’°å¯«ï¼Œä¸€é–‹å§‹æ‰“ç®—ä½¿ç”¨docker-composeçš„æ–¹å¼èµ·monitoræœå‹™ï¼Œç„¶å¾Œå»call k8s clusterå–å¾—ç›¸é—œæŒ‡æ¨™ï¼Œä½†å¸¸å¸¸callä¸åˆ°æœå‹™ï¼Œå¯èƒ½æ˜¯å› ç‚ºminikubeçš„é—œä¿‚ï¼Œåœ¨æœ¬åœ°ä¹Ÿè·‘dockerï¼Œæœ€å¾Œæ”¹æˆç›´æ¥å®‰è£åœ¨k8sè£¡é¢ï¼Œå¦å¤–å»ºç«‹ä¸€å€‹namespaceæ”¾ç›£æ§ç›¸é—œçš„æœå‹™ï¼Œæœ‰æ©Ÿæœƒåœ¨æ¸¬è©¦kindä»¥åŠk3sã€‚\ndemoç”¨çš„deployä½¿ç”¨skaffoldé€™æœ¬åœ°é–‹ç™¼k8sçš„ç¥å™¨ï¼Œæ­é…kustomizeå¯è®“æˆ‘ä¾æ“šæ‰€éœ€æ¸¬è©¦çš„ç’°å¢ƒä¸‹å»åšè‡ªå‹•ä½ˆç½²ï¼Œæœ‰æ©Ÿæœƒå†å¦å¤–ä»‹ç´¹é€™å·¥å…·ã€‚\nä¹‹å¾Œé è¨ˆæœƒå†æ–°å¢prometheus adapterï¼Œè®“æˆ‘çš„prometheus metricså¯ä»¥æˆç‚ºæˆ‘hpaçš„æ“´ç¸®åˆ¤æ–·ï¼Œå› ç‚ºåŸºæœ¬çš„hpaæŒ‡æ¨™åªæœ‰cpuä»¥åŠmemï¼Œå¦‚æœå¯ä»¥ä¾ç…§ç¶²è·¯æµé‡è®Šå¤§ï¼Œå¹«æˆ‘æ“´å±•podï¼Œç•¶æµé‡è®Šå°æ™‚å¹«æˆ‘ç¸®podï¼Œè®“æˆ‘èƒ½è‡ªå®šç¾©æŒ‡æ¨™ï¼Œç›¸ä¿¡ä½¿ç”¨k8sçš„æ•ˆç›Šæœƒæ›´å¤§ã€‚\nğŸ”—è©³ç´°å°ˆæ¡ˆä½ç½® \u0026ndash;\u0026gt; https://github.com/sz9751210/k8s-monitor\nğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨minikubeç’°å¢ƒä¸‹å®‰è£prometheusä»¥åŠgrafanaç›£æ§ k8s\ndemo-deployï¼šæ¸¬è©¦ç”¨deployment ä½¿ç”¨skaffoldæ­é…kustomizeçš„æ–¹å¼ä¸‹å»ä½ˆç½² prometheus, kube-state-metricsï¼šæ’ˆå–æœå‹™ç›¸é—œæŒ‡æ¨™ grafanaï¼šç›£æ§UI ğŸ¯setup start minikube minikube start deploy demo-deployment cd demo-deploy \u0026amp;\u0026amp; skaffold run -p prod install monitor sh ./install_monitor.sh setting data source ä½¿ç”¨ä¸Šé¢åŸ·è¡Œå®Œçš„grafana url http://192.168.x.x:xxx è¼¸å…¥å¸³è™Ÿå¯†ç¢¼ï¼šadmin é¸æ“‡data source -\u0026gt; add data source -\u0026gt; prometheus urlè¨­å®šç‚ºhttp://prometheus:9090 -\u0026gt; é»æ“Šsave import grafana ui é»æ“Šå·¦ä¸Šè§’å›åˆ°é¦–é ä¸¦é¸æ“‡æ—é‚Šçš„dashboard -\u0026gt; import åˆ°grafana/dashboard/è¤‡è£½dashboard.jsonè²¼åˆ°grafanaä¸¦é»æ“Šload -\u0026gt; import âœ…TODO ä½¿ç”¨å£“æ¸¬podå»æ¸¬è©¦hpa ä½¿ç”¨prometheus-adapterè‡ªå®šç¾©æŒ‡æ¨™ ","permalink":"https://sz9751210.github.io/posts/k8s-monitor/","summary":"\u003ch2 id=\"å¿ƒå¾—\"\u003eğŸ“”å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003eä¹‹å‰éƒ½ä»‹ç´¹dockerç›£æ§containerï¼Œé€™æ¬¡ä¾†é»ä¸ä¸€æ¨£çš„ï¼Œç›´æ¥è£åœ¨k8sè£¡é¢å»ç›£æ§podçš„ä¸€äº›æŒ‡æ¨™ã€‚\u003c/p\u003e\n\u003cp\u003eåŸºæœ¬çš„æŒ‡æ¨™åƒæ˜¯cpu, mem, podæ•¸é‡, nodeæ•¸é‡ç­‰ç­‰ï¼Œéƒ½èƒ½é€ékube-state-metricså®Œæˆï¼Œè€Œå¦‚æœæƒ³è¦ç›£æ§ä¸€äº›æµé‡çš„æŒ‡æ¨™ï¼Œåƒæ˜¯tcpé€£ç·šæ•¸ï¼Œtwæ•¸ç­‰ï¼Œå‰‡æ˜¯éœ€è¦å¦å¤–åœ¨æœå‹™çš„podè£¡å¦å¤–å¯«node-exporterçš„containerï¼Œçµ„æˆside-carçš„å½¢å¼ï¼Œè®“exporterå°‡æŒ‡æ¨™é€å¾€prometheusã€‚\u003c/p\u003e\n\u003cp\u003eåœ¨æ’°å¯«çš„éç¨‹ï¼Œé‡åˆ°æ¯”è¼ƒå¤§çš„é›£é¡Œæ˜¯prometheusçš„configæª”æ’°å¯«ï¼Œä¸€é–‹å§‹æ‰“ç®—ä½¿ç”¨docker-composeçš„æ–¹å¼èµ·monitoræœå‹™ï¼Œç„¶å¾Œå»call k8s clusterå–å¾—ç›¸é—œæŒ‡æ¨™ï¼Œä½†å¸¸å¸¸callä¸åˆ°æœå‹™ï¼Œå¯èƒ½æ˜¯å› ç‚ºminikubeçš„é—œä¿‚ï¼Œåœ¨æœ¬åœ°ä¹Ÿè·‘dockerï¼Œæœ€å¾Œæ”¹æˆç›´æ¥å®‰è£åœ¨k8sè£¡é¢ï¼Œå¦å¤–å»ºç«‹ä¸€å€‹namespaceæ”¾ç›£æ§ç›¸é—œçš„æœå‹™ï¼Œæœ‰æ©Ÿæœƒåœ¨æ¸¬è©¦kindä»¥åŠk3sã€‚\u003c/p\u003e\n\u003cp\u003edemoç”¨çš„deployä½¿ç”¨skaffoldé€™æœ¬åœ°é–‹ç™¼k8sçš„ç¥å™¨ï¼Œæ­é…kustomizeå¯è®“æˆ‘ä¾æ“šæ‰€éœ€æ¸¬è©¦çš„ç’°å¢ƒä¸‹å»åšè‡ªå‹•ä½ˆç½²ï¼Œæœ‰æ©Ÿæœƒå†å¦å¤–ä»‹ç´¹é€™å·¥å…·ã€‚\u003c/p\u003e\n\u003cp\u003eä¹‹å¾Œé è¨ˆæœƒå†æ–°å¢prometheus adapterï¼Œè®“æˆ‘çš„prometheus metricså¯ä»¥æˆç‚ºæˆ‘hpaçš„æ“´ç¸®åˆ¤æ–·ï¼Œå› ç‚ºåŸºæœ¬çš„hpaæŒ‡æ¨™åªæœ‰cpuä»¥åŠmemï¼Œå¦‚æœå¯ä»¥ä¾ç…§ç¶²è·¯æµé‡è®Šå¤§ï¼Œå¹«æˆ‘æ“´å±•podï¼Œç•¶æµé‡è®Šå°æ™‚å¹«æˆ‘ç¸®podï¼Œè®“æˆ‘èƒ½è‡ªå®šç¾©æŒ‡æ¨™ï¼Œç›¸ä¿¡ä½¿ç”¨k8sçš„æ•ˆç›Šæœƒæ›´å¤§ã€‚\u003c/p\u003e\n\u003cp\u003eğŸ”—è©³ç´°å°ˆæ¡ˆä½ç½® \u0026ndash;\u0026gt; \u003ca href=\"https://github.com/sz9751210/k8s-monitor\"\u003ehttps://github.com/sz9751210/k8s-monitor\u003c/a\u003e\u003c/p\u003e","title":"K8S-monitor"},{"content":"ğŸ“šè®€å¾Œå¿ƒå¾— ç•¶åˆåœ¨ç ”ç©¶Elastic Stackï¼ŒILMé€™éƒ¨ä»½é‚„ä¸ç†Ÿæ™‚ï¼Œå‰›å¥½æœå°‹åˆ°å–¬å”çš„éµäººè³½æ–‡ç« ï¼Œé–±è®€æ™‚å½·å½¿æŒ–åˆ°äº†å¯¶ï¼Œå°æ–¼Indexçš„ç®¡ç†è¬›è§£å¾—éå¸¸é€å¾¹ï¼Œå¾Indexå¦‚ä½•è¢«å»ºç«‹ï¼Œä½¿ç”¨Templateä»¥åŠAliasï¼Œå†åˆ°å°å…¥ILMä»¥åŠæ­é…Rolloverä»¥åŠShrinkç­‰æ–¹å¼é”åˆ°ç´¢å¼•ã€æœå°‹ã€å„²å­˜ç­‰æœ€ä½³åŒ–ï¼Œä¸€æ­¥ä¸€æ­¥ç©©å®šé †åˆ©çš„å®Œæˆï¼ŒçœŸçš„å¾ˆæ„Ÿå‹•ã€‚\nä¹‹å‰ä½¿ç”¨Elastic Stackä¸¦æ²’æœ‰ä½¿ç”¨åˆ°ILMçš„é…ç½®ï¼Œæ‰€ä»¥å–®å€‹Indexå¯èƒ½æœƒè¶…éå®˜æ–¹å»ºè­°çš„å¤§å°ï¼Œä¸¦ä¸”ä½¿ç”¨çš„æ˜¯ä»¥ä¸€å¤©ç‚ºå–®ä½ï¼Œä½†å¯¦å‹™ä¸Šä¸¦éæ¯å€‹æœå‹™éƒ½æ˜¯å›ºå®šçš„å¤§å°ï¼Œå› æ­¤å°å…¥ILMå°æ–¼æ•´é«”çš„æ•ˆèƒ½æœƒæœ‰æ›´å¥½çš„å¹«åŠ©ï¼Œä¸¦ä¸”ä½¿ç”¨ä¸‰æº«æš–æ¶æ§‹ï¼Œè®“æœ€æ–°çš„logéƒ½æ”¾åœ¨æ•ˆèƒ½è¼ƒå¥½çš„æ©Ÿå™¨ä¸Šï¼Œè¼ƒèˆŠçš„logå‰‡éš¨è‘—è‡ªå®šç¾©çš„æ™‚é–“è½‰ç§»åˆ°æ•ˆèƒ½è¼ƒå·®çš„æ©Ÿå™¨ä¸Šï¼Œè®“æœå°‹èƒ½æœ‰æ›´å¥½çš„é«”é©—ã€‚\nè€ŒRolloverçš„ä½¿ç”¨ï¼Œç•¶è³‡æ–™é‡é”åˆ°è¨­å®šçš„æ¢ä»¶ã€æˆ–æ˜¯æ™‚é–“éå¤ªä¹…ï¼Œå°‡Indexé€²è¡Œrotateï¼Œç”¢ç”Ÿæ–°çš„Indexä¾†æ¥æ”¶æ–°çš„è³‡æ–™ï¼Œè®“åŸå…ˆçš„Indexä¾ç…§ILMçš„è¨­å®šé€²å…¥ä¸‹ä¸€å€‹warm phaseéšæ®µã€‚\nForce Mergeä»¥åŠShrinkå‰‡æ˜¯é‡å°Segment Filesæ•¸é‡ä»¥åŠShardsæ•¸é‡é€²è¡Œåˆä½µé”åˆ°æœ€ä½³åŒ–ï¼ŒSegment filesçš„å–®æª”æ„ˆå¤§ï¼Œç¸½æ•¸æ„ˆå°‘ï¼Œç©ºé–“ä½¿ç”¨ç‡æ„ˆå¥½ï¼Œè€Œå·²åˆªé™¤çš„æ–‡ä»¶ï¼Œæœƒæ˜¯é€éã€Œæ¨™ç¤ºç‚ºåˆªé™¤ã€çš„æ–¹å¼ç´€éŒ„åœ¨æ–°çš„Segment Fileï¼Œä¸¦ä¸”æœƒç­‰åˆ°mergeæ™‚æ‰çœŸæ­£çš„åˆªé™¤ï¼Œå› æ­¤Force Mergeå°‡Shardä¸­çš„Segment Filesé€²è¡Œåˆä½µï¼Œå¯ä»¥é‡‹æ”¾è¢«æ¨™è¨˜è¦è¢«åˆªé™¤çš„æ–‡ä»¶åœ¨åŸå…ˆæ˜¯read-onlyçš„Segment Fileæ‰€ä½”ç”¨çš„ç©ºé–“ï¼Œè—‰æ­¤æå‡æœå°‹æ•ˆç‡ï¼Œï¼›è€ŒShrinkå‰‡æ˜¯æ¸›å°‘Shardsçš„æ•¸é‡ï¼Œè®Šå°‘çš„è¦å‰‡æ˜¯åŸå…ˆæ•¸å€¼çš„å› æ•¸ï¼Œæ¸›å°‘Shardçš„æ•¸é‡ï¼Œå¢åŠ Shardçš„å¤§å°ï¼Œå¥½è™•æ˜¯å¯ä»¥æå‡æœå°‹çš„æ•ˆç‡ï¼Œå„²å­˜åˆ©ç”¨ç‡ä¹Ÿæœƒè¼ƒä½³ï¼Œå£è™•æ˜¯å¦‚æœCluster rebalancingæ™‚æˆæœ¬è¼ƒé«˜ï¼Œä¸¦ä¸”æœƒé™åˆ¶è³‡æ–™è¢«åˆ†æ•£è™•ç†çš„èƒ½åŠ›ï¼Œå› æ­¤å»ºè­°ä½¿ç”¨åœ¨è¼ƒèˆŠçš„è³‡æ–™ä¸Šä¸‹å»åšå„ªåŒ–è™•ç†ã€‚\næ›¸ä¸­é‚„æœ‰æåˆ°å¾ˆå¤šæœ€ä½³åŒ–çš„æŠ€å·§ï¼Œä¾‹å¦‚Shardså»ºè­°çš„å¤§å°ã€memory cacheçš„å»ºè­°å¤§å°ã€Indexingå¤§é‡è³‡æ–™æ™‚çš„è™•ç†æ–¹å¼ç­‰ç­‰ï¼Œå„ç¨®ç¥å¥‡çš„å„ªåŒ–æŠ€å·§å¯ä»¥è®“ä½ é‡å°è‡ªå·±çš„ä½¿ç”¨æƒ…å¢ƒä¸‹å»åšæ¸¬è©¦ä»¥åŠæ”¹å–„ï¼Œè®“ä½ çš„Elastic Stacké ­å¥½å£¯å£¯ï¼Œæœ€å¾Œä¹Ÿæ„Ÿè¬å–¬å”çš„ç¶“é©—åˆ†äº«ï¼Œè®“æˆ‘åœ¨ç ”ç©¶Elastic Stackä¸Šå°‘èµ°äº†å¾ˆå¤šå½è·¯ï¼Œåº•ä¸‹æœƒæ”¾ä¸Šéµäººè³½çš„é€£çµã€‚\nğŸ”—ã€å–¬å”å¸¶ä½ ä¸Šæ‰‹Elastic Stackã€‘ç¸½ç›®éŒ„ \u0026ndash;\u0026gt; https://ithelp.ithome.com.tw/users/20129543/ironman/3148\n","permalink":"https://sz9751210.github.io/posts/%E5%96%AC%E5%8F%94%E5%B8%B6%E4%BD%A0%E4%B8%8A%E6%89%8Belastic-stackelasticsearch%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AF%A6%E8%B8%90%E8%88%87%E6%9C%80%E4%BD%B3%E5%8C%96%E6%8A%80%E5%B7%A7/","summary":"\u003ch2 id=\"è®€å¾Œå¿ƒå¾—\"\u003eğŸ“šè®€å¾Œå¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003eç•¶åˆåœ¨ç ”ç©¶Elastic Stackï¼ŒILMé€™éƒ¨ä»½é‚„ä¸ç†Ÿæ™‚ï¼Œå‰›å¥½æœå°‹åˆ°å–¬å”çš„éµäººè³½æ–‡ç« ï¼Œé–±è®€æ™‚å½·å½¿æŒ–åˆ°äº†å¯¶ï¼Œå°æ–¼Indexçš„ç®¡ç†è¬›è§£å¾—éå¸¸é€å¾¹ï¼Œå¾Indexå¦‚ä½•è¢«å»ºç«‹ï¼Œä½¿ç”¨Templateä»¥åŠAliasï¼Œå†åˆ°å°å…¥ILMä»¥åŠæ­é…Rolloverä»¥åŠShrinkç­‰æ–¹å¼é”åˆ°ç´¢å¼•ã€æœå°‹ã€å„²å­˜ç­‰æœ€ä½³åŒ–ï¼Œä¸€æ­¥ä¸€æ­¥ç©©å®šé †åˆ©çš„å®Œæˆï¼ŒçœŸçš„å¾ˆæ„Ÿå‹•ã€‚\u003c/p\u003e\n\u003cp\u003eä¹‹å‰ä½¿ç”¨Elastic Stackä¸¦æ²’æœ‰ä½¿ç”¨åˆ°ILMçš„é…ç½®ï¼Œæ‰€ä»¥å–®å€‹Indexå¯èƒ½æœƒè¶…éå®˜æ–¹å»ºè­°çš„å¤§å°ï¼Œä¸¦ä¸”ä½¿ç”¨çš„æ˜¯ä»¥ä¸€å¤©ç‚ºå–®ä½ï¼Œä½†å¯¦å‹™ä¸Šä¸¦éæ¯å€‹æœå‹™éƒ½æ˜¯å›ºå®šçš„å¤§å°ï¼Œå› æ­¤å°å…¥ILMå°æ–¼æ•´é«”çš„æ•ˆèƒ½æœƒæœ‰æ›´å¥½çš„å¹«åŠ©ï¼Œä¸¦ä¸”ä½¿ç”¨ä¸‰æº«æš–æ¶æ§‹ï¼Œè®“æœ€æ–°çš„logéƒ½æ”¾åœ¨æ•ˆèƒ½è¼ƒå¥½çš„æ©Ÿå™¨ä¸Šï¼Œè¼ƒèˆŠçš„logå‰‡éš¨è‘—è‡ªå®šç¾©çš„æ™‚é–“è½‰ç§»åˆ°æ•ˆèƒ½è¼ƒå·®çš„æ©Ÿå™¨ä¸Šï¼Œè®“æœå°‹èƒ½æœ‰æ›´å¥½çš„é«”é©—ã€‚\u003c/p\u003e","title":"å–¬å”å¸¶ä½ ä¸Šæ‰‹Elastic Stackï¼šElasticsearchçš„æœ€ä½³å¯¦è¸èˆ‡æœ€ä½³åŒ–æŠ€å·§"},{"content":"ğŸ‘€QUICK REVIEW The book in 3 Sentences ç”¨ä¸‰æ®µè©±èªªæ˜é€™æœ¬æ›¸çš„å…§å®¹1\nåƒç®¡ç†å…¬å¸ä¸€æ¨£ç®¡ç†è‡ªå·±ï¼Œåƒäº«å—éŠæˆ²ä¸€æ¨£äº«å—ç”Ÿæ´» ç¡¬å¯¦åŠ›æ±ºå®šèµ·é»ï¼Œè»Ÿå¯¦åŠ›æ±ºå®šèƒ½èµ°å¤šå¿«å¤šé  Learning, Doing, Learning and Teaching Purpose of the book æ›¸çš„ç›®çš„\næ•™å°ä½ å¦‚ä½•æˆç‚ºå…¨æ–¹ä½çš„è»Ÿé«”é–‹ç™¼äººå“¡ æœŸæœ›çµ¦ä½ å„æ–¹é¢æœ‰ç”¨ã€å¯¦ç”¨åˆå¯ç”¨çš„å¿ å‘Šã€‚ å‘Šè¨´ä½ è»ŸæŠ€èƒ½çš„é‡è¦æ€§ My Top 3 Quotes æˆ‘æœ€å–œæ­¡çš„ 3 å¥ Quotes\nè¶ŠåŠªåŠ›å°‡èˆ¹é§›å‘å¤±æ•—ï¼Œå¾ç›¸åæ–¹å‘å¹ä¾†çš„æˆåŠŸä¹‹é¢¨å°±è¶Šå¼· å”¯æœ‰è®“æˆ‘åƒèˆ‡å…¶ä¸­ï¼Œæ‰æ˜¯çœŸæ­£çš„å­¸ç¿’ ä¿¡å¿µè½‰æˆæ€æƒ³ æ€æƒ³åŒ–ä½œæ–‡å­— æ–‡å­—è§¸ç™¼è¡Œå‹• è¡Œå‹•æˆç‚ºç¿’æ…£ ç¿’æ…£å»ºç«‹åƒ¹å€¼ åƒ¹å€¼æ±ºå®šå‘½é‹ ğŸ“šè®€å¾Œå¿ƒå¾— æœ¬æ›¸ä¸æ•™ä½ å¯«ç¨‹å¼ï¼Œæ•™å°ä½ ç¨‹å¼ä»¥å¤–çš„å¯¦ç”¨æŠ€èƒ½ï¼Œè®“ä½ çŸ¥é“ä¸€åæˆåŠŸçš„è»Ÿé«”é–‹ç™¼äººå“¡ï¼Œä¸èƒ½åªæœƒå¯«codeï¼Œé‚„è¦æœ‰ç²¾å½©çš„äººç”Ÿã€‚\næ›¸ä¸­ä½œè€…å¾ˆç³»çµ±çš„æ­¸ç´äº†ç¨‹åºå“¡è·æ¥­ç™¼å±•çš„æ–¹æ–¹é¢é¢ï¼ŒåŒ…æ‹¬è·æ¥­ç›®æ¨™ã€å…¬å¸é¸æ“‡ã€å¦‚ä½•å­¸ç¿’ã€å¦‚ä½•ç†è²¡ã€å¥åº·å’Œç²¾ç¥ã€è‡ªæˆ‘èªçŸ¥ç­‰ç­‰ï¼Œæˆ–è¨±å…¶ä¸­çš„ä¸€äº›è§€é»ä¹‹å‰éƒ½é›¶æ•£çš„æ¥è§¸éï¼Œé€™è£¡ä½œè€…èƒ½çµåˆè‡ªå·±çš„ç¶“é©—ï¼Œå°‡é€™äº›è©±é¡Œä¸€ä¸€å±•é–‹ï¼Œï¼Œä¸¦ä¸”å¼•ç™¼äº†æˆ‘æ›´å¤šçš„æ€è€ƒï¼Œè€Œé€™äº›æ€è€ƒï¼Œå°‡è²«ç©¿æˆ‘æ•´å€‹è·æ¥­ç”Ÿæ¶¯ä¹ƒè‡³äººç”Ÿã€‚\nå…¨æ–‡ç¸½å…±åˆ†ç‚ºå¦‚ä¸‹å¹¾å€‹æ–¹é¢ï¼š\nè·æ¥­ï¼šè·æ¥­çš„å„å€‹æ–¹é¢ï¼ŒåŒ…æ‹¬é¢è©¦ï¼Œè¾­è·ï¼Œå€‹äººå‰µæ¥­ã€‚æŠŠè‡ªå·±ç•¶æˆä¸€å®¶å…¬å¸çœ‹å¾…ï¼Œä¸éæˆ‘å€‘é€™å®¶å…¬å¸åªç‚ºä¸€å€‹å®¢æˆ¶æœå‹™ï¼Œå°±æ˜¯æˆ‘å€‘å·¥ä½œçš„å–®ä½ã€‚ è‡ªæˆ‘è¡ŒéŠ·ï¼šåŒ…æ‹¬è¡ŒéŠ·é‡è¦æ€§ï¼Œä¸€è‡´æ€§ï¼Œç¶²çµ¡è¡ŒéŠ·ç­‰ã€‚ å­¸ç¿’ï¼šåæ­¥å­¸ç¿’æ³•ã€‚å°‹æ‰¾å°å¸«\u0026amp;\u0026amp;æˆç‚ºå°å¸«ã€‚ ç”Ÿç”¢åŠ›ï¼šç•ªèŒ„é˜ï¼Œå®šé‡åŸ·è¡Œæ³•ã€‚ä¹Ÿå¾ç§‘å­¸çš„è§’åº¦è§£é‡‹ç­å¦‚ä½•æ›´æœ‰ç”Ÿç”¢åŠ›ã€‚ ç†è²¡ï¼šè§€å¿µå¤§å¤šæ•¸ä¾†è‡ªå…¶ä»–ç†è²¡æ›¸ç±ã€‚ä¾‹å¦‚çª®çˆ¸çˆ¸å¯Œçˆ¸çˆ¸ã€‚ å¥èº«ï¼šå¥èº«é‡è¦æ€§ã€‚ä»¥åŠæ‡‰è©²ç”¨ä¸Šç§‘æŠ€å·¥å…·ã€‚ å¿ƒéˆï¼šè¬›è¿°å¦‚ä½•ä¿æŒæ­£é¢å¿ƒæ…‹ï¼Œæ“æŠ±å¤±æ•—ï¼Œè·³è„«èˆ’é©åœˆã€‚ è®€é€™æœ¬æ›¸æœ€æœ‰æ„Ÿçš„åœ°æ–¹æ˜¯å­¸ç¿’çš„ç¯‡ç« ï¼Œä½œè€…æå‡ºçš„åæ­¥é©Ÿå­¸ç¿’æ³•è®“æˆ‘å°è±¡æ·±åˆ»ï¼Œé‡é»å¦‚ä¸‹\nè¦å…ˆçŸ¥é“å…¨è²Œï¼Œæœ‰åˆæ­¥çš„äº†è§£ï¼Œç„¶å¾Œæ±ºå®šæƒ³å­¸ç¿’ç¯„åœï¼Œä¸¦æŠŠå¤§ä¸»é¡Œæ‹†æˆå°ä¸»é¡Œï¼Œæ–¹ä¾¿è¨­å®šç›®æ¨™ã€‚ é€éè¨­å®šçš„ç›®æ¨™ï¼Œå°‹æ‰¾ç›¸é—œçš„è³‡æºï¼Œä¸¦å»ºç«‹å­¸ç¿’è¨ˆåŠƒã€‚ å°è‡ªå·±çš„ç›®æ¨™å­¸ç¿’æœ€å°é‡çš„çŸ¥è­˜ï¼Œè¶³ä»¥è®“æ¥ä¸‹ä¾†çš„å¯¦ä½œå¯å®Œæˆã€‚ å¯¦ä½œç•¶ä½œæ˜¯ç©ç©å…·ï¼Œé‚Šå‹•æ‰‹æ“ä½œé‚Šç©é‚Šå­¸ï¼Œå„˜å¯èƒ½è®“è‡ªå·±æ‰€è¨­å®šçš„ç›®æ¨™ï¼Œå­¸ç¿’è¨ˆåŠƒéƒ½ä½¿ç”¨ä¸Šï¼Œåšä¸€å€‹å°å°çš„å°ˆé¡Œï¼Œå¢åŠ å°è‡ªå·±æ‰€å­¸çš„ç­è§£ã€‚ æŠŠè‡ªå·±æ‰€å­¸åˆ°çš„çŸ¥è­˜ï¼Œç”¨è‡ªå·±çš„è©±è¬›å‡ºä¾†ï¼ŒåŒ–è¼¸å…¥ç‚ºè¼¸å‡ºã€‚ å¦å¤–é‚„æœ‰ç”Ÿç”¢åŠ›é‚£å€‹ç« ç¯€ï¼Œç•ªèŒ„é˜çš„ä½¿ç”¨ä¹Ÿè®“æˆ‘å¾ˆæœ‰å…±é³´ï¼Œåˆ©ç”¨ç•ªèŒ„é˜å·¥ä½œæ³•ï¼Œå¯ä»¥çŸ¥é“è‡ªå·±çš„ç”Ÿç”¢åŠ›è½åœ¨å“ªå€‹ç¯„åœï¼Œç•¢ç«Ÿæˆ‘å€‘ä¸€å¤©çš„å°ˆæ³¨åŠ›æœ‰é™ï¼Œå¦‚ä½•åˆ†é…äº‹æƒ…çš„å…ˆå¾Œé †åºè®Šå¾—æ›´ç‚ºé‡è¦ã€‚\n","permalink":"https://sz9751210.github.io/posts/soft-skills-%E8%BB%9F%E5%AF%A6%E5%8A%9B%E8%BB%9F%E9%AB%94%E9%96%8B%E7%99%BC%E4%BA%BA%E5%93%A1%E7%9A%84%E7%94%9F%E5%AD%98%E6%89%8B%E5%86%8A/","summary":"\u003ch2 id=\"quick-review\"\u003eğŸ‘€QUICK REVIEW\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThe book in 3 Sentences ç”¨ä¸‰æ®µè©±èªªæ˜é€™æœ¬æ›¸çš„å…§å®¹1\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåƒç®¡ç†å…¬å¸ä¸€æ¨£ç®¡ç†è‡ªå·±ï¼Œåƒäº«å—éŠæˆ²ä¸€æ¨£äº«å—ç”Ÿæ´»\u003c/li\u003e\n\u003cli\u003eç¡¬å¯¦åŠ›æ±ºå®šèµ·é»ï¼Œè»Ÿå¯¦åŠ›æ±ºå®šèƒ½èµ°å¤šå¿«å¤šé \u003c/li\u003e\n\u003cli\u003eLearning, Doing, Learning and Teaching\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ePurpose of the book æ›¸çš„ç›®çš„\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ•™å°ä½ å¦‚ä½•æˆç‚ºå…¨æ–¹ä½çš„è»Ÿé«”é–‹ç™¼äººå“¡\u003c/li\u003e\n\u003cli\u003eæœŸæœ›çµ¦ä½ å„æ–¹é¢æœ‰ç”¨ã€å¯¦ç”¨åˆå¯ç”¨çš„å¿ å‘Šã€‚\u003c/li\u003e\n\u003cli\u003eå‘Šè¨´ä½ è»ŸæŠ€èƒ½çš„é‡è¦æ€§\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMy Top 3 Quotes æˆ‘æœ€å–œæ­¡çš„ 3 å¥ Quotes\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eè¶ŠåŠªåŠ›å°‡èˆ¹é§›å‘å¤±æ•—ï¼Œå¾ç›¸åæ–¹å‘å¹ä¾†çš„æˆåŠŸä¹‹é¢¨å°±è¶Šå¼·\u003c/li\u003e\n\u003cli\u003eå”¯æœ‰è®“æˆ‘åƒèˆ‡å…¶ä¸­ï¼Œæ‰æ˜¯çœŸæ­£çš„å­¸ç¿’\u003c/li\u003e\n\u003cli\u003eä¿¡å¿µè½‰æˆæ€æƒ³ æ€æƒ³åŒ–ä½œæ–‡å­— æ–‡å­—è§¸ç™¼è¡Œå‹• è¡Œå‹•æˆç‚ºç¿’æ…£ ç¿’æ…£å»ºç«‹åƒ¹å€¼ åƒ¹å€¼æ±ºå®šå‘½é‹\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","title":"Soft Skills è»Ÿå¯¦åŠ›ï½œè»Ÿé«”é–‹ç™¼äººå“¡çš„ç”Ÿå­˜æ‰‹å†Š"},{"content":"ğŸ“”å¿ƒå¾— æœ€è¿‘ï¼Œæˆ‘åœ¨æ¢ç´¢ Ansible è‡ªå‹•åŒ–å·¥å…·çš„éç¨‹ä¸­ï¼Œæ±ºå®šé‹ç”¨å®ƒä¾†å»ºç«‹ ELK Stackï¼Œé€™æ˜¯æˆ‘ä¹‹å‰ä½¿ç”¨ Docker å»ºç«‹çš„ç¶“é©—çš„å»¶ä¼¸ã€‚åœ¨é€™å€‹éç¨‹ä¸­ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€ä¸‹æˆ‘çš„å­¸ç¿’å¿ƒå¾—ã€‚\nå°‹æ‰¾è³‡æº æˆ‘é–‹å§‹äº†è§£ ELK Stack çš„å®‰è£éç¨‹ï¼Œé¦–å…ˆé–±è®€äº†å®˜æ–¹æ–‡ä»¶ï¼Œç†Ÿæ‚‰äº†æ•´å€‹è¨­ç½®æµç¨‹ã€‚æ¥è‘—ï¼Œæˆ‘å°‹æ‰¾ Ansible ä¸­ç›¸é—œçš„æ¨¡çµ„ï¼Œé€™è®“æˆ‘æ›´å¥½åœ°ç†è§£å¦‚ä½•åœ¨ Ansible ä¸­å¯¦ç¾ç›¸åŒçš„æ­¥é©Ÿã€‚\nç›®éŒ„çµæ§‹çš„é‡è¦æ€§ åœ¨æ’°å¯« Ansible Playbook éç¨‹ä¸­ï¼Œæˆ‘å­¸åˆ°äº†è‰¯å¥½çš„ç›®éŒ„çµæ§‹æ˜¯å¤šéº¼é‡è¦ã€‚æˆ‘å¾æœ€åˆåªæœ‰ä¸€å€‹ä¸»è¦çš„ main.yml é–‹å§‹ï¼Œé€æ¼¸åˆ†è§£å‡ºæ ¹ç›®éŒ„ä¸‹çš„å¤šå€‹ .yml æª”æ¡ˆï¼Œç„¶å¾Œä½¿ç”¨ include ä¾†å¼•å…¥ä»»å‹™ã€‚é€™ç¨®çµæ§‹è®“æ•´å€‹ Playbook æ›´åŠ æ¨¡çµ„åŒ–ï¼Œæ˜“æ–¼ç®¡ç†ã€‚\nä½¿ç”¨æ¨¡æ¿å’Œè®Šæ•¸ åœ¨å‰µå»ºæ¨¡æ¿æ™‚ï¼Œæˆ‘ç™¼ç¾äº† Jinja2 èªæ³•çš„å¨åŠ›ã€‚æˆ‘å¯ä»¥ç›´æ¥å¥—ç”¨è®Šæ•¸ï¼Œé€™è®“æˆ‘çš„æ¨¡æ¿åœ¨è¤‡è£½åˆ°ç›®æ¨™ä¸»æ©Ÿæ™‚èƒ½è‡ªå‹•è¼‰å…¥æ‰€éœ€çš„åƒæ•¸ã€‚æ­¤å¤–ï¼Œæˆ‘é‚„å­¸æœƒäº†å¦‚ä½•æ ¹æ“šæˆ‘çš„ä¸»æ©Ÿæ¸…å–®ï¼ˆinventoryï¼‰ä¾†å‹•æ…‹è¨­å®šé€™äº›åƒæ•¸ï¼Œé€™çœŸæ˜¯å¼·å¤§çš„åŠŸèƒ½ã€‚\næ„Ÿè¬å‡ä»å¤§çš„æŒ‡å— æˆ‘è¦ç‰¹åˆ¥æ„Ÿè¬å‡ä»å¤§ï¼ˆä½œè€…ï¼‰çš„ Ansible æ•™ç¨‹ï¼Œæˆ‘å¾ä»–çš„ Ansible GitBook ä¸­å­¸åˆ°äº†è¨±å¤šå¯¶è²´çš„è³‡è¨Šã€‚ä»–çš„æ•™ç¨‹ç°¡æ½”æ˜ç­ï¼Œå°æ–¼åˆå­¸è€…ä¹Ÿéå¸¸å‹å¥½ã€‚ä»–çš„æ•™ç¨‹ç”šè‡³æä¾›äº† Ansible åœ¨ä½¿ç”¨ Docker Compose æ–¹é¢çš„å¯¦éš›ç·´ç¿’ï¼Œé€™è®“æˆ‘èƒ½æ›´å¥½åœ°æŒæ¡ Ansible çš„æ“ä½œæŠ€å·§ã€‚å¦å¤–ï¼Œä½¿ç”¨ Jupyter Notebook åŸ·è¡Œ Ansible æ¨¡çµ„ä¹Ÿè®“æˆ‘çš„å­¸ç¿’éç¨‹æ›´åŠ ä¾¿åˆ©ã€‚\nå¦‚æœä½ å°æ–¼ Ansible è‡ªå‹•åŒ–é…ç½®æŠ€å·§æ„Ÿèˆˆè¶£ï¼Œæˆ‘æ¨è–¦ä½ é–±è®€é€™ä»½å‡ä»å¤§çš„ Ansible æŒ‡å—ï¼Œé€£çµåœ¨ä¸‹æ–¹ï¼š\nğŸ”—å‡ä»å¤§ansibleæŒ‡å— \u0026ndash;\u0026gt; ç¾ä»£ IT äººä¸€å®šè¦çŸ¥é“çš„ Ansible è‡ªå‹•åŒ–çµ„æ…‹æŠ€å·§\næ­¤å¤–ï¼Œæˆ‘é‚„å°‡æˆ‘ä½¿ç”¨ Ansible å»ºç«‹ ELK Stack çš„ Playbook æ”¾åœ¨äº†ä»¥ä¸‹çš„ GitHub å€‰åº«ï¼Œæ­¡è¿åƒè€ƒï¼š\nğŸ”—Ansible-ELK repo \u0026ndash;\u0026gt; Ansible-ELK\né€™æ¬¡çš„å­¸ç¿’è®“æˆ‘æ›´æ·±å…¥åœ°ç†è§£äº†è‡ªå‹•åŒ–çš„åƒ¹å€¼ï¼Œä¹Ÿè®“æˆ‘æ›´æœ‰ä¿¡å¿ƒåœ¨æ—¥å¾Œçš„å°ˆæ¡ˆä¸­é‹ç”¨ Ansible ä¾†ç°¡åŒ–é…ç½®æµç¨‹ã€‚\nğŸ‘¨â€ğŸ’»ç°¡ä»‹ åœ¨ GCP ç’°å¢ƒä¸‹ä½¿ç”¨ Ansible Playbook å»ºç«‹ ELK Stack\nElasticsearchï¼šä¸»è¦æœƒå…ˆéœ€è¦å…ˆè·‘init masterï¼Œæ¥è‘—å†å»è·‘seed hostå»åŠ å…¥masterçµ„æˆclusteræ¶æ§‹ï¼Œé‚è¼¯ä¸Šé‚„æœ‰å¯ä¿®æ”¹çš„åœ°æ–¹ï¼Œç›®å‰å…ˆä»¥å…©ä»½yamlåˆ†é–‹è·‘ä¸‹å»åšå»ºç«‹ï¼Œåœ¨è·‘å®Œinit masterå¾Œæœƒå…ˆå»ºç«‹iimä»¥åŠindex template Logstashï¼šç›´æ¥å°‡pipelineç­‰è¨­å®šç›´æ¥è¤‡è£½åˆ°ä¸»æ©Ÿä¸­ã€‚ Kibanaï¼šè¨­å®šèˆ‡ Elasticsearch çš„é€£æ¥è³‡è¨Šã€‚ ğŸ“è³‡æ–™å¤¾çµæ§‹ . â”œâ”€â”€ create_elasticsearch_master_instance.yaml â”œâ”€â”€ create_elasticsearch_slave_instance.yaml â”œâ”€â”€ create_filebeat_instance.yaml â”œâ”€â”€ create_kibana_instance.yaml â”œâ”€â”€ create_logstash_instance.yaml â”œâ”€â”€ files â”‚ â”œâ”€â”€ elasticsearch â”‚ â”‚ â”œâ”€â”€ api.sh â”‚ â”‚ â”œâ”€â”€ certs â”‚ â”‚ â””â”€â”€ elasticsearch.repo â”‚ â”œâ”€â”€ kibana â”‚ â”‚ â””â”€â”€ kibana.repo â”‚ â””â”€â”€ logstash â”‚ â”œâ”€â”€ conf.d â”‚ â”‚ â””â”€â”€ logstash.conf â”‚ â”œâ”€â”€ logstash.repo â”‚ â”œâ”€â”€ logstash.yml â”‚ â””â”€â”€ pipelines.yml â”œâ”€â”€ group_vars â”‚ â””â”€â”€ all â”‚ â”œâ”€â”€ env.yml copy.example â”‚ â””â”€â”€ package.yml â”œâ”€â”€ inventory â”‚ â””â”€â”€ elk.test.node â”œâ”€â”€ inventory.instance.create.yml.example â”œâ”€â”€ README.md â”œâ”€â”€ roles â”‚ â”œâ”€â”€ elasticsearch â”‚ â”‚ â”œâ”€â”€ tasks â”‚ â”‚ â”‚ â”œâ”€â”€ create_disk.yml â”‚ â”‚ â”‚ â”œâ”€â”€ install_elastic.yml â”‚ â”‚ â”‚ â”œâ”€â”€ main.yml â”‚ â”‚ â”‚ â”œâ”€â”€ setup_disk.yml â”‚ â”‚ â”‚ â”œâ”€â”€ setup_elastic_master.yml â”‚ â”‚ â”‚ â””â”€â”€ setup_elastic_slave.yml â”‚ â”‚ â””â”€â”€ templates â”‚ â”‚ â””â”€â”€ elasticsearch.yml.j2 â”‚ â”œâ”€â”€ instance â”‚ â”‚ â””â”€â”€ tasks â”‚ â”‚ â”œâ”€â”€ create.yml â”‚ â”‚ â””â”€â”€ setup.yml â”‚ â”œâ”€â”€ kibana â”‚ â”‚ â”œâ”€â”€ tasks â”‚ â”‚ â”‚ â””â”€â”€ main.yml â”‚ â”‚ â””â”€â”€ templates â”‚ â”‚ â””â”€â”€ kibana.yml.j2 â”‚ â””â”€â”€ logstash â”‚ â””â”€â”€ tasks â”‚ â””â”€â”€ main.yml â””â”€â”€ vars â”œâ”€â”€ elasticsearch â”‚ â”œâ”€â”€ elasticsearch_var.yml â”‚ â””â”€â”€ elasticsearch_var.yml.example â”œâ”€â”€ instance â”‚ â”œâ”€â”€ instance_var.yml â”‚ â””â”€â”€ instance_var.yml.example â”œâ”€â”€ kibana â”‚ â”œâ”€â”€ kibana_var.yml â”‚ â””â”€â”€ kibana_var.yml.example â””â”€â”€ logstash â”œâ”€â”€ logstash_var.yml â””â”€â”€ logstash_var.yml.example ğŸ”°åŸºç¤ä»‹ç´¹ è¨­å®šæ©Ÿå™¨è³‡è¨Šï¼šè¤‡è£½å¥½inventory.instance.create.yml.exampleå¾Œï¼Œå¯åƒè€ƒinventoryè£¡çš„è¨­å®šï¼Œä¸»è¦è¨­å®šgcpçš„è³‡è¨Šï¼Œelasticsearchçš„node_roleç‚ºdata_roleï¼Œå¯åƒè€ƒä»¥ä¸‹é€£çµ Elasticsearch Multi-Tier Architecture | Hot, Warm, Cold \u0026amp; Frozen\nè¨­å®šgroup_varsçš„env.ymlï¼Œæ”¹æˆè‡ªå·±çš„gcpçš„å°ˆæ¡ˆä»¥åŠè¦è¨­å®šçš„region\nè¨­å®švarsè£¡çš„ç›¸å°ymlï¼Œå¯åƒè€ƒç¯„ä¾‹\nelasticsearchï¼šä¸»è¦è¨­å®šæ›è¼‰çš„ç¡¬ç¢Ÿè³‡è¨Š kibana,logstashï¼šè¨­å®šelasticsearchçš„hostè³‡è¨Š ğŸ¯setup elasticsearch_master -\u0026gt; elasticsearch_slave -\u0026gt; logstash -\u0026gt; kibana\næŒ‡ä»¤ ANSIBLE_HOST_KEY_CHECKING=False ansible-playbook -i inventory.instance.create.yml create_xxx_instance.yaml -v golang âœ…TODO elasticsearch playbook å„ªåŒ– æ·»åŠ filebeat role disk ä¿®æ”¹å»ºç½®è³‡æ–™å¤¾ ","permalink":"https://sz9751210.github.io/posts/ansible-elk/","summary":"ğŸ“”å¿ƒå¾— æœ€è¿‘ï¼Œæˆ‘åœ¨æ¢ç´¢ Ansible è‡ªå‹•åŒ–å·¥å…·çš„éç¨‹ä¸­ï¼Œæ±ºå®šé‹ç”¨å®ƒä¾†å»ºç«‹ ELK Stackï¼Œé€™æ˜¯æˆ‘ä¹‹å‰ä½¿ç”¨ Docker å»ºç«‹çš„ç¶“é©—çš„å»¶ä¼¸ã€‚åœ¨é€™å€‹éç¨‹ä¸­ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€ä¸‹æˆ‘çš„å­¸ç¿’å¿ƒå¾—ã€‚\nå°‹æ‰¾è³‡æº æˆ‘é–‹å§‹äº†è§£ ELK Stack çš„å®‰è£éç¨‹ï¼Œé¦–å…ˆé–±è®€äº†å®˜æ–¹æ–‡ä»¶ï¼Œç†Ÿæ‚‰äº†æ•´å€‹è¨­ç½®æµç¨‹ã€‚æ¥è‘—ï¼Œæˆ‘å°‹æ‰¾ Ansible ä¸­ç›¸é—œçš„æ¨¡çµ„ï¼Œé€™è®“æˆ‘æ›´å¥½åœ°ç†è§£å¦‚ä½•åœ¨ Ansible ä¸­å¯¦ç¾ç›¸åŒçš„æ­¥é©Ÿã€‚\nç›®éŒ„çµæ§‹çš„é‡è¦æ€§ åœ¨æ’°å¯« Ansible Playbook éç¨‹ä¸­ï¼Œæˆ‘å­¸åˆ°äº†è‰¯å¥½çš„ç›®éŒ„çµæ§‹æ˜¯å¤šéº¼é‡è¦ã€‚æˆ‘å¾æœ€åˆåªæœ‰ä¸€å€‹ä¸»è¦çš„ main.yml é–‹å§‹ï¼Œé€æ¼¸åˆ†è§£å‡ºæ ¹ç›®éŒ„ä¸‹çš„å¤šå€‹ .yml æª”æ¡ˆï¼Œç„¶å¾Œä½¿ç”¨ include ä¾†å¼•å…¥ä»»å‹™ã€‚é€™ç¨®çµæ§‹è®“æ•´å€‹ Playbook æ›´åŠ æ¨¡çµ„åŒ–ï¼Œæ˜“æ–¼ç®¡ç†ã€‚\nä½¿ç”¨æ¨¡æ¿å’Œè®Šæ•¸ åœ¨å‰µå»ºæ¨¡æ¿æ™‚ï¼Œæˆ‘ç™¼ç¾äº† Jinja2 èªæ³•çš„å¨åŠ›ã€‚æˆ‘å¯ä»¥ç›´æ¥å¥—ç”¨è®Šæ•¸ï¼Œé€™è®“æˆ‘çš„æ¨¡æ¿åœ¨è¤‡è£½åˆ°ç›®æ¨™ä¸»æ©Ÿæ™‚èƒ½è‡ªå‹•è¼‰å…¥æ‰€éœ€çš„åƒæ•¸ã€‚æ­¤å¤–ï¼Œæˆ‘é‚„å­¸æœƒäº†å¦‚ä½•æ ¹æ“šæˆ‘çš„ä¸»æ©Ÿæ¸…å–®ï¼ˆinventoryï¼‰ä¾†å‹•æ…‹è¨­å®šé€™äº›åƒæ•¸ï¼Œé€™çœŸæ˜¯å¼·å¤§çš„åŠŸèƒ½ã€‚\næ„Ÿè¬å‡ä»å¤§çš„æŒ‡å— æˆ‘è¦ç‰¹åˆ¥æ„Ÿè¬å‡ä»å¤§ï¼ˆä½œè€…ï¼‰çš„ Ansible æ•™ç¨‹ï¼Œæˆ‘å¾ä»–çš„ Ansible GitBook ä¸­å­¸åˆ°äº†è¨±å¤šå¯¶è²´çš„è³‡è¨Šã€‚ä»–çš„æ•™ç¨‹ç°¡æ½”æ˜ç­ï¼Œå°æ–¼åˆå­¸è€…ä¹Ÿéå¸¸å‹å¥½ã€‚ä»–çš„æ•™ç¨‹ç”šè‡³æä¾›äº† Ansible åœ¨ä½¿ç”¨ Docker Compose æ–¹é¢çš„å¯¦éš›ç·´ç¿’ï¼Œé€™è®“æˆ‘èƒ½æ›´å¥½åœ°æŒæ¡ Ansible çš„æ“ä½œæŠ€å·§ã€‚å¦å¤–ï¼Œä½¿ç”¨ Jupyter Notebook åŸ·è¡Œ Ansible æ¨¡çµ„ä¹Ÿè®“æˆ‘çš„å­¸ç¿’éç¨‹æ›´åŠ ä¾¿åˆ©ã€‚\nå¦‚æœä½ å°æ–¼ Ansible è‡ªå‹•åŒ–é…ç½®æŠ€å·§æ„Ÿèˆˆè¶£ï¼Œæˆ‘æ¨è–¦ä½ é–±è®€é€™ä»½å‡ä»å¤§çš„ Ansible æŒ‡å—ï¼Œé€£çµåœ¨ä¸‹æ–¹ï¼š\nğŸ”—å‡ä»å¤§ansibleæŒ‡å— \u0026ndash;\u0026gt; ç¾ä»£ IT äººä¸€å®šè¦çŸ¥é“çš„ Ansible è‡ªå‹•åŒ–çµ„æ…‹æŠ€å·§\næ­¤å¤–ï¼Œæˆ‘é‚„å°‡æˆ‘ä½¿ç”¨ Ansible å»ºç«‹ ELK Stack çš„ Playbook æ”¾åœ¨äº†ä»¥ä¸‹çš„ GitHub å€‰åº«ï¼Œæ­¡è¿åƒè€ƒï¼š","title":"åœ¨ GCP ç’°å¢ƒä¸‹ä½¿ç”¨ Ansible è‡ªå‹•åŒ–å»ºç«‹ ELK Stack"},{"content":"ğŸ‘€QUICK REVIEW The book in 3 Sentences ç”¨ä¸‰æ®µè©±èªªæ˜é€™æœ¬æ›¸çš„å…§å®¹\nç‚ºäº†å­¸ç¿’è€Œå¯« é—¡è¿°æ˜¯æœ€æœ‰æ•ˆçš„å­¸ç¿’æ–¹æ³• ç°¡è¦è¨˜è¿°å…§å®¹ä¸­æå‡ºçš„ä¸»è¦æƒ³æ³•ï¼Œè€Œä¸æ˜¯è’é›†å¼•æ–‡ï¼Œä¸¦åŠªåŠ›æ€è€ƒèˆ‡å…¶ä»–ä¸åŒå…§å®¹çš„æƒ³æ³•é€£çµå†ä¸€èµ· Purpose of the book æ›¸çš„ç›®çš„\næä¾›å¤§è…¦ä¸€å€‹å¤–éƒ¨è¨˜æ†¶é«”å»å„²å­˜ç´°ç¯€èˆ‡åƒè€ƒè³‡æ–™ï¼Œè®“å¤§è…¦èƒ½å°ˆæ³¨åœ¨ç™¼æ®å‰µé€ åŠ›èˆ‡æ·±å…¥çš„å­¸ç¿’ é€éåŸå­æ€§å°‡å¤šå€‹é‡é»çš„å¤§ç­†è¨˜æ‹†è§£æˆåƒæ˜¯å¡ç‰‡ä¸€æ¨£çš„å°ç­†è¨˜ å…·æœ‰é€£çµæ€§ï¼Œå°‡å„å€‹å°ç­†è¨˜çš„é»é€éé—œè¯æ€§é€£çµæˆå¤§ç­†è¨˜ My Top 3 Quotes æˆ‘æœ€å–œæ­¡çš„ 3 å¥ Quotes\nå¦‚æœä½ ç„¡æ³•æ¸…æ¥šåœ°èªªå‡ºä¾†ï¼Œä½ å°±ç„¡æ³•çœŸæ­£çš„ç†è§£ äººå¿…é ˆè¦æ‰¾å‡ºæƒ³æ³•çš„ä¸åŒä¹‹è™•ï¼ŒæŒæ¡å…¶ä¸­çš„å·®ç•°ï¼Œä¸ç®¡é€™äº›å·®ç•°å¼å¾ˆæ˜é¡¯å¯è¦‹ï¼Œé‚„æ˜¯éš±è—åœ¨æ¦‚å¿µè£¡ æ­£ç¢ºçš„å­¸ç¿’ä»£è¡¨çš„æ˜¯ç†è§£ï¼Œè€Œç†è§£æ˜¯æŒ‡ç”¨æœ‰æ„ç¾©çš„æ–¹å¼ï¼Œé€£æ¥åˆ°å·²çŸ¥çš„çŸ¥è­˜ ğŸ“šè®€å¾Œå¿ƒå¾— ã€Š å¡ç‰‡ç›’ç­†è¨˜ï¼šæœ€é«˜æ•ˆæ€è€ƒç­†è¨˜è¡“ï¼Œå¾·åœ‹æ•™æˆè¶…å¼·ç§˜æŠ€ï¼Œä¿ƒé€²å¯«ä½œã€å­¸ç¿’èˆ‡æ€è€ƒï¼Œä½¿ä½ æ´è¦‹æºæºä¸æ–·ï¼Œæˆç‚ºå°ˆå®¶ ã€‹\nå¾ä»¥å‰åšç­†è¨˜éƒ½æ˜¯ä½¿ç”¨è³‡æ–™å¤¾çš„åˆ†é¡é‚è¼¯ï¼Œæ¥è‘—æœƒç¢°åˆ°å¦‚æœä¸€ç¯‡ç­†è¨˜æœ‰å…©ç¨®ä»¥ä¸Šçš„æ¦‚å¿µæ™‚ï¼Œè¦å¦‚ä½•å»åˆ†é¡ï¼Œé€™å•é¡Œä¹Ÿæ˜¯å›°æ“¾äº†æˆ‘å¾ˆä¹…ï¼Œåœ¨ç¶²è·¯ä¸Šæœå°‹ç­†è¨˜æ³•ï¼Œå‰›å¥½çœ‹åˆ°obsidiané€™å¥—è»Ÿé«”ï¼Œä»–è£é¢çš„åå‘é€£çµåŠŸèƒ½çœŸçš„å¤ªå¼·å¤§äº†ï¼Œè®“æˆ‘èƒ½é€éç´¢å¼•çš„æ–¹å¼å»æ•´ç†æˆ‘çš„ç­†è¨˜ï¼Œè®“æˆ‘çš„å¤§è…¦å¯ä»¥æ›´å°ˆæ³¨åœ¨çœ¼å‰çš„ä»»å‹™ä¸Šï¼Œä¹Ÿå¾ˆæ„Ÿè¬æœ±é¨è€å¸«ï¼Œåœ¨éµäººé‚¦çš„obsidianç³»åˆ—æ–‡å¹«åŠ©äº†æˆ‘å¾ˆå¤šï¼Œè®“æˆ‘åšç­†è¨˜æœ‰å¾ˆå¤šçš„æ”¹è®Šï¼Œé€£çµæˆ‘æœƒæ”¾åœ¨æœ€ä¸‹é¢ã€‚\né€™æœ¬æ›¸è®€å®Œå¾Œï¼Œè®“æˆ‘å°æ–¼å¡ç‰‡ç›’ç­†è¨˜æ³•æœ‰æ›´æ·±å…¥çš„ç­è§£ï¼Œé€™æœ¬æ›¸ä¸åƒ…åƒ…æ˜¯æ•™å°åšç­†è¨˜çš„æ–¹æ³•ï¼Œè€Œæ˜¯ä¸€å€‹å®Œæ•´çš„æ€è€ƒã€å·¥ä½œæµç¨‹å’Œæœ‰æ•ˆå­¸ç¿’çš„æ–¹æ³•ã€‚\næ›¸ä¸­æœ‰æåˆ°è”¡åŠ å°¼å…‹æ•ˆæ‡‰ï¼šé‚„æœªå®Œæˆçš„å·¥ä½œé …ç›®ï¼Œæœƒä½”æ“šæˆ‘å€‘çš„çŸ­æœŸè¨˜æ†¶ï¼Œç›´åˆ°å®Œæˆç‚ºæ­¢ã€‚\nè¦è®“æˆ‘å€‘çš„å¤§è…¦åœæ­¢å»æƒ³æŸä»¶å·¥ä½œï¼Œä¸ç”¨ç­‰åˆ°é‚£ä»¶å·¥ä½œåšå®Œï¼Œåªè¦æŠŠä»–å€‘è¨˜ä¸‹ä¾†ï¼Œä¸¦è®“è‡ªå·±æƒ³åƒã€Œæˆ‘æœƒå»è™•ç†ã€ï¼Œé€™æ¨£å¤§è…¦å°±æœƒåœæ­¢å»æƒ³å®ƒäº†ã€‚\nå› ç‚ºå¤§è…¦ç„¡æ³•å€åˆ¥çœŸæ­£å·²åšå®Œä»¥åŠæœªå®Œæˆçš„äº‹ï¼Œå¦‚æœæŠŠæŸä»¶äº‹è¨˜ä¸‹ä¾†ï¼Œå°±å¯ä»¥æŠŠå®ƒå¾å¤§è…¦ä¸­æ¸…é™¤æ‰ã€‚è®“ä¸€å€‹å¤–éƒ¨ç³»çµ±å»å„²å­˜é‚£äº›é‚„æ²’åšå®Œçš„äº‹æƒ…ã€‚\nç¾åœ¨åšçš„ç­†è¨˜ï¼Œè§€çœ¾æ˜¯æœªä¾†çš„è‡ªå·±ï¼Œå› ç‚ºç­†è¨˜åšå®Œä¸ä¹…ï¼Œå°±æœƒå›åˆ°ä¸€ç„¡æ‰€çŸ¥çš„ç‹€æ…‹ï¼Œè¦è¡¨é”æ¸…æ¥šçµ¦æœªä¾†çš„è‡ªå·±ï¼Œå°±éœ€è¦çœŸæ­£çš„ç†è§£ã€‚\nè€Œå¦‚ä½•ä»¥æœ‰æ„ç¾©çš„æ–¹å¼ï¼Œå°‡æŸå€‹è¨Šæ¯é€£æ¥åˆ°å…¶ä»–è¨Šæ¯ï¼Ÿ\nç¬¬ä¸€æ­¥æ˜¯æ€è€ƒæŸè¨Šæ¯ï¼Œä¸¦æŠŠä»–å¯«å‡ºä¾†ï¼Œæ¥è‘—æ˜¯æ€è€ƒé€™å€‹è¨Šæ¯è·Ÿå…¶ä»–è„ˆçµ¡æœ‰ç”šéº¼é—œè¯æ€§ã€‚\nå¤§è…¦èˆ‡å¡ç‰‡ç›’çš„åˆ†å·¥ï¼Œè² è²¬ç´°ç¯€èˆ‡åƒè€ƒè³‡æ–™ï¼Œç¢ºä¿è³‡æ–™ä¿æŒå®¢è§€å®Œæ•´ï¼Œè®“å¤§è…¦èƒ½å¤ å°ˆæ³¨åœ¨é‡è¦çš„äº‹æƒ…ä¸Šï¼Œè€Œå¤§è…¦è² è²¬è‡ªç”±ç™¼æ®å‰µé€ åŠ›ï¼Œæ›´æ·±å…¥çš„å­¸ç¿’èˆ‡æ•´é«”æ€§çš„è¦åŠƒã€‚\nè€Œå¡ç‰‡ç›’çš„ç”¨æ„æ˜¯ï¼Œå•é€™å¼µå¡ç‰‡çš„æ„ç¾©ç‚ºä½•ï¼Ÿç‚ºä½•é€£æ¥åˆ°æŸäº‹ï¼Ÿè·ŸæŸäº‹å·®ç•°ï¼Ÿå®ƒè·Ÿç”šéº¼é¡ä¼¼ï¼Ÿ\nåªè¦é€£çµåˆç†ï¼Œå¡ç‰‡å°±èƒ½å½¼æ­¤é€£çµï¼Œæ‰€ä»¥å¡ç‰‡ç›’ä¸¦ä¸æ˜¯æ ¹æ“šä¸»é¡Œåˆ†é¡ã€‚\næ›¸ä¸­é‚„æåˆ°éåº¦äº•ç„¶æœ‰åºæœƒå¦¨ç¤™å­¸ç¿’\næ›¸ä¸­èˆ‰äº†æ•™å°å­¸ç”Ÿèªè­˜ä¸åŒçš„è—è¡“é¢¨æ ¼ï¼Œé¦–å…ˆç”¨å‚³çµ±çš„æ–¹å¼ï¼ŒæŠŠå±¬æ–¼ç›¸åŒè—è¡“é¢¨æ ¼çš„å¤šå¹…ç¹ªç•«å±•ç¤ºçµ¦ä¸€çµ„å­¸ç”Ÿçœ‹ï¼Œæ¥è‘—åˆ»æ„æ‰“äº‚è—è¡“é¢¨æ ¼çµ¦å¦ä¸€çµ„å­¸ç”Ÿçœ‹ï¼Œçµæœåè€Œæ˜¯å„ç¨®ä¸åŒé¢¨æ ¼ç¹ªç•«ã€‚\næ··åœ¨ä¸€èµ·çš„é‚£ä¸€çµ„å­¸ç”Ÿï¼Œæ›´å¿«å­¸æœƒå¦‚ä½•åˆ†è¾¨ä¸åŒçš„è—è¡“é¢¨æ ¼ã€‚é€™é¡¯ç¤ºäº†èˆ‡å…¶ç”¨ä¸»é¡Œåˆ†é¡ï¼Œä¸å¦‚è¡¨é”æ¸…æ¥šå„ç¨®å·®ç•°å’Œç›¸åŒä¹‹è™•ï¼Œå¼·åŒ–è¦é¡çš„èƒ½åŠ›ä»¥åŠå‰µé€ åˆç†çš„åˆ†é¡èƒ½åŠ›ã€‚\næœ¬æ›¸æ­é…obsidiançœŸçš„æ˜¯ä¸€å€‹å®Œç¾çš„æ­é…ï¼Œå¾ˆæ„Ÿè¬ä½œè€…ä»¥èº«ä½œå‰‡æ‡‰ç”¨å¡ç‰‡ç›’ç­†è¨˜æ³•çš„æ™ºæ…§çµæ™¶ç”¢å‡ºæ­¤æ›¸ã€‚\nğŸ”—ã€Obsidian ä½¿ç”¨æ•™å­¸ã€‘ç¸½ç›®éŒ„ \u0026ndash;\u0026gt; https://reurl.cc/NRZ9bx\n","permalink":"https://sz9751210.github.io/posts/%E5%8D%A1%E7%89%87%E7%9B%92%E7%AD%86%E8%A8%98%E6%9C%80%E9%AB%98%E6%95%88%E6%80%9D%E8%80%83%E7%AD%86%E8%A8%98%E8%A1%93%E5%BE%B7%E5%9C%8B%E6%95%99%E6%8E%88%E8%B6%85%E5%BC%B7%E7%A7%98%E6%8A%80%E4%BF%83%E9%80%B2%E5%AF%AB%E4%BD%9C%E5%AD%B8%E7%BF%92%E8%88%87%E6%80%9D%E8%80%83%E4%BD%BF%E4%BD%A0%E6%B4%9E%E8%A6%8B%E6%BA%90%E6%BA%90%E4%B8%8D%E6%96%B7%E6%88%90%E7%82%BA%E5%B0%88%E5%AE%B6/","summary":"\u003ch2 id=\"quick-review\"\u003eğŸ‘€QUICK REVIEW\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThe book in 3 Sentences ç”¨ä¸‰æ®µè©±èªªæ˜é€™æœ¬æ›¸çš„å…§å®¹\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eç‚ºäº†å­¸ç¿’è€Œå¯«\u003c/li\u003e\n\u003cli\u003eé—¡è¿°æ˜¯æœ€æœ‰æ•ˆçš„å­¸ç¿’æ–¹æ³•\u003c/li\u003e\n\u003cli\u003eç°¡è¦è¨˜è¿°å…§å®¹ä¸­æå‡ºçš„ä¸»è¦æƒ³æ³•ï¼Œè€Œä¸æ˜¯è’é›†å¼•æ–‡ï¼Œä¸¦åŠªåŠ›æ€è€ƒèˆ‡å…¶ä»–ä¸åŒå…§å®¹çš„æƒ³æ³•é€£çµå†ä¸€èµ·\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ePurpose of the book æ›¸çš„ç›®çš„\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæä¾›å¤§è…¦ä¸€å€‹å¤–éƒ¨è¨˜æ†¶é«”å»å„²å­˜ç´°ç¯€èˆ‡åƒè€ƒè³‡æ–™ï¼Œè®“å¤§è…¦èƒ½å°ˆæ³¨åœ¨ç™¼æ®å‰µé€ åŠ›èˆ‡æ·±å…¥çš„å­¸ç¿’\u003c/li\u003e\n\u003cli\u003eé€éåŸå­æ€§å°‡å¤šå€‹é‡é»çš„å¤§ç­†è¨˜æ‹†è§£æˆåƒæ˜¯å¡ç‰‡ä¸€æ¨£çš„å°ç­†è¨˜\u003c/li\u003e\n\u003cli\u003eå…·æœ‰é€£çµæ€§ï¼Œå°‡å„å€‹å°ç­†è¨˜çš„é»é€éé—œè¯æ€§é€£çµæˆå¤§ç­†è¨˜\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMy Top 3 Quotes æˆ‘æœ€å–œæ­¡çš„ 3 å¥ Quotes\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå¦‚æœä½ ç„¡æ³•æ¸…æ¥šåœ°èªªå‡ºä¾†ï¼Œä½ å°±ç„¡æ³•çœŸæ­£çš„ç†è§£\u003c/li\u003e\n\u003cli\u003eäººå¿…é ˆè¦æ‰¾å‡ºæƒ³æ³•çš„ä¸åŒä¹‹è™•ï¼ŒæŒæ¡å…¶ä¸­çš„å·®ç•°ï¼Œä¸ç®¡é€™äº›å·®ç•°å¼å¾ˆæ˜é¡¯å¯è¦‹ï¼Œé‚„æ˜¯éš±è—åœ¨æ¦‚å¿µè£¡\u003c/li\u003e\n\u003cli\u003eæ­£ç¢ºçš„å­¸ç¿’ä»£è¡¨çš„æ˜¯ç†è§£ï¼Œè€Œç†è§£æ˜¯æŒ‡ç”¨æœ‰æ„ç¾©çš„æ–¹å¼ï¼Œé€£æ¥åˆ°å·²çŸ¥çš„çŸ¥è­˜\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","title":"å¡ç‰‡ç›’ç­†è¨˜ï¼šæœ€é«˜æ•ˆæ€è€ƒç­†è¨˜è¡“ï¼Œå¾·åœ‹æ•™æˆè¶…å¼·ç§˜æŠ€ï¼Œä¿ƒé€²å¯«ä½œã€å­¸ç¿’èˆ‡æ€è€ƒï¼Œä½¿ä½ æ´è¦‹æºæºä¸æ–·ï¼Œæˆç‚ºå°ˆå®¶"},{"content":"ğŸ“”å¿ƒå¾— ä¸€ç›´ä»¥ä¾†éƒ½åœ¨ä½¿ç”¨containerä¸‹å»è·‘æ¸¬è©¦ç’°å¢ƒï¼Œæ‰€ä»¥éƒ½æ˜¯ä½¿ç”¨dockeræŒ‡ä»¤ä¸‹å»åšé™¤éŒ¯ï¼Œæœ€è¿‘å› ç·£éš›æœƒä¸‹æ‰¾åˆ°é€™ä¸€æ¬¾å¯ä»¥é€éUIçœ‹å…¨éƒ¨çš„containerç‹€æ…‹ï¼ŒçœŸçš„è¦ºå¾—å¥½ç”¨åˆ°çˆ†ç‚¸ï¼Œæ‰€ä»¥ä¾†ä»‹ç´¹ä¸€ä¸‹é€™æ¬¾å®¹å™¨åŒ–ç®¡ç†ç¥å™¨ã€‚\nåŸºæœ¬ä¸Šèƒ½ç”¨dockeræŒ‡ä»¤åšåˆ°çš„äº‹æƒ…ï¼Œportaineréƒ½èƒ½åšåˆ°ï¼Œåƒæ˜¯docker psï¼ŒæŸ¥çœ‹æ‰€æœ‰containerï¼Œæ¥è‘—é»æ“ŠæŸå€‹containerï¼Œå°±æœƒé¡¯ç¤ºåŸºæœ¬çš„containerè¨Šæ¯ã€‚è£¡é¢èƒ½é‡å°é€™å€‹containeræŸ¥çœ‹logsï¼Œinspectï¼Œstatç­‰ç­‰ï¼ŒåŠŸèƒ½éå¸¸é½Šå…¨ã€‚ æˆ‘è‡ªå·±æœ€å¸¸ä½¿ç”¨çš„å°±æ˜¯docker logsï¼Œé€éUIå¯ä»¥ç›´æ¥é»æ“ŠLogsæŸ¥çœ‹ï¼Œæ–¹ä¾¿å¾ˆå¤šã€‚\nä¾ç…§é¡å‹ä¹Ÿæœƒåˆ†å‡ºstackï¼Œcontainerï¼Œimageï¼Œnetworkï¼Œvolumeç­‰ç­‰ï¼Œéƒ½å¯å„åˆ¥ä¸‹å»åšæ–°å¢ï¼ŒæŸ¥çœ‹èˆ‡ç®¡ç†ï¼Œæœ‰æ™‚å€™æ±è¥¿å»ºäº†å¿˜è¨˜åˆªï¼Œé€™é‚Šæœƒé¡¯ç¤ºunusedï¼Œæ‰“å‹¾å¾Œå°±èƒ½ä¸€éµç§»é™¤ã€‚\nportainerå¾æ‹‰imageåˆ°deploy containeréƒ½èƒ½é€éuiå®Œæˆï¼Œå°æ–¼æ›´æ–°ç‰ˆæœ¬ä¹Ÿæ˜¯å¾ˆæœ‰ä¸€å¥—ï¼Œå¯ä»¥é€éè¨­å®špull latestä¸¦é»æ“Šrecreateé€²è¡Œcontainerçš„æ›´æ–°ï¼Œå°æ–¼å¸¸å¸¸ä½¿ç”¨containeræ¸¬è©¦è€…çœŸçš„æ˜¯ä¸€å¤§ç¦éŸ³ã€‚\nğŸ‘¨â€ğŸ’»ç°¡ä»‹ portainerä¸»è¦è®“æˆ‘å€‘èƒ½æœ‰å€‹UIä»‹é¢ç®¡ç†æˆ‘å€‘çš„dockerï¼Œå°æ–¼åˆå­¸dockeræŒ‡ä»¤ä¸å¤ªç†Ÿçš„ä½¿ç”¨è€…èƒ½å¿«é€Ÿé€²å…¥dockerçš„ä¸–ç•Œï¼Œä¸¦ä¸”å¯å¾docker hubä¸€éµæ‹‰å–imageï¼Œè¨­å®šnetworkã€volumeç­‰é€²è¡Œå¿«é€Ÿéƒ¨ç½²ï¼Œéƒ½å¯è—‰ç”±portainerå®Œæˆã€‚ ğŸ¯setup é€édocker-compose.ymlå»ºç«‹portainer å»ºç«‹docker-compose.yml # docker-compose.yml version: \u0026#34;3\u0026#34; services: portainer: image: portainer/portainer-ce volumes: - /var/run/docker.sock:/var/run/docker.sock - portainer_data:/data ports: - 9000:9000 container_name: portainer volumes: portainer_data: {} åŸ·è¡Œdocker-compose up -d\nè¨­å®šç³»çµ±ç®¡ç†å“¡ finish ğŸ”°åŸºç¤ä»‹ç´¹(æœ¬åœ°ç’°å¢ƒ) 1. Dashboard ä¸Šé¢çš„Environment infoç‚ºç•¶å‰æœ¬åœ°çš„ç³»çµ±ç’°å¢ƒåŸºæœ¬è³‡è¨Š 6 core cpu 8.3 ram dockerç‰ˆæœ¬ç‚º20.10.17 URLç‚ºæˆ‘æ›è¼‰çš„docker.sockè·¯å¾‘ åº•ä¸‹ç‚ºç•¶å‰æ‰€æœ‰çš„dockeré…ç½® 2. Stacks ä½¿ç”¨docker-composeèµ·çš„å°±æœƒå½¢æˆä¸€å€‹stackï¼Œå¯é¡¯ç¤ºç•¶å‰æ‰€è·‘çš„stack listï¼Œä»¥åŠé€™å€‹stackè·‘çš„containerè³‡è¨Š å¦‚æœè¦è‡ªå·±æ–°å¢stackå¯é»æ“ŠAdd stackæŠŠè‡ªå·±å¯«å¥½çš„docker-compose.ymlè²¼ä¸Šå»ä¸¦æŒ‰ä¸‹Deploy the stackå³å¯å»ºç«‹ã€‚ 3. Containers å¯é‡å°containeråšå•Ÿå‹•åœæ­¢æš«åœåˆªé™¤ç­‰ç­‰çš„åŸºæœ¬æ“ä½œï¼Œåœ¨listä»‹é¢å¯é¡¯ç¤ºç•¶å‰æ‰€æœ‰containerçš„åŸºç¤è³‡è¨Šã€‚Quick Actionså¾å·¦åˆ°å³åˆ†åˆ¥ç‚ºLogsã€Inspectã€Statsã€Exec Consoleã€Attach Console Logsï¼šæ–¹ä¾¿æŸ¥çœ‹ç•¶å‰container logç‹€æ³ Inspectï¼šè·Ÿdocker inspectä¸€æ¨£ï¼Œä½†å¯è¦–ç¨‹åº¦è¼ƒé«˜ï¼Œæœ‰è½‰æˆæ¨¹ç‹€çµæ§‹ Statsï¼šå¯æŸ¥çœ‹cpuã€memã€networkç­‰ä½¿ç”¨ç‡ï¼Œä»¥åŠé¡¯ç¤ºç•¶å‰ä½¿ç”¨äº†å“ªäº›é€²ç¨‹ Exec Consoleï¼šä¸€éµé€²å…¥å®¹å™¨å…§æ“ä½œ æ–°å¢containerçš„æ–¹å¼ä¹Ÿæ˜¯å¾ˆç°¡å–®ï¼Œé€éAdd containerä¹‹å¾Œè¨­å®šimageçš„åŸºæœ¬è¨­å®šå³å¯æˆåŠŸå»ºç«‹containerï¼Œåº•ä¸‹ä¹Ÿå¯è¨­å®švolumeã€networkç­‰ç­‰ã€‚ 4. Images é€™é‚Šæœ€ä¸Šé¢å¯ç›´æ¥è¼¸å…¥image nameåšpull imageçš„å‹•ä½œï¼Œä¸‹é¢å‰‡æ˜¯é¡¯ç¤ºç•¶å‰æœ¬åœ°æ‰€æœ‰çš„imagesï¼Œå°æ–¼æ²’å†ä½¿ç”¨çš„imageé€™é‚Šæœƒé¡¯ç¤ºUnusedçœŸçš„æ–¹ä¾¿è¨±å¤šï¼Œä¸€éµå³å¯ç§»é™¤ï¼Œé»æ“Šé€²å»å¯çœ‹åˆ°imageçš„åŸºæœ¬è³‡è¨Šï¼Œä¸¦ä¸”èƒ½é¡¯ç¤ºimage layersï¼Œå°æ–¼è‡ªå·±æ’°å¯«dockerfileå¹«åŠ©å¾ˆå¤§ã€‚ å¦‚æœè¦è‡ªå·±å»ºç«‹imageå¯é»æ“ŠBuild a new imageï¼Œå°‡è‡ªå·±å¯«çš„dockerfileè²¼ä¸Šå»å»ºç«‹imageã€‚ ","permalink":"https://sz9751210.github.io/posts/portainer-intro/","summary":"\u003ch2 id=\"å¿ƒå¾—\"\u003eğŸ“”å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003eä¸€ç›´ä»¥ä¾†éƒ½åœ¨ä½¿ç”¨containerä¸‹å»è·‘æ¸¬è©¦ç’°å¢ƒï¼Œæ‰€ä»¥éƒ½æ˜¯ä½¿ç”¨dockeræŒ‡ä»¤ä¸‹å»åšé™¤éŒ¯ï¼Œæœ€è¿‘å› ç·£éš›æœƒä¸‹æ‰¾åˆ°é€™ä¸€æ¬¾å¯ä»¥é€éUIçœ‹å…¨éƒ¨çš„containerç‹€æ…‹ï¼ŒçœŸçš„è¦ºå¾—å¥½ç”¨åˆ°çˆ†ç‚¸ï¼Œæ‰€ä»¥ä¾†ä»‹ç´¹ä¸€ä¸‹é€™æ¬¾å®¹å™¨åŒ–ç®¡ç†ç¥å™¨ã€‚\u003c/p\u003e\n\u003cp\u003eåŸºæœ¬ä¸Šèƒ½ç”¨dockeræŒ‡ä»¤åšåˆ°çš„äº‹æƒ…ï¼Œportaineréƒ½èƒ½åšåˆ°ï¼Œåƒæ˜¯docker psï¼ŒæŸ¥çœ‹æ‰€æœ‰containerï¼Œæ¥è‘—é»æ“ŠæŸå€‹containerï¼Œå°±æœƒé¡¯ç¤ºåŸºæœ¬çš„containerè¨Šæ¯ã€‚è£¡é¢èƒ½é‡å°é€™å€‹containeræŸ¥çœ‹logsï¼Œinspectï¼Œstatç­‰ç­‰ï¼ŒåŠŸèƒ½éå¸¸é½Šå…¨ã€‚\næˆ‘è‡ªå·±æœ€å¸¸ä½¿ç”¨çš„å°±æ˜¯docker logsï¼Œé€éUIå¯ä»¥ç›´æ¥é»æ“ŠLogsæŸ¥çœ‹ï¼Œæ–¹ä¾¿å¾ˆå¤šã€‚\u003c/p\u003e\n\u003cp\u003eä¾ç…§é¡å‹ä¹Ÿæœƒåˆ†å‡ºstackï¼Œcontainerï¼Œimageï¼Œnetworkï¼Œvolumeç­‰ç­‰ï¼Œéƒ½å¯å„åˆ¥ä¸‹å»åšæ–°å¢ï¼ŒæŸ¥çœ‹èˆ‡ç®¡ç†ï¼Œæœ‰æ™‚å€™æ±è¥¿å»ºäº†å¿˜è¨˜åˆªï¼Œé€™é‚Šæœƒé¡¯ç¤ºunusedï¼Œæ‰“å‹¾å¾Œå°±èƒ½ä¸€éµç§»é™¤ã€‚\u003c/p\u003e\n\u003cp\u003eportainerå¾æ‹‰imageåˆ°deploy containeréƒ½èƒ½é€éuiå®Œæˆï¼Œå°æ–¼æ›´æ–°ç‰ˆæœ¬ä¹Ÿæ˜¯å¾ˆæœ‰ä¸€å¥—ï¼Œå¯ä»¥é€éè¨­å®špull latestä¸¦é»æ“Šrecreateé€²è¡Œcontainerçš„æ›´æ–°ï¼Œå°æ–¼å¸¸å¸¸ä½¿ç”¨containeræ¸¬è©¦è€…çœŸçš„æ˜¯ä¸€å¤§ç¦éŸ³ã€‚\u003c/p\u003e\n\u003ch2 id=\"ç°¡ä»‹\"\u003eğŸ‘¨â€ğŸ’»ç°¡ä»‹\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eportainerä¸»è¦è®“æˆ‘å€‘èƒ½æœ‰å€‹UIä»‹é¢ç®¡ç†æˆ‘å€‘çš„dockerï¼Œå°æ–¼åˆå­¸dockeræŒ‡ä»¤ä¸å¤ªç†Ÿçš„ä½¿ç”¨è€…èƒ½å¿«é€Ÿé€²å…¥dockerçš„ä¸–ç•Œï¼Œä¸¦ä¸”å¯å¾docker hubä¸€éµæ‹‰å–imageï¼Œè¨­å®šnetworkã€volumeç­‰é€²è¡Œå¿«é€Ÿéƒ¨ç½²ï¼Œéƒ½å¯è—‰ç”±portainerå®Œæˆã€‚\u003c/li\u003e\n\u003c/ul\u003e","title":"Portainerï¼šä¸€æ¬¾åœ–å½¢åŒ–å®¹å™¨ç®¡ç†å·¥å…·"},{"content":"ç°¡ä»‹ å› å¸¸æœƒåœ¨æ–°æ©Ÿå™¨è·‘containerï¼Œè—‰æ­¤ç´€éŒ„å®‰è£éç¨‹ï¼Œé †ä¾¿å¯«ä¸‹è…³æœ¬å®‰è£æ‡¶äººåŒ… å®‰è£docker æª¢æŸ¥ç³»çµ±ä¸­æ˜¯å¦å·²ç¶“å®‰è£äº†docker åŸ·è¡Œï¼šps -ef |grep docker\nå¦‚ä¸Šåœ–æ‰€ç¤ºï¼Œèªªæ˜ç³»çµ±ä¸­ä¸¦æ²’æœ‰å®‰è£docker\næ·»åŠ docker-ceå€‰åº« å®‰è£yumå€‰åº«ç®¡ç†å·¥å…· sudo yum update -y sudo yum install -y yum-utils é…ç½®docker yumæº sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\tå®‰è£docker engine sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin å•Ÿå‹•docker \u0026amp;\u0026amp; è¨­ç½®é–‹æ©Ÿå•Ÿå‹•docker sudo systemctl start docker.service sudo systemctl enable docker.service å®‰è£docker-compose Install Docker Compose CLI plugin | Docker Documentation\né€écurlä¸‹è¼‰docker-compose COMPOSE_VERSION=$(curl -s https://api.github.com/repos/docker/compose/releases/latest | grep \u0026#39;tag_name\u0026#39; | cut -d\\\u0026#34; -f4) sh -c \u0026#34;curl -L https://github.com/docker/compose/releases/download/${COMPOSE_VERSION}/docker-compose-`uname -s`-`uname -m` \u0026gt; /usr/local/bin/docker-compose\u0026#34; å°‡docker-composeè®Šæˆå¯åŸ·è¡Œæª” chmod +x /usr/local/bin/docker-compose å»ºç«‹é€£çµ ln -s /usr/local/bin/docker-compose docker-compose ç¢ºèªæ˜¯å¦å®‰è£æˆåŠŸ docker-compose -v è…³æœ¬è‡ªå‹•åŒ–å®‰è£docker \u0026amp;\u0026amp; docker-compose #!/bin/bash # ----- Install docker ----- # echo \u0026#34;install docker\u0026#34; sudo yum update -y sudo yum install -y yum-utils sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin # start \u0026amp; enable docker.service sudo systemctl start docker.service sudo systemctl enable docker.service # ----- Install docker-compose ----- # echo \u0026#34;install docker-compose\u0026#34; # get latest docker compose released tag COMPOSE_VERSION=$(curl -s https://api.github.com/repos/docker/compose/releases/latest | grep \u0026#39;tag_name\u0026#39; | cut -d\\\u0026#34; -f4) sudo curl -L \u0026#34;https://github.com/docker/compose/releases/download/${COMPOSE_VERSION}/docker-compose-$(uname -s)-$(uname -m)\u0026#34; -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose # Output compose version docker-compose --version exit 0 ","permalink":"https://sz9751210.github.io/posts/centos-%E5%AE%89%E8%A3%9Ddocker-%E5%92%8C-docker-compose/","summary":"\u003ch2 id=\"ç°¡ä»‹\"\u003eç°¡ä»‹\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eå› å¸¸æœƒåœ¨æ–°æ©Ÿå™¨è·‘containerï¼Œè—‰æ­¤ç´€éŒ„å®‰è£éç¨‹ï¼Œé †ä¾¿å¯«ä¸‹è…³æœ¬å®‰è£æ‡¶äººåŒ…\u003c/li\u003e\n\u003c/ul\u003e","title":"CentOS å®‰è£docker å’Œ docker-compose"},{"content":"ğŸ“”å¿ƒå¾— å› æœ€è¿‘åœ¨ç ”ç©¶elk-stackï¼Œè—‰æ­¤ç´€éŒ„ä¸€ä¸‹ä½¿ç”¨docker-composeå»ºç«‹èµ·elk-stackçš„æ¶æ§‹ï¼Œåœ¨å»ºç«‹çš„éç¨‹ä¸­ï¼Œæ¯”è¼ƒå¤šé‡åˆ°çš„æ˜¯è¨˜æ†¶é«”ä½¿ç”¨ç‡çš„é…ç½®ä¸è¶³ï¼Œå°è‡´å®¹å™¨ç„¡æ³•æˆåŠŸå•Ÿå‹•ï¼Œæˆ–æ˜¯configæª”æ¬Šé™çš„å•é¡Œï¼Œå› æ­¤åœ¨filebeatçš„éƒ¨åˆ†æœƒç›´æ¥æŠŠconfigæª”æ”¾é€²å»ä¸¦æ”¹æˆrootæ¬Šé™ã€‚\nä¹‹å¾Œå¸Œæœ›èƒ½å†å¢åŠ logstashçš„pipelineåŠŸèƒ½ï¼Œåœ¨å¯¦å‹™ä¸Šå¯å¤šå€‹æœå‹™åšç¯©é¸ï¼Œä»¥åŠelasticsearchçš„è³‡æ–™å®‰å…¨æ€§é…ç½®SSLå’Œå¢é›†æ¶æ§‹ï¼Œä¸¦å°å…¥ILMåšlogçš„ç©ºé–“ç®¡ç†ã€‚\nç›£æ§çš„éƒ¨åˆ†å‰‡æ˜¯æ‹¿ä¹‹å‰åšçš„å°å°ˆæ¡ˆç›´æ¥å¥—ç”¨ä¸¦å‘ˆç¾ï¼Œæ‰€ä»¥æ•´é«”æµç¨‹å¤§è‡´ä¸Šå·®ä¸å¤šï¼Œå¤šäº†å€‹elasticsearch_exporterï¼Œå¯æŸ¥çœ‹æ›´å¤šelasticsearchçš„æ•´é«”ç‹€æ³ï¼Œä¾‹å¦‚indexã€shardçš„æ•¸é‡ï¼Œè³‡æ–™å¤§å°ï¼Œå¯«å…¥é€Ÿç‡ç­‰ç­‰ã€‚\nğŸ”—è©³ç´°å°ˆæ¡ˆä½ç½® \u0026ndash;\u0026gt; ELFK-stack-monitor\nğŸ‘¨â€ğŸ’»ç°¡ä»‹ ğŸ”°ELFK-stackï¼šä½¿ç”¨docker-composeå»ºç«‹èµ·elk-stackçš„æ¶æ§‹ï¼Œä¸»è¦å…ˆå¾alpineç”¢ç”Ÿå‡è³‡æ–™ä¸¦å­˜åˆ°filebeatè®€å–çš„è³‡æ–™å¤¾ï¼Œæ¥è‘—filebeatå°‡è³‡æ–™é€å¾€logstashï¼Œåœ¨å¯¦å‹™ä¸Šï¼Œæœƒåœ¨logstashåšfilterçš„åŠŸèƒ½(æœªä¾†æœƒæ–°å¢)ï¼Œæ¥è‘—é€åˆ°elasticsearchå­˜èµ·ä¾†ï¼Œä¸¦é€ékibanaçš„uiä¸‹å»åšæœå°‹æ‰€éœ€çš„logè³‡æ–™ã€‚\nğŸ”°Monitorï¼šä½¿ç”¨cadvisorç›£æ§æ‰€æœ‰å®¹å™¨ä»¥åŠelasticsearch_exporterç›£æ§elasticsearchçš„ç‹€æ…‹ï¼Œä¸¦æŠŠè³‡æ–™é€åˆ°prometheuså„²å­˜èµ·ä¾†ï¼Œæœ€å¾Œé€égrafanaçš„uiå‘ˆç¾ã€‚\nğŸ”°åŸºç¤ä»‹ç´¹ âš™ï¸ELFK-stack : alpine+filebeat(é€è³‡æ–™) -\u0026gt; logstash(filter) -\u0026gt; elasticsearch(db) -\u0026gt; kibana(ui)\nâš™ï¸Monitor : cadvisor,elasticsearch_exporter(monitor) -\u0026gt; prometheus(db) -\u0026gt; grafana(ui)\nğŸ¯setup ä½¿ç”¨docker-composeå•Ÿå‹•æœå‹™ sudo docker-compose up -d é€²åˆ°localhost:5601æŒ‰ç…§ä»¥ä¸‹åœ–ç¤ºè¨­å®šindex pattern å¯é€²åˆ°localhost:3000æŸ¥çœ‹grafana dashboardï¼Œå¸³å¯†éƒ½ç‚ºadmin container-dashboard ** elasticsearch-dashboard âœ…TODO æ–°å¢log filter æ·»åŠ ssl clusteræ¶æ§‹çš„elastic ","permalink":"https://sz9751210.github.io/posts/elfk-stack-monitor/","summary":"\u003ch2 id=\"å¿ƒå¾—\"\u003eğŸ“”å¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003eå› æœ€è¿‘åœ¨ç ”ç©¶elk-stackï¼Œè—‰æ­¤ç´€éŒ„ä¸€ä¸‹ä½¿ç”¨docker-composeå»ºç«‹èµ·elk-stackçš„æ¶æ§‹ï¼Œåœ¨å»ºç«‹çš„éç¨‹ä¸­ï¼Œæ¯”è¼ƒå¤šé‡åˆ°çš„æ˜¯è¨˜æ†¶é«”ä½¿ç”¨ç‡çš„é…ç½®ä¸è¶³ï¼Œå°è‡´å®¹å™¨ç„¡æ³•æˆåŠŸå•Ÿå‹•ï¼Œæˆ–æ˜¯configæª”æ¬Šé™çš„å•é¡Œï¼Œå› æ­¤åœ¨filebeatçš„éƒ¨åˆ†æœƒç›´æ¥æŠŠconfigæª”æ”¾é€²å»ä¸¦æ”¹æˆrootæ¬Šé™ã€‚\u003c/p\u003e\n\u003cp\u003eä¹‹å¾Œå¸Œæœ›èƒ½å†å¢åŠ logstashçš„pipelineåŠŸèƒ½ï¼Œåœ¨å¯¦å‹™ä¸Šå¯å¤šå€‹æœå‹™åšç¯©é¸ï¼Œä»¥åŠelasticsearchçš„è³‡æ–™å®‰å…¨æ€§é…ç½®SSLå’Œå¢é›†æ¶æ§‹ï¼Œä¸¦å°å…¥ILMåšlogçš„ç©ºé–“ç®¡ç†ã€‚\u003c/p\u003e\n\u003cp\u003eç›£æ§çš„éƒ¨åˆ†å‰‡æ˜¯æ‹¿ä¹‹å‰åšçš„å°å°ˆæ¡ˆç›´æ¥å¥—ç”¨ä¸¦å‘ˆç¾ï¼Œæ‰€ä»¥æ•´é«”æµç¨‹å¤§è‡´ä¸Šå·®ä¸å¤šï¼Œå¤šäº†å€‹elasticsearch_exporterï¼Œå¯æŸ¥çœ‹æ›´å¤šelasticsearchçš„æ•´é«”ç‹€æ³ï¼Œä¾‹å¦‚indexã€shardçš„æ•¸é‡ï¼Œè³‡æ–™å¤§å°ï¼Œå¯«å…¥é€Ÿç‡ç­‰ç­‰ã€‚\u003c/p\u003e\n\u003cp\u003eğŸ”—è©³ç´°å°ˆæ¡ˆä½ç½® \u0026ndash;\u0026gt; \u003ca href=\"https://github.com/sz9751210/ELFK-stack-monitor\"\u003eELFK-stack-monitor\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"ç°¡ä»‹\"\u003eğŸ‘¨â€ğŸ’»ç°¡ä»‹\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eğŸ”°ELFK-stackï¼šä½¿ç”¨docker-composeå»ºç«‹èµ·elk-stackçš„æ¶æ§‹ï¼Œä¸»è¦å…ˆå¾alpineç”¢ç”Ÿå‡è³‡æ–™ä¸¦å­˜åˆ°filebeatè®€å–çš„è³‡æ–™å¤¾ï¼Œæ¥è‘—filebeatå°‡è³‡æ–™é€å¾€logstashï¼Œåœ¨å¯¦å‹™ä¸Šï¼Œæœƒåœ¨logstashåšfilterçš„åŠŸèƒ½(æœªä¾†æœƒæ–°å¢)ï¼Œæ¥è‘—é€åˆ°elasticsearchå­˜èµ·ä¾†ï¼Œä¸¦é€ékibanaçš„uiä¸‹å»åšæœå°‹æ‰€éœ€çš„logè³‡æ–™ã€‚\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eğŸ”°Monitorï¼šä½¿ç”¨cadvisorç›£æ§æ‰€æœ‰å®¹å™¨ä»¥åŠelasticsearch_exporterç›£æ§elasticsearchçš„ç‹€æ…‹ï¼Œä¸¦æŠŠè³‡æ–™é€åˆ°prometheuså„²å­˜èµ·ä¾†ï¼Œæœ€å¾Œé€égrafanaçš„uiå‘ˆç¾ã€‚\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","title":"ELFK-stack-monitor"},{"content":"ğŸ‘¨â€ğŸ’»ç°¡ä»‹ ğŸ”°ELFK-stackï¼šä½¿ç”¨docker-composeå»ºç«‹èµ·tick-stackçš„æ¶æ§‹ï¼Œæ’ˆå–çš„æŒ‡æ¨™å¾config/telegraf.confè¨­å®šï¼Œä¸¦é€å¾€influxdbå¾èµ·ä¾†ï¼Œchronografç‚ºuiä»‹é¢ï¼ŒæŸ¥çœ‹æ’ˆå–çš„æ™‚é–“åºåˆ—æŒ‡æ¨™ç‹€æ…‹ï¼Œæœ€å¾Œkapacitorå‰‡æ˜¯è™•ç†å‘Šè­¦çš„éƒ¨åˆ†ï¼\næµç¨‹ âš™ï¸TICK-stack : telrgraf(é€è³‡æ–™) -\u0026gt; influxdb(å­˜è³‡æ–™) -\u0026gt; chronograf(ui) -\u0026gt; kapacitor(alert) ç’°å¢ƒå»ºç½® æœ¬ç¯‡github repoåœ¨æ­¤ -\u0026gt; TICK_Stack-tutorial\ntelegrafè¨­å®š ä½¿ç”¨telegraf.confè¨­å®šè¼¸å‡ºè³‡æ–™åº«\n[[outputs.influxdb]] urls = [\u0026#34;http://influxdb:8086\u0026#34;] database = \u0026#34;telegraf\u0026#34; # è¦ä½¿ç”¨çš„è³‡æ–™åº« username = \u0026#34;admin\u0026#34; password = \u0026#34;admin\u0026#34; influxdbè¨­å®š ä½¿ç”¨configuration.envè¨­å®šå¸³å¯†ä»¥åŠè³‡æ–™åº«\n# InfluxDB options INFLUXDB_DB=telegraf INFLUXDB_ADMIN_USER=admin INFLUXDB_ADMIN_PASSWORD=admin kapacitorè¨­å®š ä½¿ç”¨kapacitor.conf\nè¨­å®šè®€å–çš„è³‡æ–™åº« [[influxdb]] enabled = true name = \u0026#34;telegraf\u0026#34; default = false urls = [\u0026#34;http://influxdb:8086\u0026#34;] username = \u0026#34;admin\u0026#34; password = \u0026#34;admin\u0026#34; è¨­å®šå‘Šè­¦telegram [telegram] enabled = true url = \u0026#34;https://api.telegram.org/bot\u0026#34; token = \u0026#34;bot-token\u0026#34; å•Ÿå‹•ç’°å¢ƒ docker-compose up æ¥è‘—å»æœ¬åœ°chronograf http://IP:8888 è¨­å®šinfluxdbä»¥åŠkapacitor\nhttp:// IP :8086 for influxdb http:// IP :9092 for kapacitor å‘Šè­¦è¨­è¨ˆ åƒè€ƒcpu_alert.tick.example\nä½¿ç”¨å‘Šè­¦ é€ékapacitor cd /var/lib/kapacitor # cpu_alertç‚ºä»»å‹™task_id # å®šç¾©ä»»å‹™ kapacitor define cpu_alert -tick cpu_alert.tick -type stream -dbrp telegraf.autogen # å•Ÿå‹•ä»»å‹™ kapacitor enable cpu_alert # åœæ­¢ä»»å‹™ kapacitor disable cpu_alert # åˆªé™¤ä»»å‹™ kapacitor delete tasks cpu_alert # åˆ—å‡ºæ‰€æœ‰ä»»å‹™ kapacitor list tasks é€échronograf é¸åˆ°å·¦é‚Šçš„alerting -\u0026gt; write TICKscript è¼¸å…¥task_id -\u0026gt; æŠŠscriptè²¼ä¸Š -\u0026gt; é¸æ“‡é¡å‹ç‚ºstream -\u0026gt; é¸æ“‡db -\u0026gt; æŒ‰ä¸‹å„²å­˜å¾Œä¸‹æ–¹æœƒåˆ¤æ–·scriptæ˜¯å¦æ­£å¸¸ å®Œæˆå¾Œå¯å›åˆ°manage taskç®¡ç†ç•¶å‰task å¯é€éé»æ“Šenabledä¸‹æ–¹åœ“é»ä¸€éµå•Ÿå‹•/åœç”¨ä»»å‹™ alert historyå¯æŸ¥çœ‹å‘Šè­¦è¨Šæ¯\ngreen:OK white:INFO,WARN red:CRIT ============================\næŸ¥çœ‹alertå¯«å›dbè¨Šæ¯ åƒè€ƒè³‡æ–™ https://github.com/sz9751210/docker-telegraf-influx-grafana-stack https://www.influxdata.com/time-series-platform/kapacitor/ https://tanjiti.github.io/2018/12/18/%E5%BC%80%E6%BA%90kapacitor%E6%93%8D%E4%BD%9C%E6%89%8B%E5%86%8C/ ","permalink":"https://sz9751210.github.io/posts/tick-stack-tutorial/","summary":"\u003ch2 id=\"ç°¡ä»‹\"\u003eğŸ‘¨â€ğŸ’»ç°¡ä»‹\u003c/h2\u003e\n\u003cp\u003eğŸ”°ELFK-stackï¼šä½¿ç”¨docker-composeå»ºç«‹èµ·tick-stackçš„æ¶æ§‹ï¼Œæ’ˆå–çš„æŒ‡æ¨™å¾config/telegraf.confè¨­å®šï¼Œä¸¦é€å¾€influxdbå¾èµ·ä¾†ï¼Œchronografç‚ºuiä»‹é¢ï¼ŒæŸ¥çœ‹æ’ˆå–çš„æ™‚é–“åºåˆ—æŒ‡æ¨™ç‹€æ…‹ï¼Œæœ€å¾Œkapacitorå‰‡æ˜¯è™•ç†å‘Šè­¦çš„éƒ¨åˆ†ï¼\u003c/p\u003e\n\u003ch2 id=\"æµç¨‹\"\u003eæµç¨‹\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eâš™ï¸TICK-stack : telrgraf(é€è³‡æ–™) -\u0026gt; influxdb(å­˜è³‡æ–™) -\u0026gt; chronograf(ui) -\u0026gt; kapacitor(alert)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ç’°å¢ƒå»ºç½®\"\u003eç’°å¢ƒå»ºç½®\u003c/h2\u003e\n\u003cp\u003eæœ¬ç¯‡github repoåœ¨æ­¤ -\u0026gt;  \u003ca href=\"https://github.com/sz9751210/TICK_Stack-tutorial\"\u003eTICK_Stack-tutorial\u003c/a\u003e\u003c/p\u003e","title":"TICK-Stack-tutorial"},{"content":"Python åŸºæœ¬èªæ³• python èªæ³•çš„å¾Œç¶´åæ˜¯ä»¥.py çµå°¾ python åŸ·è¡Œæ–¹å¼ ä½¿ç”¨äº¤äº’ä»‹é¢åŸ·è¡Œ ä½¿ç”¨ python test.py å‘½ä»¤åŸ·è¡Œ ä½¿ç”¨./test.py åŸ·è¡Œ python æ¨™ç¤ºç¬¦ ä»¥å–®ä¸‹åŠƒç·šé–‹é ­çš„å±¬æ€§ï¼Œè¡¨ç¤ºæ˜¯é¡çš„ç§æœ‰å±¬æ€§(åŒ…æ‹¬æ–¹æ³•ï¼Œè®Šé‡)ã€‚å¦‚:_fooè¡¨ç¤ºä¸èƒ½ç›´æ¥è¨ªå•çš„é¡å±¬æ€§ã€‚ ä»¥é›™ä¸‹åŠƒç·šé–‹é ­çš„ __foo ä»£è¡¨é¡çš„ç§æœ‰æˆå“¡ï¼› ä»¥é›™ä¸‹åŠƒç·šé–‹é ­å’Œçµå°¾çš„ __foo__ ä»£è¡¨ Python é‡Œç‰¹æ®Šæ–¹æ³•å°ˆç”¨çš„æ¨™è­˜ï¼Œå¦‚ __init__() ä»£è¡¨é¡çš„æ§‹é€ å‡½æ•¸ã€‚ æ›è¡Œç¸®é€² python ä¸ä½¿ç”¨{}ä¾†æ§åˆ¶ code ç¯„åœï¼Œè€Œä½¿ç”¨ç¸®é€²ä¾†æ§åˆ¶ã€‚ä¸€èˆ¬éƒ½ä½¿ç”¨å››å€‹ç©ºæ ¼åšç¸®é€²(PEP8è¦å®š)ã€‚ #!/usr/bin/python # -*- coding: UTF-8 -*- print \u0026#34;hello world\u0026#34;; if True: print(\u0026#34;Answer:\u0026#34;); print(\u0026#34;true\u0026#34;); else: print(\u0026#34;Answer:\u0026#34;); # æ²’æœ‰åš´æ ¼ç¸®é€²ï¼Œåœ¨åŸ·è¡Œæ™‚æœƒå ±éŒ¯ print(\u0026#34;false\u0026#34;); python å¼•è™Ÿ Python å¯ä»¥ä½¿ç”¨å¼•è™Ÿ(')ã€é›™å¼•è™Ÿ(\u0026quot;)ã€ä¸‰å¼•è™Ÿ( ''' æˆ– \u0026quot;\u0026quot;\u0026quot; ) ä¾†è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚ ä¸‰å¼•è™Ÿ(\u0026quot;\u0026quot;\u0026quot;)å¯ä»¥ç”±å¤šè¡Œçµ„æˆï¼Œæ˜¯ç·¨å¯«å¤šè¡Œæ–‡æœ¬çš„å¿«æ·èªæ³•ï¼Œå¸¸ç”¨æ–¼æ–‡æª”å­—ç¬¦ä¸²ã€‚ # å–®å¼•è™Ÿä»¥åŠé›™å¼•è™Ÿ \u0026#39;This is a string\u0026#39; \u0026#34;This is a string\u0026#34; # å¼•è™ŸåŒ…å«å¼•è™Ÿ \u0026#34;We call it \u0026#39;Dog\u0026#39;...... \u0026#34; # é›™å¼•è™Ÿå…§å¯åŒ…å«å–®å¼•è™Ÿ \u0026#39;We call it \u0026#34;Dog\u0026#34;...... \u0026#39; # å–®å¼•è™Ÿå…§å¯åŒ…å«é›™å¼•è™Ÿ # ä¸‰é›™å¼•è™Ÿå¯ç›´æ¥æ›è¡Œ \u0026#34;\u0026#34;\u0026#34;haha, this is a dog.\u0026#34;\u0026#34;\u0026#34; # ä¸‰å–®å¼•è™Ÿéœ€è¦æ›è¡Œç¬¦ \u0026#39;\u0026#39;\u0026#39;haha, \\ this is a dog.\u0026#39;\u0026#39;\u0026#39; python æ³¨é‡‹ python ä¸­å–®è¡Œè¨»é‡‹æ¡ç”¨#é–‹é ­ python ä¸­å¤šè¡Œè¨»é‡‹ä½¿ç”¨ä¸‰å€‹å–®å¼•è™Ÿ(''')æˆ–ä¸‰å€‹é›™å¼•è™Ÿ(\u0026quot;\u0026quot;\u0026quot;) å¤šè¡Œè¨»é‡‹é€šå¸¸ç”¨ä¾†ç‚º Python æ–‡ä»¶ã€æ¨¡å¡Šã€é¡æˆ–è€…å‡½æ•¸ç­‰æ·»åŠ ç‰ˆæ¬Šæˆ–è€…åŠŸèƒ½æè¿°ä¿¡æ¯ã€‚ # å–®è¡Œ # è¨»é‡‹å…§å®¹ # å¤šè¡Œ \u0026#39;\u0026#39;\u0026#39;(\u0026#34;\u0026#34;\u0026#34;) ä½¿ç”¨ 3 å€‹å–®å¼•è™Ÿåˆ†åˆ¥ä½œç‚ºè¨»é‡‹çš„é–‹é ­å’Œçµå°¾ å¯ä»¥ä¸€æ¬¡æ€§è¨»é‡‹å¤šè¡Œå…§å®¹ é€™è£¡é¢çš„å…§å®¹å…¨éƒ¨æ˜¯è¨»é‡‹å…§å®¹ \u0026#39;\u0026#39;\u0026#39;(\u0026#34;\u0026#34;\u0026#34;) Python ç©ºè¡Œ å‡½æ•¸ä¹‹é–“æˆ– class çš„æ–¹æ³•ä¹‹é–“ç”¨ç©ºè¡Œåˆ†éš”ï¼Œè¡¨ç¤ºä¸€æ®µæ–°çš„ä»£ç¢¼çš„é–‹å§‹ã€‚class å’Œå‡½æ•¸å…¥å£ä¹‹é–“ä¹Ÿç”¨ä¸€è¡Œç©ºè¡Œåˆ†éš”ï¼Œä»¥çªå‡ºå‡½æ•¸å…¥å£çš„é–‹å§‹ã€‚ å¤šå€‹èªå¥çµ„æˆçš„ä»£ç¢¼çµ„ ç¸®é€²ç›¸åŒçš„ä¸€çµ„èªå¥æ§‹æˆä¸€å€‹ä»£ç¢¼å¡Šï¼Œæˆ‘å€‘ç¨±ä¹‹ä»£ç¢¼çµ„ã€‚ å­å¥: åƒ ifã€whileã€def å’Œ class é€™æ¨£çš„è¤‡åˆèªå¥ï¼Œé¦–è¡Œä»¥é—œéµå­—é–‹å§‹ï¼Œä»¥å†’è™Ÿ( : )çµæŸï¼Œè©²è¡Œä¹‹å¾Œçš„ä¸€è¡Œæˆ–å¤šè¡Œä»£ç¢¼æ§‹æˆä»£ç¢¼çµ„ã€‚ if expression: suite elif expression: suite else: suite python è®Šé‡é¡å‹ è®Šé‡å¯ä»¥æŒ‡å®šä¸åŒçš„æ•¸æ“šé¡å‹ï¼Œé€™äº›è®Šé‡å¯ä»¥å­˜å„²æ•´æ•¸ï¼Œå°æ•¸æˆ–å­—ç¬¦ã€‚ python è®Šé‡è³¦å€¼ è®Šé‡è³¦å€¼ä¸éœ€è¦è²æ˜é¡å‹ï¼Œè®Šæ•¸çš„è³‡æ–™å‹åˆ¥å°‡æ ¹æ“šåˆ†é…çµ¦å®ƒçš„å€¼çš„å‹åˆ¥è‡ªå‹•ä¾†å®šç¾©ã€‚ æ¯å€‹è®Šé‡åœ¨ä½¿ç”¨å‰å¿…é ˆè³¦å€¼ï¼Œè®Šé‡è³¦å€¼ä»¥å¾Œè©²è®Šé‡æ‰æœƒè¢«å‰µå»º ä¸å¯ä»¥å–ä¿ç•™å­— åªèƒ½ç”±å¤§å°å¯«å­—æ¯ã€æ•¸å­—ã€ _ ã€ ä¸­æ–‡çµ„æˆè®Šæ•¸åç¨± è‹±æ–‡å­—æ¯å¤§å°å¯«è¦–ç‚ºä¸åŒçš„è®Šæ•¸åç¨± counter = 100 # è³¦å€¼æ•´å‹è®Šé‡ miles = 1000.0 # æµ®é»å‹ name = \u0026#34;alan\u0026#34; # å­—ç¬¦ä¸² print(count), print(miles), print(name); å¤šè®Šé‡è³¦å€¼ï¼Œè®Šæ•¸ä¹‹é–“ç”¨ï¼Œåˆ†éš” # 2 è¢«åˆ†é…çµ¦ xï¼Œ4.124 è¢«åˆ†é…çµ¦ yï¼Œå­—ä¸² Python è¢«åˆ†é…çµ¦ zã€‚ x, y, z = 2, 4.124, \u0026#34;Python\u0026#34; # ä¸‰å€‹è®Šæ•¸éƒ½æ˜¯Blue x = y = z = \u0026#34;Blue\u0026#34; åˆªé™¤è®Šæ•¸ del x python è³‡æ–™å‹æ…‹ æ•¸å€¼å‹æ…‹ï¼š int float bool å­—ä¸²å‹æ…‹ï¼š str chr å®¹å™¨å‹æ…‹ï¼š list dict tuple Python åŸºæœ¬çš„ç´”é‡é¡å‹ æ•´æ•¸ï¼ˆintï¼‰ æµ®é»æ•¸ï¼ˆfloatï¼‰ æ–‡å­—ï¼ˆstrï¼‰ å¸ƒæ—ï¼ˆboolï¼‰ Noneï¼ˆNoneTypeï¼‰ æ•´æ•¸å’Œæµ®é»æ•¸ æ•´æ•¸èˆ‡æµ®é»æ•¸ä½¿ç”¨æ•¸å­¸é‹ç®—ç¬¦è™Ÿé€²è¡Œé‹ç®— æœƒæ­é…é‹ç®—ç¬¦è™Ÿé€²è¡Œé‹ç®— + ã€ - ã€ * ã€ / ï¼šåŠ æ¸›ä¹˜é™¤ ** ï¼šæ¬¡æ–¹ % ï¼šå›å‚³é¤˜æ•¸ // ï¼šå›å‚³å•†æ•¸ å­—ä¸² æˆ‘å€‘ä½¿ç”¨æˆé›™çš„å–®å¼•è™Ÿ \u0026rsquo;\u0026rsquo; æˆ–æˆå°çš„é›™å¼•è™Ÿ \u0026quot;\u0026quot; ä¾†å»ºç«‹æ–‡å­—é¡å‹ å¦‚æœå»ºç«‹çš„å­—ä¸²æœ‰åŒ…å«ä¸æˆå°çš„å¼•è™Ÿï¼Œå‰‡éœ€è¦ä½¿ç”¨è·³è„«å­—å…ƒ\\ä¾†å®Œæˆå®£å‘Š python æ ¼å¼åŒ–å­—ä¸² %-formatting print(\u0026#34;I am %s.%s\u0026#34;%(\u0026#34;Alan\u0026#34;,\u0026#34;wang\u0026#34;)) # output I am Alan.wang str.format()ï¼ˆPython 2.6+ï¼‰ # åŸºæœ¬ä½¿ç”¨ s = \u0026#39;I am {first_name} {middle_name}. {last_name}\u0026#39; print(s.format(first_name=\u0026#39;Monkey\u0026#39;, middle_name=\u0026#39;D\u0026#39;, last_name=\u0026#39;Luffy\u0026#39;)) # output I am Monkey D. Luffy # èª¿æ•´è¼¸å‡ºæ¨£å¼ï¼š^(å±…ä¸­ï¼‰ã€\u0026lt;ï¼ˆå‘å·¦å°é½Šï¼‰ã€\u0026gt;ï¼ˆå‘å³å°é½Šï¼‰ print(\u0026#39;{:^10s}\u0026#39;.format(\u0026#39;a\u0026#39;)) # ^ï¼šå±…ä¸­å°é½Šï¼Œ10ï¼šå¯¬åº¦ç‚º10ï¼Œsï¼šä»¥stringè¼¸å‡º # output a # ä»¥ {:,} çš„æ–¹å¼ä»¥é€—è™Ÿåˆ†éš”æ•¸å­— print(\u0026#39;{:,}\u0026#39;.format(100000000)) # output 100,000,000 f-stringï¼ˆPython 3.6+ï¼‰ # variables first_name = \u0026#34;Monkey\u0026#34; middle_name = \u0026#34;D\u0026#34; last_name = \u0026#34;Luffy\u0026#34; # f-string f\u0026#34;I am {first_name} {middle_name}. {last_name}\u0026#34; # Output: \u0026#34;I am Monkey D. Luffy\u0026#34; å¸ƒæ— é€²è¡Œåˆ¤æ–·æ¢ä»¶æˆ–è€…è³‡æ–™ç¯©é¸çš„æ™‚å€™æœƒéœ€è¦ä»°è³´å¸ƒæ—ï¼ˆboolï¼‰ï¼Œå¸ƒæ—åªæœ‰ True èˆ‡ False é€™å…©å€‹å€¼ã€‚ print(type(True)) print(type(False)) Pythonï¼ˆæˆ–è€…çµ•å¤§å¤šæ•¸çš„ç¨‹å¼èªè¨€ï¼‰å°æ–¼è‹±æ–‡çš„å¤§å°å¯«æ˜¯æ•æ„Ÿçš„ï¼ˆcase-sensitiveï¼‰ï¼Œåƒæ˜¯ True æœƒè¢«è­˜åˆ¥ç‚ºå¸ƒæ—ï¼Œä½†æ˜¯ TRUE æˆ–è€… true å‰‡æœƒè¢«è¦–ä½œç‰©ä»¶åç¨±ã€‚ # recognized as bool print(type(True)) print(type(False)) # recognized as object names print(type(true)) print(type(TRUE)) print(type(false)) print(type(FALSE)) True è·Ÿæ•¸å€¼ 1 ç›¸ç­‰ï¼› False è·Ÿæ•¸å€¼ 0 ç›¸ç­‰ã€‚å¦‚æœåœ¨æ•¸å€¼é‹ç®—ä¸­ç´å…¥äº†å¸ƒæ—ä¸æœƒç”¢ç”Ÿä»»ä½•å•é¡Œã€‚ print(True == 1) # outputï¼šTrue print(False == 0) # outputï¼šTrue print(1 + True) # outputï¼š2 print(1 + False) # outputï¼š1 åˆ¤æ–·æ¢ä»¶ç°¡ä»‹ == ã€ !=ï¼šç­‰æ–¼ä»¥åŠä¸ç­‰æ–¼ \u0026gt; ã€ \u0026gt;= ã€ \u0026lt; ã€ \u0026lt;=ï¼šå¤§æ–¼ã€å¤§æ–¼ç­‰æ–¼ã€å°æ–¼ä»¥åŠå°æ–¼ç­‰æ–¼ is ã€ is notï¼šæ˜¯å¦ç‚ºç›¸åŒçš„å€¼èˆ‡é¡å‹ and ã€ orï¼šäº¤é›†èˆ‡è¯é›† notï¼šé in ï¼šæ˜¯å¦å­˜åœ¨æ–¼ None None æ˜¯æ‰€è¬‚çš„ç„¡å€¼ï¼Œæˆ–è€…å¯ä»¥ç”¨ NA å€¼ï¼ˆNot Availableï¼‰æˆ– NaN å€¼ï¼ˆNot a Numberï¼‰å»é«”æœƒå®ƒ None æ˜¯ç„¡å›å‚³å€¼å‡½æ•¸ä¸­çš„é è¨­è¼¸å‡ºå€¼ã€ä¹Ÿæ˜¯æœç´¢ç‰¹å¾µå‡½æ•¸æ‰¾ä¸åˆ°æƒ…æ³ä¸‹çš„é è¨­è¼¸å‡ºå€¼ # å®£å‘Šäº†ä¸€å€‹åªæœ‰ pass ä¿ç•™å­—å…§å®¹çš„ hello_world() å‡½æ•¸ï¼Œé€™å°±æ˜¯ä¸€å€‹æ‰€è¬‚çš„ç„¡å›å‚³å€¼å‡½æ•¸ def hello_world(): pass print(hello_world()) # outputï¼šNone print(type(hello_world())) # outputï¼š\u0026lt;class \u0026#39;NoneType\u0026#39;\u0026gt; åˆ¤æ–·ç´”é‡é¡å‹çš„å‡½æ•¸ ä½¿ç”¨ isinstance(x, classinfo) å‡½æ•¸åˆ¤æ–·ç´”é‡é¡å‹ï¼Œå…¶ä¸­ x è¼¸å…¥ç‰©ä»¶åç¨±ã€ classinfo è¼¸å…¥é¡å‹åç¨±ã€‚ # åˆ¤æ–·æ˜¯å¦ç‚ºæ•´æ•¸ print(isinstance(87, int)) # outputï¼šTrue print(isinstance(\u0026#34;87\u0026#34;, int)) # outputï¼šFalse # åˆ¤æ–·æ˜¯å¦ç‚ºæµ®é»æ•¸ print(isinstance(87.0, float)) # outputï¼šTrue print(isinstance(87, float)) # outputï¼šFalse # åˆ¤æ–·æ˜¯å¦ç‚ºæ–‡å­— print(isinstance(\u0026#34;True\u0026#34;, str)) # outputï¼šTrue print(isinstance(True, str)) # outputï¼šFalse # åˆ¤æ–·æ˜¯å¦ç‚ºå¸ƒæ— print(isinstance(False, bool)) # outputï¼šTrue print(isinstance(\u0026#34;False\u0026#34;, bool)) # outputï¼šFalse # åˆ¤æ–·æ˜¯å¦ç‚º None print(isinstance(None, type(None))) # outputï¼šTrue print(isinstance(\u0026#34;None\u0026#34;, type(None))) # outputï¼šFalse ä½¿ç”¨ type()å‡½æ•¸å›å‚³ç´”é‡é¡å‹ my_int = 87 my_float = 8.7 my_str = \u0026#34;Hello Python\u0026#34; bool_true = True bool_false = False none_type = None print(type(my_int)) print(type(my_float)) print(type(my_str)) print(type(bool_true)) print(type(bool_false)) print(type(none_type)) # output ## \u0026lt;class \u0026#39;int\u0026#39;\u0026gt; ## \u0026lt;class \u0026#39;float\u0026#39;\u0026gt; ## \u0026lt;class \u0026#39;str\u0026#39;\u0026gt; ## \u0026lt;class \u0026#39;bool\u0026#39;\u0026gt; ## \u0026lt;class \u0026#39;bool\u0026#39;\u0026gt; ## \u0026lt;class \u0026#39;NoneType\u0026#39;\u0026gt; python é¡å‹è½‰æ› ç´”é‡è½‰æ› ä½¿ç”¨èˆ‡ç›®æ¨™è½‰æ›é¡å‹åŒåçš„å‡½æ•¸è½‰æ›ç´”é‡é¡å‹ã€‚\nint()ï¼šè½‰æ›ç´”é‡ç‚ºæ•´æ•¸é¡å‹ float()ï¼šè½‰æ›ç´”é‡ç‚ºæµ®é»æ•¸é¡å‹ bool()ï¼šè½‰æ›ç´”é‡ç‚ºå¸ƒæ—é¡å‹ï¼Œé™¤äº† 0 ä»¥å¤–çš„æ•¸å­—éƒ½æ˜¯True str()ï¼šè½‰æ›ç´”é‡ç‚ºæ–‡å­—é¡å‹ # è½‰æ›æˆæ•´æ•¸ print(int(8.7)) print(int(True)) print(int(False)) print(int(\u0026#34;87\u0026#34;)) # output 8 1 0 87 # è½‰æ›æˆæµ®é»æ•¸ print(float(87)) print(float(True)) print(float(False)) print(float(\u0026#34;87\u0026#34;)) # output 87.0 1.0 0.0 87.0 # è½‰æ›æˆå¸ƒæ— print(bool(0)) print(bool(0.0)) print(bool(1)) print(bool(1.0)) print(bool(8.7)) print(bool(-8.7)) # output False False True True True True # è½‰æ›æˆå­—ä¸² print(str(87)) print(str(87.0)) print(str(True)) print(str(False)) # output 87 87.0 True False python é‹ç®—ç¬¦ ç®—æ•¸é‹ç®—ç¬¦ x=5, y=2\né‹ç®—ç¬¦ åç¨± ç¯„ä¾‹ + åŠ æ³• x + y = 7 - æ¸›æ³• x - y = 3 * ä¹˜æ³• x * y = 10 / é™¤æ³• x / y = 2.5 % å–é¤˜æ•¸ x % y = 1 ** æŒ‡æ•¸ x ** y = 25 // å–æ•´é™¤ x // y = 2 + èˆ‡ * ä¹Ÿå¯ç”¨æ–¼å­—ä¸² (string) ï¼Œ + ç”¨æ–¼å­—ä¸²ç›¸æ¥ï¼Œ * ç”¨æ–¼è¤‡è£½å­—ä¸²\na = \u0026#34;a\u0026#34; b = a + \u0026#34;b\u0026#34; # å­—ä¸²é€£æ¥ï¼Œ b æœƒç­‰æ–¼ \u0026#34;ab\u0026#34; c = a * 3 # å­—ä¸²é‡è¤‡ä¸‰å€ï¼Œ c æœƒç­‰æ–¼ \u0026#34;aaa\u0026#34; è³¦å€¼é‹ç®—ç¬¦ x = 5 = 0101 , 3 = 0011\né‹ç®—ç¬¦ åç¨± ç¯„ä¾‹ è§£ç­” = è³¦å€¼ x = 5 x = 5 += åŠ æ³•è³¦å€¼ x += 3 \u0026mdash;\u0026gt; x = x + 3 x = 8 -= æ¸›æ³•è³¦å€¼ x -= 3 \u0026mdash;\u0026gt; x = x - 3 x = 2 *= ä¹˜æ³•è³¦å€¼ x * = 3 \u0026mdash;\u0026gt; x = x * 3 x = 15 /= é™¤æ³•è³¦å€¼ x /= 3 \u0026mdash;\u0026gt; x = x / 3 x = 1.666\u0026hellip; %= å–é¤˜è³¦å€¼ x %= 3 \u0026mdash;\u0026gt; x = x % 3 x = 2 //= å–æ•´é™¤è³¦å€¼ x //= 3 \u0026mdash;\u0026gt; x = x // 3 x = 1 **= æŒ‡æ•¸è³¦å€¼ x **= 3 \u0026mdash;\u0026gt; x = x ** 3 x = 125 \u0026amp;= AND è³¦å€¼ x \u0026amp;= 3 \u0026mdash;\u0026gt; x = x \u0026amp; 3 x = 1 = 0001 |= OR è³¦å€¼ x |= 3 \u0026mdash;\u0026gt; x = x | 3 x = 7 = 0111 ^= XOR è³¦å€¼ x ^= 3 \u0026mdash;\u0026gt; x = x ^ 3 x = 6 = 0110 \u0026raquo;= å³ç§»è³¦å€¼ x \u0026raquo;= 3 \u0026mdash;\u0026gt; x = x \u0026raquo; 3 x = 0 = 0000 = 5 * 1/2**3 = 5/8 \u0026laquo;= å·¦ç§»è³¦å€¼ x \u0026laquo;= 3 \u0026mdash;\u0026gt; x = x \u0026laquo; 3 x = 40 = 0010 1000 = 5 * 2**3 = 5 * 8 æ¯”è¼ƒé‹ç®—ç¬¦ é‹ç®—ç¬¦ åç¨± ç¯„ä¾‹ == ç›¸ç­‰ x == y != ä¸ç›¸ç­‰ x != y \u0026gt; å¤§æ–¼ x \u0026gt; y \u0026lt; å°æ–¼ x \u0026lt; y \u0026gt;= å¤§æ–¼ç­‰æ–¼ x \u0026gt;= y \u0026lt;= å°æ–¼ç­‰æ–¼ x \u0026lt;= y é‚è¼¯(å¸ƒæ—)é‹ç®—ç¬¦ x = 4\né‹ç®—ç¬¦ åç¨± ç¯„ä¾‹ and èˆ‡é‹ç®— - å…©è€…ç‚º Trueï¼Œè¿”å› True x \u0026lt; 5 and x \u0026lt; 10 \u0026mdash;\u0026gt; True or æˆ–é‹ç®— - å…¶ä¸­ä¸€è€…ç‚º Trueï¼Œè¿”å› True x \u0026lt; 5 or x \u0026lt; 4 \u0026mdash;\u0026gt; True not éé‹ç®— - å…©è€…ç‚º Faluseï¼Œè¿”å› True not(x \u0026lt; 5 and x \u0026lt; 10) \u0026mdash;\u0026gt; False èº«åˆ†é‹ç®—ç¬¦ é‹ç®—ç¬¦ æè¿° ç¯„ä¾‹ is å¦‚æœå…©å€‹è®Šé‡æ˜¯åŒä¸€å€‹å°è±¡(å…·æœ‰ç›¸åŒçš„è¨˜æ†¶é«”ä½ç½®)ï¼Œå‰‡è¿”å› True x is y is not å¦‚æœå…©å€‹è®Šé‡ä¸æ˜¯åŒä¸€å€‹å°è±¡(ä¸æ˜¯æŒ‡å‘ç›¸åŒçš„è¨˜æ†¶é«”ä½ç½®)ï¼Œå‰‡è¿”å› True x is not y æˆå“¡é‹ç®—ç¬¦ é‹ç®—ç¬¦ æè¿° ç¯„ä¾‹ in ç•¶ in å‰é¢çš„è®Šæ•¸åœ¨å¾Œé¢çš„åºåˆ—ä¸­æ™‚ï¼Œçµæœç‚º True x in y not in ç•¶ in å‰é¢çš„è®Šæ•¸ä¸åœ¨å¾Œé¢çš„åºåˆ—ä¸­æ™‚ï¼Œçµæœç‚º True x not in y ä½å…ƒé‹ç®—ç¬¦ a = 5\né‹ç®—ç¬¦ åç¨± ç¯„ä¾‹ \u0026amp; AND(ä½èˆ‡æ“ä½œç¬¦) - ç•¶å…©å´æ•¸å­—åœ¨è©²ä½ä¸Šéƒ½æ˜¯ 1 çš„æ™‚å€™ï¼Œçµæœè©²ä½ä¹Ÿç‚º 1ï¼Œå¦å‰‡ç‚º 0 a \u0026amp; 2 = 0 = 0000 | OR(ä½æˆ–æ“ä½œç¬¦) - ç•¶å…©å´æ•¸å­—åœ¨è©²ä½ä¸Šåªè¦æœ‰ä¸€å€‹æ˜¯ 1 çš„æ™‚å€™ï¼Œçµæœè©²ä½ç‚º 1ï¼Œå¦å‰‡ç‚º 0 a | 2 = 7 = 0111 ^ XOR(ä½ç•°æˆ–æ“ä½œç¬¦) - ç•¶å…©å´æ•¸å­—å°æ‡‰ä½äºŒé€²ä½åˆ¶ç›¸ç•°æ™‚(å…¶ä¸­ä¸€ä½ç‚º 1ï¼Œå¦ä¸€ä½ç‚º 0)ï¼Œçµæœç‚º 1 a ^ 2 = 7 = ~ NOT(ä½å–åæ“ä½œç¬¦) - å°é‹ç®—å…ƒé€²è¡ŒæŒ‰ä½å–åæ“ä½œï¼Œ1 è®Šæˆ 0ï¼Œ0 è®Šæˆ 1 ~a = -6 = -(0101 + 1) = -(0110) \u0026laquo; å·¦ç§»æ“ä½œç¬¦ - å°‡ \u0026laquo; å·¦å´çš„æ•¸å­—å·¦ç§»è‹¥å¹²ä½ï¼Œå³å´è£œ 0ï¼Œå·¦å´é«˜ä½æ•¸æ¨æ£„ a \u0026laquo; 2 = 20 = 0001 0100 \u0026raquo; å³ç§»æ“ä½œç¬¦ - å°‡ \u0026raquo; å·¦å´çš„æ•¸å­—å³ç§»è‹¥å¹²ä½ï¼Œå·¦å´è£œé½Š 0 a \u0026raquo; 2 = 1 = 0001 python æ¢ä»¶èªå¥èˆ‡è¿´åœˆæ§åˆ¶ æ¢ä»¶èªå¥ï¼šç•¶ç¨‹å¼æµç¨‹åœ¨é€²è¡Œçš„éç¨‹ï¼Œéœ€è¦æ ¹æ“šæŸå€‹æ¢ä»¶ä¾†æ±ºå®šæ˜¯å¦åŸ·è¡Œæ¥ä¸‹ä¾†çš„å‹•ä½œæ™‚ä½¿ç”¨ã€‚ è¿´åœˆæ§åˆ¶ï¼šè™•ç†è³‡æ–™æ™‚ï¼Œè‹¥æ˜¯æƒ³è¦é‡è¤‡åŸ·è¡ŒæŸäº›ç›¸åŒçš„æ­¥é©Ÿæ™‚ï¼Œå°±æœƒä½¿ç”¨åˆ°è¿´åœˆã€‚ æ¢ä»¶èªå¥ if è‹¥åˆ¤æ–·æ¢ä»¶æˆç«‹ï¼Œå‰‡åŸ·è¡Œåº•ä¸‹ç¸®æ’çš„æ•˜è¿°å…§å®¹ï¼›åä¹‹ï¼Œå‰‡ä¸å‹•ä½œã€‚ if condition: statement if-else è‹¥condition ç‚ºçœŸ (True)ï¼Œå‰‡åŸ·è¡Œ statement1ï¼›åä¹‹ï¼Œå‰‡åŸ·è¡Œstatement2ã€‚ if condition: statement1 for True condition else: statement2 for False condition if-elif-else elif çš„å€‹æ•¸æ˜¯æ²’æœ‰é™åˆ¶çš„ï¼Œå¯ä»¥ä¾ç…§è‡ªå·±çš„éœ€æ±‚è€Œå®šã€‚ if condition1: statement1 for True Condition1 elif condition2 : statement2 for True Condition2 elif condition3 : statement3 for True Condition3 else: statements for Each Condition False å·¢ç‹€if ID = input() year = int(ID[1:3]) if year \u0026lt; 4: print(\u0026#34;Graduated\u0026#34;) elif year \u0026lt;= 7 and year \u0026gt;= 4: if year == 7: print(\u0026#34;Freshman\u0026#34;) elif year == 6: print(\u0026#34;Sophomore\u0026#34;) elif year == 5: print(\u0026#34;Junior\u0026#34;) elif year == 4: print(\u0026#34;Senior\u0026#34;) else: print(\u0026#34;Not Registered Yet\u0026#34;) è¿´åœˆæ§åˆ¶ å–®å±¤ for-loop é©ç”¨åœ¨ã€Œå·²çŸ¥è¿´åœˆæ•¸ã€çš„å•é¡Œ forå’Œinä¸­é–“æ”¾è‡ªè¨‚è®Šæ•¸ï¼Œinå¾Œé¢å¯æ¥ä¸€å€‹åºåˆ—(ex. list) è¿´åœˆæœƒä¾åºå¾åºåˆ—è£¡å–å¾—å…ƒç´ ï¼Œå°‡å…ƒç´ æŒ‡æ´¾çµ¦å‰é¢çš„è‡ªè¨‚è®Šæ•¸ï¼Œä¸¦åŸ·è¡Œè¿´åœˆè£¡çš„å…§å®¹ é€šå¸¸æœƒè·Ÿrange()åšä¸€å€‹æ­é…ä½¿ç”¨ range(èµ·å§‹å€¼ï¼Œçµ‚æ­¢å€¼ï¼Œéå¢(æ¸›)å€¼)\nfor x in sequence: # æ”¾è¦åŸ·è¡Œçš„æ±è¥¿ # è¿´åœˆæ­é…listä¾åºå°å‡ºå…§å®¹ sequences = [0, 1,\u0026#39;jason\u0026#39;,2.5] for i in sequences: print(i) # output 0 1 jason 2.5 # è¿´åœˆæ­é…range()ä½¿ç”¨ for i in range(3): print(i, end=\u0026#34; \u0026#34;) print() # æ›è¡Œ for i in range(10,2,-2): print(i, end=\u0026#34; \u0026#34;) # output 0 1 2 10 8 6 4 å·¢ç‹€ for-loop è¿´åœˆè£¡é¢åˆåŒ…è¦†è‘—å…¶ä»–çš„è¿´åœˆã€‚ è™•ç†çš„å•é¡Œå…·æœ‰é‡è¤‡åŸ·è¡ŒæŸæ®µæ•˜è¿°çš„ç‰¹æ€§ï¼Œè€Œä¸”é€™äº›æ•˜è¿°å—åˆ°å…©å€‹ (æˆ–å…©å€‹ä»¥ä¸Š) çš„è®Šæ•¸ä¾†åˆ†åˆ¥æ§åˆ¶å…¶è®ŠåŒ– # ä¹ä¹ä¹˜æ³•è¡¨ for i in range(1, 10): for j in range(1, 10): if j == 9: print(\u0026#34;\\t\u0026#34;, i*j) # j == 9æ™‚ï¼Œæ›è¡Œ else: print(\u0026#34;\\t\u0026#34;, i*j, end = \u0026#39;\u0026#39;) # j \u0026lt; 9æ™‚ï¼Œä¸æ›è¡Œ while loops é©ç”¨åœ¨ã€Œç„¡æ³•é çŸ¥è¿´åœˆæ•¸ã€çš„å•é¡Œ while test_expression: Body of while # ç”¢ç”Ÿ1åˆ°10çš„åºåˆ— i = 1 while i \u0026lt;= 10: print(i, end=\u0026#34; \u0026#34;) i = i + 1 break å’Œ continue(è¿´åœˆä¸è¦å‰‡çµæŸ) breakï¼šä¸­æ–·è¿´åœˆçš„åŸ·è¡Œä¸¦è·³è„«è¿´åœˆçµæ§‹ï¼Œç¹¼çºŒåŸ·è¡Œè¿´åœˆå¤–çš„æ•˜è¿°ã€‚ continueï¼šä¸ä¸­æ–·è¿´åœˆï¼›åªè·³éè¿´åœˆå…§ continue å¾Œé¢çš„å‰©é¤˜æ•˜è¿°ï¼Œæ¥è‘—ç¹¼çºŒåŸ·è¡Œä¸‹ä¸€æ¬¡çš„è¿´åœˆé‹ä½œã€‚ è¦å‰‡çš„çµæŸæ–¹å¼æ˜¯ç•¶è¿´åœˆçš„åˆ¤æ–·æ¢ä»¶ä¸å†ç¬¦åˆæ™‚ï¼Œè¿´åœˆè‡ªç„¶çµæŸï¼›è€Œä¸è¦å‰‡çš„è¿´åœˆçµæŸå‰‡æ˜¯åœ¨è¿´åœˆè‡ªç„¶çµæŸå‰ï¼Œæˆ‘å€‘å·²ç¶“å¾—åˆ°æƒ³è¦çš„é‹ç®—çµæœï¼Œåˆ©ç”¨å¼·åˆ¶ä¸­æ–·çš„æ–¹å¼ä¾†çµæŸè¿´åœˆã€‚\nfor i in \u0026#34;Hey Alan\u0026#34;: if i == \u0026#34;l\u0026#34;: break print(i, end=\u0026#34; \u0026#34;) print() for i in \u0026#34;Hey Alan\u0026#34;: if i == \u0026#34;l\u0026#34;: continue print(i, end=\u0026#34; \u0026#34;) # output H e y A H e y A a n pythonä¿ç•™å­— å®šç¾©ï¼šèªè¨€æœ¬èº«çš„ç·¨è­¯å™¨ä¸­å·²ç¶“å®šç¾©éçš„å–®è©ï¼Œå…·æœ‰ç‰¹å®šå«ç¾©å’Œç”¨é€”ï¼Œä½¿ç”¨è€…ä¸èƒ½å†å°‡é€™äº›å–®è©ä½œç‚ºè®Šæ•¸åæˆ–å‡½æ•¸åã€é¡åä½¿ç”¨ã€‚ ä¿ç•™å­— èªªæ˜ and é‚è¼¯èˆ‡æ“ä½œï¼Œç”¨æ–¼è¡¨ç¤ºå¼é‹ç®— as ç”¨æ–¼è½‰æ›è³‡æ–™å‹åˆ¥ assert ç”¨æ–¼åˆ¤æ–·è®Šæ•¸æˆ–æ¢ä»¶è¡¨ç¤ºå¼çš„çµæœ async ç”¨æ–¼å•Ÿç”¨éåŒæ­¥æ“ä½œ await ç”¨æ–¼éåŒæ­¥æ“ä½œä¸­ç­‰å¾…å”ç¨‹è¿”å› break ä¸­æ–·è¿´åœˆèªå¥çš„åŸ·è¡Œ class å®šç¾©é¡ continue ç¹¼çºŒåŸ·è¡Œä¸‹ä¸€æ¬¡è¿´åœˆ def å®šç¾©å‡½æ•¸æˆ–æ–¹æ³• del åˆªé™¤è®Šæ•¸æˆ–åºåˆ—çš„å€¼ elif æ¢ä»¶èªå¥ï¼Œèˆ‡ ifã€else çµåˆä½¿ç”¨ else æ¢ä»¶èªå¥ï¼Œèˆ‡ ifã€else çµåˆä½¿ç”¨ï¼›ä¹Ÿå¯ç”¨æ–¼ç•°å¸¸æˆ–è¿´åœˆèªå¥ except åŒ…å«æ•ç²ç•°å¸¸å¾Œçš„è™•ç†ç¨‹å¼ç¢¼å¡Šï¼Œèˆ‡ tryã€finally çµåˆä½¿ç”¨ False å«ç¾©ç‚ºå‡çš„é‚è¼¯å€¼ finally åŒ…å«æ•ç²ç•°å¸¸å¾Œçš„å§‹çµ‚è¦å‘¼å«çš„ç¨‹å¼ç¢¼å¡Šï¼Œèˆ‡ tryã€except çµåˆä½¿ç”¨ for è¿´åœˆèªå¥ from ç”¨æ–¼åŒ¯å…¥æ¨¡çµ„ï¼Œèˆ‡ import çµåˆä½¿ç”¨ global ç”¨æ–¼åœ¨å‡½æ•¸æˆ–å…¶ä»–å€åŸŸæ€§ä½œç”¨åŸŸä¸­ä½¿ç”¨å…¨åŸŸæ€§è®Šæ•¸ if æ¢ä»¶èªå¥ï¼Œèˆ‡ elifã€else çµåˆä½¿ç”¨ import åŒ¯å…¥æ¨¡çµ„ï¼Œèˆ‡ from çµåˆä½¿ç”¨ in åˆ¤æ–·è®Šæ•¸æ˜¯å¦åœ¨åºåˆ—ä¸­ is åˆ¤æ–·è®Šæ•¸æ˜¯å¦ç‚ºæŸå€‹é¡çš„ç¯„ä¾‹ lambda å®šç¾©åŒ¿åå‡½æ•¸ None è¡¨ç¤ºä¸€å€‹ç©ºç‰©ä»¶æˆ–æ˜¯ä¸€å€‹ç‰¹æ®Šçš„ç©ºå€¼ nonlocal ç”¨æ–¼åœ¨å‡½æ•¸æˆ–å…¶ä»–ä½œç”¨åŸŸä¸­ä½¿ç”¨å¤–å±¤ï¼ˆéå…¨åŸŸæ€§ï¼‰è®Šæ•¸ not é‚è¼¯éæ“ä½œï¼Œç”¨æ–¼è¡¨ç¤ºå¼é‹ç®— or é‚è¼¯æˆ–æ“ä½œï¼Œç”¨æ–¼è¡¨ç¤ºå¼é‹ç®— pass ç©ºçš„é¡ã€æ–¹æ³•æˆ–å‡½æ•¸çš„é ç•™ä½ç½® raise ç”¨æ–¼ä¸Ÿæ“²ç•°å¸¸ return å¾å‡½æ•¸è¿”å›è¨ˆç®—çµæœ True å«ç¾©ç‚ºçœŸçš„é‚è¼¯å€¼ try æ¸¬è©¦åŸ·è¡Œå¯èƒ½å‡ºç¾ç•°å¸¸çš„ç¨‹å¼ç¢¼ï¼Œèˆ‡ except, finally çµåˆä½¿ç”¨ while è¿´åœˆèªå¥ with ç°¡åŒ– Python çš„èªå¥ yield å¾å‡½æ•¸ä¾æ¬¡è¿”å›å€¼ ","permalink":"https://sz9751210.github.io/posts/python-%E5%9F%BA%E7%A4%8E/","summary":"\u003ch2 id=\"python-åŸºæœ¬èªæ³•\"\u003ePython åŸºæœ¬èªæ³•\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003epython èªæ³•çš„å¾Œç¶´åæ˜¯ä»¥.py çµå°¾\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"python-åŸ·è¡Œæ–¹å¼\"\u003epython åŸ·è¡Œæ–¹å¼\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eä½¿ç”¨äº¤äº’ä»‹é¢åŸ·è¡Œ\u003c/li\u003e\n\u003cli\u003eä½¿ç”¨ python test.py å‘½ä»¤åŸ·è¡Œ\u003c/li\u003e\n\u003cli\u003eä½¿ç”¨./test.py åŸ·è¡Œ\u003c/li\u003e\n\u003c/ul\u003e","title":"python åŸºç¤"},{"content":"CentOS 7 å®‰è£åŠè¨­å®šJenkins ä»‹ç´¹ é–‹æºä¸”å…è²»çš„CIå·¥å…·ï¼Œç”±Javaç·¨å¯«çš„ï¼Œæä¾›äº†æŒçºŒæ§‹å»ºä»¥åŠéƒ¨ç½²çš„åŠŸèƒ½ï¼Œæ˜¯ä¸€å€‹è‡ªå‹•åŒ–çš„server\nç’°å¢ƒ CentOS 7 å®‰è£æ­¥é©Ÿ 1. æ·»åŠ Jenkins Repository [root@jenkins ~]# wget --no-check-certificate -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins.io/redhat-stable/jenkins.repo [root@jenkins ~]# rpm --import http://pkg.jenkins.io/redhat-stable/jenkins.io.key 2. å®‰è£Jenkinsä»¥åŠJava [root@jenkins ~]# yum install -y jenkins java-1.8.0-openjdk 3. å•Ÿå‹•ä¸¦å•Ÿç”¨Jenkins [root@jenkins ~]# systemctl start jenkins* [root@jenkins ~]# systemctl enable jenkins* 4. åœ¨é˜²ç«ç‰†é–‹å•Ÿ80ä»¥åŠ8080 çš„port [root@jenkins ~]# firewall-cmd --zone=public --add-port=8080/tcp --permanent success [root@jenkins ~]# firewall-cmd --zone=public --add-service=http --permanent success [root@jenkins ~]# firewall-cmd --reload success 5. é€éç¶²é æ‰“é–‹Jenkins å­˜å–URLï¼šhttp://:8080\nç®¡ç†å“¡å¯†ç¢¼å‰µå»ºä¸¦å­˜å„²åœ¨æ—¥èªŒæ–‡ä»¶ /var/log/jenkins/jenkins.log ä¸­ã€‚æ¥è‘—é€éä»¥ä¸‹æŒ‡ä»¤å–å¾—åˆå§‹å¯†ç¢¼\n[root@localhost ~]# grep -A 5 password /var/log/jenkins/jenkins.log Jenkins initial setup is required. An admin user has been created and a password generated. Please use the following password to proceed to installation: Admin password This may also be found at: /var/lib/jenkins/secrets/initialAdminPassword æ¥è‘—å®‰è£æ’ä»¶ï¼Œå¯ç›´æ¥é¸Install suggested plugins\næ¥è‘—ä¾†å»ºç«‹ç®¡ç†è€…å¸³è™Ÿ\nåˆ°æ­¤æ‰€æœ‰è¨­å®šéƒ½å·²å®Œæˆï¼Œå³å¯é–‹å§‹ä½¿ç”¨Jenkins\nåƒè€ƒè³‡æ–™ How to install and Configure Jenkins on CentOS 7 and RHEL 7 (linuxtechi.com)\n","permalink":"https://sz9751210.github.io/posts/jenkins-installation-centos/","summary":"\u003ch1 id=\"centos-7-å®‰è£åŠè¨­å®šjenkins\"\u003eCentOS 7 å®‰è£åŠè¨­å®šJenkins\u003c/h1\u003e\n\u003ch2 id=\"ä»‹ç´¹\"\u003eä»‹ç´¹\u003c/h2\u003e\n\u003cp\u003eé–‹æºä¸”å…è²»çš„CIå·¥å…·ï¼Œç”±Javaç·¨å¯«çš„ï¼Œæä¾›äº†æŒçºŒæ§‹å»ºä»¥åŠéƒ¨ç½²çš„åŠŸèƒ½ï¼Œæ˜¯ä¸€å€‹è‡ªå‹•åŒ–çš„server\u003c/p\u003e","title":"Jenkins å®‰è£æ•™å­¸(CentOS)"},{"content":"ğŸ‘€QUICK REVIEW The book in 3 Sentences ç”¨ä¸‰æ®µè©±èªªæ˜é€™æœ¬æ›¸çš„å…§å®¹\nå¾æ­·å²å¸¶åˆ°å¯¦æˆ°çš„åŸºç¤æ›¸ç± ç”±æ·ºå…¥æ·±å¾ªåºæ¼¸é€²çš„æ­¥èª¿è¬›è§£æ¯å€‹ç« ç¯€çš„ä¸»é¡Œ æ¥µåº¦ç™½è©±æ–‡çš„ä¸€æœ¬æ›¸ How the Book Changed Me? é€™æœ¬æ›¸ç‚ºæˆ‘å¸¶ä¾†ä»€éº¼æ”¹è®Š\næ›´äº†è§£è‡ªå·±å°çš„å€å¡Šéˆèˆ‡åŠ å¯†è²¨å¹£çš„æ„ç¾© å°æ–¼è©é¨™æ‰‹æ³•æœ‰æ›´å¤šçš„äº†è§£ä»¥åŠçŸ¥åçš„æ¡ˆä¾‹ å°æ–¼æ³¡æ²«é¢¨éšªåˆ†ææœ‰æ›´åŠ çš„äº†è§£ My Top 3 Quotes æˆ‘æœ€å–œæ­¡çš„ 3 å¥ Quotes\nDYOR FOMO é‡åŒ–äº¤æ˜“ ğŸ“šè®€å¾Œå¿ƒå¾— é€™æœ¬æ›¸æ˜¯ç”±çŸ¥åyoutuber è…¦å“¥ æ‰€å‡ºçš„ä¸€æœ¬æ›¸ï¼Œæ›¸ä¸­ç”¨æ¥µç‚ºç™½è©±çš„å£èªæè¿°é—œæ–¼å€å¡Šéˆèˆ‡åŠ å¯†è²¨å¹£çš„å„ç¨®èªªæ˜ã€‚æ­¤æ›¸ä¸»è¦åˆ†æˆå››ç« ï¼Œä¸€é–‹å§‹å…ˆç°¡å–®è¬›è§£ç”šéº¼æ˜¯åŠ å¯†è²¨å¹£ï¼Œå€å¡Šéˆç­‰æŠ€è¡“ï¼Œæ¯”ç‰¹å¹£çš„èª•ç”Ÿï¼Œä»¥åŠä½œè€…å°æ–¼æ¯”ç‰¹å¹£çš„æœªä¾†çœ‹æ³•ï¼Œæ¥è‘—ç¬¬äºŒç« å¯¦æˆ°æ•™å­¸å¦‚ä½•è³¼è²·åŠ å¯†è²¨å¹£ï¼Œäº¤æ˜“æ‰€çš„ä»‹ç´¹ï¼Œä»¥åŠä½œè€…çœ‹å¥½çš„åŠ å¯†è²¨å¹£é¡å‹ä»¥åŠç”¨é€”ï¼Œé‚„æœ‰å¹£åœˆçš„çŸ¥è­˜ç®¡é“åˆ†äº«ï¼Œä»¥åŠNFTçš„ç°¡å–®ä»‹ç´¹ï¼Œç¬¬ä¸‰ç« ä¸»è¦å…ˆè¬›è§£è©é¨™ä»¥åŠæ³¡æ²«é¢¨éšªåˆ†æï¼Œè«¸å¦‚é¾æ°é¨™å±€ï¼Œé§­å®¢äº‹ä»¶ï¼Œç©©å®šå¹£å±æ©Ÿï¼Œ51æ”»æ“Šç­‰ç­‰ï¼Œæœ€å¾Œå‰‡æ˜¯è¬›è§£åœ¨å¹£åœˆæœ‰å“ªäº›ç²åˆ©æ–¹å¼ï¼Œå¾ç°¡å–®çš„é•·æœŸæŒæœ‰åˆ°é«˜ç²åˆ©çš„åˆç´„äº¤æ˜“ä»¥åŠæœ‰ç©æ¨‚æ€§è³ªçš„gamefiï¼Œå°æ–¼æ–°æ‰‹ä¾†èªªæ˜¯æœ¬æ¥µåº¦æ˜“ä¸Šæ‰‹çš„æ›¸ã€‚\n","permalink":"https://sz9751210.github.io/posts/%E6%AF%94%E7%89%B9%E5%B9%A3%E6%8A%95%E8%B3%87%E9%87%91%E5%BE%8B%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3%E5%AF%A6%E6%88%B0%E6%95%99%E5%AD%B8%E8%88%87%E9%80%B2%E9%9A%8E%E7%8D%B2%E5%88%A9%E6%B3%95/","summary":"\u003ch2 id=\"quick-review\"\u003eğŸ‘€QUICK REVIEW\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThe book in 3 Sentences ç”¨ä¸‰æ®µè©±èªªæ˜é€™æœ¬æ›¸çš„å…§å®¹\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå¾æ­·å²å¸¶åˆ°å¯¦æˆ°çš„åŸºç¤æ›¸ç±\u003c/li\u003e\n\u003cli\u003eç”±æ·ºå…¥æ·±å¾ªåºæ¼¸é€²çš„æ­¥èª¿è¬›è§£æ¯å€‹ç« ç¯€çš„ä¸»é¡Œ\u003c/li\u003e\n\u003cli\u003eæ¥µåº¦ç™½è©±æ–‡çš„ä¸€æœ¬æ›¸\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eHow the Book Changed Me? é€™æœ¬æ›¸ç‚ºæˆ‘å¸¶ä¾†ä»€éº¼æ”¹è®Š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ›´äº†è§£è‡ªå·±å°çš„å€å¡Šéˆèˆ‡åŠ å¯†è²¨å¹£çš„æ„ç¾©\u003c/li\u003e\n\u003cli\u003eå°æ–¼è©é¨™æ‰‹æ³•æœ‰æ›´å¤šçš„äº†è§£ä»¥åŠçŸ¥åçš„æ¡ˆä¾‹\u003c/li\u003e\n\u003cli\u003eå°æ–¼æ³¡æ²«é¢¨éšªåˆ†ææœ‰æ›´åŠ çš„äº†è§£\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMy Top 3 Quotes æˆ‘æœ€å–œæ­¡çš„ 3 å¥ Quotes\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDYOR\u003c/li\u003e\n\u003cli\u003eFOMO\u003c/li\u003e\n\u003cli\u003eé‡åŒ–äº¤æ˜“\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","title":"æ¯”ç‰¹å¹£æŠ•è³‡é‡‘å¾‹ï¼šåŠ å¯†è²¨å¹£å¯¦æˆ°æ•™å­¸èˆ‡é€²éšç²åˆ©æ³•"},{"content":" é¡Œç›®æè¿°ï¼šçµ¦ä¸€å€‹å­—ä¸²ï¼Œä¾ç…§é¡Œç›®çµ¦çš„è¡¨æ ¼ï¼Œè¨ˆç®—å‡ºå­—ä¸²å°æ‡‰çš„å€¼ä¸¦åšåŠ ç¸½\næ€è·¯ï¼šä¾ç…§é¡Œç›®çµ¦çš„è¡¨æ ¼åšä¸€å€‹å­—å…¸ï¼Œæ¥è‘—å®šç¾©ä¸€å€‹è®Šæ•¸åšåŠ ç¸½ï¼Œä¸¦ä¾ç…§é¡Œç›®æ‰€çµ¦çš„å‰ä¸€ä½çš„å€¼å°æ–¼ç•¶å‰çš„å€¼æ™‚ï¼Œåšç›¸å°æ‡‰çš„è™•ç†\nclass Solution: def romanToInt(self, s: str) -\u0026gt; int: numeral_map = {\u0026#34;I\u0026#34;:1, \u0026#34;V\u0026#34;:5, \u0026#34;X\u0026#34;:10, \u0026#34;L\u0026#34;:50, \u0026#34;C\u0026#34;:100, \u0026#34;D\u0026#34;:500, \u0026#34;M\u0026#34;:1000} result = 0 for i in range(len(s)): if i\u0026gt;0 and numeral_map[s[i]] \u0026gt; numeral_map[s[i-1]]: result += numeral_map[s[i]] - 2* numeral_map[s[i-1]] else: result += numeral_map[s[i]] return result ","permalink":"https://sz9751210.github.io/posts/leetcode-13/","summary":" é¡Œç›®æè¿°ï¼šçµ¦ä¸€å€‹å­—ä¸²ï¼Œä¾ç…§é¡Œç›®çµ¦çš„è¡¨æ ¼ï¼Œè¨ˆç®—å‡ºå­—ä¸²å°æ‡‰çš„å€¼ä¸¦åšåŠ ç¸½\næ€è·¯ï¼šä¾ç…§é¡Œç›®çµ¦çš„è¡¨æ ¼åšä¸€å€‹å­—å…¸ï¼Œæ¥è‘—å®šç¾©ä¸€å€‹è®Šæ•¸åšåŠ ç¸½ï¼Œä¸¦ä¾ç…§é¡Œç›®æ‰€çµ¦çš„å‰ä¸€ä½çš„å€¼å°æ–¼ç•¶å‰çš„å€¼æ™‚ï¼Œåšç›¸å°æ‡‰çš„è™•ç†\nclass Solution: def romanToInt(self, s: str) -\u0026gt; int: numeral_map = {\u0026#34;I\u0026#34;:1, \u0026#34;V\u0026#34;:5, \u0026#34;X\u0026#34;:10, \u0026#34;L\u0026#34;:50, \u0026#34;C\u0026#34;:100, \u0026#34;D\u0026#34;:500, \u0026#34;M\u0026#34;:1000} result = 0 for i in range(len(s)): if i\u0026gt;0 and numeral_map[s[i]] \u0026gt; numeral_map[s[i-1]]: result += numeral_map[s[i]] - 2* numeral_map[s[i-1]] else: result += numeral_map[s[i]] return result ","title":"leetCode 13. Roman to Integer"},{"content":"ğŸ‘€QUICK REVIEW The book in 3 Sentences ç”¨ä¸‰æ®µè©±èªªæ˜é€™æœ¬æ›¸çš„å…§å®¹\nå¤©æ‰ä¸¦éçœŸçš„å­˜åœ¨ï¼Œåˆ»æ„ç·´ç¿’æ‰æ˜¯çœŸæ­£é€šå¾€å°ˆå®¶çš„å”¯ä¸€é€”å¾‘ ç·´ç¿’çš„è³ªèˆ‡é‡å‹éæ–¼å–®ç´”çš„ç·´ç¿’é‡ å°ˆæ³¨æŠ•å…¥èˆ‡ä¿¡å¿µè‡³é—œé‡è¦ How the Book Changed Me? é€™æœ¬æ›¸ç‚ºæˆ‘å¸¶ä¾†ä»€éº¼æ”¹è®Š\nè®“ç·´ç¿’åœ¨ä½ çœ¼ä¸­æˆç‚ºä¸€ç¨®æŠ•è³‡ï¼Œè€Œä¸æ˜¯è€—è²» æ²’æœ‰äººå¯ä»¥ä¸æŠ•æ³¨åŠå¤§é‡çš„ç·´ç¿’å°±ç™¼å±•å‡ºéå‡¡æŠ€èƒ½ My Top 3 Quotes æˆ‘æœ€å–œæ­¡çš„ 3 å¥ Quotes\näººä¹‹æ‰€ä»¥åœæ­¢å­¸ç¿’ã€ä¸å†é€²æ­¥ï¼Œä¸æ˜¯å› ç‚ºåˆ°é”å¤©ç”Ÿèƒ½åŠ›çš„æ¥µé™ï¼Œè€Œæ˜¯å› ç‚ºæŸäº›åŸå› ä¸å†ç·´ç¿’ï¼Œæˆ–è€…å¾æœªé–‹å§‹ç·´ç¿’ã€‚ æŠ€èƒ½è¶Šé«˜è¶…ï¼Œå¿ƒæ™ºè¡¨å¾µè¶Šæˆç†Ÿï¼Œè¶Šäº†è§£é€™é ˜åŸŸï¼Œä»£è¡¨è‡ªå·±æ›´æ‡‚æ¬ ç¼ºç”šéº¼ï¼Œä¹Ÿå› æ­¤æ›´èƒ½ç™¼æ®åˆ»æ„ç·´ç¿’çš„æ•ˆæœï¼Œç£¨ç·´æŠ€å·§å¯ä»¥æ”¹å–„å¿ƒæ™ºè¡¨å¾µï¼Œå¿ƒæ™ºè¡¨å¾µåˆæœ‰åŠ©æ–¼æŠ€èƒ½é€²æ­¥ ç•¶ä½ ä¸å†ç›¸ä¿¡è‡ªå·±èƒ½é”æˆç›®æ¨™æ™‚åƒè¬åˆ¥æ”¾æ£„ï¼Œå…ˆå’Œè‡ªå·±ç´„å®šå¥½ï¼Œç­‰åˆ°é‡å›å…ˆå‰æ°´æº–æˆ–çªç ´é«˜åŸæœŸå¾Œå†èªªï¼Œåˆ°æ™‚å¤§æ¦‚å°±æœƒç¹¼çºŒä¸‹å»äº†ã€‚ ğŸ“šè®€å¾Œå¿ƒå¾— æ›¸çš„ç›®çš„ï¼šæ•™å°å¦‚ä½•ä½¿ç”¨åˆ»æ„ç·´ç¿’ä¾†é”åˆ°å­¸ç¿’æŠ€èƒ½ä¸¦é‚å‘å°ˆå®¶çš„è·¯\nCH1ï¼šæœ‰ç›®æ¨™çš„ç·´ç¿’ ç¬¬ä¸€éƒ¨åˆ†è¬›è§£ç›®æ¨™ç·´ç¿’æ³•ï¼Œé€éè¨­å®šçŸ­æœŸç›®æ¨™ï¼Œä¸¦å®Œæˆä¾†é”æˆæ•´é«”æ•ˆæœï¼Œä¾‹å¦‚ï¼Œæå‡æ‰“å­—é€Ÿåº¦ï¼Œé•·æœŸç›®æ¨™å¯èƒ½æ˜¯ä¸€åˆ†é˜200å­—ï¼Œç›®å‰å¡é—œåœ¨ä¸€åˆ†é˜90å­—ï¼ŒçŸ­æœŸç›®æ¨™å¯è¨­å®šä¸€åˆ†é˜é€£çºŒ100å­—ä¸‰å­—ï¼Œåˆ©ç”¨èšæ²™æˆå¡”çš„æ¦‚å¿µä¾¿æ˜¯ç›®æ¨™ç·´ç¿’æ³•çš„æ ¸å¿ƒ\nç›®æ¨™ç·´ç¿’æ³•éœ€è¦æ„è¦‹å›é¥‹ï¼Œå¯èƒ½åƒæ˜¯æ‰“å­—ï¼Œç«‹å³é¡¯ç¤ºä¸€åˆ†é˜æ‰“å¹¾å€‹å­—ï¼Œè¦èªæ¸…è‡ªå·±çš„å¼±é»ï¼Œæ‰èƒ½åšé©æ™‚çš„ä¿®æ­£\nç›®æ¨™ç·´ç¿’æ³•å¿…é ˆè·¨å‡ºèˆ’é©åœˆï¼Œæ¯æ¬¡éƒ½æœ‰æ–°çš„æŒ‘æˆ°ï¼Œä¾‹å¦‚ç›®æ¨™ä¸€åˆ†é˜200å­—ï¼Œé”æˆå¾Œå¾€250å­—ï¼Œé€¼è¿‘è‡ªå·±çš„æ¥µé™ï¼ŒæˆåŠŸå°±åœ¨å¢åŠ å­—æ•¸ï¼Œå¤±æ•—å°±æ¸›å°‘\nç›®æ¨™ç·´ç¿’æ³•çš„éš±è—é—œéµä¹‹ä¸€æ˜¯è¨­æ³•å…‹æœéšœç¤™ï¼Œä¾‹å¦‚æ‰“å­—ä¸€ç›´å¡é—œï¼Œå¯èƒ½æ˜¯æŸå€‹æ‰‹æŒ‡é ­ä¸å¤ éˆæ´»ç¶“å¸¸æŒ‰éŒ¯ï¼Œåˆæˆ–æ˜¯å°æ–¼éµç›¤ä½ç½®ä¸å¤ ç†Ÿæ‚‰ï¼Œå…‹æœéšœç¤™æœ€ç†æƒ³çš„åšæ³•ï¼Œæ˜¯é€éå°‹æ‰¾ä¸¦å˜—è©¦ä¸åŒæ–¹æ³•ä¾†çªç ´ç“¶é ¸\nç›®æ¨™ç·´ç¿’æ³•ç¸½çµï¼šè¨­å®šæ¸…æ¥šçš„ç›®æ¨™å’Œå¯¦ç¾é‚£äº›ç›®æ¨™çš„è¨ˆç•«ï¼Œä¸¦æ‰¾å‡ºä¸€å€‹ç›£æ¸¬é€²æ­¥ç¨‹åº¦çš„æ–¹å¼ï¼Œç„¶å¾Œè·¨å‡ºèˆ’é©åœˆï¼Œå°ˆæ³¨åœ°ç·´ç¿’ï¼Œä¸¦ä¸”è¦æ‰¾å‡ºç¶­æŒå‹•æ©Ÿçš„æ–¹æ³•\nCH2ï¼šé§•é¦­å¤§è…¦èˆ‡èº«é«”çš„é©æ‡‰åŠ› äººé¡å¤§è…¦æœƒå› ç‚ºå¯†é›†è¨“ç·´è€Œæˆé•· æ”¹è®Šï¼Œå¤§è…¦çš„é©æ‡‰åŠ›åœ¨ç¨‹åº¦å’Œç¨®é¡ä¸Šèˆ‡èº«é«”çš„éå¸¸ç›¸ä¼¼ï¼Œå¯é€éæœ‰æ„è­˜çš„åˆ»æ„ç·´ç¿’å½¢å¡‘å¤§è…¦\né•·æœŸè¨“ç·´æœƒå°è‡´èˆ‡æ­£åœ¨åŸ¹é¤Šçš„æŠ€èƒ½ç›¸é—œçš„å¤§è…¦éƒ¨ä½ç”¢ç”Ÿè®ŠåŒ–\nåˆ»æ„ç·´ç¿’çš„ç›®æ¨™å»ä¸åƒ…æ˜¯ç™¼å±•æ½›èƒ½ï¼Œé‚„è¦æ‰“é€ æ½›èƒ½ï¼Œåšåˆ°ä»¥å‰åšä¸åˆ°çš„äº‹ï¼Œæ†å®šæ€§å—åˆ°æŒ‘æˆ°ï¼Œå¾—é›¢é–‹èˆ’é©åœˆï¼Œè¿«ä½¿å¤§è…¦æˆ–èº«é«”å»é©æ‡‰ï¼Œåšåˆ°äº†ï¼Œå­¸ç¿’ä¸å†åªæ˜¯ä¸€å€‹å¯¦è¸æŸç¨®éºå‚³å‘½é‹çš„æ–¹å¼ï¼Œè€Œæˆäº†æŒ‰ç…§è‡ªå·±Ë‹çš„é¸æ“‡æŒæ§å€‹äººå‘½é‹èˆ‡æ‰“é€ æ½›èƒ½çš„æ–¹æ³•\nCH3ï¼šå¿ƒæ™ºè¡¨å¾µ å¿ƒæ™ºè¡¨å¾µï¼Œèˆ‰ä¾‹åƒæ˜¯æ‰“å­—ï¼Œæƒ³åƒè‡ªå·±æ‰“æŸäº›å­—çš„æŒ‡æ³•\nåˆ»æ„ç·´ç¿’è¬›æ±‚çš„æ­£æ˜¯ç™¼å±•å‡ºç¨®ç¨®æ›´é«˜æ•ˆç‡çš„å¿ƒæ™ºè¡¨å¾µï¼Œè®“ä½ å¯ä»¥é‹ç”¨æ–¼ä½ æ­£åœ¨ç·´ç¿’çš„ä»»ä½•æ´»å‹•ä¸­\nå¿ƒæ™ºè¡¨å¾µçš„ä¸€é …é‡è¦ç‰¹è‰²æ˜¯ é ˜åŸŸé™å®šæ€§ï¼Œä¹Ÿå°±æ˜¯åªé©ç”¨æ–¼æ­£åœ¨åŸ¹é¤Šçš„æŠ€èƒ½ï¼Œä¾‹å¦‚ï¼Œæ‰“å­—å¿«å¯èƒ½ç„¡æ³•é‹ç”¨åœ¨å¯«ä½œä¸Š\nç›¡ç®¡çŸ­æœŸè¨˜æ†¶æœ‰å…¶é™åˆ¶ï¼Œäººå»èƒ½é‹ç”¨å¿ƒæ™ºè¡¨å¾µå¿«é€Ÿè™•ç†å¤§é‡è³‡è¨Šï¼Œä¹Ÿå°±æ˜¯å»ºç«‹å¿ƒæ™ºåœ–ï¼Œé€éé»èˆ‡é»ä¹‹é–“çš„é€£çµ\nå°ˆå®¶èˆ‡å‡¡äººåœ¨å¿ƒæ™ºè¡¨å¾µçš„å·®ç•°åœ¨æ–¼è³ªèˆ‡é‡ä¸åŒï¼Œä¾‹å¦‚å¯èƒ½è¦æ‰“å…¶ä»–æ¯”è¼ƒé›£çš„å­—ï¼Œæœƒéœ€è¦æƒ³å‡ºæ€æ¨£æ‰æœƒæ‰“å¾—æ›´å¿«ï¼Œå¯«ç¨‹å¼ä¹Ÿæ˜¯ï¼Œè¦è€ƒæ…®å¦‚ä½•åšå‡ºæƒ³è¦çš„æ¨£å­ï¼Œå¦‚ä½•å„ªåŒ–ï¼Œå·®åˆ¥åœ¨æ–¼æ­¤\nè€Œå»ºç«‹å¥½çš„å¿ƒæ™ºè¡¨å¾µï¼Œå‰‡æ˜¯ç›¡å¯èƒ½å»ºç«‹å¤šå€‹é»ï¼Œæ›¸ä¸­ä»¥ç‹—ç‚ºä¾‹å­ï¼Œå»ºç«‹äº†å¤šæ‘¸ç‰ å€‘çš„æ¯›ï¼Œæ‹æ‹ç‰ å€‘çš„é ­ï¼Œå¤šå»ºç«‹é€™äº›é»ä¸¦é€£æˆç·š\nåœ¨æŸå€‹ä¸»é¡Œä¸ŠæŠ•æ³¨çš„å¿ƒåŠ›è¶Šå¤šï¼Œå¿ƒæ™ºè¡¨å¾µå°±è¶Šç²¾ç´°ï¼Œç†è§£ æ¶ˆåŒ–æ–°è³‡è¨Šçš„èƒ½åŠ›ä¹Ÿè¶Šå¼·\nå°ˆå®¶æ“æœ‰å„ªè¶Šçš„è³‡è¨Šçµ„ç¹”èƒ½åŠ›\nç›£æ§ä¸¦è©•ä¼°è‡ªèº«è¡¨ç¾ï¼Œå¿…è¦æ™‚èª¿æ•´å¿ƒæ™ºè¡¨å¾µä»¥æå‡å…¶æ•ˆèƒ½\næœ¬èº«å¯Ÿè¦ºéŒ¯èª¤çš„èƒ½åŠ›é«˜ä½ä¹Ÿå½±éŸ¿å¿ƒæ™ºè¡¨å¾µçš„å»ºç«‹\nCH4ï¼šåˆ»æ„ç·´ç¿’çš„é»ƒé‡‘æ³•å‰‡ æŠ€èƒ½è¶Šé«˜è¶…ï¼Œå¿ƒæ™ºè¡¨å¾µè¶Šæˆç†Ÿï¼Œè¶Šäº†è§£é€™é ˜åŸŸï¼Œä»£è¡¨è‡ªå·±æ›´æ‡‚æ¬ ç¼ºç”šéº¼ï¼Œä¹Ÿå› æ­¤æ›´èƒ½ç™¼æ®åˆ»æ„ç·´ç¿’çš„æ•ˆæœï¼Œç£¨ç·´æŠ€å·§å¯ä»¥æ”¹å–„å¿ƒæ™ºè¡¨å¾µï¼Œå¿ƒæ™ºè¡¨å¾µåˆæœ‰åŠ©æ–¼æŠ€èƒ½é€²æ­¥\nç•¶é€¼è¿«è‡ªå·±å»åšä¸€ä»¶æ–°çš„äº‹ï¼Œç„¡è«–æ˜¯åŸ¹é¤Šæ–°æŠ€èƒ½æˆ–æ˜¯ç²¾é€²æ—¢æœ‰æŠ€èƒ½ï¼ŒåŒæ™‚ä¹Ÿæ˜¯åœ¨æ“´å……ã€åŠ å¼·å¿ƒæ™ºè¡¨å¾µï¼Œè€Œé€™äº›å¿ƒæ™ºè¡¨å¾µåˆåéä¾†è®“ä½ æœ‰å¯èƒ½è¶…è¶Šä¹‹å‰çš„æ¥µé™ã€‚\næ²’æœ‰äººå¯ä»¥ä¸æŠ•æ³¨åŠå¤§é‡çš„ç·´ç¿’å°±ç™¼å±•å‡ºéå‡¡æŠ€èƒ½\nåˆ»æ„ç·´ç¿’èˆ‡ç›®æ¨™ç·´ç¿’æ³•æœ‰å…©å¤§å·®ç•°\nè©²é ˜åŸŸå¿…é ˆç™¼å±•å¾—ç›¸ç•¶æˆç†Ÿï¼Œä½¼ä½¼è€…çš„è¡¨ç¾æ°´æº–å’Œæ–°æ‰‹æœ‰æ¥µå¤§å·®è· åˆ»æ„ç·´ç¿’éœ€è¦æœ‰å€‹è€å¸«æä¾›å¯ä»¥å¹«åŠ©å­¸ç”Ÿæ”¹å–„è¡¨ç¾çš„ç·´ç¿’æ´»å‹• åˆ»æ„ç·´ç¿’ç­‰æ–¼æ˜¯æœ‰æ–¹å‘å’Œæ–¹æ³•çš„ç›®æ¨™ç·´ç¿’æ³•\nåˆ»æ„ç·´ç¿’ç‰¹è‰²\nåˆ»æ„ç·´ç¿’åŸ¹é¤Šçš„æŠ€èƒ½å·²ç¶“æœ‰å…¶ä»–äººçŸ¥é“è©²æ€éº¼åšï¼Œä¹Ÿå·²å»ºç«‹æˆæ•ˆé —ä½³çš„è¨“ç·´æŠ€å·§ã€‚è¨­è¨ˆç·´ç¿’æ–¹å¼åŠè² è²¬ç›£ç£çš„è€å¸«æˆ–æ•™ç·´æ‡‰è©²ç†Ÿæ‚‰é ‚å°–å°ˆå®¶çš„èƒ½åŠ›ï¼Œä¸¦æ¸…æ¥šè©²å¦‚ä½•ä»¥æœ€å¥½çš„æ–¹æ³•åŸ¹é¤Šé€™äº›æŠ€èƒ½ è·¨å‡ºèˆ’é©åœˆå¾Œæ‰èƒ½å¥æ•ˆï¼Œéœ€è¦å­¸ç”Ÿä¸æ–·å˜—è©¦å»çªç ´ç¾éšæ®µçš„æŠ€èƒ½æ°´æº–ã€‚é€™æ„å‘³è‘—å¹¾ä¹å¾—å‚¾ç›¡å…¨åŠ›ï¼Œæ‰€ä»¥å¾€å¾€ä¸æœƒå¤ªæœ‰æ¨‚è¶£ å¿…é ˆæœ‰å®šç¾©æ¸…æ¥šæ˜ç¢ºçš„ç›®æ¨™ï¼Œä¸”å¾€å¾€æ¶‰åŠæ”¹é€²æƒ³è¦é”åˆ°çš„è¡¨ç¾å¾—æŸå€‹é¢å‘ï¼Œè€Œä¸èƒ½åªè¨­å®šæ¨¡ç³Šçš„æ•´é«”æ”¹å–„ç›®æ¨™ã€‚æ•´é«”ç›®æ¨™è¨­å®šå®Œæˆå¾Œï¼Œè€å¸«æˆ–æ•™ç·´æœƒåˆ¶å®šè¨ˆç•«ï¼Œå…¶ä¸­çš„ä¸€é€£ä¸²æ”¹å–„ç´°é …ä¾¿æœƒç´¯ç©æˆå‘å‰é‚é€²çš„ä¸€å¤§æ­¥ï¼Œæ”¹é€²æƒ³è¦é”åˆ°çš„è¡¨ç¾çš„æŸå€‹é¢å‘ï¼Œå¯ä»¥è®“å­¸ç”Ÿçœ‹è¦‹è‡ªèº«è¡¨ç¾å·²ç¶“è—‰ç”±è¨“ç·´æ”¹å–„äº† å¿…é ˆåˆ»æ„é€²è¡Œï¼Œå¿…é ˆå…¨ç¥è²«æ³¨ï¼Œæœ‰æ„è­˜åœ°è¡Œå‹•ã€‚å…‰æ˜¯éµå¾è€å¸«æˆ–æ•™ç·´çš„æŒ‡å°æ˜¯ä¸å¤ çš„ï¼Œé‚„å¾—å°ˆæ³¨æ–¼è‡ªèº«ç·´ç¿’çš„å…·é«”ç›®æ¨™ï¼Œæ‰èƒ½é©æ™‚èª¿æ•´ï¼Œä»¥æŒæ§ç·´ç¿’éç¨‹ åˆ»æ„ç·´ç¿’åŒ…å«æ„è¦‹å›é¥‹ï¼Œä¸¦æ ¹æ“šè©²å›é¥‹èª¿æ•´åŠªåŠ›æ–¹å‘ã€‚è¨“ç·´åˆæœŸå¾—åˆ°çš„æ„è¦‹å›æ‹¬å¤šä¾†è‡ªè€å¸«æˆ–æ•™ç·´ï¼Œä»–å€‘æœƒç›£æ§è¨“ç·´éç¨‹ä¸¦é»å‡ºå•é¡Œï¼Œæå‡ºè§£æ±ºä¹‹é“ã€‚åˆ°å¾ŒæœŸå­¸ç”Ÿä¹Ÿå¿…é ˆå­¸æœƒè‡ªæˆ‘ç›£ç£ä¸¦å¯Ÿè¦ºéŒ¯èª¤ï¼Œéš¨ä¹‹å› æ‡‰èª¿æ•´ï¼Œè€Œè‡ªæˆ‘ç›£ç£çš„æœ¬é ˜å‰‡ä»°è³´æœ‰æ•ˆçš„å¿ƒæ™ºè¡¨å¾µ åˆ»æ„ç·´ç¿’æŠ€èƒ½ç”¢ç”Ÿæœ‰æ•ˆçš„å¿ƒæ™ºè¡¨å¾µï¼Œä¹Ÿä»°è³´å¿ƒæ™ºè¡¨å¾µé‹ä½œã€‚æå‡è¡¨ç¾å’Œæ”¹å–„å¿ƒæ™ºè¡¨å¾µç›¸è¼”ç›¸æˆï¼Œè¡¨ç¾æå‡äº†ï¼Œå¿ƒæ™ºè¡¨å¾µå°±è®Šå¾—æ›´ç²¾ç´°æœ‰æ•ˆï¼Œåä¹‹äº¦ç„¶ï¼Œå¿ƒæ™ºè¡¨å¾µæœ‰åŠ©æ–¼ç›£æ§ç·´ç¿’å’Œå¯¦éš›ä¸Šå ´æ™‚çš„ç‹€æ³ï¼Œè®“äººä»¥æ­£ç¢ºçš„æ–¹å¼è¡Œå‹•ï¼Œä¹Ÿèƒ½å¯Ÿè¦ºéŒ¯èª¤ï¼Œä¸¦åŠ ä»¥æ”¹æ­£ã€‚ åˆ»æ„ç·´ç¿’å¹¾ä¹ç­‰æ–¼åŠ å¼·æˆ–èª¿æ•´å…ˆå‰ç¿’å¾—çš„æŠ€èƒ½ï¼Œå¿…é ˆæ³¨é‡è©²æŠ€èƒ½çš„ç‰¹å®šé¢å‘ï¼ŒåŠªåŠ›æ”¹å–„ï¼Œè€Œéš¨è‘—æ™‚é–“éå»ï¼Œæ¯ä¸€æ­¥çš„æ”¹å–„æœ€çµ‚æœƒæ‰“é€ å‡ºå°ˆå®¶ç´šçš„è¡¨ç¾ã€‚å› ç‚ºæ–°æŠ€èƒ½ä»¥æ—¢æœ‰æŠ€èƒ½ç‚ºåŸºç¤ï¼Œè€å¸«å¿…é ˆåœ¨ä¸€é–‹å§‹å°±æ•™å°æ­£ç¢ºçš„åŸºæœ¬åŠŸï¼Œé€™æ¨£å­¸ç”Ÿå¾Œä¾†é”åˆ°æ›´é«˜éšçš„æ°´æº–æ™‚ï¼Œæ‰ä¸å¿…å¾é ­å­¸ç¿’åŸºæœ¬æŠ€èƒ½ã€‚ åšæ³•:å…ˆæ‰¾å‡ºé ‚å°–å°ˆå®¶ï¼Œå¼„æ¸…æ¥šä»–å€‘åšäº†äº›ç”šéº¼æ‰èƒ½å¦‚æ­¤æˆåŠŸï¼Œæ¥è‘—ç™¼å±•å‡ºè®“è‡ªå·±å¯ä»¥åšåˆ°é‚£äº›äº‹çš„è¨“ç·´æŠ€å·§\næœ‰æ•ˆçš„æ„è¦‹å›é¥‹ä¸åªæ˜¯åæ‡‰åšå¾—æ­£ç¢ºèˆ‡å¦ï¼Œæ›´æœƒè¨è«–éç¨‹\né€™å¥—æ–¹æ³•æ˜¯å¦èƒ½è®“äººé›¢é–‹èˆ’é©åœˆï¼Œå˜—è©¦å¸¶æœ‰æŒ‘æˆ°æ€§çš„äº‹å‹™ï¼Œèƒ½å¦è®“äººåŠæ™‚ç²å¾—èˆ‡è¡¨ç¾å’Œå¯èƒ½çš„æ”¹å–„æ–¹å¼æœ‰é—œçš„æ„è¦‹å›é¥‹ï¼Œå»ºç«‹é€™å¥—æ–¹æ³•çš„äººæœ‰æ²’æœ‰åœ¨è©²é ˜åŸŸæ‰¾å‡ºé ‚å°–å°ˆå®¶ï¼Œåˆæ˜¯å¦äº†è§£å°ˆå®¶èˆ‡æ³›æ³›ä¹‹è¼©çš„ä¸åŒï¼Œå…¶è¨­è¨ˆæ˜¯å¦è‘—çœ¼æ–¼åŸ¹é¤Šè©²é ˜åŸŸå°ˆå®¶å…·å‚™çš„æŠ€èƒ½\nå¦‚ä½•æå‡ç›¸é—œæŠ€èƒ½å¤§æ–¼å¦‚ä½•å‚³æˆç›¸é—œçŸ¥è­˜ï¼Œè®“è¨“ç·´è‘—é‡æ–¼è¡Œå‹•è€ŒéçŸ¥è­˜\nCH6ï¼šåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­é‹ç”¨åˆ»æ„ç·´ç¿’åŸå‰‡ ç¬¬ä¸€æ­¥ï¼Œæ‰¾å€‹å¥½è€å¸«ï¼šè€å¸«çš„é‡è¦ä»»å‹™ä¹‹ä¸€ï¼Œæ˜¯å”åŠ©å­¸ç”Ÿç™¼å±•å€‹äººçš„å¿ƒæ™ºè¡¨å¾µï¼Œæ‰èƒ½é‡å°è¡¨ç¾è‡ªæˆ‘ç›£æ§å’Œä¿®æ­£ï¼Œä¸¦è¦–å€‹äººçš„æ”¹è®Šæ›´æ›è€å¸«ï¼Œä¾‹å¦‚æ²’é€²æ­¥æ™‚ å°ˆæ³¨èˆ‡æŠ•å…¥è‡³é—œé‡è¦ï¼šé–‹å§‹åˆ†å¿ƒæˆ–è¦ºå¾—è¼•é¬†å¥½ç©æ™‚ï¼Œå¤§æ¦‚å°±ä»£è¡¨æ²’æœ‰é€²æ­¥ï¼Œæƒ³è¦å¾ä¸­ç²å¾—æœ€å¤§ç›Šè™•çš„é—œéµï¼Œåœ¨æ–¼å°ˆæ³¨ï¼Œæœ‰æ„è­˜çš„ç™¼å±•æŠ€èƒ½ä¸¦ç²¾ç›Šæ±‚ç²¾ï¼Œå­¸æœƒä»¥é€™ç¨®æ–¹å¼æŠ•å…¥ï¼Œä¾¿æ˜¯æå‡ç·´ç¿’æ•ˆç›Šæœ€å¼·å¤§çš„æ–¹æ³•ã€‚å‰›é–‹å§‹å­¸è‘—å°ˆæ³¨æ–¼ç·´ç¿’çš„äººç„¡æ³•ç¶­æŒæ•¸å°æ™‚çš„æ³¨æ„åŠ›ï¼Œå› æ­¤ä¸€é–‹å§‹å¿…é ˆå°‡ç·´ç¿’æ™‚é–“è¨­å®šå¾—æ¯”è¼ƒçŸ­ï¼Œç„¶å¾Œé€æ¼¸æ‹‰é•·ã€‚å°ˆæ³¨èˆ‡æŠ•å…¥è‡³é—œé‡è¦ï¼Œæ‰€ä»¥æ¯å›çš„è¨“ç·´æ™‚é–“è¼ƒçŸ­ã€ä½†ç›®æ¨™æ¸…æ¥šï¼Œæ˜¯æ›´å¿«é€ŸåŸ¹é¤Šå‡ºæ–°æŠ€èƒ½çš„æœ€ä½³æ–¹æ³•ï¼Œåœ¨è¼ƒçŸ­çš„æ™‚é–“å…§æŠ•å…¥ç™¾åˆ†ä¹‹ç™¾çš„åŠªåŠ›ï¼Œæ•ˆæœå¼·éèŠ±äº†è¼ƒé•·æ™‚é–“å»åªæŠ•å…¥ç™¾åˆ†ä¹‹ä¸ƒåçš„åŠªåŠ›ï¼Œä¸€æ—¦ç™¼ç¾è‡ªå·±ç„¡æ³•å°ˆæ³¨ï¼Œå°±çµæŸé€™å›åˆçš„è¨“ç·´ï¼Œä¸¦è¦ç¢ºä¿ç¡çœ å……è¶³ï¼Œæ‰èƒ½ä»¥æœ€å¤§çš„å°ˆæ³¨åŠ›é€²è¡Œè¨“ç·´ æ²’æœ‰è€å¸«æ€éº¼è¾¦ï¼šæœ‰ç›®æ¨™çš„ç·´ç¿’æˆ–åˆ»æ„ç·´ç¿’çš„ä¸€é …ç‰¹è‰²ï¼Œåœ¨æ–¼æŒ‘æˆ°åšä¸åˆ°çš„äº‹(é›¢é–‹èˆ’é©åœˆ)ï¼Œåè¦†ç·´ç¿’ï¼Œèšç„¦æ–¼è‡ªå·±çš„åšæ³•ã€è‡ªå·±çš„å¼±é»ï¼Œä»¥åŠå¦‚ä½•æ”¹å–„ã€‚å¯Œè˜­å…‹æ—å¯¦è¸äº†å¤¢æƒ³ï¼Œæ˜¯å› ç‚ºä»–é‡å°å¯«ä½œçš„ä¸åŒé¢å‘è¨­è¨ˆå‡ºç·´ç¿’æ´»å‹•ã€‚å¥½è€å¸«æˆ–å¥½æ•™ç·´çš„ä¸»è¦è²¢ç»ä¹‹ä¸€ï¼Œä¾¿æ˜¯é‡å°ä½ æ­£åœ¨åŠªåŠ›åŸ¹é¤Šçš„æŠ€èƒ½é‡èº«è¨‚åšé¡ä¼¼çš„ç·´ç¿’ï¼›è‹¥æ²’æœ‰è€å¸«ï¼Œå°±å¾—è‡ªå·±è¨­è¨ˆä¸€å¥—ç·´ç¿’æ´»å‹•ã€‚æ¼«ä¸ç¶“å¿ƒåœ°é‡è¤‡åŒä¸€ä»¶äº‹æ¯«ç„¡åŠ©ç›Šï¼Œé‡è¤‡çš„ç›®çš„åœ¨ç™¼ç¾è‡ªå·±çš„å¼±é»ï¼Œä¸¦èšç„¦æ–¼åŠ å¼·å¼±é»ï¼Œå˜—è©¦ä¸åŒçš„æ–¹å¼æ”¹å–„ï¼Œç›´åˆ°æ‰¾å‡ºæœ€ä½³ç­–ç•¥ç‚ºæ­¢ï¼Œä¾‹å¦‚æƒ³åŠ å¼·è‹±èªç†è§£èƒ½åŠ›æˆ–è½åŠ›ï¼Œå…ˆè§€çœ‹ä¸€æ­¥æœ‰å­—å¹•çš„å½±ç‰‡ï¼Œæ¥è‘—é—œæ‰å­—å¹•è©¦è‘—ç†è§£ï¼Œæ¥è‘—æ‰“é–‹å°ç­”æ¡ˆå¦‚æ­¤åè¦†ï¼Œç›´åˆ°éƒ½æˆåŠŸï¼Œæ¯”èµ·çœ‹å¥½å¹¾éƒ¨ç‰‡ä¾†å¾—æ›´æœ‰æ•ˆç‡ã€‚æƒ³åœ¨æ²’æœ‰è€å¸«çš„æƒ…æ³ä¸‹æœ‰æ•ˆç·´ç¿’ä¸€é …æŠ€èƒ½ï¼Œå»ºè­°è¨˜ä½ä¸‰å€‹é‡é»ï¼šå°ˆæ³¨æŠ•å…¥ã€æ„è¦‹å›é¥‹ã€è§£æ±ºå•é¡Œã€‚å°‡æŠ€èƒ½åˆ†æˆå¯ä»¥æœ‰æ•ˆé‡è¤‡ç·´ç¿’å’Œåˆ†æçš„å¹¾å€‹éƒ¨åˆ†ï¼Œç¢ºå®šå¼±é»ä½•åœ¨ï¼Œä¸¦æ‰¾å‡ºè§£æ±ºè¾¦æ³•ã€‚è¦å»ºç«‹æœ‰æ•ˆçš„å¿ƒæ™ºè¡¨å¾µï¼Œä¾¿å¾—å˜—è©¦é‡ç¾é ‚å°–å°ˆå®¶çš„æˆæœï¼Œå¾å¤±æ•—ä¸­èªè­˜è‡ªèº«å¼±é»å¾Œå†æ¬¡å˜—è©¦ï¼Œå¦‚æ­¤ä¸€å†é‡è¤‡ã€‚å¿ƒæ™ºè¡¨å¾µå¥æ•ˆèˆ‡å¦ï¼Œå’Œæ¡å–è¡Œå‹•å¯†ä¸å¯åˆ†ã€‚ä¸èƒ½å…‰æ†‘æ€è€ƒï¼Œè€Œæ˜¯å¿…é ˆé€éä»¿ä½œåŠ å¼·ç·´ç¿’ï¼Œæ‰èƒ½å»ºç«‹èµ·è‡ªå·±æ‰€è¿½æ±‚çš„å¿ƒæ™ºè¡¨å¾µã€‚ çªç ´é«˜åŸæœŸï¼Œè¡¨ç¾ä¸å†åœæ»¯ä¸å‰ï¼šå‰›é–‹å§‹å­¸ç¿’æ–°äº‹ç‰©æ™‚é€²æ­¥è¿…é€Ÿå¾ˆæ­£å¸¸ï¼Œä¸ç„¶ä¹Ÿè‡³å°‘æœƒç©©å®šå‘å‰ã€‚ä¸€æ—¦ç¢°åˆ°åœæ»¯ä¸å‰çš„ç‹€æ³ï¼Œè‡ªç„¶æœƒèªç‚ºè‡ªå·±é­é‡é›£ä»¥å…‹æœçš„éšœç¤™ï¼Œå› è€Œå¾€å¾€ä¸å†è©¦è‘—å‘å‰é‚é€²ï¼Œåè€Œèªå‘½åœ°åœ¨é«˜åŸå¾˜å¾Šã€‚é€™å°±æ˜¯å„å€‹é ˜åŸŸçš„è¨±å¤šäººä¸å†é€²æ­¥çš„åŸå› ã€‚çªç ´ç“¶é ¸çš„æœ€ä½³æ–¹å¼ï¼Œå°±æ˜¯ä»¥æ–°çš„æ–¹æ³•æŒ‘æˆ°è‡ªå·±çš„å¤§è…¦æˆ–èº«é«”ï¼Œæ¯”å¹³å¸¸æ›´ç”¨åŠ›åœ°é€¼è¿«è‡ªå·±ï¼Œä¸€é»é»å°±å¥½ï¼Œå°±åƒæ‰“å­—ï¼Œå¡åœ¨æŸå€‹çµ„åˆï¼Œå°±å°ˆæ³¨ç·´ç¿’æŸå€‹çµ„åˆçš„æ‰“å­—ç¯€å¥ï¼Œå¦‚æœè¦æå‡æ‰“å­—é€Ÿåº¦ï¼Œå°±ç¸®çŸ­ä¸€é»æ™‚é–“æ‰“å‡ºå¹³å¸¸çš„å–®å­—é‡ï¼Œç„¶å¾Œåˆ†æéŒ¯èª¤å¾ä½•è€Œä¾†ï¼Œæ‰¾å‡ºé€Ÿåº¦å¿«ä¸èµ·ä¾†çš„åŸå› ï¼Œè¨­è¨ˆä¸€äº›ç·´ç¿’ä¾†æå‡é€Ÿåº¦ï¼Œè€Œä¸åªæ˜¯å†ä¸‰é‡è¦†å˜—è©¦ã€‚çªç ´é«˜åŸæœŸæ–¹æ³•ï¼šå…ˆæ‰¾å‡ºé€²æ­¥åœæ»¯çš„åŸå› ï¼ŒçŠ¯äº†å“ªäº›éŒ¯ï¼Œä½•æ™‚åšéŒ¯çš„ï¼Œè¿«ä½¿è‡ªå·±é›¢é–‹èˆ’é©åœˆï¼Œçœ‹å“ªå€‹å•é¡Œå…ˆé¡¯éœ²å‡ºä¾†ï¼Œè¨­è¨ˆæ”¹å–„é€™å€‹å•é¡Œçš„ç·´ç¿’æ–¹æ³• æ‰¾å‡ºæŒçºŒä¸æ‡ˆçš„å‹•æ©Ÿï¼šç¶­æŒå‹•æ©Ÿï¼Œå¯å¾å…©é»åˆ‡å…¥ï¼šæŒçºŒçš„ç†ç”±å’Œåœæ­¢çš„ç†ç”±ã€‚æœƒåœæ­¢åŸæœ¬æƒ³åšçš„äº‹ï¼Œæ˜¯å› ç‚ºåœæ­¢çš„ç†ç”±çµ‚ç©¶å¼·éæ–¼æŒçºŒçš„ç†ç”±ï¼Œå› æ­¤æƒ³ç¶­æŒå‹•æ©Ÿï¼Œå¯ä»¥å¢å¼·æŒçºŒçš„ç†ç”±æˆ–æ¸›å¼±åœæ­¢çš„ç†ç”±ï¼Œè€Œè¦è®“å‹•æ©Ÿç™¼æ®æ•ˆç”¨ï¼Œé€šå¸¸å¿…é ˆå…©è€…å…¼å…·ã€‚æ¸›å¼±åœæ­¢çš„ç†ç”±æœ€æœ‰æ•ˆçš„åšæ³•ï¼Œæ’¥å‡ºå›ºå®šæ™‚é–“æ’é™¤å…¶ä»–æ‰€æœ‰ç¾©å‹™å’Œä»¤ä½ åˆ†å¿ƒçš„äº‹ï¼Œå¥½å¥½ç·´ç¿’ã€‚åœ¨æœ€ä½³ç‹€æ³ä¸‹è¦è¿«ä½¿è‡ªå·±ç·´ç¿’å¯èƒ½å°±å¤ å›°é›£äº†ï¼Œå¦‚æœæœ‰å…¶ä»–æ˜¯å¯ä»¥å¿™ï¼Œå¾€å¾€æœƒè¢«å¼•èª˜å»åšï¼Œè€Œä¸”æœƒåˆç†åŒ–åœ°å‘Šè¨´è‡ªå·±é‚£ä»¶äº‹çœŸçš„éåšä¸å¯ã€‚ç¶“å¸¸å¦‚æ­¤ï¼Œå°±æœƒé€æ¼¸ç–æ–¼ç·´ç¿’ï¼Œè®“è¨“ç·´è¨ˆç•«èµ°é€²æ­»èƒ¡åŒã€‚å¯å¥½å¥½æ“¬å®šç·´ç¿’æ™‚é–“ï¼Œä¾‹å¦‚æ—©æ™¨ï¼Œå¹²æ“¾å› ç´ æœ€å°‘ï¼Œå¥½çš„è¨ˆç•«æœ‰åŠ©æ–¼é¿é–‹è¨±å¤šå¯èƒ½å°è‡´ç·´ç¿’æ™‚é–“ç¸®çŸ­çš„äº‹æƒ…ã€‚æ‰¾å‡ºå¯èƒ½å¹²æ“¾è¨“ç·´çš„å› ç´ ï¼Œä¸¦ç›¡é‡æ¸›ä½å½±éŸ¿ã€‚é ‚å°–å°ˆå®¶æœ‰å…©å€‹ç¿’æ…£ï¼Œç¬¬ä¸€å€‹æ˜¯ç…§é¡§èº«é«”ï¼šè®“è‡ªå·±ç¡çœ å……è¶³ï¼Œä¸é é¬§é˜å«é†’ï¼Œä¸¦ä¿æŒèº«é«”å¥åº·ï¼Œç¬¬äºŒå€‹æ˜¯å°‡ç·´ç¿’æ™‚é–“æ§åˆ¶åœ¨å¤§ç´„ä¸€å°æ™‚ï¼šäººç„¡æ³•å…¨ç¥è²«æ³¨è¶…éä¸€å°æ™‚å¤ªå¤šï¼Œè¨“ç·´åˆæœŸèƒ½é›†ä¸­æ³¨æ„åŠ›çš„æ™‚é–“å¯èƒ½æ›´çŸ­ï¼Œå»ºè­°æƒ³å°‡ç·´ç¿’æ‹‰é•·è‡³è¶…éä¸€å°æ™‚çš„äººæ¯ç·´ä¸€å°æ™‚éƒ½ä¼‘æ¯ç‰‡åˆ»(ç•ªèŒ„é˜)ã€‚å¢åŠ æŒçºŒçš„æ„é¡˜ï¼Œåœ¨ç·´ç¿’ä¸€é™£å­ä¸¦çœ‹è¦‹æˆæœå¾Œï¼ŒæŠ€èƒ½æœ¬èº«å°±å¯èƒ½æˆç‚ºå‹•æ©Ÿçš„ä¸€éƒ¨ä»½ï¼Œè®“ä½ ç‚ºè‡ªå·±çš„è¡¨ç¾è‡ªè±ªï¼Œè®“ç·´ç¿’åœ¨ä½ çœ¼ä¸­æˆç‚ºä¸€ç¨®æŠ•è³‡ï¼Œè€Œä¸æ˜¯è€—è²»ï¼Œå¦ä¸€å€‹é—œéµæ˜¯ç›¸ä¿¡è‡ªå·±èƒ½æˆåŠŸã€‚æƒ³æ”¾æ£„å¯ä»¥ï¼Œä½†è‡³å°‘å…ˆç·´ç¿’åˆ°æ¢å¾©å…ˆå‰çš„æ°´æº–ï¼Œé€™æ™‚ä¾¿æœƒç™¼ç¾ï¼ŒæŒçºŒé€²æ­¥çš„ç¢ºæœ‰å¯èƒ½ï¼Œä¹‹å‰åªä¸éæ˜¯ä¸€æ™‚çš„æŒ«æ•—ï¼Œä¿¡å¿µçš„é‡è¦ä¸å®¹å¿½è¦–ã€‚ç„¡è«–æ˜¯å› ç‚ºé€€æ­¥æˆ–é€²å…¥é«˜åŸæœŸï¼Œç•¶ä½ ä¸å†ç›¸ä¿¡è‡ªå·±èƒ½é”æˆç›®æ¨™æ™‚åƒè¬åˆ¥æ”¾æ£„ï¼Œå…ˆå’Œè‡ªå·±ç´„å®šå¥½ï¼Œç­‰åˆ°é‡å›å…ˆå‰æ°´æº–æˆ–çªç ´é«˜åŸæœŸå¾Œå†èªªï¼Œåˆ°æ™‚å¤§æ¦‚å°±æœƒç¹¼çºŒä¸‹å»äº†ã€‚æœ€å¼·è€Œæœ‰åŠ›çš„å¤–éƒ¨å‹•æ©Ÿä¹‹ä¸€æ˜¯ç¤¾æœƒå‹•æ©Ÿï¼Œæœ€ç›´æ¥çš„å°±æ˜¯å¾—åˆ°ä»–äººçš„èªå¯æˆ–æ¬½ä½©ã€‚å»ºç«‹å’Œç¶­æŒç¤¾æœƒå‹•æ©Ÿæœ€å¥½çš„æ–¹æ³•ï¼Œå°±æ˜¯è®“è‡ªå·±èº«é‚Šåœç¹è‘—ä½ åŠªåŠ›æ™‚æœƒçµ¦äºˆé¼“å‹µã€æ”¯æŒå’ŒæŒ‘æˆ°çš„äººï¼Œé‚€è«‹èˆˆè¶£ç›¸åŒçš„äººå…±çµ„åœ˜é«”ï¼Œæˆ–æ˜¯åŠ å…¥ç¾æœ‰çš„ç¤¾åœ˜ï¼Œå°‡åœ˜é«”ä¸­çš„å¤¥ä¼´æƒ…èª¼å’Œå…±åŒç›®æ¨™åŒ–ç‚ºé”æˆè‡ªèº«ç›®æ¨™çš„é¡å¤–å‹•æ©Ÿã€‚ä½†æœ¬è³ªä¸Šï¼Œåˆ»æ„ç·´ç¿’çµ•å°æ˜¯æ¢å¯‚å¯çš„è·¯ã€‚ç›¡ç®¡å¯ä»¥å’Œå¿—åŒé“åˆçš„äººçµ„æˆåœ˜é«”ï¼Œå½¼æ­¤é¼“å‹µï¼Œå¤§å¤šæ•¸çš„é€²æ­¥é‚„æ˜¯å¾—é ç¨è‡ªç·´ç¿’ã€‚å°‡é€™æ¢æ¼«é•·çš„è·¯åˆ†æˆä¸€é€£ä¸²å¯é”æˆçš„ç›®æ¨™ï¼Œä¸€æ¬¡èšç„¦ä¸€é …ã€‚åˆ»æ„ç·´ç¿’æ˜¯èƒ½é€šå¾€å¯¦ç¾å¤¢æƒ³çš„è·¯ CH7ï¼šé‚å‘éå‡¡çš„è·¯ç·šåœ– å°ˆå®¶çš„é¤Šæˆæœƒç¶“éå››å€‹ä¸åŒçš„éšæ®µï¼šç”¢ç”Ÿèˆˆè¶£ã€è®Šå¾—èªçœŸã€å…¨å¿ƒæŠ•å…¥ã€é–‹é—¢æ–°è·¯\nç”¢ç”Ÿèˆˆè¶£ï¼šè¨±å¤šå­©å­ä¸€é–‹å§‹æœ‰å‹•æ©Ÿæ¢ç´¢æˆ–å˜—è©¦æ–°äº‹ç‰©ï¼Œæ˜¯å‡ºæ–¼èˆ‡ç”Ÿä¿±ä¾†çš„å¥½å¥‡å¿ƒæˆ–éŠæˆ²æ€§ï¼Œå› æ­¤çˆ¶æ¯æœ‰æ©Ÿæœƒä»¥å‰›èŒèŠ½çš„èˆˆè¶£åšç‚ºç”¢é–‹æŸé …æ´»å‹•çš„è·³æ¿ã€‚è®šç¾èˆ‡ç²å¾—æ–°æŠ€èƒ½çš„æ»¿æ„Ÿæœƒä½¿å­©å­å‹•åŠ›æ›´å¼·ã€‚æ‰‹è¶³é–“çš„ç«¶çˆ­æœ‰æ¿€å‹µçš„ä½œç”¨ã€‚ è®Šå¾—èªçœŸï¼šé¼“å‹µï¼Œåœ¨åŸ¹é¤ŠæŠ€èƒ½å’Œç¿’æ…£çš„åŒæ™‚ï¼Œä¹Ÿç¶­æŒèˆˆè¶£èˆ‡å‹•æ©Ÿã€‚å”åŠ©å­©å­æ‰¾åˆ°å–œæ­¡çš„ç›¸é—œæ´»å‹•ï¼Œä»¥ç¶­æŒé•·æ™‚é–“çš„å‹•åŠ›ï¼Œä¹Ÿå°±æ˜¯åŸ¹é¤Šå¿ƒæ™ºè¡¨å¾µï¼ŒåŸ¹é¤ŠéŸ³æ¨‚çš„è¡¨å¾µå¯ä»¥æ˜¯æ‰¾å°‹å¥½è½çš„éŸ³æ¨‚ï¼Œäº«å—ç¨è‡ªåœ¨ç·´ç¿’å®¤æ¼”å¥å–œæ„›çš„æ›²å­å¸¶ä¾†çš„å¿«æ¨‚ã€‚åœ¨é€™å€‹éšæ®µçš„å‰åŠéƒ¨ï¼Œçˆ¶æ¯å’Œè€å¸«çš„é¼“å‹µèˆ‡æ”¯æŒå°å­©å­çš„é€²æ­¥è‡³é—œé‡è¦ï¼Œä½†ç­‰åˆ°å­©å­é–‹å§‹å˜—åˆ°è¾›è‹¦åŠªåŠ›å¸¶ä¾†çš„æœå¯¦ï¼Œå°±é€æ¼¸è®Šå¾—å¯ä»¥è‡ªæˆ‘æ¿€å‹µã€‚ å…¨å¿ƒæŠ•å…¥ï¼šæŠ€èƒ½éš¨è‘—å¹´é½¡æ¼¸é•·è€Œé€€æ­¥ï¼Œå¤šæ˜¯å› ç‚ºè¨“ç·´æ¸›å°‘æˆ–ä¸­æ­¢ã€‚å°±ç®—å¹´é½¡å¢é•·ï¼Œä¸€å®šé‚„æ˜¯å¯ä»¥å­¸æœƒæ–°æŠ€èƒ½ é–‹é—¢æ–°è·¯ï¼šå‰µé€ åŠ›å…¶å¯¦å’Œä¸‹è‹¦åŠŸåŠé•·æ™‚é–“ç¶­æŒå°ˆæ³¨çš„èƒ½åŠ›ç›¸è¼”ç›¸æˆï¼Œé€™äº›æ­£æ˜¯ä¸€é–‹å§‹é€ å°±ä»–å€‘å°ˆå®¶ç´šèƒ½åŠ›çš„åˆ»æ„ç·´ç¿’çš„è¦ç´  éå‡¡èƒ½åŠ›éƒ½æ˜¯å¤§é‡ç·´ç¿’å’Œè¨“ç·´çš„çµæœï¼Œå¥‡æ‰æˆ–è‡ªé–‰å­¸è€…ç„¡æ³•è­‰æ˜ç‰¹æ®Šå¤©è³¦çš„å­˜åœ¨ã€‚äººä¹‹æ‰€ä»¥åœæ­¢å­¸ç¿’ã€ä¸å†é€²æ­¥ï¼Œä¸æ˜¯å› ç‚ºåˆ°é”å¤©ç”Ÿèƒ½åŠ›çš„æ¥µé™ï¼Œè€Œæ˜¯å› ç‚ºæŸäº›åŸå› ä¸å†ç·´ç¿’ï¼Œæˆ–è€…å¾æœªé–‹å§‹ç·´ç¿’ã€‚\nåˆ»æ„ç·´ç¿’åŸºæœ¬åŸå‰‡ï¼šå°‡å­¸ç¿’ç›®æ¨™åˆ†è§£ç‚ºä¸€é€£ä¸²å…·é«”æŠ€èƒ½ï¼Œä¸¦è¨­è¨ˆç·´ç¿’æ´»å‹•ä»¥æ­£ç¢ºçš„é †åºæ•™å°æ¯ä¸€é …æŠ€èƒ½ï¼Œç„¶å¾Œé‹ç”¨æ„è¦‹å›é¥‹ç›£æ§é€²å±•ã€‚æœ€å¾Œçš„å‹åˆ©å±¬æ–¼æ›´åŠªåŠ›ç·´ç¿’çš„äººï¼Œè€Œä¸å±¬æ–¼ä¸€é–‹å§‹é æ™ºåŠ›æˆ–å…¶ä»–å¤©è³¦ä½”ä¸Šé¢¨è€…ã€‚\nCH8ï¼šå¦‚ä½•è§£é‡‹â€™â€™å¤©è³¦â€™â€™é€™å›äº‹ è€å¸«åœ¨æº–å‚™æ•™æ¡ˆæ™‚ï¼Œæ±ºå®šå­¸ç”Ÿæ‡‰è©²å…·å‚™å“ªäº›èƒ½åŠ›ï¼Œé æ¯”æ±ºå®šæ‡‰è©²å…·å‚™é‚£äº›çŸ¥è­˜æœ‰æ•ˆï¼Œå› ç‚ºåŸ¹é¤Šèƒ½åŠ›çš„éç¨‹ä¸­è‡ªç„¶æœƒç²å¾—çŸ¥è­˜ã€‚å…ˆåˆ—å‡ºèƒ½åŠ›å¾Œï¼Œå†åŒ–ç‚ºä¸€ç³»åˆ—å…·é«”çš„å­¸ç¿’ç›®æ¨™ï¼Œå»ºç«‹å®Œå–„çš„å¿ƒæ™ºè¡¨å¾µã€‚\nè¨­è¨ˆä¸€ç³»åˆ—æé»å•é¡Œå’Œå­¸ç¿’ä»»å‹™ï¼Œå¹«åŠ©ä»–å€‘é”åˆ°è€å¸«è¨‚å®šçš„å­¸ç¿’ç›®æ¨™ã€‚å„å€‹æé»å•é¡Œå’Œä»»å‹™çš„æŒ‘é¸æ¨™æº–æ˜¯è¦èƒ½é–‹å•Ÿè¨è«–ï¼Œè—‰æ­¤é¼“å‹µå­¸ç”Ÿäº†è§£ã€æ‡‰ç”¨æ­£åœ¨å­¸ç¿’çš„æ¦‚å¿µï¼Œé€²è€Œé‹ç”¨é€™äº›æ¦‚å¿µå›ç­”å•é¡Œå’Œå®Œæˆä»»å‹™ã€‚è¨­è¨ˆå•é¡Œå¦ä¸€å€‹ç›®çš„æ˜¯æ¿€å‹µå­¸ç”Ÿè¸å‡ºèˆ’é©åœˆï¼Œè®“å­¸ç”Ÿæ€è€ƒï¼Œä¸¦åœ¨çŠ¯éŒ¯æ™‚è®“å­¸ç”Ÿèƒ½ç²å¾—å³æ™‚çš„å›æ‡‰å’Œæ”¹æ­£å»ºè­°ã€‚\nCH9ï¼šç”¨åˆ»æ„ç·´ç¿’æ‰“é€ å…¨æ–°çš„ä¸–ç•Œ åˆ»æ„ç·´ç¿’åŸå‰‡è·¯ç·šåœ–ï¼šå…ˆç¢ºèªå­¸ç”Ÿæ‡‰è©²å­¸æœƒçš„èƒ½åŠ›ï¼Œç›®æ¨™åœ¨æ–¼æŠ€èƒ½ï¼Œè€ŒéçŸ¥è­˜ã€‚æ‰¾å‡ºå­¸ç”Ÿå­¸ç¿’æŸé …æŠ€èƒ½æ‡‰è©²ä½¿ç”¨çš„æ–¹å¼ä¹‹å¾Œï¼Œäº†è§£å°ˆå®¶çš„ä½œæ³•ï¼Œå°¤å…¶é‡è¦çš„æ˜¯å¿…é ˆç›¡å¯èƒ½å¼„æ¸…æ¥šå°ˆå®¶é‹ç”¨çš„å¿ƒæ™ºè¡¨å¾µã€‚ç„¶å¾Œï¼Œå°‡æŠ€èƒ½åˆ†è§£æˆå¹¾å€‹æ­¥é©Ÿï¼Œæ¯å€‹æ­¥é©Ÿéƒ½æ‡‰è©²è®“å­¸ç”Ÿé›¢é–‹èˆ’é©åœˆï¼Œä½†åˆä¸è‡³æ–¼é™ä¸å¯åŠã€‚æ¥è‘—é–‹å§‹å……åˆ†åè¦†ç·´ç¿’å’Œæä¾›æ„è¦‹å›é¥‹ï¼Œä¹Ÿå°±æ˜¯å˜—è©¦ã€å¤±æ•—ã€æ„è¦‹å›é¥‹ã€å†æ¬¡å˜—è©¦ï¼Œå¦‚æ­¤ä¸€å†å¾ªç’°ï¼Œå­¸ç”Ÿä¾¿æœƒåœ¨éç¨‹ä¸­å»ºç«‹èµ·è‡ªå·±çš„å¿ƒæ™ºè¡¨å¾µã€‚\nå”åŠ©å­¸ç”ŸåŸ¹é¤ŠæŸé ˜åŸŸæŠ€èƒ½å’Œå¿ƒæ™ºè¡¨å¾µçš„æœ€ä½³æ–¹æ³•ï¼Œä¾¿æ˜¯æä¾›å¯ä»¥æ¨¡ä»¿å’Œå­¸ç¿’çš„ç¯„ä¾‹ï¼Œä¸¦çµåˆé«˜å“è³ªçš„ç·´ç¿’\nä¹‹æ‰€ä»¥ä¸ç„¡èŠï¼Œæ˜¯å› ç‚ºç¸½æœ‰æ–°çš„è·³ç«™å’Œå¥‘æ©Ÿ\nå¯å¡‘æ€§èˆ‡é©æ‡‰åŠ›æ¥µé«˜çš„å¤§è…¦ä¸¦ä¸”æ­é…æ­£ç¢ºè¨“ç·´\nå­¸ç¿’è®Šæˆä¸€ç¨®å‰µé€ èƒ½åŠ›çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯å¼•å°å€‹äººç™¼æ®å›ºæœ‰èƒ½åŠ›ï¼Œä½¿äººå¤©ç”Ÿçš„æ½›èƒ½ä¸å…·é™åˆ¶ï¼Œæˆ‘å€‘é†«ç”Ÿåšçš„å„å¼å„æ¨£çš„äº‹æƒ…å¡‘é€ è€Œæˆï¼Œå­¸ç¿’ä¸æ˜¯ä¸€ç¨®é”åˆ°æ½›èƒ½çš„æ–¹æ³•ï¼Œè€Œæ˜¯ç™¼å±•æ½›èƒ½ï¼Œå‰µé€ å‡ºè‡ªå·±çš„æ½›èƒ½ï¼Œæ­¤æ›¸å°‡æœƒä»‹ç´¹æ­£ç¢ºçš„ç·´ç¿’æ–¹æ³•(åˆ»æ„ç·´ç¿’)ï¼Œä»¥åŠå¦‚ä½•æ‡‰ç”¨\nä»»ä½•é ˜åŸŸè£¡æœ€æœ‰æ•ˆæœ€æœ‰ç”¨çš„ç·´ç¿’æ–¹å¼éƒ½æ˜¯è—‰ç”±æŒæ§å¤§è…¦èˆ‡èº«é«”çš„é©æ‡‰åŠ›ï¼Œä¸€æ­¥æ­¥å‰µé€ å‡ºä¹‹å‰ä¸å¯èƒ½æ“æœ‰çš„èƒ½åŠ›\nè®€äº†é€™æœ¬æ›¸ä¹‹å¾Œï¼Œè®“æˆ‘æœ€æœ‰æ”¹è§€çš„å°±æ˜¯å¤©æ‰æ˜¯é åŠªåŠ›å¾—ä¾†çš„ï¼Œä¸¦ä¸”æœ‰ç›®æ¨™çš„å¤§é‡ç·´ç¿’ï¼Œæ³¨é‡ç·´ç¿’çš„è³ªèˆ‡é‡æ‰æ˜¯çœŸæ­£é€šå¾€å¤©æ‰çš„å”¯ä¸€é€”å¾‘ï¼Œæ›¸ä¸­è¬›è¿°äº†è¨±å¤šè¢«ä¸–äººèªç‚ºæ˜¯å¤©æ‰ï¼Œä½†ç¶“éè‡ªå·±æ·±å…¥æš¸è§£å¾Œä¸¦éæ˜¯å¦‚æ­¤ï¼Œä¸¦ä¸”èˆ‰ä¾‹äº†å¤©æ‰èƒŒå¾Œä¸ç‚ºäººçŸ¥çš„ç§˜å¯†ï¼Œâ€™â€™åˆ»æ„ç·´ç¿’â€™â€™ï¼Œæ›¸ä¸­ä¹Ÿèªªæ˜äº†å­¸ç¿’ä¸¦ä¸æ˜¯å¼•å°å€‹äººç™¼æ®å›ºæœ‰èƒ½åŠ›ï¼Œè€Œæ˜¯è®“å­¸ç¿’è®Šæˆä¸€ç¨®å‰µé€ èƒ½åŠ›çš„æ–¹æ³•ï¼Œå­¸ç¿’ä¸æ˜¯ä¸€ç¨®é”åˆ°æ½›èƒ½çš„æ–¹æ³•ï¼Œè€Œæ˜¯ç™¼å±•æ½›èƒ½ï¼Œå‰µé€ å‡ºè‡ªå·±çš„æ½›èƒ½ï¼Œä¸¦ä¸”é»ç ´äº†â€™â€™ä¸€è¬å°æ™‚æ³•å‰‡â€™â€™çš„è¿·æ€ä»¥åŠèª¤è§£ï¼Œ è®“ç·´ç¿’åœ¨ä½ çœ¼ä¸­æˆç‚ºä¸€ç¨®æŠ•è³‡ï¼Œè€Œä¸æ˜¯è€—è²»ï¼Œæ²’æœ‰äººå¯ä»¥ä¸æŠ•æ³¨å¤§é‡çš„ç·´ç¿’å°±ç™¼å±•å‡ºéå‡¡æŠ€èƒ½ï¼Œå› æ­¤æˆ‘ä¹Ÿæ‰“ç®—åˆ©ç”¨é€™å€‹æ–¹æ³•è®“æˆ‘åœ¨å­¸ç¿’æŠ€èƒ½çš„é“è·¯ä¸Šæ›´æœ‰æ•ˆç‡ä»¥åŠç³»çµ±çš„å¤§é‡ç·´ç¿’ï¼Œçœ‹æ˜¯å¦ä¹Ÿèƒ½è®“æˆ‘é ­ç—›å·²ä¹…çš„èƒ½åŠ›ä¹Ÿèƒ½æˆç‚ºæˆ‘æ‹¿æ‰‹çš„æŠ€èƒ½ã€‚\n","permalink":"https://sz9751210.github.io/posts/%E5%88%BB%E6%84%8F%E7%B7%B4%E7%BF%92/","summary":"\u003ch2 id=\"quick-review\"\u003eğŸ‘€QUICK REVIEW\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThe book in 3 Sentences ç”¨ä¸‰æ®µè©±èªªæ˜é€™æœ¬æ›¸çš„å…§å®¹\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå¤©æ‰ä¸¦éçœŸçš„å­˜åœ¨ï¼Œåˆ»æ„ç·´ç¿’æ‰æ˜¯çœŸæ­£é€šå¾€å°ˆå®¶çš„å”¯ä¸€é€”å¾‘\u003c/li\u003e\n\u003cli\u003eç·´ç¿’çš„è³ªèˆ‡é‡å‹éæ–¼å–®ç´”çš„ç·´ç¿’é‡\u003c/li\u003e\n\u003cli\u003eå°ˆæ³¨æŠ•å…¥èˆ‡ä¿¡å¿µè‡³é—œé‡è¦\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eHow the Book Changed Me? é€™æœ¬æ›¸ç‚ºæˆ‘å¸¶ä¾†ä»€éº¼æ”¹è®Š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eè®“ç·´ç¿’åœ¨ä½ çœ¼ä¸­æˆç‚ºä¸€ç¨®æŠ•è³‡ï¼Œè€Œä¸æ˜¯è€—è²»\u003c/li\u003e\n\u003cli\u003eæ²’æœ‰äººå¯ä»¥ä¸æŠ•æ³¨åŠå¤§é‡çš„ç·´ç¿’å°±ç™¼å±•å‡ºéå‡¡æŠ€èƒ½\u003c/li\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMy Top 3 Quotes æˆ‘æœ€å–œæ­¡çš„ 3 å¥ Quotes\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eäººä¹‹æ‰€ä»¥åœæ­¢å­¸ç¿’ã€ä¸å†é€²æ­¥ï¼Œä¸æ˜¯å› ç‚ºåˆ°é”å¤©ç”Ÿèƒ½åŠ›çš„æ¥µé™ï¼Œè€Œæ˜¯å› ç‚ºæŸäº›åŸå› ä¸å†ç·´ç¿’ï¼Œæˆ–è€…å¾æœªé–‹å§‹ç·´ç¿’ã€‚\u003c/li\u003e\n\u003cli\u003eæŠ€èƒ½è¶Šé«˜è¶…ï¼Œå¿ƒæ™ºè¡¨å¾µè¶Šæˆç†Ÿï¼Œè¶Šäº†è§£é€™é ˜åŸŸï¼Œä»£è¡¨è‡ªå·±æ›´æ‡‚æ¬ ç¼ºç”šéº¼ï¼Œä¹Ÿå› æ­¤æ›´èƒ½ç™¼æ®åˆ»æ„ç·´ç¿’çš„æ•ˆæœï¼Œç£¨ç·´æŠ€å·§å¯ä»¥æ”¹å–„å¿ƒæ™ºè¡¨å¾µï¼Œå¿ƒæ™ºè¡¨å¾µåˆæœ‰åŠ©æ–¼æŠ€èƒ½é€²æ­¥\u003c/li\u003e\n\u003cli\u003eç•¶ä½ ä¸å†ç›¸ä¿¡è‡ªå·±èƒ½é”æˆç›®æ¨™æ™‚åƒè¬åˆ¥æ”¾æ£„ï¼Œå…ˆå’Œè‡ªå·±ç´„å®šå¥½ï¼Œç­‰åˆ°é‡å›å…ˆå‰æ°´æº–æˆ–çªç ´é«˜åŸæœŸå¾Œå†èªªï¼Œåˆ°æ™‚å¤§æ¦‚å°±æœƒç¹¼çºŒä¸‹å»äº†ã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","title":"åˆ»æ„ç·´ç¿’ï¼šåŸå‰µè€…å…¨é¢è§£æ, æ¯”å¤©è³¦æ›´é—œéµçš„å­¸ç¿’æ³•"},{"content":"ğŸ“šè®€å¾Œå¿ƒå¾— è®€å®Œå¿ƒæµé€™æœ¬æ›¸å¾Œï¼Œå¿ƒæµå°æˆ‘çš„ç”Ÿæ´»æœ‰å¾ˆå¤§çš„æ”¹è§€ï¼Œå¿ƒæµï¼Œå°±æ˜¯æˆ‘å€‘åœ¨åšæŸä»¶äº‹æƒ…æ™‚ï¼Œå…¨ç¥è²«æ³¨é€²å…¥æ¸¾ç„¶å¿˜æˆ‘çš„ç‹€æ…‹ï¼Œè®“æˆ‘æƒ³èµ·æœ‰æ™‚å€™åœ¨æƒ³ä¸€æ®µç¨‹å¼ï¼Œå¦‚ä½•åšå„ªåŒ–ï¼Œä¸¦ä¸”ä¸€æ­¥ä¸€æ­¥æ¼¸æ¼¸é”æˆï¼Œæ¥è‘—çœ‹ä¸€ä¸‹æ™‚é–“ï¼Œçªç„¶å°±å¿«è¦ä¸‹ç­äº†ï¼ŒåŸä¾†æˆ‘ä¹Ÿé«”é©—éå¿ƒæµï¼Œé‚£ç¨®æ„Ÿè¦ºçœŸçš„æ˜¯å¾ˆç¾å¥½ï¼Œæ•´å€‹äººå¾ˆäº«å—ç•¶ä¸‹é‚£ç¨®æ…¢æ…¢æ“Šç ´ç›®æ¨™ï¼Œé”æˆç›®çš„çš„éç¨‹ï¼Œè£¡é¢ä¹Ÿæœ‰è¬›åˆ°ä¸€æ®µè©±æˆ‘è¦ºå¾—å¾ˆæ£’ï¼ŒæˆåŠŸï¼Œå°±åƒå¹¸ç¦ä¸€æ¨£ï¼Œä¸æ˜¯è¿½æ±‚è€Œä¾†çš„ï¼›å®ƒæ˜¯ä¸€å€‹äººå…¨å¿ƒå…¨æ„æŠ•å…¥ä¸€ä»¶äº‹ï¼Œè€Œå¿˜å»è‡ªæˆ‘çš„å‰¯ç”¢ç‰©ã€‚æ‰€ä»¥æœ¬æ›¸å°±æ˜¯åœ¨æ•™å¦‚ä½•æ‰¾åˆ°è‡ªå·±çš„å¿ƒæµæ‰€åœ¨ï¼Œè®“æˆ‘å€‘èƒ½å¤ è®Šå¾—æ›´å¿«æ¨‚ï¼Œæ›´å¹¸ç¦ã€‚\nå¿ƒæµçš„ä¸‰å€‹ç‰¹å¾µï¼Œç¬¬ä¸€ï¼šå…¨ç¥è²«æ³¨çš„å¿˜æˆ‘å¢ƒç•Œï¼Œæ‹¿æˆ‘å‰›å‰›æƒ³ç¨‹å¼ç¢¼çš„ä¾‹å­ï¼Œå¾ä¸€é–‹å§‹çš„è¨­è¨ˆé‚è¼¯åˆ°å¯¦è¸ï¼Œæ•´å€‹éç¨‹æˆ‘æ˜¯å…¨ç¥è²«æ³¨çš„ç‹€æ…‹ï¼Œç¬¬äºŒï¼šé‡å»ºè‡ªæˆ‘å…§åœ¨çš„ç§©åºï¼Œæˆ‘å¿…é ˆçµ¦è‡ªå·±ä¿¡å¿ƒï¼Œç›¸ä¿¡è‡ªå·±èƒ½å¤ å¯¦ç¾å‡ºæˆ‘æ‰€æƒ³çš„æ–¹æ³•ï¼Œç¬¬ä¸‰ï¼šç›®æ¨™èˆ‡å³æ™‚çš„å›é¥‹ï¼Œæˆ‘é€éä¸€å°æ®µä¸€å°æ®µæ…¢æ…¢å¯¦è¸æˆ‘æ‰€æƒ³çš„æ–¹æ³•ï¼Œä¸¦èƒ½å¤ ç«‹å³çŸ¥é“çµæœï¼Œåªè¦é”æˆé€™ä¸‰å€‹ï¼Œå°±æœ‰æ©Ÿæœƒé«”é©—å¿ƒæµï¼ŒçŸ¥é“å¦‚ä½•æ§åˆ¶å…§åœ¨é«”é©—çš„äººå€‘å°‡æœ‰èƒ½åŠ›æ±ºå®šè‡ªå·±çš„äººç”Ÿå“è³ªã€‚ç•¶æˆ‘å€‘é€²å…¥å¿ƒæµé«”é©—çš„æ™‚é–“è¶Šå¤šï¼Œå°±è¶Šèƒ½æå‡è‡ªå·±æœ¬èº«çš„å¹¸ç¦æ„Ÿã€åŠ æ·±å°ç›®æ¨™çš„å …æŒã€æ“æœ‰æ›´ç©æ¥µçš„å¿ƒæ…‹ï¼Œè®“æˆ‘å€‘é¢å°æœªä¾†ç¨®ç¨®æŒ‘æˆ°ä¹Ÿä¸æœƒè¼•æ˜“å—åˆ°å¤–åœ¨çš„æ§åˆ¶ã€‚è‡ªè¡Œä½œä¸»çš„ä¿¡å¿µèƒ½ä½¿ä¸€å€‹äººèƒ½å…¨å¿ƒæŠ•å…¥ç›®æ¨™ï¼Œè¡Œå‹•å®Œå…¨å—å…§åœ¨æ§åˆ¶\næœ€å¾Œæˆ‘æ•´ç†äº†é€²å…¥å¿ƒæµçš„äº”å€‹æ­¥é©Ÿ\nè¨­å®šæ˜ç¢ºä¸¦ä¸”å…·æœ‰æŒ‘æˆ°æ€§çš„ç›®æ¨™ å…·å‚™ä¸€å®šç¨‹åº¦çš„æŠ€èƒ½ æ‹†è§£æˆéšæ®µæ€§ä»»å‹™ å±é™¤å¤–ç•Œå¹²æ“¾å°ˆå¿ƒæŠ•å…¥ å¿˜å»è‡ªæˆ‘æ¨‚åœ¨ç•¶ä¸‹ ","permalink":"https://sz9751210.github.io/posts/flow/","summary":"\u003ch2 id=\"è®€å¾Œå¿ƒå¾—\"\u003eğŸ“šè®€å¾Œå¿ƒå¾—\u003c/h2\u003e\n\u003cp\u003eè®€å®Œå¿ƒæµé€™æœ¬æ›¸å¾Œï¼Œå¿ƒæµå°æˆ‘çš„ç”Ÿæ´»æœ‰å¾ˆå¤§çš„æ”¹è§€ï¼Œå¿ƒæµï¼Œå°±æ˜¯æˆ‘å€‘åœ¨åšæŸä»¶äº‹æƒ…æ™‚ï¼Œå…¨ç¥è²«æ³¨é€²å…¥æ¸¾ç„¶å¿˜æˆ‘çš„ç‹€æ…‹ï¼Œè®“æˆ‘æƒ³èµ·æœ‰æ™‚å€™åœ¨æƒ³ä¸€æ®µç¨‹å¼ï¼Œå¦‚ä½•åšå„ªåŒ–ï¼Œä¸¦ä¸”ä¸€æ­¥ä¸€æ­¥æ¼¸æ¼¸é”æˆï¼Œæ¥è‘—çœ‹ä¸€ä¸‹æ™‚é–“ï¼Œçªç„¶å°±å¿«è¦ä¸‹ç­äº†ï¼ŒåŸä¾†æˆ‘ä¹Ÿé«”é©—éå¿ƒæµï¼Œé‚£ç¨®æ„Ÿè¦ºçœŸçš„æ˜¯å¾ˆç¾å¥½ï¼Œæ•´å€‹äººå¾ˆäº«å—ç•¶ä¸‹é‚£ç¨®æ…¢æ…¢æ“Šç ´ç›®æ¨™ï¼Œé”æˆç›®çš„çš„éç¨‹ï¼Œè£¡é¢ä¹Ÿæœ‰è¬›åˆ°ä¸€æ®µè©±æˆ‘è¦ºå¾—å¾ˆæ£’ï¼ŒæˆåŠŸï¼Œå°±åƒå¹¸ç¦ä¸€æ¨£ï¼Œä¸æ˜¯è¿½æ±‚è€Œä¾†çš„ï¼›å®ƒæ˜¯ä¸€å€‹äººå…¨å¿ƒå…¨æ„æŠ•å…¥ä¸€ä»¶äº‹ï¼Œè€Œå¿˜å»è‡ªæˆ‘çš„å‰¯ç”¢ç‰©ã€‚æ‰€ä»¥æœ¬æ›¸å°±æ˜¯åœ¨æ•™å¦‚ä½•æ‰¾åˆ°è‡ªå·±çš„å¿ƒæµæ‰€åœ¨ï¼Œè®“æˆ‘å€‘èƒ½å¤ è®Šå¾—æ›´å¿«æ¨‚ï¼Œæ›´å¹¸ç¦ã€‚\u003c/p\u003e","title":"å¿ƒæµï¼šé«˜æ‰‹éƒ½åœ¨ç ”ç©¶çš„æœ€å„ªé«”é©—å¿ƒç†å­¸"}]